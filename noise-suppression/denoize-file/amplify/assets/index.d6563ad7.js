var yp=Object.defineProperty;var Xp=(n,t,e)=>t in n?yp(n,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):n[t]=e;var Dn=(n,t,e)=>(Xp(n,typeof t!="symbol"?t+"":t,e),e);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))i(c);new MutationObserver(c=>{for(const s of c)if(s.type==="childList")for(const b of s.addedNodes)b.tagName==="LINK"&&b.rel==="modulepreload"&&i(b)}).observe(document,{childList:!0,subtree:!0});function e(c){const s={};return c.integrity&&(s.integrity=c.integrity),c.referrerpolicy&&(s.referrerPolicy=c.referrerpolicy),c.crossorigin==="use-credentials"?s.credentials="include":c.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(c){if(c.ep)return;c.ep=!0;const s=e(c);fetch(c.href,s)}})();var es=function(n,t){return es=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var c in i)Object.prototype.hasOwnProperty.call(i,c)&&(e[c]=i[c])},es(n,t)};function eo(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");es(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}var xn=function(){return xn=Object.assign||function(t){for(var e,i=1,c=arguments.length;i<c;i++){e=arguments[i];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s])}return t},xn.apply(this,arguments)};function Wp(n,t){var e={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&t.indexOf(i)<0&&(e[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var c=0,i=Object.getOwnPropertySymbols(n);c<i.length;c++)t.indexOf(i[c])<0&&Object.prototype.propertyIsEnumerable.call(n,i[c])&&(e[i[c]]=n[i[c]]);return e}function J(n,t,e,i){var c=arguments.length,s=c<3?t:i===null?i=Object.getOwnPropertyDescriptor(t,e):i,b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,t,e,i);else for(var X=n.length-1;X>=0;X--)(b=n[X])&&(s=(c<3?b(s):c>3?b(t,e,s):b(t,e))||s);return c>3&&s&&Object.defineProperty(t,e,s),s}function ea(n){var t=typeof Symbol=="function"&&Symbol.iterator,e=t&&n[t],i=0;if(e)return e.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&i>=n.length&&(n=void 0),{value:n&&n[i++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function te(n,t,e,i){if(e==="a"&&!i)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?n!==t||!i:!t.has(n))throw new TypeError("Cannot read private member from an object whose class did not declare it");return e==="m"?i:e==="a"?i.call(n):i?i.value:t.get(n)}function no(n,t,e,i,c){if(i==="m")throw new TypeError("Private method is not writable");if(i==="a"&&!c)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?n!==t||!c:!t.has(n))throw new TypeError("Cannot write private member to an object whose class did not declare it");return i==="a"?c.call(n,e):c?c.value=e:t.set(n,e),e}const Vp="modulepreload",fp=function(n){return"/"+n},hm={},ns=function(t,e,i){return!e||e.length===0?t():Promise.all(e.map(c=>{if(c=fp(c),c in hm)return;hm[c]=!0;const s=c.endsWith(".css"),b=s?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${b}`))return;const X=document.createElement("link");if(X.rel=s?"stylesheet":Vp,s||(X.as="script",X.crossOrigin=""),X.href=c,document.head.appendChild(X),s)return new Promise((F,U)=>{X.addEventListener("load",F),X.addEventListener("error",()=>U(new Error(`Unable to preload CSS for ${c}`)))})})).then(()=>t())};function Ot(n){return n!=null&&typeof n=="object"&&n["@@functional/placeholder"]===!0}function _e(n){return function t(e){return arguments.length===0||Ot(e)?t:n.apply(this,arguments)}}function Be(n){return function t(e,i){switch(arguments.length){case 0:return t;case 1:return Ot(e)?t:_e(function(c){return n(e,c)});default:return Ot(e)&&Ot(i)?t:Ot(e)?_e(function(c){return n(c,i)}):Ot(i)?_e(function(c){return n(e,c)}):n(e,i)}}}function Gp(n,t){n=n||[],t=t||[];var e,i=n.length,c=t.length,s=[];for(e=0;e<i;)s[s.length]=n[e],e+=1;for(e=0;e<c;)s[s.length]=t[e],e+=1;return s}function Sr(n,t){switch(n){case 0:return function(){return t.apply(this,arguments)};case 1:return function(e){return t.apply(this,arguments)};case 2:return function(e,i){return t.apply(this,arguments)};case 3:return function(e,i,c){return t.apply(this,arguments)};case 4:return function(e,i,c,s){return t.apply(this,arguments)};case 5:return function(e,i,c,s,b){return t.apply(this,arguments)};case 6:return function(e,i,c,s,b,X){return t.apply(this,arguments)};case 7:return function(e,i,c,s,b,X,F){return t.apply(this,arguments)};case 8:return function(e,i,c,s,b,X,F,U){return t.apply(this,arguments)};case 9:return function(e,i,c,s,b,X,F,U,E){return t.apply(this,arguments)};case 10:return function(e,i,c,s,b,X,F,U,E,f){return t.apply(this,arguments)};default:throw new Error("First argument to _arity must be a non-negative integer no greater than ten")}}function Ns(n){return function t(e,i,c){switch(arguments.length){case 0:return t;case 1:return Ot(e)?t:Be(function(s,b){return n(e,s,b)});case 2:return Ot(e)&&Ot(i)?t:Ot(e)?Be(function(s,b){return n(s,i,b)}):Ot(i)?Be(function(s,b){return n(e,s,b)}):_e(function(s){return n(e,i,s)});default:return Ot(e)&&Ot(i)&&Ot(c)?t:Ot(e)&&Ot(i)?Be(function(s,b){return n(s,b,c)}):Ot(e)&&Ot(c)?Be(function(s,b){return n(s,i,b)}):Ot(i)&&Ot(c)?Be(function(s,b){return n(e,s,b)}):Ot(e)?_e(function(s){return n(s,i,c)}):Ot(i)?_e(function(s){return n(e,s,c)}):Ot(c)?_e(function(s){return n(e,i,s)}):n(e,i,c)}}}const Cu=Array.isArray||function(t){return t!=null&&t.length>=0&&Object.prototype.toString.call(t)==="[object Array]"};function Lu(n){return Object.prototype.toString.call(n)==="[object String]"}var Rp=_e(function(t){return Cu(t)?!0:!t||typeof t!="object"||Lu(t)?!1:t.nodeType===1?!!t.length:t.length===0?!0:t.length>0?t.hasOwnProperty(0)&&t.hasOwnProperty(t.length-1):!1});const vp=Rp;var gp=function(){function n(t){this.f=t}return n.prototype["@@transducer/init"]=function(){throw new Error("init not implemented on XWrap")},n.prototype["@@transducer/result"]=function(t){return t},n.prototype["@@transducer/step"]=function(t,e){return this.f(t,e)},n}();function Yp(n){return new gp(n)}var Fp=Be(function(t,e){return Sr(t.length,function(){return t.apply(e,arguments)})});const Ip=Fp;function Jp(n,t,e){for(var i=0,c=e.length;i<c;){if(t=n["@@transducer/step"](t,e[i]),t&&t["@@transducer/reduced"]){t=t["@@transducer/value"];break}i+=1}return n["@@transducer/result"](t)}function pm(n,t,e){for(var i=e.next();!i.done;){if(t=n["@@transducer/step"](t,i.value),t&&t["@@transducer/reduced"]){t=t["@@transducer/value"];break}i=e.next()}return n["@@transducer/result"](t)}function Zm(n,t,e,i){return n["@@transducer/result"](e[i](Ip(n["@@transducer/step"],n),t))}var ym=typeof Symbol<"u"?Symbol.iterator:"@@iterator";function kp(n,t,e){if(typeof n=="function"&&(n=Yp(n)),vp(e))return Jp(n,t,e);if(typeof e["fantasy-land/reduce"]=="function")return Zm(n,t,e,"fantasy-land/reduce");if(e[ym]!=null)return pm(n,t,e[ym]());if(typeof e.next=="function")return pm(n,t,e);if(typeof e.reduce=="function")return Zm(n,t,e,"reduce");throw new TypeError("reduce: list must be array or iterable")}function Np(n,t){return Object.prototype.hasOwnProperty.call(t,n)}const Hp=Number.isInteger||function(t){return t<<0===t};var wp=Be(function(t,e){var i=t<0?e.length+t:t;return Lu(e)?e.charAt(i):e[i]});const xp=wp;var Sp=Be(function(t,e){return t.map(function(i){for(var c=e,s=0,b;s<i.length;){if(c==null)return;b=i[s],c=Hp(b)?xp(b,c):c[b],s+=1}return c})});const Tp=Sp;var Up=Be(function(t,e){return Tp([t],e)[0]});const Eu=Up;var Kp=Be(function(t,e){return Eu([t],e)});const hn=Kp;var zp=Ns(kp);const Bp=zp;var _p=_e(function(t){return function(){return t}});const Wi=_p;var Cp=Ns(function(t,e,i){if(t>e)throw new Error("min must not be greater than max in clamp(min, max, value)");return i<t?t:i>e?e:i});const Lp=Cp;var Ep=_e(function(t){return!t});const Mp=Ep;function Pp(n,t){return function(){return t.call(this,n.apply(this,arguments))}}function Mu(n,t){return function(){var e=arguments.length;if(e===0)return t();var i=arguments[e-1];return Cu(i)||typeof i[n]!="function"?t.apply(this,arguments):i[n].apply(i,Array.prototype.slice.call(arguments,0,e-1))}}var jp=Ns(Mu("slice",function(t,e,i){return Array.prototype.slice.call(i,t,e)}));const Qp=jp;var Op=_e(Mu("tail",Qp(1,1/0)));const Dp=Op;function ha(){if(arguments.length===0)throw new Error("pipe requires at least one argument");return Sr(arguments[0].length,Bp(Pp,arguments[0],Dp(arguments)))}function Ap(n){return n}var $p=_e(Ap);const Hs=$p;var qp=Be(function(t,e){var i={};return Sr(e.length,function(){var c=t.apply(this,arguments);return Np(c,i)||(i[c]=e.apply(this,arguments)),i[c]})});const tZ=qp;var eZ=_e(function(t){var e=!1,i;return Sr(t.length,function(){return e||(e=!0,i=t.apply(this,arguments)),i})});const nZ=eZ;function iZ(n){return Be(function(t,e){return Sr(Math.max(0,t.length-e.length),function(){return t.apply(this,n(e,arguments))})})}var lZ=iZ(Gp);const Xm=lZ,rZ=nZ(function(){return ns(()=>import("./vvd-fonts.css.5c6a9099.js"),[]).then(({style:{cssText:n}})=>{document.querySelectorAll("head").forEach(t=>{t.appendChild(function(){const e=document.createElement("style");return e.innerHTML=n,e}())})}).then(Wi(!0))});var vi;(function(n){n.LIGHT="light",n.DARK="dark"})(vi||(vi={}));var is;(function(n){n.SYNC_WITH_OS_SETTINGS="syncWithOsSettings"})(is||(is={}));const cZ=n=>{switch(n){case vi.DARK:return ns(()=>import("./scheme.dark.css.675271a6.js"),[]);case vi.LIGHT:default:return ns(()=>import("./scheme.light.css.c4bcda1a.js"),[])}},Pu="vvd-scheme-style",aZ=oZ(Pu);function oZ(n){let t;const e=document.querySelectorAll(`.${n}`);return e.length?(console.error(`found ${e.length} scheme styles upon init while expected for 1, check your dependencies configuration`),t=e[0]):(t=document.createElement("style"),t.className=Pu,document.head.appendChild(t)),t}async function ju(n){const t=await cZ(n),e=t==null?void 0:t.style;e&&(aZ.innerHTML=e.cssText||"")}const ls=window.matchMedia("(prefers-color-scheme: dark)");function Qu(){return ls.matches?vi.DARK:vi.LIGHT}var Zr;class dZ{constructor(){Zr.set(this,document.createDocumentFragment())}addEventListener(t,e,i){te(this,Zr,"f").addEventListener(t,e,i)}dispatchEvent(t){te(this,Zr,"f").dispatchEvent(t)}removeEventListener(t,e,i){te(this,Zr,"f").removeEventListener(t,e,i)}}Zr=new WeakMap;function Ou(n){if(!n||!n.hasAttribute){console.error(`HTMLElement target expected, got '${n}'`);return}n.hasAttribute("autofocus")&&!document.body.matches(":focus-within")&&n.focus()}function Du(n,t){t.has("dense")&&n.dense&&n.enlarged&&(n.enlarged=!1),t.has("enlarged")&&n.enlarged&&n.dense&&(n.removeAttribute("dense"),n.dense=!1)}function sZ(n=50){let t;return function(e,i){return function(...s){globalThis.clearTimeout(t),t=globalThis.setTimeout(()=>e[i](...s),n)}}}const Au=new dZ;let vl;function mZ(){return vl}let Il;function uZ(){return Il}function bZ(){return vi.LIGHT}function hZ(n=null){return n||Il||bZ()}async function Wm(){ju(Qu())}function pZ(n){let t;return n===is.SYNC_WITH_OS_SETTINGS?(ls.addEventListener("change",Wm),t=Qu()):(ls.removeEventListener("change",Wm),t=n),t}let na=null;async function ZZ(n=null){const t=hZ(n);if(t===Il&&na)return na;Il=t;let e;const i=pZ(Il);return i!==vl?(vl=i,e=ju(vl)):e=Promise.resolve(),na=e.then(()=>(yZ(vl),{option:Il,scheme:vl})),na}function yZ(n){const t=new CustomEvent("vvd-scheme-select",{detail:{scheme:n}});Au.dispatchEvent(t)}const XZ=Object.freeze({set:ZZ,eventBus:Au,getSelectedScheme:mZ,getSelectedSchemeOption:uZ}),WZ="data-vvd-context",$u="none",Vm=["scheme"];let rs;const fm=fZ();fm.autoInit?rs=qu(fm):rs=Promise.reject(`auto-init unavailable when '${$u}' used`);Object.freeze({set:VZ,settled:rs});async function VZ(n){return GZ(n),qu(n)}async function qu(n){const t=await Promise.all([rZ(),XZ.set(n.scheme)]);return Object.freeze({fonts:t[0],scheme:t[1]})}function fZ(){const n={autoInit:!0},t=document.documentElement.getAttribute(WZ);if(t===$u)n.autoInit=!1;else if(t){const e=RZ(t);Object.assign(n,e)}return n}function GZ(n){const t=Object.keys(n).filter(e=>!Vm.includes(e));t.length&&console.warn(`unexpected configuration part/s '${t}',	only some of '${Vm}' expected`)}function RZ(n){return n.trim().split(/\s+/).reduce((e,i)=>(/^theme:/.test(i)?e.scheme?console.error(`theme vivid context defined multiple times, only the first (${e.scheme}) will be effective`):e.scheme=i.replace(/^theme:/,""):console.warn(`unsupported token '${i}' in vivid context`),e),{})}/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */const Gm=typeof window<"u"&&window.customElements!=null&&window.customElements.polyfillWrapFlushCallback!==void 0,vZ=(n,t,e=null,i=null)=>{for(;t!==e;){const c=t.nextSibling;n.insertBefore(t,i),t=c}},ws=(n,t,e=null)=>{for(;t!==e;){const i=t.nextSibling;n.removeChild(t),t=i}};/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */const Sn=`{{lit-${String(Math.random()).slice(2)}}}`,tb=`<!--${Sn}-->`,Rm=new RegExp(`${Sn}|${tb}`),yr="$lit$";class eb{constructor(t,e){this.parts=[],this.element=e;const i=[],c=[],s=document.createTreeWalker(e.content,133,null,!1);let b=0,X=-1,F=0;const{strings:U,values:{length:E}}=t;for(;F<E;){const f=s.nextNode();if(f===null){s.currentNode=c.pop();continue}if(X++,f.nodeType===1){if(f.hasAttributes()){const Gt=f.attributes,{length:Dt}=Gt;let Bt=0;for(let Rt=0;Rt<Dt;Rt++)vm(Gt[Rt].name,yr)&&Bt++;for(;Bt-- >0;){const Rt=U[F],Pt=cs.exec(Rt)[2],$t=Pt.toLowerCase()+yr,vt=f.getAttribute($t);f.removeAttribute($t);const ae=vt.split(Rm);this.parts.push({type:"attribute",index:X,name:Pt,strings:ae}),F+=ae.length-1}}f.tagName==="TEMPLATE"&&(c.push(f),s.currentNode=f.content)}else if(f.nodeType===3){const Gt=f.data;if(Gt.indexOf(Sn)>=0){const Dt=f.parentNode,Bt=Gt.split(Rm),Rt=Bt.length-1;for(let Pt=0;Pt<Rt;Pt++){let $t,vt=Bt[Pt];if(vt==="")$t=ei();else{const ae=cs.exec(vt);ae!==null&&vm(ae[2],yr)&&(vt=vt.slice(0,ae.index)+ae[1]+ae[2].slice(0,-yr.length)+ae[3]),$t=document.createTextNode(vt)}Dt.insertBefore($t,f),this.parts.push({type:"node",index:++X})}Bt[Rt]===""?(Dt.insertBefore(ei(),f),i.push(f)):f.data=Bt[Rt],F+=Rt}}else if(f.nodeType===8)if(f.data===Sn){const Gt=f.parentNode;(f.previousSibling===null||X===b)&&(X++,Gt.insertBefore(ei(),f)),b=X,this.parts.push({type:"node",index:X}),f.nextSibling===null?f.data="":(i.push(f),X--),F++}else{let Gt=-1;for(;(Gt=f.data.indexOf(Sn,Gt+1))!==-1;)this.parts.push({type:"node",index:-1}),F++}}for(const f of i)f.parentNode.removeChild(f)}}const vm=(n,t)=>{const e=n.length-t.length;return e>=0&&n.slice(e)===t},nb=n=>n.index!==-1,ei=()=>document.createComment(""),cs=/([ \x09\x0a\x0c\x0d])([^\0-\x1F\x7F-\x9F "'>=/]+)([ \x09\x0a\x0c\x0d]*=[ \x09\x0a\x0c\x0d]*(?:[^ \x09\x0a\x0c\x0d"'`<>=]*|"[^"]*|'[^']*))$/;/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */const xs=133;function ib(n,t){const{element:{content:e},parts:i}=n,c=document.createTreeWalker(e,xs,null,!1);let s=Xr(i),b=i[s],X=-1,F=0;const U=[];let E=null;for(;c.nextNode();){X++;const f=c.currentNode;for(f.previousSibling===E&&(E=null),t.has(f)&&(U.push(f),E===null&&(E=f)),E!==null&&F++;b!==void 0&&b.index===X;)b.index=E!==null?-1:b.index-F,s=Xr(i,s),b=i[s]}U.forEach(f=>f.parentNode.removeChild(f))}const gZ=n=>{let t=n.nodeType===11?0:1;const e=document.createTreeWalker(n,xs,null,!1);for(;e.nextNode();)t++;return t},Xr=(n,t=-1)=>{for(let e=t+1;e<n.length;e++){const i=n[e];if(nb(i))return e}return-1};function YZ(n,t,e=null){const{element:{content:i},parts:c}=n;if(e==null){i.appendChild(t);return}const s=document.createTreeWalker(i,xs,null,!1);let b=Xr(c),X=0,F=-1;for(;s.nextNode();)for(F++,s.currentNode===e&&(X=gZ(t),e.parentNode.insertBefore(t,e));b!==-1&&c[b].index===F;){if(X>0){for(;b!==-1;)c[b].index+=X,b=Xr(c,b);return}b=Xr(c,b)}}/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */const lb=new WeakMap,Tl=n=>(...t)=>{const e=n(...t);return lb.set(e,!0),e},gr=n=>typeof n=="function"&&lb.has(n);/**
 * @license
 * Copyright (c) 2018 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */const an={},ri={};/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */class as{constructor(t,e,i){this.__parts=[],this.template=t,this.processor=e,this.options=i}update(t){let e=0;for(const i of this.__parts)i!==void 0&&i.setValue(t[e]),e++;for(const i of this.__parts)i!==void 0&&i.commit()}_clone(){const t=Gm?this.template.element.content.cloneNode(!0):document.importNode(this.template.element.content,!0),e=[],i=this.template.parts,c=document.createTreeWalker(t,133,null,!1);let s=0,b=0,X,F=c.nextNode();for(;s<i.length;){if(X=i[s],!nb(X)){this.__parts.push(void 0),s++;continue}for(;b<X.index;)b++,F.nodeName==="TEMPLATE"&&(e.push(F),c.currentNode=F.content),(F=c.nextNode())===null&&(c.currentNode=e.pop(),F=c.nextNode());if(X.type==="node"){const U=this.processor.handleTextExpression(this.options);U.insertAfterNode(F.previousSibling),this.__parts.push(U)}else this.__parts.push(...this.processor.handleAttributeExpressions(F,X.name,X.strings,this.options));s++}return Gm&&(document.adoptNode(t),customElements.upgrade(t)),t}}/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */const gm=window.trustedTypes&&trustedTypes.createPolicy("lit-html",{createHTML:n=>n}),FZ=` ${Sn} `;class rb{constructor(t,e,i,c){this.strings=t,this.values=e,this.type=i,this.processor=c}getHTML(){const t=this.strings.length-1;let e="",i=!1;for(let c=0;c<t;c++){const s=this.strings[c],b=s.lastIndexOf("<!--");i=(b>-1||i)&&s.indexOf("-->",b+1)===-1;const X=cs.exec(s);X===null?e+=s+(i?FZ:tb):e+=s.substr(0,X.index)+X[1]+X[2]+yr+X[3]+Sn}return e+=this.strings[t],e}getTemplateElement(){const t=document.createElement("template");let e=this.getHTML();return gm!==void 0&&(e=gm.createHTML(e)),t.innerHTML=e,t}}/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */const Tr=n=>n===null||!(typeof n=="object"||typeof n=="function"),os=n=>Array.isArray(n)||!!(n&&n[Symbol.iterator]);class cb{constructor(t,e,i){this.dirty=!0,this.element=t,this.name=e,this.strings=i,this.parts=[];for(let c=0;c<i.length-1;c++)this.parts[c]=this._createPart()}_createPart(){return new Ni(this)}_getValue(){const t=this.strings,e=t.length-1,i=this.parts;if(e===1&&t[0]===""&&t[1]===""){const s=i[0].value;if(typeof s=="symbol")return String(s);if(typeof s=="string"||!os(s))return s}let c="";for(let s=0;s<e;s++){c+=t[s];const b=i[s];if(b!==void 0){const X=b.value;if(Tr(X)||!os(X))c+=typeof X=="string"?X:String(X);else for(const F of X)c+=typeof F=="string"?F:String(F)}}return c+=t[e],c}commit(){this.dirty&&(this.dirty=!1,this.element.setAttribute(this.name,this._getValue()))}}class Ni{constructor(t){this.value=void 0,this.committer=t}setValue(t){t!==an&&(!Tr(t)||t!==this.value)&&(this.value=t,gr(t)||(this.committer.dirty=!0))}commit(){for(;gr(this.value);){const t=this.value;this.value=an,t(this)}this.value!==an&&this.committer.commit()}}class Hi{constructor(t){this.value=void 0,this.__pendingValue=void 0,this.options=t}appendInto(t){this.startNode=t.appendChild(ei()),this.endNode=t.appendChild(ei())}insertAfterNode(t){this.startNode=t,this.endNode=t.nextSibling}appendIntoPart(t){t.__insert(this.startNode=ei()),t.__insert(this.endNode=ei())}insertAfterPart(t){t.__insert(this.startNode=ei()),this.endNode=t.endNode,t.endNode=this.startNode}setValue(t){this.__pendingValue=t}commit(){if(this.startNode.parentNode===null)return;for(;gr(this.__pendingValue);){const e=this.__pendingValue;this.__pendingValue=an,e(this)}const t=this.__pendingValue;t!==an&&(Tr(t)?t!==this.value&&this.__commitText(t):t instanceof rb?this.__commitTemplateResult(t):t instanceof Node?this.__commitNode(t):os(t)?this.__commitIterable(t):t===ri?(this.value=ri,this.clear()):this.__commitText(t))}__insert(t){this.endNode.parentNode.insertBefore(t,this.endNode)}__commitNode(t){this.value!==t&&(this.clear(),this.__insert(t),this.value=t)}__commitText(t){const e=this.startNode.nextSibling;t=t==null?"":t;const i=typeof t=="string"?t:String(t);e===this.endNode.previousSibling&&e.nodeType===3?e.data=i:this.__commitNode(document.createTextNode(i)),this.value=t}__commitTemplateResult(t){const e=this.options.templateFactory(t);if(this.value instanceof as&&this.value.template===e)this.value.update(t.values);else{const i=new as(e,t.processor,this.options),c=i._clone();i.update(t.values),this.__commitNode(c),this.value=i}}__commitIterable(t){Array.isArray(this.value)||(this.value=[],this.clear());const e=this.value;let i=0,c;for(const s of t)c=e[i],c===void 0&&(c=new Hi(this.options),e.push(c),i===0?c.appendIntoPart(this):c.insertAfterPart(e[i-1])),c.setValue(s),c.commit(),i++;i<e.length&&(e.length=i,this.clear(c&&c.endNode))}clear(t=this.startNode){ws(this.startNode.parentNode,t.nextSibling,this.endNode)}}class Ss{constructor(t,e,i){if(this.value=void 0,this.__pendingValue=void 0,i.length!==2||i[0]!==""||i[1]!=="")throw new Error("Boolean attributes can only contain a single expression");this.element=t,this.name=e,this.strings=i}setValue(t){this.__pendingValue=t}commit(){for(;gr(this.__pendingValue);){const e=this.__pendingValue;this.__pendingValue=an,e(this)}if(this.__pendingValue===an)return;const t=!!this.__pendingValue;this.value!==t&&(t?this.element.setAttribute(this.name,""):this.element.removeAttribute(this.name),this.value=t),this.__pendingValue=an}}class IZ extends cb{constructor(t,e,i){super(t,e,i),this.single=i.length===2&&i[0]===""&&i[1]===""}_createPart(){return new Ul(this)}_getValue(){return this.single?this.parts[0].value:super._getValue()}commit(){this.dirty&&(this.dirty=!1,this.element[this.name]=this._getValue())}}class Ul extends Ni{}let ab=!1;(()=>{try{const n={get capture(){return ab=!0,!1}};window.addEventListener("test",n,n),window.removeEventListener("test",n,n)}catch{}})();class Ts{constructor(t,e,i){this.value=void 0,this.__pendingValue=void 0,this.element=t,this.eventName=e,this.eventContext=i,this.__boundHandleEvent=c=>this.handleEvent(c)}setValue(t){this.__pendingValue=t}commit(){for(;gr(this.__pendingValue);){const s=this.__pendingValue;this.__pendingValue=an,s(this)}if(this.__pendingValue===an)return;const t=this.__pendingValue,e=this.value,i=t==null||e!=null&&(t.capture!==e.capture||t.once!==e.once||t.passive!==e.passive),c=t!=null&&(e==null||i);i&&this.element.removeEventListener(this.eventName,this.__boundHandleEvent,this.__options),c&&(this.__options=JZ(t),this.element.addEventListener(this.eventName,this.__boundHandleEvent,this.__options)),this.value=t,this.__pendingValue=an}handleEvent(t){typeof this.value=="function"?this.value.call(this.eventContext||this.element,t):this.value.handleEvent(t)}}const JZ=n=>n&&(ab?{capture:n.capture,passive:n.passive,once:n.once}:n.capture);/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */function kZ(n){let t=Yr.get(n.type);t===void 0&&(t={stringsArray:new WeakMap,keyString:new Map},Yr.set(n.type,t));let e=t.stringsArray.get(n.strings);if(e!==void 0)return e;const i=n.strings.join(Sn);return e=t.keyString.get(i),e===void 0&&(e=new eb(n,n.getTemplateElement()),t.keyString.set(i,e)),t.stringsArray.set(n.strings,e),e}const Yr=new Map;/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */const Jl=new WeakMap,ob=(n,t,e)=>{let i=Jl.get(t);i===void 0&&(ws(t,t.firstChild),Jl.set(t,i=new Hi(Object.assign({templateFactory:kZ},e))),i.appendInto(t)),i.setValue(n),i.commit()};/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */class NZ{handleAttributeExpressions(t,e,i,c){const s=e[0];return s==="."?new IZ(t,e.slice(1),i).parts:s==="@"?[new Ts(t,e.slice(1),c.eventContext)]:s==="?"?[new Ss(t,e.slice(1),i)]:new cb(t,e,i).parts}handleTextExpression(t){return new Hi(t)}}const HZ=new NZ;/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */typeof window<"u"&&(window.litHtmlVersions||(window.litHtmlVersions=[])).push("1.4.1");const j=(n,...t)=>new rb(n,t,"html",HZ);/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */const db=(n,t)=>`${n}--${t}`;let va=!0;typeof window.ShadyCSS>"u"?va=!1:typeof window.ShadyCSS.prepareTemplateDom>"u"&&(console.warn("Incompatible ShadyCSS version detected. Please update to at least @webcomponents/webcomponentsjs@2.0.2 and @webcomponents/shadycss@1.3.1."),va=!1);const wZ=n=>t=>{const e=db(t.type,n);let i=Yr.get(e);i===void 0&&(i={stringsArray:new WeakMap,keyString:new Map},Yr.set(e,i));let c=i.stringsArray.get(t.strings);if(c!==void 0)return c;const s=t.strings.join(Sn);if(c=i.keyString.get(s),c===void 0){const b=t.getTemplateElement();va&&window.ShadyCSS.prepareTemplateDom(b,n),c=new eb(t,b),i.keyString.set(s,c)}return i.stringsArray.set(t.strings,c),c},xZ=["html","svg"],SZ=n=>{xZ.forEach(t=>{const e=Yr.get(db(t,n));e!==void 0&&e.keyString.forEach(i=>{const{element:{content:c}}=i,s=new Set;Array.from(c.querySelectorAll("style")).forEach(b=>{s.add(b)}),ib(i,s)})})},sb=new Set,TZ=(n,t,e)=>{sb.add(n);const i=e?e.element:document.createElement("template"),c=t.querySelectorAll("style"),{length:s}=c;if(s===0){window.ShadyCSS.prepareTemplateStyles(i,n);return}const b=document.createElement("style");for(let U=0;U<s;U++){const E=c[U];E.parentNode.removeChild(E),b.textContent+=E.textContent}SZ(n);const X=i.content;e?YZ(e,b,X.firstChild):X.insertBefore(b,X.firstChild),window.ShadyCSS.prepareTemplateStyles(i,n);const F=X.querySelector("style");if(window.ShadyCSS.nativeShadow&&F!==null)t.insertBefore(F.cloneNode(!0),t.firstChild);else if(e){X.insertBefore(b,X.firstChild);const U=new Set;U.add(b),ib(e,U)}},UZ=(n,t,e)=>{if(!e||typeof e!="object"||!e.scopeName)throw new Error("The `scopeName` option is required.");const i=e.scopeName,c=Jl.has(t),s=va&&t.nodeType===11&&!!t.host,b=s&&!sb.has(i),X=b?document.createDocumentFragment():t;if(ob(n,X,Object.assign({templateFactory:wZ(i)},e)),b){const F=Jl.get(X);Jl.delete(X);const U=F.value instanceof as?F.value.template:void 0;TZ(i,X,U),ws(t,t.firstChild),t.appendChild(X),Jl.set(t,F)}!c&&s&&window.ShadyCSS.styleElement(t.host)};/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */var mb;window.JSCompiler_renameProperty=(n,t)=>n;const ds={toAttribute(n,t){switch(t){case Boolean:return n?"":null;case Object:case Array:return n==null?n:JSON.stringify(n)}return n},fromAttribute(n,t){switch(t){case Boolean:return n!==null;case Number:return n===null?null:Number(n);case Object:case Array:return JSON.parse(n)}return n}},ub=(n,t)=>t!==n&&(t===t||n===n),wd={attribute:!0,type:String,converter:ds,reflect:!1,hasChanged:ub},xd=1,Sd=1<<2,Td=1<<3,Ud=1<<4,ss="finalized";class bb extends HTMLElement{constructor(){super(),this.initialize()}static get observedAttributes(){this.finalize();const t=[];return this._classProperties.forEach((e,i)=>{const c=this._attributeNameForProperty(i,e);c!==void 0&&(this._attributeToPropertyMap.set(c,i),t.push(c))}),t}static _ensureClassProperties(){if(!this.hasOwnProperty(JSCompiler_renameProperty("_classProperties",this))){this._classProperties=new Map;const t=Object.getPrototypeOf(this)._classProperties;t!==void 0&&t.forEach((e,i)=>this._classProperties.set(i,e))}}static createProperty(t,e=wd){if(this._ensureClassProperties(),this._classProperties.set(t,e),e.noAccessor||this.prototype.hasOwnProperty(t))return;const i=typeof t=="symbol"?Symbol():`__${t}`,c=this.getPropertyDescriptor(t,i,e);c!==void 0&&Object.defineProperty(this.prototype,t,c)}static getPropertyDescriptor(t,e,i){return{get(){return this[e]},set(c){const s=this[t];this[e]=c,this.requestUpdateInternal(t,s,i)},configurable:!0,enumerable:!0}}static getPropertyOptions(t){return this._classProperties&&this._classProperties.get(t)||wd}static finalize(){const t=Object.getPrototypeOf(this);if(t.hasOwnProperty(ss)||t.finalize(),this[ss]=!0,this._ensureClassProperties(),this._attributeToPropertyMap=new Map,this.hasOwnProperty(JSCompiler_renameProperty("properties",this))){const e=this.properties,i=[...Object.getOwnPropertyNames(e),...typeof Object.getOwnPropertySymbols=="function"?Object.getOwnPropertySymbols(e):[]];for(const c of i)this.createProperty(c,e[c])}}static _attributeNameForProperty(t,e){const i=e.attribute;return i===!1?void 0:typeof i=="string"?i:typeof t=="string"?t.toLowerCase():void 0}static _valueHasChanged(t,e,i=ub){return i(t,e)}static _propertyValueFromAttribute(t,e){const i=e.type,c=e.converter||ds,s=typeof c=="function"?c:c.fromAttribute;return s?s(t,i):t}static _propertyValueToAttribute(t,e){if(e.reflect===void 0)return;const i=e.type,c=e.converter;return(c&&c.toAttribute||ds.toAttribute)(t,i)}initialize(){this._updateState=0,this._updatePromise=new Promise(t=>this._enableUpdatingResolver=t),this._changedProperties=new Map,this._saveInstanceProperties(),this.requestUpdateInternal()}_saveInstanceProperties(){this.constructor._classProperties.forEach((t,e)=>{if(this.hasOwnProperty(e)){const i=this[e];delete this[e],this._instanceProperties||(this._instanceProperties=new Map),this._instanceProperties.set(e,i)}})}_applyInstanceProperties(){this._instanceProperties.forEach((t,e)=>this[e]=t),this._instanceProperties=void 0}connectedCallback(){this.enableUpdating()}enableUpdating(){this._enableUpdatingResolver!==void 0&&(this._enableUpdatingResolver(),this._enableUpdatingResolver=void 0)}disconnectedCallback(){}attributeChangedCallback(t,e,i){e!==i&&this._attributeToProperty(t,i)}_propertyToAttribute(t,e,i=wd){const c=this.constructor,s=c._attributeNameForProperty(t,i);if(s!==void 0){const b=c._propertyValueToAttribute(e,i);if(b===void 0)return;this._updateState=this._updateState|Td,b==null?this.removeAttribute(s):this.setAttribute(s,b),this._updateState=this._updateState&~Td}}_attributeToProperty(t,e){if(this._updateState&Td)return;const i=this.constructor,c=i._attributeToPropertyMap.get(t);if(c!==void 0){const s=i.getPropertyOptions(c);this._updateState=this._updateState|Ud,this[c]=i._propertyValueFromAttribute(e,s),this._updateState=this._updateState&~Ud}}requestUpdateInternal(t,e,i){let c=!0;if(t!==void 0){const s=this.constructor;i=i||s.getPropertyOptions(t),s._valueHasChanged(this[t],e,i.hasChanged)?(this._changedProperties.has(t)||this._changedProperties.set(t,e),i.reflect===!0&&!(this._updateState&Ud)&&(this._reflectingProperties===void 0&&(this._reflectingProperties=new Map),this._reflectingProperties.set(t,i))):c=!1}!this._hasRequestedUpdate&&c&&(this._updatePromise=this._enqueueUpdate())}requestUpdate(t,e){return this.requestUpdateInternal(t,e),this.updateComplete}async _enqueueUpdate(){this._updateState=this._updateState|Sd;try{await this._updatePromise}catch{}const t=this.performUpdate();return t!=null&&await t,!this._hasRequestedUpdate}get _hasRequestedUpdate(){return this._updateState&Sd}get hasUpdated(){return this._updateState&xd}performUpdate(){if(!this._hasRequestedUpdate)return;this._instanceProperties&&this._applyInstanceProperties();let t=!1;const e=this._changedProperties;try{t=this.shouldUpdate(e),t?this.update(e):this._markUpdated()}catch(i){throw t=!1,this._markUpdated(),i}t&&(this._updateState&xd||(this._updateState=this._updateState|xd,this.firstUpdated(e)),this.updated(e))}_markUpdated(){this._changedProperties=new Map,this._updateState=this._updateState&~Sd}get updateComplete(){return this._getUpdateComplete()}_getUpdateComplete(){return this.getUpdateComplete()}getUpdateComplete(){return this._updatePromise}shouldUpdate(t){return!0}update(t){this._reflectingProperties!==void 0&&this._reflectingProperties.size>0&&(this._reflectingProperties.forEach((e,i)=>this._propertyToAttribute(i,this[i],e)),this._reflectingProperties=void 0),this._markUpdated()}updated(t){}firstUpdated(t){}}mb=ss;bb[mb]=!0;/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */const KZ=(n,t)=>(window.customElements.define(n,t),t),zZ=(n,t)=>{const{kind:e,elements:i}=t;return{kind:e,elements:i,finisher(c){window.customElements.define(n,c)}}},Kt=n=>t=>typeof t=="function"?KZ(n,t):zZ(n,t),BZ=(n,t)=>t.kind==="method"&&t.descriptor&&!("value"in t.descriptor)?Object.assign(Object.assign({},t),{finisher(e){e.createProperty(t.key,n)}}):{kind:"field",key:Symbol(),placement:"own",descriptor:{},initializer(){typeof t.initializer=="function"&&(this[t.key]=t.initializer.call(this))},finisher(e){e.createProperty(t.key,n)}},_Z=(n,t,e)=>{t.constructor.createProperty(e,n)};function w(n){return(t,e)=>e!==void 0?_Z(n,t,e):BZ(n,t)}function Kl(n){return w({attribute:!1,hasChanged:n==null?void 0:n.hasChanged})}const zt=n=>Kl(n);function Ge(n,t){return(e,i)=>{const c={get(){return this.renderRoot.querySelector(n)},enumerable:!0,configurable:!0};if(t){const s=i!==void 0?i:e.key,b=typeof s=="symbol"?Symbol():`__${s}`;c.get=function(){return this[b]===void 0&&(this[b]=this.renderRoot.querySelector(n)),this[b]}}return i!==void 0?hb(c,e,i):pb(c,e)}}function io(n){return(t,e)=>{const i={async get(){return await this.updateComplete,this.renderRoot.querySelector(n)},enumerable:!0,configurable:!0};return e!==void 0?hb(i,t,e):pb(i,t)}}const hb=(n,t,e)=>{Object.defineProperty(t,e,n)},pb=(n,t)=>({kind:"method",placement:"prototype",key:t.key,descriptor:n}),CZ=(n,t)=>Object.assign(Object.assign({},t),{finisher(e){Object.assign(e.prototype[t.key],n)}}),LZ=(n,t,e)=>{Object.assign(t[e],n)};function zl(n){return(t,e)=>e!==void 0?LZ(n,t,e):CZ(n,t)}/**
@license
Copyright (c) 2019 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at
http://polymer.github.io/LICENSE.txt The complete set of authors may be found at
http://polymer.github.io/AUTHORS.txt The complete set of contributors may be
found at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by Google as
part of the polymer project is also subject to an additional IP rights grant
found at http://polymer.github.io/PATENTS.txt
*/const ms=window.ShadowRoot&&(window.ShadyCSS===void 0||window.ShadyCSS.nativeShadow)&&"adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,Us=Symbol();class Ks{constructor(t,e){if(e!==Us)throw new Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=t}get styleSheet(){return this._styleSheet===void 0&&(ms?(this._styleSheet=new CSSStyleSheet,this._styleSheet.replaceSync(this.cssText)):this._styleSheet=null),this._styleSheet}toString(){return this.cssText}}const EZ=n=>new Ks(String(n),Us),MZ=n=>{if(n instanceof Ks)return n.cssText;if(typeof n=="number")return n;throw new Error(`Value passed to 'css' function must be a 'css' function result: ${n}. Use 'unsafeCSS' to pass non-literal values, but
            take care to ensure page security.`)},It=(n,...t)=>{const e=t.reduce((i,c,s)=>i+MZ(c)+n[s+1],n[0]);return new Ks(e,Us)};/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */(window.litElementVersions||(window.litElementVersions=[])).push("2.5.1");const Ym={};class ce extends bb{static getStyles(){return this.styles}static _getUniqueStyles(){if(this.hasOwnProperty(JSCompiler_renameProperty("_styles",this)))return;const t=this.getStyles();if(Array.isArray(t)){const e=(s,b)=>s.reduceRight((X,F)=>Array.isArray(F)?e(F,X):(X.add(F),X),b),i=e(t,new Set),c=[];i.forEach(s=>c.unshift(s)),this._styles=c}else this._styles=t===void 0?[]:[t];this._styles=this._styles.map(e=>{if(e instanceof CSSStyleSheet&&!ms){const i=Array.prototype.slice.call(e.cssRules).reduce((c,s)=>c+s.cssText,"");return EZ(i)}return e})}initialize(){super.initialize(),this.constructor._getUniqueStyles(),this.renderRoot=this.createRenderRoot(),window.ShadowRoot&&this.renderRoot instanceof window.ShadowRoot&&this.adoptStyles()}createRenderRoot(){return this.attachShadow(this.constructor.shadowRootOptions)}adoptStyles(){const t=this.constructor._styles;t.length!==0&&(window.ShadyCSS!==void 0&&!window.ShadyCSS.nativeShadow?window.ShadyCSS.ScopingShim.prepareAdoptedCssText(t.map(e=>e.cssText),this.localName):ms?this.renderRoot.adoptedStyleSheets=t.map(e=>e instanceof CSSStyleSheet?e:e.styleSheet):this._needsShimAdoptedStyleSheets=!0)}connectedCallback(){super.connectedCallback(),this.hasUpdated&&window.ShadyCSS!==void 0&&window.ShadyCSS.styleElement(this)}update(t){const e=this.render();super.update(t),e!==Ym&&this.constructor.render(e,this.renderRoot,{scopeName:this.localName,eventContext:this}),this._needsShimAdoptedStyleSheets&&(this._needsShimAdoptedStyleSheets=!1,this.constructor._styles.forEach(i=>{const c=document.createElement("style");c.textContent=i.cssText,this.renderRoot.appendChild(c)}))}render(){return Ym}}ce.finalized=!0;ce.render=UZ;ce.shadowRootOptions={mode:"open"};/**
 * @license
 * Copyright 2018 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Vn=n=>(t,e)=>{if(t.constructor._observers){if(!t.constructor.hasOwnProperty("_observers")){const i=t.constructor._observers;t.constructor._observers=new Map,i.forEach((c,s)=>t.constructor._observers.set(s,c))}}else{t.constructor._observers=new Map;const i=t.updated;t.updated=function(c){i.call(this,c),c.forEach((s,b)=>{const F=this.constructor._observers.get(b);F!==void 0&&F.call(this,this[b],s)})}}t.constructor._observers.set(e,n)};/**
 * @license
 * Copyright 2018 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var PZ={FIXED_CLASS:"mdc-top-app-bar--fixed",FIXED_SCROLLED_CLASS:"mdc-top-app-bar--fixed-scrolled",SHORT_CLASS:"mdc-top-app-bar--short",SHORT_COLLAPSED_CLASS:"mdc-top-app-bar--short-collapsed",SHORT_HAS_ACTION_ITEM_CLASS:"mdc-top-app-bar--short-has-action-item"},pa={DEBOUNCE_THROTTLE_RESIZE_TIME_MS:100,MAX_TOP_APP_BAR_HEIGHT:128},Zb={ACTION_ITEM_SELECTOR:".mdc-top-app-bar__action-item",NAVIGATION_EVENT:"MDCTopAppBar:nav",NAVIGATION_ICON_SELECTOR:".mdc-top-app-bar__navigation-icon",ROOT_SELECTOR:".mdc-top-app-bar",TITLE_SELECTOR:".mdc-top-app-bar__title"};/**
 * @license
 * Copyright 2016 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var zs=function(){function n(t){t===void 0&&(t={}),this.adapter=t}return Object.defineProperty(n,"cssClasses",{get:function(){return{}},enumerable:!1,configurable:!0}),Object.defineProperty(n,"strings",{get:function(){return{}},enumerable:!1,configurable:!0}),Object.defineProperty(n,"numbers",{get:function(){return{}},enumerable:!1,configurable:!0}),Object.defineProperty(n,"defaultAdapter",{get:function(){return{}},enumerable:!1,configurable:!0}),n.prototype.init=function(){},n.prototype.destroy=function(){},n}();/**
 * @license
 * Copyright 2018 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var jZ=function(n){eo(t,n);function t(e){return n.call(this,xn(xn({},t.defaultAdapter),e))||this}return Object.defineProperty(t,"strings",{get:function(){return Zb},enumerable:!1,configurable:!0}),Object.defineProperty(t,"cssClasses",{get:function(){return PZ},enumerable:!1,configurable:!0}),Object.defineProperty(t,"numbers",{get:function(){return pa},enumerable:!1,configurable:!0}),Object.defineProperty(t,"defaultAdapter",{get:function(){return{addClass:function(){},removeClass:function(){},hasClass:function(){return!1},setStyle:function(){},getTopAppBarHeight:function(){return 0},notifyNavigationIconClicked:function(){},getViewportScrollY:function(){return 0},getTotalActionItems:function(){return 0}}},enumerable:!1,configurable:!0}),t.prototype.handleTargetScroll=function(){},t.prototype.handleWindowResize=function(){},t.prototype.handleNavigationClick=function(){this.adapter.notifyNavigationIconClicked()},t}(zs);/**
 * @license
 * Copyright 2018 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var ia=0,QZ=function(n){eo(t,n);function t(e){var i=n.call(this,e)||this;return i.wasDocked=!0,i.isDockedShowing=!0,i.currentAppBarOffsetTop=0,i.isCurrentlyBeingResized=!1,i.resizeThrottleId=ia,i.resizeDebounceId=ia,i.lastScrollPosition=i.adapter.getViewportScrollY(),i.topAppBarHeight=i.adapter.getTopAppBarHeight(),i}return t.prototype.destroy=function(){n.prototype.destroy.call(this),this.adapter.setStyle("top","")},t.prototype.handleTargetScroll=function(){var e=Math.max(this.adapter.getViewportScrollY(),0),i=e-this.lastScrollPosition;this.lastScrollPosition=e,this.isCurrentlyBeingResized||(this.currentAppBarOffsetTop-=i,this.currentAppBarOffsetTop>0?this.currentAppBarOffsetTop=0:Math.abs(this.currentAppBarOffsetTop)>this.topAppBarHeight&&(this.currentAppBarOffsetTop=-this.topAppBarHeight),this.moveTopAppBar())},t.prototype.handleWindowResize=function(){var e=this;this.resizeThrottleId||(this.resizeThrottleId=setTimeout(function(){e.resizeThrottleId=ia,e.throttledResizeHandler()},pa.DEBOUNCE_THROTTLE_RESIZE_TIME_MS)),this.isCurrentlyBeingResized=!0,this.resizeDebounceId&&clearTimeout(this.resizeDebounceId),this.resizeDebounceId=setTimeout(function(){e.handleTargetScroll(),e.isCurrentlyBeingResized=!1,e.resizeDebounceId=ia},pa.DEBOUNCE_THROTTLE_RESIZE_TIME_MS)},t.prototype.checkForUpdate=function(){var e=-this.topAppBarHeight,i=this.currentAppBarOffsetTop<0,c=this.currentAppBarOffsetTop>e,s=i&&c;if(s)this.wasDocked=!1;else if(this.wasDocked){if(this.isDockedShowing!==c)return this.isDockedShowing=c,!0}else return this.wasDocked=!0,!0;return s},t.prototype.moveTopAppBar=function(){if(this.checkForUpdate()){var e=this.currentAppBarOffsetTop;Math.abs(e)>=this.topAppBarHeight&&(e=-pa.MAX_TOP_APP_BAR_HEIGHT),this.adapter.setStyle("top",e+"px")}},t.prototype.throttledResizeHandler=function(){var e=this.adapter.getTopAppBarHeight();this.topAppBarHeight!==e&&(this.wasDocked=!1,this.currentAppBarOffsetTop-=this.topAppBarHeight-e,this.topAppBarHeight=e),this.handleTargetScroll()},t}(jZ);const OZ=QZ;/**
 * @license
 * Copyright 2018 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Bs(n){return{addClass:t=>{n.classList.add(t)},removeClass:t=>{n.classList.remove(t)},hasClass:t=>n.classList.contains(t)}}let yb=!1;const Xb=()=>{},DZ={get passive(){return yb=!0,!1}};document.addEventListener("x",Xb,DZ);document.removeEventListener("x",Xb);const AZ=yb;/**
 * @license
 * Copyright 2018 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class _s extends ce{click(){if(this.mdcRoot){this.mdcRoot.focus(),this.mdcRoot.click();return}super.click()}createFoundation(){this.mdcFoundation!==void 0&&this.mdcFoundation.destroy(),this.mdcFoundationClass&&(this.mdcFoundation=new this.mdcFoundationClass(this.createAdapter()),this.mdcFoundation.init())}firstUpdated(){this.createFoundation()}}/**
 * @license
 * Copyright (c) 2018 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */class $Z{constructor(t){this.classes=new Set,this.changed=!1,this.element=t;const e=(t.getAttribute("class")||"").split(/\s+/);for(const i of e)this.classes.add(i)}add(t){this.classes.add(t),this.changed=!0}remove(t){this.classes.delete(t),this.changed=!0}commit(){if(this.changed){let t="";this.classes.forEach(e=>t+=e+" "),this.element.setAttribute("class",t)}}}const Fm=new WeakMap,re=Tl(n=>t=>{if(!(t instanceof Ni)||t instanceof Ul||t.committer.name!=="class"||t.committer.parts.length>1)throw new Error("The `classMap` directive must be used in the `class` attribute and must be the only part in the attribute.");const{committer:e}=t,{element:i}=e;let c=Fm.get(t);c===void 0&&(i.setAttribute("class",e.strings.join(" ")),Fm.set(t,c=new Set));const s=i.classList||new $Z(i);c.forEach(b=>{b in n||(s.remove(b),c.delete(b))});for(const b in n){const X=n[b];X!=c.has(b)&&(X?(s.add(b),c.add(b)):(s.remove(b),c.delete(b)))}typeof s.commit=="function"&&s.commit()}),Wb=AZ?{passive:!0}:void 0;class Ur extends _s{constructor(){super(...arguments),this.centerTitle=!1,this.handleTargetScroll=()=>{this.mdcFoundation.handleTargetScroll()},this.handleNavigationClick=()=>{this.mdcFoundation.handleNavigationClick()}}get scrollTarget(){return this._scrollTarget||window}set scrollTarget(t){this.unregisterScrollListener();const e=this.scrollTarget;this._scrollTarget=t,this.updateRootPosition(),this.requestUpdate("scrollTarget",e),this.registerScrollListener()}updateRootPosition(){if(this.mdcRoot){const t=this.scrollTarget===window;this.mdcRoot.style.position=t?"":"absolute"}}render(){let t=j`<span class="mdc-top-app-bar__title"><slot name="title"></slot></span>`;return this.centerTitle&&(t=j`<section class="mdc-top-app-bar__section mdc-top-app-bar__section--align-center">${t}</section>`),j`
      <header class="mdc-top-app-bar ${re(this.barClasses())}">
      <div class="mdc-top-app-bar__row">
        <section class="mdc-top-app-bar__section mdc-top-app-bar__section--align-start" id="navigation">
          <slot name="navigationIcon"
            @click=${this.handleNavigationClick}></slot>
          ${this.centerTitle?null:t}
        </section>
        ${this.centerTitle?t:null}
        <section class="mdc-top-app-bar__section mdc-top-app-bar__section--align-end" id="actions" role="toolbar">
          <slot name="actionItems"></slot>
        </section>
      </div>
    </header>
    <div class="${re(this.contentClasses())}">
      <slot></slot>
    </div>
    `}createAdapter(){return Object.assign(Object.assign({},Bs(this.mdcRoot)),{setStyle:(t,e)=>this.mdcRoot.style.setProperty(t,e),getTopAppBarHeight:()=>this.mdcRoot.clientHeight,notifyNavigationIconClicked:()=>{this.dispatchEvent(new Event(Zb.NAVIGATION_EVENT,{bubbles:!0,cancelable:!0}))},getViewportScrollY:()=>this.scrollTarget instanceof Window?this.scrollTarget.pageYOffset:this.scrollTarget.scrollTop,getTotalActionItems:()=>this._actionItemsSlot.assignedNodes({flatten:!0}).length})}registerListeners(){this.registerScrollListener()}unregisterListeners(){this.unregisterScrollListener()}registerScrollListener(){this.scrollTarget.addEventListener("scroll",this.handleTargetScroll,Wb)}unregisterScrollListener(){this.scrollTarget.removeEventListener("scroll",this.handleTargetScroll)}firstUpdated(){super.firstUpdated(),this.updateRootPosition(),this.registerListeners()}disconnectedCallback(){super.disconnectedCallback(),this.unregisterListeners()}}J([Ge(".mdc-top-app-bar")],Ur.prototype,"mdcRoot",void 0);J([Ge('slot[name="actionItems"]')],Ur.prototype,"_actionItemsSlot",void 0);J([w({type:Boolean})],Ur.prototype,"centerTitle",void 0);J([w({type:Object})],Ur.prototype,"scrollTarget",null);class Cs extends Ur{constructor(){super(...arguments),this.mdcFoundationClass=OZ,this.prominent=!1,this.dense=!1,this.handleResize=()=>{this.mdcFoundation.handleWindowResize()}}barClasses(){return{"mdc-top-app-bar--dense":this.dense,"mdc-top-app-bar--prominent":this.prominent,"center-title":this.centerTitle}}contentClasses(){return{"mdc-top-app-bar--fixed-adjust":!this.dense&&!this.prominent,"mdc-top-app-bar--dense-fixed-adjust":this.dense&&!this.prominent,"mdc-top-app-bar--prominent-fixed-adjust":!this.dense&&this.prominent,"mdc-top-app-bar--dense-prominent-fixed-adjust":this.dense&&this.prominent}}registerListeners(){super.registerListeners(),window.addEventListener("resize",this.handleResize,Wb)}unregisterListeners(){super.unregisterListeners(),window.removeEventListener("resize",this.handleResize)}}J([w({type:Boolean,reflect:!0})],Cs.prototype,"prominent",void 0);J([w({type:Boolean,reflect:!0})],Cs.prototype,"dense",void 0);/**
 * @license
 * Copyright 2021 Google LLC
 * SPDX-LIcense-Identifier: Apache-2.0
 */const qZ=It`.mdc-top-app-bar{background-color:#6200ee;background-color:var(--mdc-theme-primary, #6200ee);color:white;display:flex;position:fixed;flex-direction:column;justify-content:space-between;box-sizing:border-box;width:100%;z-index:4}.mdc-top-app-bar .mdc-top-app-bar__action-item,.mdc-top-app-bar .mdc-top-app-bar__navigation-icon{color:#fff;color:var(--mdc-theme-on-primary, #fff)}.mdc-top-app-bar .mdc-top-app-bar__action-item::before,.mdc-top-app-bar .mdc-top-app-bar__action-item::after,.mdc-top-app-bar .mdc-top-app-bar__navigation-icon::before,.mdc-top-app-bar .mdc-top-app-bar__navigation-icon::after{background-color:#fff;background-color:var(--mdc-ripple-color, var(--mdc-theme-on-primary, #fff))}.mdc-top-app-bar .mdc-top-app-bar__action-item:hover::before,.mdc-top-app-bar .mdc-top-app-bar__action-item.mdc-ripple-surface--hover::before,.mdc-top-app-bar .mdc-top-app-bar__navigation-icon:hover::before,.mdc-top-app-bar .mdc-top-app-bar__navigation-icon.mdc-ripple-surface--hover::before{opacity:0.08;opacity:var(--mdc-ripple-hover-opacity, 0.08)}.mdc-top-app-bar .mdc-top-app-bar__action-item.mdc-ripple-upgraded--background-focused::before,.mdc-top-app-bar .mdc-top-app-bar__action-item:not(.mdc-ripple-upgraded):focus::before,.mdc-top-app-bar .mdc-top-app-bar__navigation-icon.mdc-ripple-upgraded--background-focused::before,.mdc-top-app-bar .mdc-top-app-bar__navigation-icon:not(.mdc-ripple-upgraded):focus::before{transition-duration:75ms;opacity:0.24;opacity:var(--mdc-ripple-focus-opacity, 0.24)}.mdc-top-app-bar .mdc-top-app-bar__action-item:not(.mdc-ripple-upgraded)::after,.mdc-top-app-bar .mdc-top-app-bar__navigation-icon:not(.mdc-ripple-upgraded)::after{transition:opacity 150ms linear}.mdc-top-app-bar .mdc-top-app-bar__action-item:not(.mdc-ripple-upgraded):active::after,.mdc-top-app-bar .mdc-top-app-bar__navigation-icon:not(.mdc-ripple-upgraded):active::after{transition-duration:75ms;opacity:0.24;opacity:var(--mdc-ripple-press-opacity, 0.24)}.mdc-top-app-bar .mdc-top-app-bar__action-item.mdc-ripple-upgraded,.mdc-top-app-bar .mdc-top-app-bar__navigation-icon.mdc-ripple-upgraded{--mdc-ripple-fg-opacity:var(--mdc-ripple-press-opacity, 0.24)}.mdc-top-app-bar__row{display:flex;position:relative;box-sizing:border-box;width:100%;height:64px}.mdc-top-app-bar__section{display:inline-flex;flex:1 1 auto;align-items:center;min-width:0;padding:8px 12px;z-index:1}.mdc-top-app-bar__section--align-start{justify-content:flex-start;order:-1}.mdc-top-app-bar__section--align-end{justify-content:flex-end;order:1}.mdc-top-app-bar__title{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:Roboto, sans-serif;font-family:var(--mdc-typography-headline6-font-family, var(--mdc-typography-font-family, Roboto, sans-serif));font-size:1.25rem;font-size:var(--mdc-typography-headline6-font-size, 1.25rem);line-height:2rem;line-height:var(--mdc-typography-headline6-line-height, 2rem);font-weight:500;font-weight:var(--mdc-typography-headline6-font-weight, 500);letter-spacing:0.0125em;letter-spacing:var(--mdc-typography-headline6-letter-spacing, 0.0125em);text-decoration:inherit;text-decoration:var(--mdc-typography-headline6-text-decoration, inherit);text-transform:inherit;text-transform:var(--mdc-typography-headline6-text-transform, inherit);padding-left:20px;padding-right:0;text-overflow:ellipsis;white-space:nowrap;overflow:hidden;z-index:1}[dir=rtl] .mdc-top-app-bar__title,.mdc-top-app-bar__title[dir=rtl]{padding-left:0;padding-right:20px}.mdc-top-app-bar--short-collapsed{border-top-left-radius:0;border-top-right-radius:0;border-bottom-right-radius:24px;border-bottom-left-radius:0}[dir=rtl] .mdc-top-app-bar--short-collapsed,.mdc-top-app-bar--short-collapsed[dir=rtl]{border-top-left-radius:0;border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:24px}.mdc-top-app-bar--short{top:0;right:auto;left:0;width:100%;transition:width 250ms cubic-bezier(0.4, 0, 0.2, 1)}[dir=rtl] .mdc-top-app-bar--short,.mdc-top-app-bar--short[dir=rtl]{right:0;left:auto}.mdc-top-app-bar--short .mdc-top-app-bar__row{height:56px}.mdc-top-app-bar--short .mdc-top-app-bar__section{padding:4px}.mdc-top-app-bar--short .mdc-top-app-bar__title{transition:opacity 200ms cubic-bezier(0.4, 0, 0.2, 1);opacity:1}.mdc-top-app-bar--short-collapsed{box-shadow:0px 2px 4px -1px rgba(0, 0, 0, 0.2),0px 4px 5px 0px rgba(0, 0, 0, 0.14),0px 1px 10px 0px rgba(0,0,0,.12);width:56px;transition:width 300ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-top-app-bar--short-collapsed .mdc-top-app-bar__title{display:none}.mdc-top-app-bar--short-collapsed .mdc-top-app-bar__action-item{transition:padding 150ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-top-app-bar--short-collapsed.mdc-top-app-bar--short-has-action-item{width:112px}.mdc-top-app-bar--short-collapsed.mdc-top-app-bar--short-has-action-item .mdc-top-app-bar__section--align-end{padding-left:0;padding-right:12px}[dir=rtl] .mdc-top-app-bar--short-collapsed.mdc-top-app-bar--short-has-action-item .mdc-top-app-bar__section--align-end,.mdc-top-app-bar--short-collapsed.mdc-top-app-bar--short-has-action-item .mdc-top-app-bar__section--align-end[dir=rtl]{padding-left:12px;padding-right:0}.mdc-top-app-bar--dense .mdc-top-app-bar__row{height:48px}.mdc-top-app-bar--dense .mdc-top-app-bar__section{padding:0 4px}.mdc-top-app-bar--dense .mdc-top-app-bar__title{padding-left:12px;padding-right:0}[dir=rtl] .mdc-top-app-bar--dense .mdc-top-app-bar__title,.mdc-top-app-bar--dense .mdc-top-app-bar__title[dir=rtl]{padding-left:0;padding-right:12px}.mdc-top-app-bar--prominent .mdc-top-app-bar__row{height:128px}.mdc-top-app-bar--prominent .mdc-top-app-bar__title{align-self:flex-end;padding-bottom:2px}.mdc-top-app-bar--prominent .mdc-top-app-bar__action-item,.mdc-top-app-bar--prominent .mdc-top-app-bar__navigation-icon{align-self:flex-start}.mdc-top-app-bar--fixed{transition:box-shadow 200ms linear}.mdc-top-app-bar--fixed-scrolled{box-shadow:0px 2px 4px -1px rgba(0, 0, 0, 0.2),0px 4px 5px 0px rgba(0, 0, 0, 0.14),0px 1px 10px 0px rgba(0,0,0,.12);transition:box-shadow 200ms linear}.mdc-top-app-bar--dense.mdc-top-app-bar--prominent .mdc-top-app-bar__row{height:96px}.mdc-top-app-bar--dense.mdc-top-app-bar--prominent .mdc-top-app-bar__section{padding:0 12px}.mdc-top-app-bar--dense.mdc-top-app-bar--prominent .mdc-top-app-bar__title{padding-left:20px;padding-right:0;padding-bottom:9px}[dir=rtl] .mdc-top-app-bar--dense.mdc-top-app-bar--prominent .mdc-top-app-bar__title,.mdc-top-app-bar--dense.mdc-top-app-bar--prominent .mdc-top-app-bar__title[dir=rtl]{padding-left:0;padding-right:20px}.mdc-top-app-bar--fixed-adjust{padding-top:64px}.mdc-top-app-bar--dense-fixed-adjust{padding-top:48px}.mdc-top-app-bar--short-fixed-adjust{padding-top:56px}.mdc-top-app-bar--prominent-fixed-adjust{padding-top:128px}.mdc-top-app-bar--dense-prominent-fixed-adjust{padding-top:96px}@media(max-width: 599px){.mdc-top-app-bar__row{height:56px}.mdc-top-app-bar__section{padding:4px}.mdc-top-app-bar--short{transition:width 200ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-top-app-bar--short-collapsed{transition:width 250ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-top-app-bar--short-collapsed .mdc-top-app-bar__section--align-end{padding-left:0;padding-right:12px}[dir=rtl] .mdc-top-app-bar--short-collapsed .mdc-top-app-bar__section--align-end,.mdc-top-app-bar--short-collapsed .mdc-top-app-bar__section--align-end[dir=rtl]{padding-left:12px;padding-right:0}.mdc-top-app-bar--prominent .mdc-top-app-bar__title{padding-bottom:6px}.mdc-top-app-bar--fixed-adjust{padding-top:56px}}:host{display:block}.mdc-top-app-bar{color:#fff;color:var(--mdc-theme-on-primary, #fff);width:100%;width:var(--mdc-top-app-bar-width, 100%)}.mdc-top-app-bar--prominent #navigation ::slotted(*),.mdc-top-app-bar--prominent #actions ::slotted(*){align-self:flex-start}#navigation ::slotted(*),#actions ::slotted(*){--mdc-icon-button-ripple-opacity: 0.24}.mdc-top-app-bar--short-collapsed #actions ::slotted(*){transition:padding 150ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-top-app-bar__section--align-center{justify-content:center}.mdc-top-app-bar__section--align-center .mdc-top-app-bar__title{padding-left:0;padding-right:0}.center-title .mdc-top-app-bar__section--align-start,.center-title .mdc-top-app-bar__section--align-end{flex-basis:0}.mdc-top-app-bar--dense.mdc-top-app-bar--prominent .mdc-top-app-bar__section--align-center .mdc-top-app-bar__title{padding-left:0;padding-right:0}.mdc-top-app-bar--fixed-scrolled{box-shadow:var(--mdc-top-app-bar-fixed-box-shadow, 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12))}`,ty=It`.mdc-top-app-bar{--mdc-theme-primary: var(--vvd-color-canvas);--mdc-theme-on-primary: var(--vvd-color-on-canvas);--vvd-typography-font-family: SpeziaWebVariable;--vvd-typography-font-size: 20px;--vvd-typography-font-stretch: 75%;--vvd-typography-font-weight: 500;--vvd-typography-letter-spacing: 0px;--vvd-typography-line-height: 28px;--vvd-typography-text-decoration: none;--vvd-typography-text-transform: none;--mdc-typography-headline6-font-family: var(--vvd-typography-font-family);--mdc-typography-headline6-font-size: var(--vvd-typography-font-size);--mdc-typography-headline6-font-stretch: var(--vvd-typography-font-stretch);--mdc-typography-headline6-font-weight: var(--vvd-typography-font-weight);--mdc-typography-headline6-letter-spacing: var(--vvd-typography-letter-spacing);--mdc-typography-headline6-line-height: var(--vvd-typography-line-height);--mdc-typography-headline6-text-decoration: var(--vvd-typography-text-decoration);--mdc-typography-headline6-text-transform: var(--vvd-typography-text-transform)}.mdc-top-app-bar--fixed{transition:filter 200ms linear 0s}.mdc-top-app-bar--fixed-scrolled{box-shadow:unset;filter:var(--vvd-shadow-surface-4dp)}`;let ga=class extends Cs{constructor(){super(...arguments),this.alternate=!1}};ga.styles=[qZ,ty];J([w({type:Boolean}),Vn(function(n){n?this.mdcRoot.setAttribute("part","vvd-scheme-alternate"):this.mdcRoot.removeAttribute("part")})],ga.prototype,"alternate",void 0);ga=J([Kt("vwc-top-app-bar")],ga);var ni;(function(n){n.Primary="primary",n.CTA="cta",n.Success="success",n.Alert="alert",n.Warning="warning",n.Info="info",n.Announcement="announcement"})(ni||(ni={}));var Im;(function(n){n.Pacific="pacific"})(Im||(Im={}));var Jm;(function(n){n.Rounded="rounded",n.Pill="pill",n.Circled="circled"})(Jm||(Jm={}));var Ya;(function(n){n.xxx_Small="xxxs",n.xx_Small="xxs",n.x_Small="xs",n.Small="sm",n.Medium="md",n.Large="lg",n.x_Large="xl",n.xx_Large="xxl",n.xxx_Large="xxxl"})(Ya||(Ya={}));var km;(function(n){n.Text="text",n.Filled="filled",n.Outlined="outlined",n.Soft="soft",n.Ghost="ghost"})(km||(km={}));var Nm;(function(n){n.Small="small",n.Medium="medium",n.Large="large"})(Nm||(Nm={}));var Hm;(function(n){n.Top="TOP",n.Bottom="BOTTOM",n.Start="START",n.Center="CENTER",n.End="END"})(Hm||(Hm={}));var us;(function(n){n.Status="status",n.Alert="alert"})(us||(us={}));var bs;(function(n){n.Polite="polite",n.Assertive="assertive"})(bs||(bs={}));const ey=It`.layout{display:grid;grid-auto-rows:min-content}.layout.layout-column-basis-sm{grid-template-columns:var(--layout-grid-template-columns, repeat(var(--layout-auto-sizing), minmax(10rem, 1fr)))}.layout:not(.layout-column-basis-sm):not(.layout-column-basis-md):not(.layout-column-basis-lg):not(.layout-column-basis-block),.layout.layout-column-basis-md{grid-template-columns:var(--layout-grid-template-columns, repeat(var(--layout-auto-sizing), minmax(20rem, 1fr)))}.layout.layout-column-basis-lg{grid-template-columns:var(--layout-grid-template-columns, repeat(var(--layout-auto-sizing), minmax(30rem, 1fr)))}.layout.layout-column-basis-block{grid-template-columns:var(--layout-grid-template-columns, repeat(var(--layout-auto-sizing), minmax(1fr, 1fr)))}.layout.layout-column-spacing-xs{gap:16px}.layout:not(.layout-column-spacing-xs):not(.layout-column-spacing-md):not(.layout-column-spacing-xl),.layout.layout-column-spacing-md{gap:24px}.layout.layout-column-spacing-xl{gap:32px}.layout.layout-gutters-xs{margin:16px}.layout.layout-gutters-md{margin:24px}.layout.layout-gutters-xl{margin:32px}.layout.layout-auto-sizing-fill{--layout-auto-sizing:auto-fill}.layout:not(.layout-auto-sizing-fill):not(.layout-auto-sizing-fit),.layout.layout-auto-sizing-fit{--layout-auto-sizing:auto-fit}`;var wm;(function(n){n.Fit="fit",n.Fill="fill"})(wm||(wm={}));let gi=class extends ce{constructor(){super(...arguments),this.columnBasis=Ya.Small,this.columnSpacing=Ya.Medium}getRenderClasses(){return{[`layout-column-basis-${this.columnBasis}`]:!!this.columnBasis,[`layout-gutters-${this.gutters}`]:!!this.gutters,[`layout-column-spacing-${this.columnSpacing}`]:!!this.columnSpacing,[`layout-auto-sizing-${this.autoSizing}`]:!!this.autoSizing}}render(){return j`<div class="layout ${re(this.getRenderClasses())}">
			<slot></slot>
		</div>`}};gi.styles=ey;J([w({type:String,reflect:!0,attribute:"gutters"})],gi.prototype,"gutters",void 0);J([w({type:String,reflect:!0,attribute:"column-basis"})],gi.prototype,"columnBasis",void 0);J([w({type:String,reflect:!0,attribute:"column-spacing"})],gi.prototype,"columnSpacing",void 0);J([w({type:String,reflect:!0,attribute:"auto-sizing"})],gi.prototype,"autoSizing",void 0);gi=J([Kt("vwc-layout")],gi);class lo extends ce{constructor(){super(...arguments),this.tight=!1}getRenderClasses(){return{[`connotation-${this.connotation}`]:!!this.connotation,[`font-face-${this.fontFace}`]:!!this.fontFace,tight:this.tight}}render(){return j`<slot class="vwc-text ${re(this.getRenderClasses())}"></slot>`}}J([w({type:String,reflect:!0,attribute:"font-face"})],lo.prototype,"fontFace",void 0);J([w({type:String,reflect:!0})],lo.prototype,"connotation",void 0);J([w({type:Boolean,reflect:!0})],lo.prototype,"tight",void 0);const ny=It`.vwc-text{font:400 ultra-condensed 16px / 24px SpeziaWebVariable;letter-spacing:0px;text-decoration:none;text-transform:none;color:var(--connotation)}.vwc-text.connotation-primary,.vwc-text:not(.connotation-cta):not(.connotation-announcement):not(.connotation-info):not(.connotation-success):not(.connotation-alert){--connotation:var(--vvd-color-primary);--on-connotation:var(--vvd-color-on-primary)}.vwc-text.connotation-cta{--connotation:var(--vvd-color-cta);--on-connotation:var(--vvd-color-on-cta)}.vwc-text.connotation-announcement{--connotation:var(--vvd-color-announcement);--on-connotation:var(--vvd-color-on-announcement)}.vwc-text.connotation-info{--connotation:var(--vvd-color-info);--on-connotation:var(--vvd-color-on-info)}.vwc-text.connotation-success{--connotation:var(--vvd-color-success);--on-connotation:var(--vvd-color-on-success)}.vwc-text.connotation-alert{--connotation:var(--vvd-color-alert);--on-connotation:var(--vvd-color-on-alert)}.vwc-text.font-face-body-1{font:400 ultra-condensed 16px / 24px SpeziaWebVariable;letter-spacing:0px;text-decoration:none;text-transform:none}.vwc-text.font-face-body-1-bold{font:600 ultra-condensed 16px / 24px SpeziaWebVariable;letter-spacing:0px;text-decoration:none;text-transform:none}.vwc-text.font-face-body-1-code{font:400 ultra-condensed 16px / 24px SpeziaMonoWebVariable;letter-spacing:0px;text-decoration:none;text-transform:none}.vwc-text.font-face-body-1-link{font:400 ultra-condensed 16px / 24px SpeziaWebVariable;letter-spacing:0px;text-decoration:underline;text-transform:none}.vwc-text.font-face-body-2{font:400 ultra-condensed 14px / 20px SpeziaWebVariable;letter-spacing:0px;text-decoration:none;text-transform:none}.vwc-text.font-face-body-2-bold{font:600 ultra-condensed 14px / 20px SpeziaWebVariable;letter-spacing:0px;text-decoration:none;text-transform:none}.vwc-text.font-face-body-2-code{font:400 ultra-condensed 14px / 20px SpeziaMonoWebVariable;letter-spacing:0px;text-decoration:none;text-transform:none}.vwc-text.font-face-body-2-link{font:400 ultra-condensed 14px / 20px SpeziaWebVariable;letter-spacing:0px;text-decoration:underline;text-transform:none}.vwc-text.font-face-button{font:600 ultra-condensed 14px / 100% SpeziaWebVariable;letter-spacing:0px;text-decoration:none;text-transform:none}.vwc-text.font-face-button-dense{font:600 ultra-condensed 12px / 100% SpeziaWebVariable;letter-spacing:0px;text-decoration:none;text-transform:none}.vwc-text.font-face-button-enlarge{font:600 ultra-condensed 16px / 100% SpeziaWebVariable;letter-spacing:0px;text-decoration:none;text-transform:none}.vwc-text.font-face-caption{font:400 ultra-condensed 12px / 16px SpeziaWebVariable;letter-spacing:0px;text-decoration:none;text-transform:none}.vwc-text.font-face-caption-bold{font:600 ultra-condensed 12px / 16px SpeziaWebVariable;letter-spacing:0px;text-decoration:none;text-transform:none}.vwc-text.font-face-caption-code{font:400 ultra-condensed 12px / 16px SpeziaMonoWebVariable;letter-spacing:0px;text-decoration:none;text-transform:none}.vwc-text.font-face-caption-link{font:400 ultra-condensed 12px / 16px SpeziaWebVariable;letter-spacing:0px;text-decoration:underline;text-transform:none}.vwc-text.font-face-headline-1{font:500 condensed 66px / 88px SpeziaWebVariable;letter-spacing:0px;text-decoration:none;text-transform:none}.vwc-text.font-face-headline-2{font:500 condensed 52px / 68px SpeziaWebVariable;letter-spacing:0px;text-decoration:none;text-transform:none}.vwc-text.font-face-subtitle-1{font:500 condensed 26px / 36px SpeziaWebVariable;letter-spacing:0px;text-decoration:none;text-transform:none}.vwc-text.font-face-subtitle-2{font:500 condensed 20px / 28px SpeziaWebVariable;letter-spacing:0px;text-decoration:none;text-transform:none}.vwc-text.font-face-title-1{font:500 condensed 40px / 52px SpeziaWebVariable;letter-spacing:0px;text-decoration:none;text-transform:none}.vwc-text.font-face-title-2{font:500 condensed 32px / 44px SpeziaWebVariable;letter-spacing:0px;text-decoration:none;text-transform:none}.vwc-text.font-face-headline-1,.vwc-text.font-face-headline-2{--font-face-margin: 2.5rem 0}.vwc-text.font-face-title-1,.vwc-text.font-face-title-2{--font-face-margin: 2rem 0}.vwc-text.font-face-subtitle-1,.vwc-text.font-face-subtitle-2{--font-face-margin: 1.5rem 0}.vwc-text.font-face-body-1,.vwc-text.font-face-body-2{--font-face-margin: 1rem 0}.vwc-text:not(.tight):where(.font-face-headline-1, .font-face-headline-2, .font-face-title-1, .font-face-title-2, .font-face-subtitle-1, .font-face-subtitle-2, .font-face-body-1, .font-face-body-2){display:block;margin:var(--font-face-margin, 0)}::slotted(:where(h1, h2, h3, h4, h5, h6, p)){margin:initial}::slotted(*){color:inherit;font:inherit}`;let hs=class extends lo{};hs.styles=ny;hs=J([Kt("vwc-text")],hs);/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */const xm=new WeakMap,iy=window.navigator.userAgent.indexOf("Trident/")>0,Sm=Tl(n=>t=>{if(!(t instanceof Hi))throw new Error("unsafeSVG can only be used in text bindings");const e=xm.get(t);if(e!==void 0&&Tr(n)&&n===e.value&&t.value===e.fragment)return;const i=document.createElement("template"),c=i.content;let s;iy?(i.innerHTML=`<svg>${n}</svg>`,s=c.firstChild):(s=document.createElementNS("http://www.w3.org/2000/svg","svg"),c.appendChild(s),s.innerHTML=n),c.removeChild(s),vZ(c,s.firstChild);const b=document.importNode(c,!0);t.setValue(b),xm.set(t,{value:n,fragment:b})});/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */const Tm=new WeakMap,Um=2147483647,ly=Tl((...n)=>t=>{let e=Tm.get(t);e===void 0&&(e={lastRenderedIndex:Um,values:[]},Tm.set(t,e));const i=e.values;let c=i.length;e.values=n;for(let s=0;s<n.length&&!(s>e.lastRenderedIndex);s++){const b=n[s];if(Tr(b)||typeof b.then!="function"){t.setValue(b),e.lastRenderedIndex=s;break}s<c&&b===i[s]||(e.lastRenderedIndex=Um,c=0,Promise.resolve(b).then(X=>{const F=e.values.indexOf(b);F>-1&&F<e.lastRenderedIndex&&(e.lastRenderedIndex=F,t.setValue(X),t.commit())}))}});/**
 * @license
 * Copyright (c) 2018 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */const Kd=new WeakMap,Le=Tl(n=>t=>{const e=Kd.get(t);if(n===void 0&&t instanceof Ni){if(e!==void 0||!Kd.has(t)){const i=t.committer.name;t.committer.element.removeAttribute(i)}}else n!==e&&t.setValue(n);Kd.set(t,n)});/**
 * @license
 * Copyright 2021 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function ry(n,t,e){const i=n.constructor;if(!e){const X=`__${t}`;if(e=i.getPropertyDescriptor(t,X),!e)throw new Error("@ariaProperty must be used after a @property decorator")}const c=e;let s="";if(!c.set)throw new Error(`@ariaProperty requires a setter for ${t}`);const b={configurable:!0,enumerable:!0,set(X){s===""&&(s=i.getPropertyOptions(t).attribute),this.hasAttribute(s)&&this.removeAttribute(s),c.set.call(this,X)}};return c.get&&(b.get=function(){return c.get.call(this)}),b}function Tn(n,t,e){if(t!==void 0)return ry(n,t,e);throw new Error("@ariaProperty only supports TypeScript Decorators")}const cy=It`.icon{color:var(--connotation, currentColor)}.icon.connotation-primary{--connotation:var(--vvd-color-primary);--on-connotation:var(--vvd-color-on-primary)}.icon.connotation-cta{--connotation:var(--vvd-color-cta);--on-connotation:var(--vvd-color-on-cta)}.icon.connotation-announcement{--connotation:var(--vvd-color-announcement);--on-connotation:var(--vvd-color-on-announcement)}.icon.connotation-success{--connotation:var(--vvd-color-success);--on-connotation:var(--vvd-color-on-success)}.icon.connotation-alert{--connotation:var(--vvd-color-alert);--on-connotation:var(--vvd-color-on-alert)}.icon.connotation-info{--connotation:var(--vvd-color-info);--on-connotation:var(--vvd-color-on-info)}:host([size=small]){--vvd-icon-size:16px}:host,:host([size=medium]){--vvd-icon-size:24px}:host([size=large]){--vvd-icon-size:32px}:host([inline]){--vvd-icon-size:1em;line-height:1;vertical-align:middle}:host{display:inline-block;width:var(--icon-size, var(--vvd-icon-size));height:var(--icon-size, var(--vvd-icon-size));block-size:var(--icon-size, var(--vvd-icon-size));inline-size:var(--icon-size, var(--vvd-icon-size));line-height:1;vertical-align:middle}.icon{display:contents}.icon>svg{block-size:100%;fill:currentColor;inline-size:100%;vertical-align:super}`,ay="https://icon.resources.vonage.com",oy="4.4.0",dy='<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><style>@keyframes rotation { from { transform: rotate(0deg) } to { transform: rotate(360deg) } } g#circle { transform-origin: center center; animation: 1s rotation 0s linear infinite; } path { fill: currentColor }</style> <g id="circle"> <path d="M7.5 2C3.91014 2 1 4.91014 1 8.5C1 12.0899 3.91014 15 7.5 15C11.0899 15 14 12.0899 14 8.5C14 8.22386 14.2239 8 14.5 8C14.7761 8 15 8.22386 15 8.5C15 12.6421 11.6421 16 7.5 16C3.35786 16 0 12.6421 0 8.5C0 4.35786 3.35786 1 7.5 1C10.3622 1 12.7088 2.78366 13.9478 5.27753C14.0706 5.52484 13.9698 5.82492 13.7225 5.94778C13.4752 6.07065 13.1751 5.96977 13.0522 5.72247C11.9472 3.49834 9.90985 2 7.5 2Z"/><path d="M13.5 0C13.7761 0 14 0.223858 14 0.5V5.5C14 5.77614 13.7761 6 13.5 6H8.5C8.22386 6 8 5.77614 8 5.5C8 5.22386 8.22386 5 8.5 5H13V0.5C13 0.223858 13.2239 0 13.5 0Z"/></g></svg>',sy=500,my=2e3,Km=n=>new Promise(t=>setTimeout(t,n)),uy=(n,t)=>[ay,`v${t}`,n].join("/"),by=tZ(Hs,(n="")=>n.trim()?fetch(uy([n,"svg"].join("."),oy)).then(t=>t.headers.get("content-type")==="image/svg+xml"?t.text():""):Promise.resolve("")),hy=(n,t)=>(e="")=>e.replace(/<svg[^>]*>/,i=>i.replace(/<svg[^>]+/,c=>c.split(" ").concat([n,t].filter(Boolean).join("=")).join(" ")));let Yi=class extends ce{constructor(){super(...arguments),this.ariaLabel=""}static get styles(){return cy}getRenderClasses(){return{[`connotation-${this.connotation}`]:!!this.connotation}}render(){return j`<figure class="icon ${re(this.getRenderClasses())}" aria-label="${Le(this.ariaLabel)}">${ly(by(this.type).then(hy("aria-hidden","true")).then(Sm),Km(my),Km(sy).then(Wi(Sm(dy))))}</figure>`}};J([w({type:String,reflect:!0})],Yi.prototype,"connotation",void 0);J([w({attribute:!0,type:String,reflect:!0})],Yi.prototype,"type",void 0);J([w({attribute:!0,type:Boolean,reflect:!0})],Yi.prototype,"inline",void 0);J([w({attribute:!0,type:String,reflect:!0})],Yi.prototype,"size",void 0);J([Tn,w({attribute:"aria-label",type:String})],Yi.prototype,"ariaLabel",void 0);Yi=J([Kt("vwc-icon")],Yi);/**
 * @license
 * Copyright 2018 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */function py(n,t){var e=n.matches||n.webkitMatchesSelector||n.msMatchesSelector;return e.call(n,t)}/**
 * @license
 * Copyright 2016 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var Zy={BG_FOCUSED:"mdc-ripple-upgraded--background-focused",FG_ACTIVATION:"mdc-ripple-upgraded--foreground-activation",FG_DEACTIVATION:"mdc-ripple-upgraded--foreground-deactivation",ROOT:"mdc-ripple-upgraded",UNBOUNDED:"mdc-ripple-upgraded--unbounded"},yy={VAR_FG_SCALE:"--mdc-ripple-fg-scale",VAR_FG_SIZE:"--mdc-ripple-fg-size",VAR_FG_TRANSLATE_END:"--mdc-ripple-fg-translate-end",VAR_FG_TRANSLATE_START:"--mdc-ripple-fg-translate-start",VAR_LEFT:"--mdc-ripple-left",VAR_TOP:"--mdc-ripple-top"},zm={DEACTIVATION_TIMEOUT_MS:225,FG_DEACTIVATION_MS:150,INITIAL_ORIGIN_SCALE:.6,PADDING:10,TAP_DELAY_MS:300};function Xy(n,t,e){if(!n)return{x:0,y:0};var i=t.x,c=t.y,s=i+e.left,b=c+e.top,X,F;if(n.type==="touchstart"){var U=n;X=U.changedTouches[0].pageX-s,F=U.changedTouches[0].pageY-b}else{var E=n;X=E.pageX-s,F=E.pageY-b}return{x:X,y:F}}/**
 * @license
 * Copyright 2016 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var Bm=["touchstart","pointerdown","mousedown","keydown"],_m=["touchend","pointerup","mouseup","contextmenu"],la=[],Wy=function(n){eo(t,n);function t(e){var i=n.call(this,xn(xn({},t.defaultAdapter),e))||this;return i.activationAnimationHasEnded=!1,i.activationTimer=0,i.fgDeactivationRemovalTimer=0,i.fgScale="0",i.frame={width:0,height:0},i.initialSize=0,i.layoutFrame=0,i.maxRadius=0,i.unboundedCoords={left:0,top:0},i.activationState=i.defaultActivationState(),i.activationTimerCallback=function(){i.activationAnimationHasEnded=!0,i.runDeactivationUXLogicIfReady()},i.activateHandler=function(c){i.activateImpl(c)},i.deactivateHandler=function(){i.deactivateImpl()},i.focusHandler=function(){i.handleFocus()},i.blurHandler=function(){i.handleBlur()},i.resizeHandler=function(){i.layout()},i}return Object.defineProperty(t,"cssClasses",{get:function(){return Zy},enumerable:!1,configurable:!0}),Object.defineProperty(t,"strings",{get:function(){return yy},enumerable:!1,configurable:!0}),Object.defineProperty(t,"numbers",{get:function(){return zm},enumerable:!1,configurable:!0}),Object.defineProperty(t,"defaultAdapter",{get:function(){return{addClass:function(){},browserSupportsCssVars:function(){return!0},computeBoundingRect:function(){return{top:0,right:0,bottom:0,left:0,width:0,height:0}},containsEventTarget:function(){return!0},deregisterDocumentInteractionHandler:function(){},deregisterInteractionHandler:function(){},deregisterResizeHandler:function(){},getWindowPageOffset:function(){return{x:0,y:0}},isSurfaceActive:function(){return!0},isSurfaceDisabled:function(){return!0},isUnbounded:function(){return!0},registerDocumentInteractionHandler:function(){},registerInteractionHandler:function(){},registerResizeHandler:function(){},removeClass:function(){},updateCssVariable:function(){}}},enumerable:!1,configurable:!0}),t.prototype.init=function(){var e=this,i=this.supportsPressRipple();if(this.registerRootHandlers(i),i){var c=t.cssClasses,s=c.ROOT,b=c.UNBOUNDED;requestAnimationFrame(function(){e.adapter.addClass(s),e.adapter.isUnbounded()&&(e.adapter.addClass(b),e.layoutInternal())})}},t.prototype.destroy=function(){var e=this;if(this.supportsPressRipple()){this.activationTimer&&(clearTimeout(this.activationTimer),this.activationTimer=0,this.adapter.removeClass(t.cssClasses.FG_ACTIVATION)),this.fgDeactivationRemovalTimer&&(clearTimeout(this.fgDeactivationRemovalTimer),this.fgDeactivationRemovalTimer=0,this.adapter.removeClass(t.cssClasses.FG_DEACTIVATION));var i=t.cssClasses,c=i.ROOT,s=i.UNBOUNDED;requestAnimationFrame(function(){e.adapter.removeClass(c),e.adapter.removeClass(s),e.removeCssVars()})}this.deregisterRootHandlers(),this.deregisterDeactivationHandlers()},t.prototype.activate=function(e){this.activateImpl(e)},t.prototype.deactivate=function(){this.deactivateImpl()},t.prototype.layout=function(){var e=this;this.layoutFrame&&cancelAnimationFrame(this.layoutFrame),this.layoutFrame=requestAnimationFrame(function(){e.layoutInternal(),e.layoutFrame=0})},t.prototype.setUnbounded=function(e){var i=t.cssClasses.UNBOUNDED;e?this.adapter.addClass(i):this.adapter.removeClass(i)},t.prototype.handleFocus=function(){var e=this;requestAnimationFrame(function(){return e.adapter.addClass(t.cssClasses.BG_FOCUSED)})},t.prototype.handleBlur=function(){var e=this;requestAnimationFrame(function(){return e.adapter.removeClass(t.cssClasses.BG_FOCUSED)})},t.prototype.supportsPressRipple=function(){return this.adapter.browserSupportsCssVars()},t.prototype.defaultActivationState=function(){return{activationEvent:void 0,hasDeactivationUXRun:!1,isActivated:!1,isProgrammatic:!1,wasActivatedByPointer:!1,wasElementMadeActive:!1}},t.prototype.registerRootHandlers=function(e){var i,c;if(e){try{for(var s=ea(Bm),b=s.next();!b.done;b=s.next()){var X=b.value;this.adapter.registerInteractionHandler(X,this.activateHandler)}}catch(F){i={error:F}}finally{try{b&&!b.done&&(c=s.return)&&c.call(s)}finally{if(i)throw i.error}}this.adapter.isUnbounded()&&this.adapter.registerResizeHandler(this.resizeHandler)}this.adapter.registerInteractionHandler("focus",this.focusHandler),this.adapter.registerInteractionHandler("blur",this.blurHandler)},t.prototype.registerDeactivationHandlers=function(e){var i,c;if(e.type==="keydown")this.adapter.registerInteractionHandler("keyup",this.deactivateHandler);else try{for(var s=ea(_m),b=s.next();!b.done;b=s.next()){var X=b.value;this.adapter.registerDocumentInteractionHandler(X,this.deactivateHandler)}}catch(F){i={error:F}}finally{try{b&&!b.done&&(c=s.return)&&c.call(s)}finally{if(i)throw i.error}}},t.prototype.deregisterRootHandlers=function(){var e,i;try{for(var c=ea(Bm),s=c.next();!s.done;s=c.next()){var b=s.value;this.adapter.deregisterInteractionHandler(b,this.activateHandler)}}catch(X){e={error:X}}finally{try{s&&!s.done&&(i=c.return)&&i.call(c)}finally{if(e)throw e.error}}this.adapter.deregisterInteractionHandler("focus",this.focusHandler),this.adapter.deregisterInteractionHandler("blur",this.blurHandler),this.adapter.isUnbounded()&&this.adapter.deregisterResizeHandler(this.resizeHandler)},t.prototype.deregisterDeactivationHandlers=function(){var e,i;this.adapter.deregisterInteractionHandler("keyup",this.deactivateHandler);try{for(var c=ea(_m),s=c.next();!s.done;s=c.next()){var b=s.value;this.adapter.deregisterDocumentInteractionHandler(b,this.deactivateHandler)}}catch(X){e={error:X}}finally{try{s&&!s.done&&(i=c.return)&&i.call(c)}finally{if(e)throw e.error}}},t.prototype.removeCssVars=function(){var e=this,i=t.strings,c=Object.keys(i);c.forEach(function(s){s.indexOf("VAR_")===0&&e.adapter.updateCssVariable(i[s],null)})},t.prototype.activateImpl=function(e){var i=this;if(!this.adapter.isSurfaceDisabled()){var c=this.activationState;if(!c.isActivated){var s=this.previousActivationEvent,b=s&&e!==void 0&&s.type!==e.type;if(!b){c.isActivated=!0,c.isProgrammatic=e===void 0,c.activationEvent=e,c.wasActivatedByPointer=c.isProgrammatic?!1:e!==void 0&&(e.type==="mousedown"||e.type==="touchstart"||e.type==="pointerdown");var X=e!==void 0&&la.length>0&&la.some(function(F){return i.adapter.containsEventTarget(F)});if(X){this.resetActivationState();return}e!==void 0&&(la.push(e.target),this.registerDeactivationHandlers(e)),c.wasElementMadeActive=this.checkElementMadeActive(e),c.wasElementMadeActive&&this.animateActivation(),requestAnimationFrame(function(){la=[],!c.wasElementMadeActive&&e!==void 0&&(e.key===" "||e.keyCode===32)&&(c.wasElementMadeActive=i.checkElementMadeActive(e),c.wasElementMadeActive&&i.animateActivation()),c.wasElementMadeActive||(i.activationState=i.defaultActivationState())})}}}},t.prototype.checkElementMadeActive=function(e){return e!==void 0&&e.type==="keydown"?this.adapter.isSurfaceActive():!0},t.prototype.animateActivation=function(){var e=this,i=t.strings,c=i.VAR_FG_TRANSLATE_START,s=i.VAR_FG_TRANSLATE_END,b=t.cssClasses,X=b.FG_DEACTIVATION,F=b.FG_ACTIVATION,U=t.numbers.DEACTIVATION_TIMEOUT_MS;this.layoutInternal();var E="",f="";if(!this.adapter.isUnbounded()){var Gt=this.getFgTranslationCoordinates(),Dt=Gt.startPoint,Bt=Gt.endPoint;E=Dt.x+"px, "+Dt.y+"px",f=Bt.x+"px, "+Bt.y+"px"}this.adapter.updateCssVariable(c,E),this.adapter.updateCssVariable(s,f),clearTimeout(this.activationTimer),clearTimeout(this.fgDeactivationRemovalTimer),this.rmBoundedActivationClasses(),this.adapter.removeClass(X),this.adapter.computeBoundingRect(),this.adapter.addClass(F),this.activationTimer=setTimeout(function(){e.activationTimerCallback()},U)},t.prototype.getFgTranslationCoordinates=function(){var e=this.activationState,i=e.activationEvent,c=e.wasActivatedByPointer,s;c?s=Xy(i,this.adapter.getWindowPageOffset(),this.adapter.computeBoundingRect()):s={x:this.frame.width/2,y:this.frame.height/2},s={x:s.x-this.initialSize/2,y:s.y-this.initialSize/2};var b={x:this.frame.width/2-this.initialSize/2,y:this.frame.height/2-this.initialSize/2};return{startPoint:s,endPoint:b}},t.prototype.runDeactivationUXLogicIfReady=function(){var e=this,i=t.cssClasses.FG_DEACTIVATION,c=this.activationState,s=c.hasDeactivationUXRun,b=c.isActivated,X=s||!b;X&&this.activationAnimationHasEnded&&(this.rmBoundedActivationClasses(),this.adapter.addClass(i),this.fgDeactivationRemovalTimer=setTimeout(function(){e.adapter.removeClass(i)},zm.FG_DEACTIVATION_MS))},t.prototype.rmBoundedActivationClasses=function(){var e=t.cssClasses.FG_ACTIVATION;this.adapter.removeClass(e),this.activationAnimationHasEnded=!1,this.adapter.computeBoundingRect()},t.prototype.resetActivationState=function(){var e=this;this.previousActivationEvent=this.activationState.activationEvent,this.activationState=this.defaultActivationState(),setTimeout(function(){return e.previousActivationEvent=void 0},t.numbers.TAP_DELAY_MS)},t.prototype.deactivateImpl=function(){var e=this,i=this.activationState;if(!!i.isActivated){var c=xn({},i);i.isProgrammatic?(requestAnimationFrame(function(){e.animateDeactivation(c)}),this.resetActivationState()):(this.deregisterDeactivationHandlers(),requestAnimationFrame(function(){e.activationState.hasDeactivationUXRun=!0,e.animateDeactivation(c),e.resetActivationState()}))}},t.prototype.animateDeactivation=function(e){var i=e.wasActivatedByPointer,c=e.wasElementMadeActive;(i||c)&&this.runDeactivationUXLogicIfReady()},t.prototype.layoutInternal=function(){var e=this;this.frame=this.adapter.computeBoundingRect();var i=Math.max(this.frame.height,this.frame.width),c=function(){var b=Math.sqrt(Math.pow(e.frame.width,2)+Math.pow(e.frame.height,2));return b+t.numbers.PADDING};this.maxRadius=this.adapter.isUnbounded()?i:c();var s=Math.floor(i*t.numbers.INITIAL_ORIGIN_SCALE);this.adapter.isUnbounded()&&s%2!==0?this.initialSize=s-1:this.initialSize=s,this.fgScale=""+this.maxRadius/this.initialSize,this.updateLayoutCssVars()},t.prototype.updateLayoutCssVars=function(){var e=t.strings,i=e.VAR_FG_SIZE,c=e.VAR_LEFT,s=e.VAR_TOP,b=e.VAR_FG_SCALE;this.adapter.updateCssVariable(i,this.initialSize+"px"),this.adapter.updateCssVariable(b,this.fgScale),this.adapter.isUnbounded()&&(this.unboundedCoords={left:Math.round(this.frame.width/2-this.initialSize/2),top:Math.round(this.frame.height/2-this.initialSize/2)},this.adapter.updateCssVariable(c,this.unboundedCoords.left+"px"),this.adapter.updateCssVariable(s,this.unboundedCoords.top+"px"))},t}(zs);const Vy=Wy;/**
 * @license
 * Copyright (c) 2018 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */const Cm=new WeakMap,Ri=Tl(n=>t=>{if(!(t instanceof Ni)||t instanceof Ul||t.committer.name!=="style"||t.committer.parts.length>1)throw new Error("The `styleMap` directive must be used in the style attribute and must be the only part in the attribute.");const{committer:e}=t,{style:i}=e.element;let c=Cm.get(t);c===void 0&&(i.cssText=e.strings.join(" "),Cm.set(t,c=new Set)),c.forEach(s=>{s in n||(c.delete(s),s.indexOf("-")===-1?i[s]=null:i.removeProperty(s))});for(const s in n)c.add(s),s.indexOf("-")===-1?i[s]=n[s]:i.setProperty(s,n[s])});class be extends _s{constructor(){super(...arguments),this.primary=!1,this.accent=!1,this.unbounded=!1,this.disabled=!1,this.activated=!1,this.selected=!1,this.internalUseStateLayerCustomProperties=!1,this.hovering=!1,this.bgFocused=!1,this.fgActivation=!1,this.fgDeactivation=!1,this.fgScale="",this.fgSize="",this.translateStart="",this.translateEnd="",this.leftPos="",this.topPos="",this.mdcFoundationClass=Vy}get isActive(){return py(this.parentElement||this,":active")}createAdapter(){return{browserSupportsCssVars:()=>!0,isUnbounded:()=>this.unbounded,isSurfaceActive:()=>this.isActive,isSurfaceDisabled:()=>this.disabled,addClass:t=>{switch(t){case"mdc-ripple-upgraded--background-focused":this.bgFocused=!0;break;case"mdc-ripple-upgraded--foreground-activation":this.fgActivation=!0;break;case"mdc-ripple-upgraded--foreground-deactivation":this.fgDeactivation=!0;break}},removeClass:t=>{switch(t){case"mdc-ripple-upgraded--background-focused":this.bgFocused=!1;break;case"mdc-ripple-upgraded--foreground-activation":this.fgActivation=!1;break;case"mdc-ripple-upgraded--foreground-deactivation":this.fgDeactivation=!1;break}},containsEventTarget:()=>!0,registerInteractionHandler:()=>{},deregisterInteractionHandler:()=>{},registerDocumentInteractionHandler:()=>{},deregisterDocumentInteractionHandler:()=>{},registerResizeHandler:()=>{},deregisterResizeHandler:()=>{},updateCssVariable:(t,e)=>{switch(t){case"--mdc-ripple-fg-scale":this.fgScale=e;break;case"--mdc-ripple-fg-size":this.fgSize=e;break;case"--mdc-ripple-fg-translate-end":this.translateEnd=e;break;case"--mdc-ripple-fg-translate-start":this.translateStart=e;break;case"--mdc-ripple-left":this.leftPos=e;break;case"--mdc-ripple-top":this.topPos=e;break}},computeBoundingRect:()=>(this.parentElement||this).getBoundingClientRect(),getWindowPageOffset:()=>({x:window.pageXOffset,y:window.pageYOffset})}}startPress(t){this.waitForFoundation(()=>{this.mdcFoundation.activate(t)})}endPress(){this.waitForFoundation(()=>{this.mdcFoundation.deactivate()})}startFocus(){this.waitForFoundation(()=>{this.mdcFoundation.handleFocus()})}endFocus(){this.waitForFoundation(()=>{this.mdcFoundation.handleBlur()})}startHover(){this.hovering=!0}endHover(){this.hovering=!1}waitForFoundation(t){this.mdcFoundation?t():this.updateComplete.then(t)}update(t){t.has("disabled")&&this.disabled&&this.endHover(),super.update(t)}render(){const t=this.activated&&(this.primary||!this.accent),e=this.selected&&(this.primary||!this.accent),i={"mdc-ripple-surface--accent":this.accent,"mdc-ripple-surface--primary--activated":t,"mdc-ripple-surface--accent--activated":this.accent&&this.activated,"mdc-ripple-surface--primary--selected":e,"mdc-ripple-surface--accent--selected":this.accent&&this.selected,"mdc-ripple-surface--disabled":this.disabled,"mdc-ripple-surface--hover":this.hovering,"mdc-ripple-surface--primary":this.primary,"mdc-ripple-surface--selected":this.selected,"mdc-ripple-upgraded--background-focused":this.bgFocused,"mdc-ripple-upgraded--foreground-activation":this.fgActivation,"mdc-ripple-upgraded--foreground-deactivation":this.fgDeactivation,"mdc-ripple-upgraded--unbounded":this.unbounded,"mdc-ripple-surface--internal-use-state-layer-custom-properties":this.internalUseStateLayerCustomProperties};return j`
        <div class="mdc-ripple-surface mdc-ripple-upgraded ${re(i)}"
          style="${Ri({"--mdc-ripple-fg-scale":this.fgScale,"--mdc-ripple-fg-size":this.fgSize,"--mdc-ripple-fg-translate-end":this.translateEnd,"--mdc-ripple-fg-translate-start":this.translateStart,"--mdc-ripple-left":this.leftPos,"--mdc-ripple-top":this.topPos})}"></div>`}}J([Ge(".mdc-ripple-surface")],be.prototype,"mdcRoot",void 0);J([w({type:Boolean})],be.prototype,"primary",void 0);J([w({type:Boolean})],be.prototype,"accent",void 0);J([w({type:Boolean})],be.prototype,"unbounded",void 0);J([w({type:Boolean})],be.prototype,"disabled",void 0);J([w({type:Boolean})],be.prototype,"activated",void 0);J([w({type:Boolean})],be.prototype,"selected",void 0);J([w({type:Boolean})],be.prototype,"internalUseStateLayerCustomProperties",void 0);J([zt()],be.prototype,"hovering",void 0);J([zt()],be.prototype,"bgFocused",void 0);J([zt()],be.prototype,"fgActivation",void 0);J([zt()],be.prototype,"fgDeactivation",void 0);J([zt()],be.prototype,"fgScale",void 0);J([zt()],be.prototype,"fgSize",void 0);J([zt()],be.prototype,"translateStart",void 0);J([zt()],be.prototype,"translateEnd",void 0);J([zt()],be.prototype,"leftPos",void 0);J([zt()],be.prototype,"topPos",void 0);/**
 * @license
 * Copyright 2021 Google LLC
 * SPDX-LIcense-Identifier: Apache-2.0
 */const fy=It`.mdc-ripple-surface{--mdc-ripple-fg-size: 0;--mdc-ripple-left: 0;--mdc-ripple-top: 0;--mdc-ripple-fg-scale: 1;--mdc-ripple-fg-translate-end: 0;--mdc-ripple-fg-translate-start: 0;-webkit-tap-highlight-color:rgba(0,0,0,0);will-change:transform,opacity;position:relative;outline:none;overflow:hidden}.mdc-ripple-surface::before,.mdc-ripple-surface::after{position:absolute;border-radius:50%;opacity:0;pointer-events:none;content:""}.mdc-ripple-surface::before{transition:opacity 15ms linear,background-color 15ms linear;z-index:1;z-index:var(--mdc-ripple-z-index, 1)}.mdc-ripple-surface::after{z-index:0;z-index:var(--mdc-ripple-z-index, 0)}.mdc-ripple-surface.mdc-ripple-upgraded::before{transform:scale(var(--mdc-ripple-fg-scale, 1))}.mdc-ripple-surface.mdc-ripple-upgraded::after{top:0;left:0;transform:scale(0);transform-origin:center center}.mdc-ripple-surface.mdc-ripple-upgraded--unbounded::after{top:var(--mdc-ripple-top, 0);left:var(--mdc-ripple-left, 0)}.mdc-ripple-surface.mdc-ripple-upgraded--foreground-activation::after{animation:mdc-ripple-fg-radius-in 225ms forwards,mdc-ripple-fg-opacity-in 75ms forwards}.mdc-ripple-surface.mdc-ripple-upgraded--foreground-deactivation::after{animation:mdc-ripple-fg-opacity-out 150ms;transform:translate(var(--mdc-ripple-fg-translate-end, 0)) scale(var(--mdc-ripple-fg-scale, 1))}.mdc-ripple-surface::before,.mdc-ripple-surface::after{top:calc(50% - 100%);left:calc(50% - 100%);width:200%;height:200%}.mdc-ripple-surface.mdc-ripple-upgraded::after{width:var(--mdc-ripple-fg-size, 100%);height:var(--mdc-ripple-fg-size, 100%)}.mdc-ripple-surface[data-mdc-ripple-is-unbounded],.mdc-ripple-upgraded--unbounded{overflow:visible}.mdc-ripple-surface[data-mdc-ripple-is-unbounded]::before,.mdc-ripple-surface[data-mdc-ripple-is-unbounded]::after,.mdc-ripple-upgraded--unbounded::before,.mdc-ripple-upgraded--unbounded::after{top:calc(50% - 50%);left:calc(50% - 50%);width:100%;height:100%}.mdc-ripple-surface[data-mdc-ripple-is-unbounded].mdc-ripple-upgraded::before,.mdc-ripple-surface[data-mdc-ripple-is-unbounded].mdc-ripple-upgraded::after,.mdc-ripple-upgraded--unbounded.mdc-ripple-upgraded::before,.mdc-ripple-upgraded--unbounded.mdc-ripple-upgraded::after{top:var(--mdc-ripple-top, calc(50% - 50%));left:var(--mdc-ripple-left, calc(50% - 50%));width:var(--mdc-ripple-fg-size, 100%);height:var(--mdc-ripple-fg-size, 100%)}.mdc-ripple-surface[data-mdc-ripple-is-unbounded].mdc-ripple-upgraded::after,.mdc-ripple-upgraded--unbounded.mdc-ripple-upgraded::after{width:var(--mdc-ripple-fg-size, 100%);height:var(--mdc-ripple-fg-size, 100%)}.mdc-ripple-surface::before,.mdc-ripple-surface::after{background-color:#000;background-color:var(--mdc-ripple-color, #000)}.mdc-ripple-surface:hover::before,.mdc-ripple-surface.mdc-ripple-surface--hover::before{opacity:0.04;opacity:var(--mdc-ripple-hover-opacity, 0.04)}.mdc-ripple-surface.mdc-ripple-upgraded--background-focused::before,.mdc-ripple-surface:not(.mdc-ripple-upgraded):focus::before{transition-duration:75ms;opacity:0.12;opacity:var(--mdc-ripple-focus-opacity, 0.12)}.mdc-ripple-surface:not(.mdc-ripple-upgraded)::after{transition:opacity 150ms linear}.mdc-ripple-surface:not(.mdc-ripple-upgraded):active::after{transition-duration:75ms;opacity:0.12;opacity:var(--mdc-ripple-press-opacity, 0.12)}.mdc-ripple-surface.mdc-ripple-upgraded{--mdc-ripple-fg-opacity:var(--mdc-ripple-press-opacity, 0.12)}@keyframes mdc-ripple-fg-radius-in{from{animation-timing-function:cubic-bezier(0.4, 0, 0.2, 1);transform:translate(var(--mdc-ripple-fg-translate-start, 0)) scale(1)}to{transform:translate(var(--mdc-ripple-fg-translate-end, 0)) scale(var(--mdc-ripple-fg-scale, 1))}}@keyframes mdc-ripple-fg-opacity-in{from{animation-timing-function:linear;opacity:0}to{opacity:var(--mdc-ripple-fg-opacity, 0)}}@keyframes mdc-ripple-fg-opacity-out{from{animation-timing-function:linear;opacity:var(--mdc-ripple-fg-opacity, 0)}to{opacity:0}}:host{position:absolute;top:0;left:0;width:100%;height:100%;pointer-events:none;display:block}:host .mdc-ripple-surface{position:absolute;top:0;left:0;width:100%;height:100%;pointer-events:none;will-change:unset}.mdc-ripple-surface--primary::before,.mdc-ripple-surface--primary::after{background-color:#6200ee;background-color:var(--mdc-ripple-color, var(--mdc-theme-primary, #6200ee))}.mdc-ripple-surface--primary:hover::before,.mdc-ripple-surface--primary.mdc-ripple-surface--hover::before{opacity:0.04;opacity:var(--mdc-ripple-hover-opacity, 0.04)}.mdc-ripple-surface--primary.mdc-ripple-upgraded--background-focused::before,.mdc-ripple-surface--primary:not(.mdc-ripple-upgraded):focus::before{transition-duration:75ms;opacity:0.12;opacity:var(--mdc-ripple-focus-opacity, 0.12)}.mdc-ripple-surface--primary:not(.mdc-ripple-upgraded)::after{transition:opacity 150ms linear}.mdc-ripple-surface--primary:not(.mdc-ripple-upgraded):active::after{transition-duration:75ms;opacity:0.12;opacity:var(--mdc-ripple-press-opacity, 0.12)}.mdc-ripple-surface--primary.mdc-ripple-upgraded{--mdc-ripple-fg-opacity:var(--mdc-ripple-press-opacity, 0.12)}.mdc-ripple-surface--primary--activated::before{opacity:0.12;opacity:var(--mdc-ripple-activated-opacity, 0.12)}.mdc-ripple-surface--primary--activated::before,.mdc-ripple-surface--primary--activated::after{background-color:#6200ee;background-color:var(--mdc-ripple-color, var(--mdc-theme-primary, #6200ee))}.mdc-ripple-surface--primary--activated:hover::before,.mdc-ripple-surface--primary--activated.mdc-ripple-surface--hover::before{opacity:0.16;opacity:var(--mdc-ripple-hover-opacity, 0.16)}.mdc-ripple-surface--primary--activated.mdc-ripple-upgraded--background-focused::before,.mdc-ripple-surface--primary--activated:not(.mdc-ripple-upgraded):focus::before{transition-duration:75ms;opacity:0.24;opacity:var(--mdc-ripple-focus-opacity, 0.24)}.mdc-ripple-surface--primary--activated:not(.mdc-ripple-upgraded)::after{transition:opacity 150ms linear}.mdc-ripple-surface--primary--activated:not(.mdc-ripple-upgraded):active::after{transition-duration:75ms;opacity:0.24;opacity:var(--mdc-ripple-press-opacity, 0.24)}.mdc-ripple-surface--primary--activated.mdc-ripple-upgraded{--mdc-ripple-fg-opacity:var(--mdc-ripple-press-opacity, 0.24)}.mdc-ripple-surface--primary--selected::before{opacity:0.08;opacity:var(--mdc-ripple-selected-opacity, 0.08)}.mdc-ripple-surface--primary--selected::before,.mdc-ripple-surface--primary--selected::after{background-color:#6200ee;background-color:var(--mdc-ripple-color, var(--mdc-theme-primary, #6200ee))}.mdc-ripple-surface--primary--selected:hover::before,.mdc-ripple-surface--primary--selected.mdc-ripple-surface--hover::before{opacity:0.12;opacity:var(--mdc-ripple-hover-opacity, 0.12)}.mdc-ripple-surface--primary--selected.mdc-ripple-upgraded--background-focused::before,.mdc-ripple-surface--primary--selected:not(.mdc-ripple-upgraded):focus::before{transition-duration:75ms;opacity:0.2;opacity:var(--mdc-ripple-focus-opacity, 0.2)}.mdc-ripple-surface--primary--selected:not(.mdc-ripple-upgraded)::after{transition:opacity 150ms linear}.mdc-ripple-surface--primary--selected:not(.mdc-ripple-upgraded):active::after{transition-duration:75ms;opacity:0.2;opacity:var(--mdc-ripple-press-opacity, 0.2)}.mdc-ripple-surface--primary--selected.mdc-ripple-upgraded{--mdc-ripple-fg-opacity:var(--mdc-ripple-press-opacity, 0.2)}.mdc-ripple-surface--accent::before,.mdc-ripple-surface--accent::after{background-color:#018786;background-color:var(--mdc-ripple-color, var(--mdc-theme-secondary, #018786))}.mdc-ripple-surface--accent:hover::before,.mdc-ripple-surface--accent.mdc-ripple-surface--hover::before{opacity:0.04;opacity:var(--mdc-ripple-hover-opacity, 0.04)}.mdc-ripple-surface--accent.mdc-ripple-upgraded--background-focused::before,.mdc-ripple-surface--accent:not(.mdc-ripple-upgraded):focus::before{transition-duration:75ms;opacity:0.12;opacity:var(--mdc-ripple-focus-opacity, 0.12)}.mdc-ripple-surface--accent:not(.mdc-ripple-upgraded)::after{transition:opacity 150ms linear}.mdc-ripple-surface--accent:not(.mdc-ripple-upgraded):active::after{transition-duration:75ms;opacity:0.12;opacity:var(--mdc-ripple-press-opacity, 0.12)}.mdc-ripple-surface--accent.mdc-ripple-upgraded{--mdc-ripple-fg-opacity:var(--mdc-ripple-press-opacity, 0.12)}.mdc-ripple-surface--accent--activated::before{opacity:0.12;opacity:var(--mdc-ripple-activated-opacity, 0.12)}.mdc-ripple-surface--accent--activated::before,.mdc-ripple-surface--accent--activated::after{background-color:#018786;background-color:var(--mdc-ripple-color, var(--mdc-theme-secondary, #018786))}.mdc-ripple-surface--accent--activated:hover::before,.mdc-ripple-surface--accent--activated.mdc-ripple-surface--hover::before{opacity:0.16;opacity:var(--mdc-ripple-hover-opacity, 0.16)}.mdc-ripple-surface--accent--activated.mdc-ripple-upgraded--background-focused::before,.mdc-ripple-surface--accent--activated:not(.mdc-ripple-upgraded):focus::before{transition-duration:75ms;opacity:0.24;opacity:var(--mdc-ripple-focus-opacity, 0.24)}.mdc-ripple-surface--accent--activated:not(.mdc-ripple-upgraded)::after{transition:opacity 150ms linear}.mdc-ripple-surface--accent--activated:not(.mdc-ripple-upgraded):active::after{transition-duration:75ms;opacity:0.24;opacity:var(--mdc-ripple-press-opacity, 0.24)}.mdc-ripple-surface--accent--activated.mdc-ripple-upgraded{--mdc-ripple-fg-opacity:var(--mdc-ripple-press-opacity, 0.24)}.mdc-ripple-surface--accent--selected::before{opacity:0.08;opacity:var(--mdc-ripple-selected-opacity, 0.08)}.mdc-ripple-surface--accent--selected::before,.mdc-ripple-surface--accent--selected::after{background-color:#018786;background-color:var(--mdc-ripple-color, var(--mdc-theme-secondary, #018786))}.mdc-ripple-surface--accent--selected:hover::before,.mdc-ripple-surface--accent--selected.mdc-ripple-surface--hover::before{opacity:0.12;opacity:var(--mdc-ripple-hover-opacity, 0.12)}.mdc-ripple-surface--accent--selected.mdc-ripple-upgraded--background-focused::before,.mdc-ripple-surface--accent--selected:not(.mdc-ripple-upgraded):focus::before{transition-duration:75ms;opacity:0.2;opacity:var(--mdc-ripple-focus-opacity, 0.2)}.mdc-ripple-surface--accent--selected:not(.mdc-ripple-upgraded)::after{transition:opacity 150ms linear}.mdc-ripple-surface--accent--selected:not(.mdc-ripple-upgraded):active::after{transition-duration:75ms;opacity:0.2;opacity:var(--mdc-ripple-press-opacity, 0.2)}.mdc-ripple-surface--accent--selected.mdc-ripple-upgraded{--mdc-ripple-fg-opacity:var(--mdc-ripple-press-opacity, 0.2)}.mdc-ripple-surface--disabled{opacity:0}.mdc-ripple-surface--internal-use-state-layer-custom-properties::before,.mdc-ripple-surface--internal-use-state-layer-custom-properties::after{background-color:#000;background-color:var(--mdc-ripple-hover-state-layer-color, #000)}.mdc-ripple-surface--internal-use-state-layer-custom-properties:hover::before,.mdc-ripple-surface--internal-use-state-layer-custom-properties.mdc-ripple-surface--hover::before{opacity:0.04;opacity:var(--mdc-ripple-hover-state-layer-opacity, 0.04)}.mdc-ripple-surface--internal-use-state-layer-custom-properties.mdc-ripple-upgraded--background-focused::before,.mdc-ripple-surface--internal-use-state-layer-custom-properties:not(.mdc-ripple-upgraded):focus::before{transition-duration:75ms;opacity:0.12;opacity:var(--mdc-ripple-focus-state-layer-opacity, 0.12)}.mdc-ripple-surface--internal-use-state-layer-custom-properties:not(.mdc-ripple-upgraded)::after{transition:opacity 150ms linear}.mdc-ripple-surface--internal-use-state-layer-custom-properties:not(.mdc-ripple-upgraded):active::after{transition-duration:75ms;opacity:0.12;opacity:var(--mdc-ripple-pressed-state-layer-opacity, 0.12)}.mdc-ripple-surface--internal-use-state-layer-custom-properties.mdc-ripple-upgraded{--mdc-ripple-fg-opacity:var(--mdc-ripple-pressed-state-layer-opacity, 0.12)}`;let ps=class extends be{};ps.styles=[fy];ps=J([Kt("mwc-ripple")],ps);/**
 * @license
 * Copyright 2020 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ro{constructor(t){this.startPress=e=>{t().then(i=>{i&&i.startPress(e)})},this.endPress=()=>{t().then(e=>{e&&e.endPress()})},this.startFocus=()=>{t().then(e=>{e&&e.startFocus()})},this.endFocus=()=>{t().then(e=>{e&&e.endFocus()})},this.startHover=()=>{t().then(e=>{e&&e.startHover()})},this.endHover=()=>{t().then(e=>{e&&e.endHover()})}}}class Un extends ce{constructor(){super(...arguments),this.disabled=!1,this.icon="",this.shouldRenderRipple=!1,this.rippleHandlers=new ro(()=>(this.shouldRenderRipple=!0,this.ripple))}renderRipple(){return this.shouldRenderRipple?j`
            <mwc-ripple
                .disabled="${this.disabled}"
                unbounded>
            </mwc-ripple>`:""}focus(){const t=this.buttonElement;t&&(this.rippleHandlers.startFocus(),t.focus())}blur(){const t=this.buttonElement;t&&(this.rippleHandlers.endFocus(),t.blur())}render(){return j`<button
        class="mdc-icon-button"
        aria-label="${this.ariaLabel||this.icon}"
        ?disabled="${this.disabled}"
        @focus="${this.handleRippleFocus}"
        @blur="${this.handleRippleBlur}"
        @mousedown="${this.handleRippleMouseDown}"
        @mouseenter="${this.handleRippleMouseEnter}"
        @mouseleave="${this.handleRippleMouseLeave}"
        @touchstart="${this.handleRippleTouchStart}"
        @touchend="${this.handleRippleDeactivate}"
        @touchcancel="${this.handleRippleDeactivate}"
    >${this.renderRipple()}
    <i class="material-icons">${this.icon}</i>
    <span
      ><slot></slot
    ></span>
  </button>`}handleRippleMouseDown(t){const e=()=>{window.removeEventListener("mouseup",e),this.handleRippleDeactivate()};window.addEventListener("mouseup",e),this.rippleHandlers.startPress(t)}handleRippleTouchStart(t){this.rippleHandlers.startPress(t)}handleRippleDeactivate(){this.rippleHandlers.endPress()}handleRippleMouseEnter(){this.rippleHandlers.startHover()}handleRippleMouseLeave(){this.rippleHandlers.endHover()}handleRippleFocus(){this.rippleHandlers.startFocus()}handleRippleBlur(){this.rippleHandlers.endFocus()}}J([w({type:Boolean,reflect:!0})],Un.prototype,"disabled",void 0);J([w({type:String})],Un.prototype,"icon",void 0);J([Tn,w({type:String,attribute:"aria-label"})],Un.prototype,"ariaLabel",void 0);J([Ge("button")],Un.prototype,"buttonElement",void 0);J([io("mwc-ripple")],Un.prototype,"ripple",void 0);J([zt()],Un.prototype,"shouldRenderRipple",void 0);J([zl({passive:!0})],Un.prototype,"handleRippleMouseDown",null);J([zl({passive:!0})],Un.prototype,"handleRippleTouchStart",null);/**
 * @license
 * Copyright 2021 Google LLC
 * SPDX-LIcense-Identifier: Apache-2.0
 */const Vb=It`.material-icons{font-family:var(--mdc-icon-font, "Material Icons");font-weight:normal;font-style:normal;font-size:var(--mdc-icon-size, 24px);line-height:1;letter-spacing:normal;text-transform:none;display:inline-block;white-space:nowrap;word-wrap:normal;direction:ltr;-webkit-font-smoothing:antialiased;text-rendering:optimizeLegibility;-moz-osx-font-smoothing:grayscale;font-feature-settings:"liga"}.mdc-icon-button{display:inline-block;position:relative;box-sizing:border-box;border:none;outline:none;background-color:transparent;fill:currentColor;color:inherit;font-size:24px;text-decoration:none;cursor:pointer;user-select:none;width:48px;height:48px;padding:12px}.mdc-icon-button svg,.mdc-icon-button img{width:24px;height:24px}.mdc-icon-button:disabled{color:rgba(0, 0, 0, 0.38);color:var(--mdc-theme-text-disabled-on-light, rgba(0, 0, 0, 0.38))}.mdc-icon-button:disabled{cursor:default;pointer-events:none}.mdc-icon-button .mdc-icon-button__touch{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}.mdc-icon-button__icon{display:inline-block}.mdc-icon-button__icon.mdc-icon-button__icon--on{display:none}.mdc-icon-button--on .mdc-icon-button__icon{display:none}.mdc-icon-button--on .mdc-icon-button__icon.mdc-icon-button__icon--on{display:inline-block}.mdc-icon-button--touch{margin-top:0px;margin-bottom:0px}:host{display:inline-block;outline:none;--mdc-ripple-color: currentcolor;-webkit-tap-highlight-color:transparent}:host([disabled]){pointer-events:none}:host,.mdc-icon-button{vertical-align:top}.mdc-icon-button{width:var(--mdc-icon-button-size, 48px);height:var(--mdc-icon-button-size, 48px);padding:calc( (var(--mdc-icon-button-size, 48px) - var(--mdc-icon-size, 24px)) / 2 )}.mdc-icon-button>i{position:absolute;top:0;padding-top:inherit}.mdc-icon-button i,.mdc-icon-button svg,.mdc-icon-button img,.mdc-icon-button ::slotted(*){display:block;width:var(--mdc-icon-size, 24px);height:var(--mdc-icon-size, 24px)}`;/**
 * @license
 * Copyright 2018 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let Fr=class extends Un{};Fr.styles=[Vb];Fr=J([Kt("mwc-icon-button")],Fr);const Gy=It`.mdc-icon-button.layout-filled{--layout-color-fill:var(--connotation);--layout-color-text:var(--on-connotation)}.mdc-icon-button.layout-outlined{--layout-color-fill:transparent;--layout-color-outline:var(--connotation-diverse);--layout-color-text:var(--connotation-diverse)}.mdc-icon-button.layout-ghost,.mdc-icon-button:not(.layout-filled):not(.layout-outlined){--layout-color-fill:transparent;--layout-color-text:var(--connotation-diverse)}:host(:not([shape=circled i])),:host([shape=rounded i]){--vvd-icon-button-shape:6px}:host([shape=circled i]){--vvd-icon-button-shape:50%}:host{--mdc-icon-button-size: var(--vvd-icon-button-block-size, 40px)}.mdc-icon-button{--vvd-formfield-disabled-ink:var(--vvd-color-neutral-50);--vvd-formfield-disabled-fill:var(--vvd-color-neutral-20);--vvd-formfield-label-idle-ink:var(--vvd-color-neutral-70);--vvd-formfield-border-idle:var(--vvd-color-neutral-50);--vvd-formfield-border-hover:var(--vvd-color-on-canvas);--vvd-formfield-border-disabled:var(--vvd-color-neutral-50);--vvd-formfield-error-fill:var(--vvd-color-alert-20);--vvd-formfield-label-error-ink:var(--vvd-color-alert);display:inline-flex;overflow:hidden;align-items:center;justify-content:center;border:1px solid var(--layout-color-outline);background-color:var(--vvd-icon-button-color, var(--layout-color-fill));border-radius:var(--vvd-icon-button-shape);color:var(--vvd-icon-button-on-color, var(--layout-color-text));font-size:inherit}.mdc-icon-button.connotation-primary,.mdc-icon-button:not(.connotation-cta):not(.connotation-success):not(.connotation-alert):not(.connotation-info):not(.connotation-announcement){--connotation:var(--vvd-color-primary);--on-connotation:var(--vvd-color-on-primary);--connotation-diverse:var(--vvd-color-primary)}.mdc-icon-button.connotation-cta{--connotation:var(--vvd-color-cta);--on-connotation:var(--vvd-color-on-cta);--connotation-diverse:var(--vvd-color-cta-70)}.mdc-icon-button.connotation-success{--connotation:var(--vvd-color-success);--on-connotation:var(--vvd-color-on-success);--connotation-diverse:var(--vvd-color-success-70)}.mdc-icon-button.connotation-alert{--connotation:var(--vvd-color-alert);--on-connotation:var(--vvd-color-on-alert);--connotation-diverse:var(--vvd-color-alert-70)}.mdc-icon-button.connotation-info{--connotation:var(--vvd-color-info);--on-connotation:var(--vvd-color-on-info);--connotation-diverse:var(--vvd-color-info-70)}.mdc-icon-button.connotation-announcement{--connotation:var(--vvd-color-announcement);--on-connotation:var(--vvd-color-on-announcement);--connotation-diverse:var(--vvd-color-announcement-70)}.mdc-icon-button:disabled{color:var(--vvd-formfield-disabled-ink)}:host([layout=filled i]) .mdc-icon-button:disabled{background-color:var(--vvd-color-neutral-30)}:host([layout=outlined i]) .mdc-icon-button:disabled{border-color:var(--vvd-formfield-disabled-ink)}:host([dense]){--mdc-icon-button-size: var(--vvd-icon-button-block-size, 32px)}:host([enlarged]){--mdc-icon-button-size: var(--vvd-icon-button-block-size, 48px)}vwc-icon{--connotation:initial}:host vwc-icon{--vvd-icon-size:var(--vvd-icon-button-icon-size, 20px)}:host([dense]) vwc-icon{--vvd-icon-size:var(--vvd-icon-button-icon-size, 16px)}:host([enlarged]) vwc-icon{--vvd-icon-size:var(--vvd-icon-button-icon-size, 24px)}`,Bl=It`:host{--mdc-theme-primary: var(--vvd-color-primary);--mdc-theme-on-primary: var(--vvd-color-on-primary);--mdc-theme-text-primary-on-background: var(--vvd-color-on-canvas);--mdc-theme-secondary: var(--vvd-color-primary);--mdc-theme-on-secondary: var(--vvd-color-on-primary);--mdc-theme-surface: var(--vvd-color-canvas);--mdc-theme-on-surface: var(--vvd-color-on-canvas);--mdc-theme-error: var(--vvd-color-alert)}`;Fr.styles=[Bl,Vb,Gy];let Fi=class extends Fr{constructor(){super(...arguments),this.dense=!1,this.enlarged=!1}updated(t){Du(this,t)}getRenderClasses(){return{[`connotation-${this.connotation}`]:!!this.connotation,[`layout-${this.layout}`]:!!this.layout}}render(){return j`<button
			class="mdc-icon-button ${re(this.getRenderClasses())}"
			aria-label="${this.ariaLabel||this.icon}"
			?disabled="${this.disabled}"
			@focus="${this.handleRippleFocus}"
			@blur="${this.handleRippleBlur}"
			@mousedown="${this.handleRippleMouseDown}"
			@mouseenter="${this.handleRippleMouseEnter}"
			@mouseleave="${this.handleRippleMouseLeave}"
			@touchstart="${this.handleRippleTouchStart}"
			@touchend="${this.handleRippleDeactivate}"
			@touchcancel="${this.handleRippleDeactivate}"
		>
			${this.renderRipple()}
			${this.renderIcon()}
			<span>
				<slot></slot>
			</span>
		</button>`}renderIcon(){return j`<vwc-icon	type="${this.icon}"></vwc-icon>`}renderRipple(){return this.shouldRenderRipple?j` <mwc-ripple .disabled="${this.disabled}"></mwc-ripple>`:""}};J([w({type:String,reflect:!0})],Fi.prototype,"layout",void 0);J([w({type:String,reflect:!0})],Fi.prototype,"connotation",void 0);J([w({type:String,reflect:!0})],Fi.prototype,"shape",void 0);J([w({type:Boolean,reflect:!0})],Fi.prototype,"dense",void 0);J([w({type:Boolean,reflect:!0})],Fi.prototype,"enlarged",void 0);Fi=J([Kt("vwc-icon-button")],Fi);const Ry=It`:host>.banner{overflow:hidden;max-height:0;transition:max-height var(--transition-delay, 200ms)}:host>.banner.connotation-success{--connotation:var(--vvd-color-success);--on-connotation:var(--vvd-color-on-success)}:host>.banner.connotation-info,:host>.banner:not(.connotation-success):not(.connotation-alert):not(.connotation-announcement):not(.connotation-warning){--connotation:var(--vvd-color-info);--on-connotation:var(--vvd-color-on-info)}:host>.banner.connotation-alert{--connotation:var(--vvd-color-alert);--on-connotation:var(--vvd-color-on-alert)}:host>.banner.connotation-announcement{--connotation:var(--vvd-color-announcement);--on-connotation:var(--vvd-color-on-announcement)}:host>.banner.connotation-warning{--connotation:var(--vvd-color-warning);--on-connotation:var(--vvd-color-on-warning)}:host>.banner>.header{font:600 ultra-condensed 14px / 20px SpeziaWebVariable;letter-spacing:0px;text-decoration:none;text-transform:none;display:flex;min-height:60px;align-items:center;justify-content:flex-start;background-color:var(--connotation);color:var(--on-connotation)}:host>.banner>.header>.user-content{display:flex;flex:1 0;align-items:center;justify-content:center;padding-inline:16px}:host>.banner>.header>.user-content>.icon{--connotation:initial;--icon-size: var(--vvd-banner-icon-size, 20px);flex:0 0 auto;padding-inline-end:15px}:host>.banner>.header>.user-content>.action-items{display:inline-block;flex:0 0 auto;padding-inline-start:15px}:host>.banner>.header>.user-content>.message{padding:20px 0}:host>.banner>.header>.dismiss-button{--vvd-icon-button-color: inherit;flex:0 0 auto;padding-inline-end:8px}.banner.banner-open{max-height:10rem}`;/**
 * @license
 * Copyright (c) 2021 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */const wl={ATTRIBUTE:1,CHILD:2,PROPERTY:3,BOOLEAN_ATTRIBUTE:4,EVENT:5,ELEMENT:6};class vy{constructor(t){this.type=wl.CHILD,this.options=t.options,this.legacyPart=t}get parentNode(){return this.legacyPart.startNode.parentNode}get startNode(){return this.legacyPart.startNode}get endNode(){return this.legacyPart.endNode}}class gy{constructor(t){this.legacyPart=t,this.type=t instanceof Ul?wl.PROPERTY:wl.ATTRIBUTE}get options(){}get name(){return this.legacyPart.committer.name}get element(){return this.legacyPart.committer.element}get strings(){return this.legacyPart.committer.strings}get tagName(){return this.element.tagName}}class Yy{constructor(t){this.type=wl.BOOLEAN_ATTRIBUTE,this.legacyPart=t}get options(){}get name(){return this.legacyPart.name}get element(){return this.legacyPart.element}get strings(){return this.legacyPart.strings}get tagName(){return this.element.tagName}}class Fy{constructor(t){this.type=wl.EVENT,this.legacyPart=t}get options(){}get name(){return this.legacyPart.eventName}get element(){return this.legacyPart.element}get strings(){}get tagName(){return this.element.tagName}handleEvent(t){this.legacyPart.handleEvent(t)}}function Iy(n){if(n instanceof Hi)return new vy(n);if(n instanceof Ts)return new Fy(n);if(n instanceof Ss)return new Yy(n);if(n instanceof Ul||n instanceof Ni)return new gy(n);throw new Error("Unknown part type")}class Jy{constructor(t){}update(t,e){return this.render(...e)}}function ky(n){const t=new WeakMap;return Tl((...i)=>c=>{const s=t.get(c);let b,X;s===void 0?(b=Iy(c),X=new n(b),t.set(c,[b,X])):(b=s[0],X=s[1]),c.setValue(X.update(b,i)),c.commit()})}/**
 * @license
 * Copyright (c) 2021 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */class Ny extends Jy{constructor(t){super(t),this._renderedYet=!1,this._legacyPart=t.legacyPart}_legacyGetNode(){if(this._legacyPart instanceof Hi)return this._legacyPart.startNode;if(this._legacyPart instanceof Ts)return this._legacyPart.element;if(this._legacyPart instanceof Ss)return this._legacyPart.element;if(this._legacyPart instanceof Ul||this._legacyPart instanceof Ni)return this._legacyPart.committer.element}_shouldRender(){if(!this._renderedYet)return this._renderedYet=!0,!0;const t=this._legacyGetNode();return!!(t!=null&&t.isConnected)}setValue(t){!this._shouldRender()||(this._legacyPart.setValue(t),this._legacyPart.commit())}disconnected(){}reconnected(){}}class Hy extends Ny{constructor(t){if(super(t),this.labelEl=null,this.timerId=null,this.previousPart=null,t.type!==wl.CHILD)throw new Error("AccessibleBannerDirective only supports child parts.")}update(t,[e,i,c,s]){var b;if(!i)return;if(this.labelEl===null){const U=document.createElement("div"),E=j`<div class="banner--message" role=${c} aria-live=${s}></div>`;ob(E,U);const f=U.firstElementChild;return f.textContent=e,(b=t.endNode)===null||b===void 0||b.parentNode.insertBefore(f,t.endNode),this.labelEl=f,f}const X=this.labelEl;X.setAttribute("role",""),X.setAttribute("aria-live","off"),X.textContent="";const F=document.createElement("span");return F.style.display="inline-block",F.style.width="0",F.style.height="1px",F.textContent="\xA0",X.appendChild(F),X.setAttribute("message-text",e),this.timerId!==null&&clearTimeout(this.timerId),this.timerId=window.setTimeout(()=>{this.timerId=null,X.setAttribute("role",c),X.setAttribute("aria-live",s),X.removeAttribute("message-text"),X.textContent=e,this.setValue(this.labelEl)},1e3),X}render(t,e,i,c){return e?j`
	  <div class="banner--message" role=${i} aria-live=${c}>${t}</div>`:j``}}const wy=ky(Hy);var Za;const Lm=100,xy="Escape",Sy=new Map([[ni.Info,"info-solid"],[ni.Announcement,"megaphone-solid"],[ni.Success,"check-circle-solid"],[ni.Warning,"warning-solid"],[ni.Alert,"error-solid"]]),Em=function(n,t={}){return new CustomEvent(n,Object.assign({bubbles:!0,composed:!0,cancelable:!1},t))};let Wn=class extends ce{constructor(){super(...arguments),this.message="",this.dismissible=!1,this.open=!1,this.role=us.Status,this.ariaLive=bs.Polite,Za.set(this,void 0)}clickCloseHandler(){this.open=!1}firstUpdated(){var t;((t=this.shadowRoot)===null||t===void 0?void 0:t.querySelector(".banner")).style.setProperty("--transition-delay",`${Lm}ms`)}updated(t){t.has("open")&&(clearTimeout(te(this,Za,"f")),this.dispatchEvent(Em(this.open?"opening":"closing")),no(this,Za,setTimeout(()=>{this.dispatchEvent(Em(this.open?"opened":"closed"))},Lm),"f"))}renderDismissButton(){return this.dismissible?j`<vwc-icon-button
								class="dismiss-button"
								icon="close-line"
								@click="${this.clickCloseHandler}"
								dense></vwc-icon-button>`:ri}getRenderClasses(){return{[`connotation-${this.connotation}`]:!!this.connotation,"banner-open":this.open}}renderIcon(t){if(!t){const e=this.connotation||ni.Info;t=Sy.get(e)}return j`<vwc-icon class="icon" .type="${t}"></vwc-icon>`}handleKeyDown(t){this.open=!(t.key===xy&&this.dismissible)}render(){return j`
      <div class="banner ${re(this.getRenderClasses())}" tabindex="0" @keydown=${this.handleKeyDown}>
				<header class="header">
					<span class="user-content">
						${this.renderIcon(this.icon)}
						${wy(this.message,this.open,this.role,this.ariaLive)}
						<slot class="action-items" name="actionItems"></slot>
					</span>
					${this.renderDismissButton()}
				</header>
			</div>
		`}};Za=new WeakMap;Wn.styles=[Ry];J([w({type:String,reflect:!0})],Wn.prototype,"message",void 0);J([w({type:Boolean,reflect:!0})],Wn.prototype,"dismissible",void 0);J([w({type:String,reflect:!0})],Wn.prototype,"connotation",void 0);J([w({type:String,reflect:!0})],Wn.prototype,"icon",void 0);J([w({type:Boolean,reflect:!0})],Wn.prototype,"open",void 0);J([w({type:String,reflect:!0,attribute:"role"})],Wn.prototype,"role",void 0);J([Tn,w({type:String,reflect:!0,attribute:"aria-live"})],Wn.prototype,"ariaLive",void 0);Wn=J([Kt("vwc-banner")],Wn);const Ty=It`.vwc-card{block-size:100%;border-radius:6px}.vwc-card-container{display:flex;overflow:hidden;flex-flow:column;block-size:inherit;border-radius:inherit;color:var(--vvd-color-on-canvas)}.vwc-card-content{display:flex;flex-flow:column;padding:24px}.vwc-card-wrapper{display:flex;width:100%;column-gap:8px}:host([text]) .vwc-card-wrapper{margin-bottom:12px}.vwc-card-header{display:inline-flex;align-items:flex-start;justify-content:space-between;column-gap:8px}.vwc-card-title,.vwc-card-subtitle{display:-webkit-box;overflow:hidden;-webkit-box-orient:vertical}.vwc-card-title{font:500 condensed 20px / 28px SpeziaWebVariable;letter-spacing:0px;text-decoration:none;text-transform:none;-webkit-line-clamp:var(--title-line-clamp)}.vwc-card-subtitle{-webkit-line-clamp:var(--subtitle-line-clamp)}.vwc-card-subtitle,.vwc-card-text{font:400 ultra-condensed 14px / 20px SpeziaWebVariable;letter-spacing:0px;text-decoration:none;text-transform:none;color:var(--vvd-color-neutral-70)}.vwc-card-text{padding-right:8px}.vwc-card-footer{display:inline-flex;flex-direction:column;align-items:flex-end;padding-bottom:24px;margin-top:auto;padding-inline:24px}::slotted([slot=graphic i]),.icon{flex-shrink:0;align-self:baseline;margin:4px 2px 0 0}.icon{width:20px;height:20px}::slotted([slot=meta i]){flex-shrink:0;align-self:flex-start;margin-block-start:-8px;margin-inline-end:-8px;margin-inline-start:auto}.no-content{display:none}vwc-elevation{block-size:inherit}vwc-elevation::part(base){block-size:inherit}`;/**
 * @license
 * Copyright 2021 Google LLC
 * SPDX-LIcense-Identifier: Apache-2.0
 */const Uy=It`:host{font-family:var(--mdc-icon-font, "Material Icons");font-weight:normal;font-style:normal;font-size:var(--mdc-icon-size, 24px);line-height:1;letter-spacing:normal;text-transform:none;display:inline-block;white-space:nowrap;word-wrap:normal;direction:ltr;-webkit-font-smoothing:antialiased;text-rendering:optimizeLegibility;-moz-osx-font-smoothing:grayscale;font-feature-settings:"liga"}`;let Zs=class extends ce{render(){return j`<slot></slot>`}};Zs.styles=[Uy];Zs=J([Kt("mwc-icon")],Zs);class Ye extends ce{constructor(){super(...arguments),this.raised=!1,this.unelevated=!1,this.outlined=!1,this.dense=!1,this.disabled=!1,this.trailingIcon=!1,this.fullwidth=!1,this.icon="",this.label="",this.expandContent=!1,this.shouldRenderRipple=!1,this.rippleHandlers=new ro(()=>(this.shouldRenderRipple=!0,this.ripple))}renderOverlay(){return j``}renderRipple(){const t=this.raised||this.unelevated;return this.shouldRenderRipple?j`<mwc-ripple class="ripple" .primary="${!t}" .disabled="${this.disabled}"></mwc-ripple>`:""}focus(){const t=this.buttonElement;t&&(this.rippleHandlers.startFocus(),t.focus())}blur(){const t=this.buttonElement;t&&(this.rippleHandlers.endFocus(),t.blur())}getRenderClasses(){return re({"mdc-button--raised":this.raised,"mdc-button--unelevated":this.unelevated,"mdc-button--outlined":this.outlined,"mdc-button--dense":this.dense})}render(){return j`
      <button
          id="button"
          class="mdc-button ${this.getRenderClasses()}"
          ?disabled="${this.disabled}"
          aria-label="${this.label||this.icon}"
          @focus="${this.handleRippleFocus}"
          @blur="${this.handleRippleBlur}"
          @mousedown="${this.handleRippleActivate}"
          @mouseenter="${this.handleRippleMouseEnter}"
          @mouseleave="${this.handleRippleMouseLeave}"
          @touchstart="${this.handleRippleActivate}"
          @touchend="${this.handleRippleDeactivate}"
          @touchcancel="${this.handleRippleDeactivate}">
        ${this.renderOverlay()}
        ${this.renderRipple()}
        <span class="leading-icon">
          <slot name="icon">
            ${this.icon&&!this.trailingIcon?this.renderIcon():""}
          </slot>
        </span>
        <span class="mdc-button__label">${this.label}</span>
        <span class="slot-container ${re({flex:this.expandContent})}">
          <slot></slot>
        </span>
        <span class="trailing-icon">
          <slot name="trailingIcon">
            ${this.icon&&this.trailingIcon?this.renderIcon():""}
          </slot>
        </span>
      </button>`}renderIcon(){return j`
    <mwc-icon class="mdc-button__icon">
      ${this.icon}
    </mwc-icon>`}handleRippleActivate(t){const e=()=>{window.removeEventListener("mouseup",e),this.handleRippleDeactivate()};window.addEventListener("mouseup",e),this.rippleHandlers.startPress(t)}handleRippleDeactivate(){this.rippleHandlers.endPress()}handleRippleMouseEnter(){this.rippleHandlers.startHover()}handleRippleMouseLeave(){this.rippleHandlers.endHover()}handleRippleFocus(){this.rippleHandlers.startFocus()}handleRippleBlur(){this.rippleHandlers.endFocus()}}Ye.shadowRootOptions={mode:"open",delegatesFocus:!0};J([w({type:Boolean,reflect:!0})],Ye.prototype,"raised",void 0);J([w({type:Boolean,reflect:!0})],Ye.prototype,"unelevated",void 0);J([w({type:Boolean,reflect:!0})],Ye.prototype,"outlined",void 0);J([w({type:Boolean})],Ye.prototype,"dense",void 0);J([w({type:Boolean,reflect:!0})],Ye.prototype,"disabled",void 0);J([w({type:Boolean,attribute:"trailingicon"})],Ye.prototype,"trailingIcon",void 0);J([w({type:Boolean,reflect:!0})],Ye.prototype,"fullwidth",void 0);J([w({type:String})],Ye.prototype,"icon",void 0);J([w({type:String})],Ye.prototype,"label",void 0);J([w({type:Boolean})],Ye.prototype,"expandContent",void 0);J([Ge("#button")],Ye.prototype,"buttonElement",void 0);J([io("mwc-ripple")],Ye.prototype,"ripple",void 0);J([zt()],Ye.prototype,"shouldRenderRipple",void 0);J([zl({passive:!0})],Ye.prototype,"handleRippleActivate",null);/**
 * @license
 * Copyright 2021 Google LLC
 * SPDX-LIcense-Identifier: Apache-2.0
 */const fb=It`.mdc-touch-target-wrapper{display:inline}.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:0;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1);background-color:#fff;background-color:var(--mdc-elevation-overlay-color, #fff)}.mdc-button{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:Roboto, sans-serif;font-family:var(--mdc-typography-button-font-family, var(--mdc-typography-font-family, Roboto, sans-serif));font-size:0.875rem;font-size:var(--mdc-typography-button-font-size, 0.875rem);line-height:2.25rem;line-height:var(--mdc-typography-button-line-height, 2.25rem);font-weight:500;font-weight:var(--mdc-typography-button-font-weight, 500);letter-spacing:0.0892857143em;letter-spacing:var(--mdc-typography-button-letter-spacing, 0.0892857143em);text-decoration:none;text-decoration:var(--mdc-typography-button-text-decoration, none);text-transform:uppercase;text-transform:var(--mdc-typography-button-text-transform, uppercase);position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;user-select:none;-webkit-appearance:none;overflow:visible;vertical-align:middle;background:transparent}.mdc-button .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button .mdc-button__icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;font-size:1.125rem;height:1.125rem;vertical-align:top;width:1.125rem}[dir=rtl] .mdc-button .mdc-button__icon,.mdc-button .mdc-button__icon[dir=rtl]{margin-left:8px;margin-right:0}.mdc-button .mdc-button__touch{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mdc-button__label+.mdc-button__icon{margin-left:8px;margin-right:0}[dir=rtl] .mdc-button__label+.mdc-button__icon,.mdc-button__label+.mdc-button__icon[dir=rtl]{margin-left:0;margin-right:8px}svg.mdc-button__icon{fill:currentColor}.mdc-button--raised .mdc-button__icon,.mdc-button--unelevated .mdc-button__icon,.mdc-button--outlined .mdc-button__icon{margin-left:-4px;margin-right:8px}[dir=rtl] .mdc-button--raised .mdc-button__icon,[dir=rtl] .mdc-button--unelevated .mdc-button__icon,[dir=rtl] .mdc-button--outlined .mdc-button__icon,.mdc-button--raised .mdc-button__icon[dir=rtl],.mdc-button--unelevated .mdc-button__icon[dir=rtl],.mdc-button--outlined .mdc-button__icon[dir=rtl]{margin-left:8px;margin-right:-4px}.mdc-button--raised .mdc-button__label+.mdc-button__icon,.mdc-button--unelevated .mdc-button__label+.mdc-button__icon,.mdc-button--outlined .mdc-button__label+.mdc-button__icon{margin-left:8px;margin-right:-4px}[dir=rtl] .mdc-button--raised .mdc-button__label+.mdc-button__icon,[dir=rtl] .mdc-button--unelevated .mdc-button__label+.mdc-button__icon,[dir=rtl] .mdc-button--outlined .mdc-button__label+.mdc-button__icon,.mdc-button--raised .mdc-button__label+.mdc-button__icon[dir=rtl],.mdc-button--unelevated .mdc-button__label+.mdc-button__icon[dir=rtl],.mdc-button--outlined .mdc-button__label+.mdc-button__icon[dir=rtl]{margin-left:-4px;margin-right:8px}.mdc-button--touch{margin-top:6px;margin-bottom:6px}.mdc-button--raised{box-shadow:0px 3px 1px -2px rgba(0, 0, 0, 0.2),0px 2px 2px 0px rgba(0, 0, 0, 0.14),0px 1px 5px 0px rgba(0,0,0,.12);transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button--raised:hover,.mdc-button--raised:focus{box-shadow:0px 2px 4px -1px rgba(0, 0, 0, 0.2),0px 4px 5px 0px rgba(0, 0, 0, 0.14),0px 1px 10px 0px rgba(0,0,0,.12)}.mdc-button--raised:active{box-shadow:0px 5px 5px -3px rgba(0, 0, 0, 0.2),0px 8px 10px 1px rgba(0, 0, 0, 0.14),0px 3px 14px 2px rgba(0,0,0,.12)}.mdc-button--raised:disabled{box-shadow:0px 0px 0px 0px rgba(0, 0, 0, 0.2),0px 0px 0px 0px rgba(0, 0, 0, 0.14),0px 0px 0px 0px rgba(0,0,0,.12)}.mdc-button--outlined{border-style:solid}.mdc-button{height:36px;border-radius:4px;border-radius:var(--mdc-shape-small, 4px);padding:0 8px 0 8px}.mdc-button:not(:disabled){color:#6200ee;color:var(--mdc-theme-primary, #6200ee)}.mdc-button:disabled{color:rgba(0, 0, 0, 0.38)}.mdc-button .mdc-button__ripple{border-radius:4px;border-radius:var(--mdc-shape-small, 4px)}.mdc-button--raised,.mdc-button--unelevated{padding:0 16px 0 16px;height:36px;border-radius:4px;border-radius:var(--mdc-shape-small, 4px)}.mdc-button--raised:not(:disabled),.mdc-button--unelevated:not(:disabled){background-color:#6200ee;background-color:var(--mdc-theme-primary, #6200ee)}.mdc-button--raised:disabled,.mdc-button--unelevated:disabled{background-color:rgba(0, 0, 0, 0.12)}.mdc-button--raised:not(:disabled),.mdc-button--unelevated:not(:disabled){color:#fff;color:var(--mdc-theme-on-primary, #fff)}.mdc-button--raised:disabled,.mdc-button--unelevated:disabled{color:rgba(0, 0, 0, 0.38)}.mdc-button--raised .mdc-button__ripple,.mdc-button--unelevated .mdc-button__ripple{border-radius:4px;border-radius:var(--mdc-shape-small, 4px)}.mdc-button--outlined{height:36px;border-radius:4px;border-radius:var(--mdc-shape-small, 4px);padding:0 15px 0 15px;border-width:1px}.mdc-button--outlined:not(:disabled){color:#6200ee;color:var(--mdc-theme-primary, #6200ee)}.mdc-button--outlined:disabled{color:rgba(0, 0, 0, 0.38)}.mdc-button--outlined .mdc-button__ripple{border-radius:4px;border-radius:var(--mdc-shape-small, 4px)}.mdc-button--outlined:not(:disabled){border-color:rgba(0, 0, 0, 0.12)}.mdc-button--outlined:disabled{border-color:rgba(0, 0, 0, 0.12)}.mdc-button--outlined.mdc-button--icon-trailing{padding:0 11px 0 15px}.mdc-button--outlined.mdc-button--icon-leading{padding:0 15px 0 11px}.mdc-button--outlined .mdc-button__ripple{top:-1px;left:-1px;border:1px solid transparent}.mdc-button--outlined .mdc-button__touch{left:-1px;width:calc(100% + 2 * 1px)}:host{display:inline-flex;outline:none;-webkit-tap-highlight-color:transparent;vertical-align:top}:host([fullwidth]){width:100%}:host([raised]),:host([unelevated]){--mdc-ripple-color:#fff;--mdc-ripple-focus-opacity:0.24;--mdc-ripple-hover-opacity:0.08;--mdc-ripple-press-opacity:0.24}.trailing-icon ::slotted(*),.trailing-icon .mdc-button__icon,.leading-icon ::slotted(*),.leading-icon .mdc-button__icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;font-size:1.125rem;height:1.125rem;vertical-align:top;width:1.125rem}[dir=rtl] .trailing-icon ::slotted(*),[dir=rtl] .trailing-icon .mdc-button__icon,[dir=rtl] .leading-icon ::slotted(*),[dir=rtl] .leading-icon .mdc-button__icon,.trailing-icon ::slotted(*[dir=rtl]),.trailing-icon .mdc-button__icon[dir=rtl],.leading-icon ::slotted(*[dir=rtl]),.leading-icon .mdc-button__icon[dir=rtl]{margin-left:8px;margin-right:0}.trailing-icon ::slotted(*),.trailing-icon .mdc-button__icon{margin-left:8px;margin-right:0}[dir=rtl] .trailing-icon ::slotted(*),[dir=rtl] .trailing-icon .mdc-button__icon,.trailing-icon ::slotted(*[dir=rtl]),.trailing-icon .mdc-button__icon[dir=rtl]{margin-left:0;margin-right:8px}.slot-container{display:inline-flex;align-items:center;justify-content:center}.slot-container.flex{flex:auto}.mdc-button{flex:auto;overflow:hidden;padding-left:8px;padding-left:var(--mdc-button-horizontal-padding, 8px);padding-right:8px;padding-right:var(--mdc-button-horizontal-padding, 8px)}.mdc-button--raised{box-shadow:0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12);box-shadow:var(--mdc-button-raised-box-shadow, 0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12))}.mdc-button--raised:focus{box-shadow:0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12);box-shadow:var(--mdc-button-raised-box-shadow-focus, var(--mdc-button-raised-box-shadow-hover, 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12)))}.mdc-button--raised:hover{box-shadow:0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12);box-shadow:var(--mdc-button-raised-box-shadow-hover, 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12))}.mdc-button--raised:active{box-shadow:0px 5px 5px -3px rgba(0, 0, 0, 0.2), 0px 8px 10px 1px rgba(0, 0, 0, 0.14), 0px 3px 14px 2px rgba(0, 0, 0, 0.12);box-shadow:var(--mdc-button-raised-box-shadow-active, 0px 5px 5px -3px rgba(0, 0, 0, 0.2), 0px 8px 10px 1px rgba(0, 0, 0, 0.14), 0px 3px 14px 2px rgba(0, 0, 0, 0.12))}.mdc-button--raised:disabled{box-shadow:0px 0px 0px 0px rgba(0, 0, 0, 0.2), 0px 0px 0px 0px rgba(0, 0, 0, 0.14), 0px 0px 0px 0px rgba(0, 0, 0, 0.12);box-shadow:var(--mdc-button-raised-box-shadow-disabled, 0px 0px 0px 0px rgba(0, 0, 0, 0.2), 0px 0px 0px 0px rgba(0, 0, 0, 0.14), 0px 0px 0px 0px rgba(0, 0, 0, 0.12))}.mdc-button--raised,.mdc-button--unelevated{padding-left:16px;padding-left:var(--mdc-button-horizontal-padding, 16px);padding-right:16px;padding-right:var(--mdc-button-horizontal-padding, 16px)}.mdc-button--outlined{border-width:1px;border-width:var(--mdc-button-outline-width, 1px);padding-left:calc(16px - 1px);padding-left:calc(var(--mdc-button-horizontal-padding, 16px) - var(--mdc-button-outline-width, 1px));padding-right:calc(16px - 1px);padding-right:calc(var(--mdc-button-horizontal-padding, 16px) - var(--mdc-button-outline-width, 1px))}.mdc-button--outlined:not(:disabled){border-color:rgba(0, 0, 0, 0.12);border-color:var(--mdc-button-outline-color, rgba(0, 0, 0, 0.12))}.mdc-button--outlined .ripple{top:calc(-1 * 1px);top:calc(-1 * var(--mdc-button-outline-width, 1px));left:calc(-1 * 1px);left:calc(-1 * var(--mdc-button-outline-width, 1px));right:initial;right:initial;border-width:1px;border-width:var(--mdc-button-outline-width, 1px);border-style:solid;border-color:transparent}[dir=rtl] .mdc-button--outlined .ripple,.mdc-button--outlined .ripple[dir=rtl]{left:initial;left:initial;right:calc(-1 * 1px);right:calc(-1 * var(--mdc-button-outline-width, 1px))}.mdc-button--dense{height:28px;margin-top:0;margin-bottom:0}.mdc-button--dense .mdc-button__touch{display:none}:host([disabled]){pointer-events:none}:host([disabled]) .mdc-button{color:rgba(0, 0, 0, 0.38);color:var(--mdc-button-disabled-ink-color, rgba(0, 0, 0, 0.38))}:host([disabled]) .mdc-button--raised,:host([disabled]) .mdc-button--unelevated{background-color:rgba(0, 0, 0, 0.12);background-color:var(--mdc-button-disabled-fill-color, rgba(0, 0, 0, 0.12))}:host([disabled]) .mdc-button--outlined{border-color:rgba(0, 0, 0, 0.12);border-color:var(--mdc-button-disabled-outline-color, rgba(0, 0, 0, 0.12))}`;let Ir=class extends Ye{};Ir.styles=[fb];Ir=J([Kt("mwc-button")],Ir);const Ky=It`:host{--vvd-typography-font-family: SpeziaWebVariable;--vvd-typography-font-size: 14px;--vvd-typography-font-stretch: 50%;--vvd-typography-font-weight: 600;--vvd-typography-letter-spacing: 0px;--vvd-typography-line-height: 100%;--vvd-typography-text-decoration: none;--vvd-typography-text-transform: none;--mdc-typography-button-font-family: var(--vvd-typography-font-family);--mdc-typography-button-font-size: var(--vvd-typography-font-size);--mdc-typography-button-font-stretch: var(--vvd-typography-font-stretch);--mdc-typography-button-font-weight: var(--vvd-typography-font-weight);--mdc-typography-button-letter-spacing: var(--vvd-typography-letter-spacing);--mdc-typography-button-line-height: var(--vvd-typography-line-height);--mdc-typography-button-text-decoration: var(--vvd-typography-text-decoration);--mdc-typography-button-text-transform: var(--vvd-typography-text-transform)}:host([dense]){--vvd-typography-font-family: SpeziaWebVariable;--vvd-typography-font-size: 12px;--vvd-typography-font-stretch: 50%;--vvd-typography-font-weight: 600;--vvd-typography-letter-spacing: 0px;--vvd-typography-line-height: 16px;--vvd-typography-text-decoration: none;--vvd-typography-text-transform: none;--mdc-typography-button-font-family: var(--vvd-typography-font-family);--mdc-typography-button-font-size: var(--vvd-typography-font-size);--mdc-typography-button-font-stretch: var(--vvd-typography-font-stretch);--mdc-typography-button-font-weight: var(--vvd-typography-font-weight);--mdc-typography-button-letter-spacing: var(--vvd-typography-letter-spacing);--mdc-typography-button-line-height: var(--vvd-typography-line-height);--mdc-typography-button-text-decoration: var(--vvd-typography-text-decoration);--mdc-typography-button-text-transform: var(--vvd-typography-text-transform)}:host([enlarged]){--vvd-typography-font-family: SpeziaWebVariable;--vvd-typography-font-size: 16px;--vvd-typography-font-stretch: 50%;--vvd-typography-font-weight: 600;--vvd-typography-letter-spacing: 0px;--vvd-typography-line-height: 24px;--vvd-typography-text-decoration: none;--vvd-typography-text-transform: none;--mdc-typography-button-font-family: var(--vvd-typography-font-family);--mdc-typography-button-font-size: var(--vvd-typography-font-size);--mdc-typography-button-font-stretch: var(--vvd-typography-font-stretch);--mdc-typography-button-font-weight: var(--vvd-typography-font-weight);--mdc-typography-button-letter-spacing: var(--vvd-typography-letter-spacing);--mdc-typography-button-line-height: var(--vvd-typography-line-height);--mdc-typography-button-text-decoration: var(--vvd-typography-text-decoration);--mdc-typography-button-text-transform: var(--vvd-typography-text-transform)}.mdc-button.layout-filled{--layout-color-fill:var(--connotation);--layout-color-text:var(--on-connotation)}.mdc-button.layout-outlined{--layout-color-fill:transparent;--layout-color-outline:var(--connotation-diverse);--layout-color-text:var(--connotation-diverse)}.mdc-button.layout-ghost,.mdc-button:not(.layout-filled):not(.layout-outlined){--layout-color-fill:transparent;--layout-color-text:var(--connotation-diverse)}.mdc-button{--mdc-button-disabled-ink-color: var(--vvd-formfield-disabled-ink);--mdc-button-disabled-fill-color: var(--vvd-color-neutral-30);--mdc-button-disabled-outline-color: var(--vvd-formfield-disabled-ink);--mdc-button-outline-color: var(--layout-color-outline, var(--mdc-theme-primary));--mdc-button-horizontal-padding: 16px;--button-block-size: 40px;--vvd-formfield-disabled-ink:var(--vvd-color-neutral-50);--vvd-formfield-disabled-fill:var(--vvd-color-neutral-20);--vvd-formfield-label-idle-ink:var(--vvd-color-neutral-70);--vvd-formfield-border-idle:var(--vvd-color-neutral-50);--vvd-formfield-border-hover:var(--vvd-color-on-canvas);--vvd-formfield-border-disabled:var(--vvd-color-neutral-50);--vvd-formfield-error-fill:var(--vvd-color-alert-20);--vvd-formfield-label-error-ink:var(--vvd-color-alert);height:var(--vvd-button-block-size, var(--button-block-size));border-radius:var(--vvd-button-shape);font-stretch:var(--mdc-typography-button-font-stretch);letter-spacing:normal;line-height:normal}.mdc-button.connotation-primary,.mdc-button:not(.connotation-cta):not(.connotation-success):not(.connotation-alert):not(.connotation-info):not(.connotation-announcement){--connotation:var(--vvd-color-primary);--on-connotation:var(--vvd-color-on-primary);--connotation-diverse:var(--vvd-color-primary)}.mdc-button.connotation-cta{--connotation:var(--vvd-color-cta);--on-connotation:var(--vvd-color-on-cta);--connotation-diverse:var(--vvd-color-cta-70)}.mdc-button.connotation-success{--connotation:var(--vvd-color-success);--on-connotation:var(--vvd-color-on-success);--connotation-diverse:var(--vvd-color-success-70)}.mdc-button.connotation-alert{--connotation:var(--vvd-color-alert);--on-connotation:var(--vvd-color-on-alert);--connotation-diverse:var(--vvd-color-alert-70)}.mdc-button.connotation-info{--connotation:var(--vvd-color-info);--on-connotation:var(--vvd-color-on-info);--connotation-diverse:var(--vvd-color-info-70)}.mdc-button.connotation-announcement{--connotation:var(--vvd-color-announcement);--on-connotation:var(--vvd-color-on-announcement);--connotation-diverse:var(--vvd-color-announcement-70)}.mdc-button:not(.mdc-button--dense) vwc-icon{--vvd-icon-size:var(--vvd-button-icon-size, 20px)}.mdc-button .leading-icon,.mdc-button .trailing-icon{--connotation:currentColor;display:flex}.mdc-button>.trailing-icon vwc-icon,.mdc-button>.leading-icon vwc-icon{--gutter: 8px}:host([enlarged]) .mdc-button>.trailing-icon vwc-icon,:host([enlarged]) .mdc-button>.leading-icon vwc-icon{--gutter: 10px}:host([stacked]) .mdc-button>.trailing-icon vwc-icon,:host([stacked]) .mdc-button>.leading-icon vwc-icon{--gutter: 0}.mdc-button>.trailing-icon vwc-icon{margin-inline-start:var(--gutter)}.mdc-button>.leading-icon vwc-icon{margin-inline-end:var(--gutter)}:host([dense]) .mdc-button{--button-block-size: 32px}:host([dense]) .mdc-button vwc-icon{--vvd-icon-size:var(--vvd-button-icon-size, 16px)}:host([enlarged]) .mdc-button{--button-block-size: 48px}:host([enlarged]) .mdc-button vwc-icon{--vvd-icon-size:var(--vvd-button-icon-size, 24px)}:host([raised]) .mdc-button,:host([unelevated]) .mdc-button{--mdc-ripple-color: var(--vvd-button-on-color, var(--layout-color-text))}:host([unelevated]) .mdc-button{--mdc-theme-primary: var(--vvd-button-color, var(--layout-color-fill));--mdc-theme-on-primary: var(--vvd-button-on-color, var(--layout-color-text))}.mdc-button:not(.layout-filled){--mdc-theme-primary: var(--vvd-button-color, var(--layout-color-text));--mdc-theme-on-primary: var(--vvd-button-on-color, var(--layout-color-fill))}:host([dense]) .mdc-button{--mdc-button-horizontal-padding: 12px}:host([enlarged]) .mdc-button{--mdc-button-horizontal-padding: 20px}.mdc-button.button-stacked{--button-block-size: 68px;flex-direction:column}:host([enlarged]) .mdc-button.button-stacked{--button-block-size: 80px}:host([dense]) .mdc-button.button-stacked{--button-block-size: 56px}.mdc-button.button-stacked>.leading-icon vwc-icon,.mdc-button.button-stacked .leading-icon ::slotted(*){margin-block-end:8px}.mdc-button.button-stacked>.trailing-icon vwc-icon,.mdc-button.button-stacked .trailing-icon ::slotted(*){margin-block-start:8px}.mdc-button.button-stacked .trailing-icon ::slotted(*),.mdc-button.button-stacked .leading-icon ::slotted(*){margin-inline-end:0;margin-inline-start:0}:host(:not([shape=pill i])),:host([shape=rounded i]){--vvd-button-shape:6px}:host([shape=pill i]){--vvd-button-shape:24px}`;var In,ys;Ir.styles=[Bl,fb,Ky];let Qe=ys=class extends Ir{constructor(){super(...arguments),this.dense=!1,this.enlarged=!1,this.type="submit",this.formId=null,this.stacked=!1,In.set(this,ys.createHiddenButton())}updateFormAndButton(){var t;const e=this.getAttribute("form");e!==null&&((t=te(this,In,"f"))===null||t===void 0||t.setAttribute("form",e))}attributeChangedCallback(t,e,i){var c;t==="form"&&i&&i!==e?(c=te(this,In,"f"))===null||c===void 0||c.setAttribute("form",i):super.attributeChangedCallback(t,e,i)}update(t){super.update(t),[...t.keys()].filter(e=>["name","value"].includes(e)).forEach(e=>{te(this,In,"f").setAttribute(e,this[e])})}updated(t){var e,i;t.has("type")&&((e=te(this,In,"f"))===null||e===void 0||e.setAttribute("type",(i=this.getAttribute("type"))!==null&&i!==void 0?i:"")),this.toggleAttribute("outlined",this.layout==="outlined"),this.toggleAttribute("unelevated",this.layout==="filled"),t.has("dense")&&this.dense&&this.enlarged&&(this.enlarged=!1),t.has("enlarged")&&this.enlarged&&this.dense&&(this.removeAttribute("dense"),this.dense=!1)}get form(){return te(this,In,"f").form}set form(t){}_handleClick(t){if(this.form)switch(this.getAttribute("type")){case"reset":this.form.reset();break;case"button":break;default:t.target===this?te(this,In,"f").click():t.stopImmediatePropagation();break}}renderIcon(){return j`<vwc-icon	type="${this.icon}"></vwc-icon>`}getRenderClasses(){return re({"mdc-button--raised":this.raised,"mdc-button--unelevated":this.unelevated,"mdc-button--outlined":this.outlined,"mdc-button--dense":this.dense,[`connotation-${this.connotation}`]:!!this.connotation,[`layout-${this.layout}`]:!!this.layout,"button-stacked":this.stacked})}static createHiddenButton(){const t=document.createElement("button");return t.style.display="none",t}connectedCallback(){super.connectedCallback(),this.addEventListener("click",this._handleClick),this.appendChild(te(this,In,"f"))}disconnectedCallback(){super.disconnectedCallback(),this.removeEventListener("click",this._handleClick)}};In=new WeakMap;J([w({type:String,reflect:!0})],Qe.prototype,"name",void 0);J([w({type:String,reflect:!0})],Qe.prototype,"value",void 0);J([w({type:Boolean,reflect:!0})],Qe.prototype,"dense",void 0);J([w({type:Boolean,reflect:!0})],Qe.prototype,"enlarged",void 0);J([w({type:String,reflect:!0})],Qe.prototype,"layout",void 0);J([w({type:String,reflect:!0})],Qe.prototype,"connotation",void 0);J([w({type:String,reflect:!0})],Qe.prototype,"shape",void 0);J([w({type:String,reflect:!0})],Qe.prototype,"type",void 0);J([w({attribute:"form",reflect:!0})],Qe.prototype,"formId",void 0);J([w({type:Boolean,reflect:!0})],Qe.prototype,"stacked",void 0);Qe=ys=J([Kt("vwc-button")],Qe);const zy=It`.vwc-elevation-dp-0:not(.vwc-elevation-dp-2):not(.vwc-elevation-dp-4):not(.vwc-elevation-dp-8):not(.vwc-elevation-dp-12):not(.vwc-elevation-dp-16):not(.vwc-elevation-dp-24) ::slotted(*){background-color:var(--vvd-color-surface-0dp);filter:var(--vvd-shadow-surface-0dp)}.vwc-elevation-dp-2:not(.vwc-elevation-dp-0):not(.vwc-elevation-dp-4):not(.vwc-elevation-dp-8):not(.vwc-elevation-dp-12):not(.vwc-elevation-dp-16):not(.vwc-elevation-dp-24) ::slotted(*){background-color:var(--vvd-color-surface-2dp);filter:var(--vvd-shadow-surface-2dp)}.vwc-elevation-dp-4:not(.vwc-elevation-dp-0):not(.vwc-elevation-dp-2):not(.vwc-elevation-dp-8):not(.vwc-elevation-dp-12):not(.vwc-elevation-dp-16):not(.vwc-elevation-dp-24) ::slotted(*){background-color:var(--vvd-color-surface-4dp);filter:var(--vvd-shadow-surface-4dp)}.vwc-elevation-dp-8:not(.vwc-elevation-dp-0):not(.vwc-elevation-dp-2):not(.vwc-elevation-dp-4):not(.vwc-elevation-dp-12):not(.vwc-elevation-dp-16):not(.vwc-elevation-dp-24) ::slotted(*){background-color:var(--vvd-color-surface-8dp);filter:var(--vvd-shadow-surface-8dp)}.vwc-elevation-dp-12:not(.vwc-elevation-dp-0):not(.vwc-elevation-dp-2):not(.vwc-elevation-dp-4):not(.vwc-elevation-dp-8):not(.vwc-elevation-dp-16):not(.vwc-elevation-dp-24) ::slotted(*){background-color:var(--vvd-color-surface-12dp);filter:var(--vvd-shadow-surface-12dp)}.vwc-elevation-dp-16:not(.vwc-elevation-dp-0):not(.vwc-elevation-dp-2):not(.vwc-elevation-dp-4):not(.vwc-elevation-dp-8):not(.vwc-elevation-dp-12):not(.vwc-elevation-dp-24) ::slotted(*){background-color:var(--vvd-color-surface-16dp);filter:var(--vvd-shadow-surface-16dp)}.vwc-elevation-dp-24:not(.vwc-elevation-dp-0):not(.vwc-elevation-dp-2):not(.vwc-elevation-dp-4):not(.vwc-elevation-dp-8):not(.vwc-elevation-dp-12):not(.vwc-elevation-dp-16) ::slotted(*){background-color:var(--vvd-color-surface-24dp);filter:var(--vvd-shadow-surface-24dp)}`;let Fa=class extends ce{constructor(){super(...arguments),this.dp=2}render(){const t={[`vwc-elevation-dp-${this.dp}`]:!0};return j`
			<div class="vwc-elevation ${re(t)}" part="base">
				<slot></slot>
			</div>
		`}};Fa.styles=zy;J([w({type:Number,reflect:!1})],Fa.prototype,"dp",void 0);Fa=J([Kt("vwc-elevation")],Fa);var ya;let ci=class extends ce{constructor(){super(...arguments),this.icon=null,this.elevation="4",ya.set(this,void 0)}get headerContentExists(){var t;return Boolean(this.heading||this.subtitle||this.icon||((t=this.IconSlottedItems)===null||t===void 0?void 0:t.length))}get headerClass(){return this.headerContentExists?"":"no-content"}render(){const t={"no-content":!te(this,ya,"f")};return j`
			<vwc-elevation .dp=${this.elevation}>
			<!-- there are 2 wrapper due to a safari bug failing 'filter: drop-shadow'
			from rendering shadow on an element with 'overflow: hidden' -->
				<div class="vwc-card">
					<div class="vwc-card-container">
						<div class="vwc-card-media">
							<slot name="media"></slot>
						</div>
						<slot name="main">
							<div class="vwc-card-content">
								<div class="vwc-card-wrapper">
									${this.renderHeader()}
									<slot name="meta"></slot>
								</div>
								<div class="vwc-card-text">
									${this.text?this.text:ri}
								</div>
							</div>
						</slot>
						<div class="vwc-card-footer ${re(t)}">
							<slot name="footer" @slotchange="${this.footerSlotChanged}"></slot>
						</div>
					</div>
				</div>
			</vwc-elevation>
		`}renderHeader(){return j`
			<header class="vwc-card-header ${this.headerClass}">
				<slot name="graphic" @slotchange="${this.graphicSlotChanged}">
					${this.icon?this.renderIcon():""}
				</slot>
				<div>
					<div class="vwc-card-title">${this.heading}</div>
					<div class="vwc-card-subtitle">${this.subtitle}</div>
				</div>
			</header>`}renderIcon(){return j`<vwc-icon class="icon" inline type="${this.icon}"></vwc-icon>`}graphicSlotChanged(){var t;const e=(t=this.shadowRoot)===null||t===void 0?void 0:t.querySelector("header"),i=e==null?void 0:e.querySelector('slot[name="graphic"]');this.IconSlottedItems=i.assignedNodes(),this.headerContentExists?e==null||e.classList.remove("no-content"):e==null||e.classList.add("no-content")}footerSlotChanged(){var t;const e=(t=this.shadowRoot)===null||t===void 0?void 0:t.querySelector('slot[name="footer"]');no(this,ya,Boolean(e.assignedNodes().length),"f"),this.requestUpdate()}};ya=new WeakMap;ci.styles=Ty;J([w({reflect:!0,type:String})],ci.prototype,"heading",void 0);J([w({reflect:!0,type:String})],ci.prototype,"subtitle",void 0);J([w({reflect:!0,attribute:"icon",type:String})],ci.prototype,"icon",void 0);J([w({reflect:!0,attribute:"text",type:String})],ci.prototype,"text",void 0);J([w({reflect:!1,attribute:"elevation",type:String})],ci.prototype,"elevation",void 0);ci=J([Kt("vwc-card")],ci);/**
 * @license
 * Copyright 2018 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Ls extends _s{click(){this.formElement&&(this.formElement.focus(),this.formElement.click())}setAriaLabel(t){this.formElement&&this.formElement.setAttribute("aria-label",t)}firstUpdated(){super.firstUpdated(),this.shadowRoot&&this.mdcRoot.addEventListener("change",t=>{this.dispatchEvent(new Event("change",t))})}}Ls.shadowRootOptions={mode:"open",delegatesFocus:!0};/**
 * @license
 * Copyright 2018 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var br={CHECKED:"mdc-switch--checked",DISABLED:"mdc-switch--disabled"},Mm={ARIA_CHECKED_ATTR:"aria-checked",NATIVE_CONTROL_SELECTOR:".mdc-switch__native-control",RIPPLE_SURFACE_SELECTOR:".mdc-switch__thumb-underlay"};/**
 * @license
 * Copyright 2018 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var By=function(n){eo(t,n);function t(e){return n.call(this,xn(xn({},t.defaultAdapter),e))||this}return Object.defineProperty(t,"strings",{get:function(){return Mm},enumerable:!1,configurable:!0}),Object.defineProperty(t,"cssClasses",{get:function(){return br},enumerable:!1,configurable:!0}),Object.defineProperty(t,"defaultAdapter",{get:function(){return{addClass:function(){},removeClass:function(){},setNativeControlChecked:function(){},setNativeControlDisabled:function(){},setNativeControlAttr:function(){}}},enumerable:!1,configurable:!0}),t.prototype.setChecked=function(e){this.adapter.setNativeControlChecked(e),this.updateAriaChecked(e),this.updateCheckedStyling(e)},t.prototype.setDisabled=function(e){this.adapter.setNativeControlDisabled(e),e?this.adapter.addClass(br.DISABLED):this.adapter.removeClass(br.DISABLED)},t.prototype.handleChange=function(e){var i=e.target;this.updateAriaChecked(i.checked),this.updateCheckedStyling(i.checked)},t.prototype.updateCheckedStyling=function(e){e?this.adapter.addClass(br.CHECKED):this.adapter.removeClass(br.CHECKED)},t.prototype.updateAriaChecked=function(e){this.adapter.setNativeControlAttr(Mm.ARIA_CHECKED_ATTR,""+!!e)},t}(zs);const _y=By;class dn extends Ls{constructor(){super(...arguments),this.checked=!1,this.disabled=!1,this.shouldRenderRipple=!1,this.mdcFoundationClass=_y,this.rippleHandlers=new ro(()=>(this.shouldRenderRipple=!0,this.ripple))}changeHandler(t){this.mdcFoundation.handleChange(t),this.checked=this.formElement.checked}createAdapter(){return Object.assign(Object.assign({},Bs(this.mdcRoot)),{setNativeControlChecked:t=>{this.formElement.checked=t},setNativeControlDisabled:t=>{this.formElement.disabled=t},setNativeControlAttr:(t,e)=>{this.formElement.setAttribute(t,e)}})}renderRipple(){return this.shouldRenderRipple?j`
        <mwc-ripple
          .accent="${this.checked}"
          .disabled="${this.disabled}"
          unbounded>
        </mwc-ripple>`:""}focus(){const t=this.formElement;t&&(this.rippleHandlers.startFocus(),t.focus())}blur(){const t=this.formElement;t&&(this.rippleHandlers.endFocus(),t.blur())}render(){return j`
      <div class="mdc-switch">
        <div class="mdc-switch__track"></div>
        <div class="mdc-switch__thumb-underlay">
          ${this.renderRipple()}
          <div class="mdc-switch__thumb">
            <input
              type="checkbox"
              id="basic-switch"
              class="mdc-switch__native-control"
              role="switch"
              aria-label="${Le(this.ariaLabel)}"
              aria-labelledby="${Le(this.ariaLabelledBy)}"
              @change="${this.changeHandler}"
              @focus="${this.handleRippleFocus}"
              @blur="${this.handleRippleBlur}"
              @mousedown="${this.handleRippleMouseDown}"
              @mouseenter="${this.handleRippleMouseEnter}"
              @mouseleave="${this.handleRippleMouseLeave}"
              @touchstart="${this.handleRippleTouchStart}"
              @touchend="${this.handleRippleDeactivate}"
              @touchcancel="${this.handleRippleDeactivate}">
          </div>
        </div>
      </div>`}handleRippleMouseDown(t){const e=()=>{window.removeEventListener("mouseup",e),this.handleRippleDeactivate()};window.addEventListener("mouseup",e),this.rippleHandlers.startPress(t)}handleRippleTouchStart(t){this.rippleHandlers.startPress(t)}handleRippleDeactivate(){this.rippleHandlers.endPress()}handleRippleMouseEnter(){this.rippleHandlers.startHover()}handleRippleMouseLeave(){this.rippleHandlers.endHover()}handleRippleFocus(){this.rippleHandlers.startFocus()}handleRippleBlur(){this.rippleHandlers.endFocus()}}J([w({type:Boolean}),Vn(function(n){this.mdcFoundation.setChecked(n)})],dn.prototype,"checked",void 0);J([w({type:Boolean}),Vn(function(n){this.mdcFoundation.setDisabled(n)})],dn.prototype,"disabled",void 0);J([Tn,w({attribute:"aria-label"})],dn.prototype,"ariaLabel",void 0);J([Tn,w({attribute:"aria-labelledby"})],dn.prototype,"ariaLabelledBy",void 0);J([Ge(".mdc-switch")],dn.prototype,"mdcRoot",void 0);J([Ge("input")],dn.prototype,"formElement",void 0);J([io("mwc-ripple")],dn.prototype,"ripple",void 0);J([zt()],dn.prototype,"shouldRenderRipple",void 0);J([zl({passive:!0})],dn.prototype,"handleRippleMouseDown",null);J([zl({passive:!0})],dn.prototype,"handleRippleTouchStart",null);/**
 * @license
 * Copyright 2021 Google LLC
 * SPDX-LIcense-Identifier: Apache-2.0
 */const Gb=It`.mdc-switch__thumb-underlay{left:-14px;right:initial;top:-17px;width:48px;height:48px}[dir=rtl] .mdc-switch__thumb-underlay,.mdc-switch__thumb-underlay[dir=rtl]{left:initial;right:-14px}.mdc-switch__native-control{width:64px;height:48px}.mdc-switch{display:inline-block;position:relative;outline:none;user-select:none}.mdc-switch.mdc-switch--checked .mdc-switch__track{background-color:#018786;background-color:var(--mdc-theme-secondary, #018786)}.mdc-switch.mdc-switch--checked .mdc-switch__thumb{background-color:#018786;background-color:var(--mdc-theme-secondary, #018786);border-color:#018786;border-color:var(--mdc-theme-secondary, #018786)}.mdc-switch:not(.mdc-switch--checked) .mdc-switch__track{background-color:#000;background-color:var(--mdc-theme-on-surface, #000)}.mdc-switch:not(.mdc-switch--checked) .mdc-switch__thumb{background-color:#fff;background-color:var(--mdc-theme-surface, #fff);border-color:#fff;border-color:var(--mdc-theme-surface, #fff)}.mdc-switch__native-control{left:0;right:initial;position:absolute;top:0;margin:0;opacity:0;cursor:pointer;pointer-events:auto;transition:transform 90ms cubic-bezier(0.4, 0, 0.2, 1)}[dir=rtl] .mdc-switch__native-control,.mdc-switch__native-control[dir=rtl]{left:initial;right:0}.mdc-switch__track{box-sizing:border-box;width:36px;height:14px;border:1px solid transparent;border-radius:7px;opacity:.38;transition:opacity 90ms cubic-bezier(0.4, 0, 0.2, 1),background-color 90ms cubic-bezier(0.4, 0, 0.2, 1),border-color 90ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-switch__thumb-underlay{display:flex;position:absolute;align-items:center;justify-content:center;transform:translateX(0);transition:transform 90ms cubic-bezier(0.4, 0, 0.2, 1),background-color 90ms cubic-bezier(0.4, 0, 0.2, 1),border-color 90ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-switch__thumb{box-shadow:0px 3px 1px -2px rgba(0, 0, 0, 0.2),0px 2px 2px 0px rgba(0, 0, 0, 0.14),0px 1px 5px 0px rgba(0,0,0,.12);box-sizing:border-box;width:20px;height:20px;border:10px solid;border-radius:50%;pointer-events:none;z-index:1}.mdc-switch--checked .mdc-switch__track{opacity:.54}.mdc-switch--checked .mdc-switch__thumb-underlay{transform:translateX(16px)}[dir=rtl] .mdc-switch--checked .mdc-switch__thumb-underlay,.mdc-switch--checked .mdc-switch__thumb-underlay[dir=rtl]{transform:translateX(-16px)}.mdc-switch--checked .mdc-switch__native-control{transform:translateX(-16px)}[dir=rtl] .mdc-switch--checked .mdc-switch__native-control,.mdc-switch--checked .mdc-switch__native-control[dir=rtl]{transform:translateX(16px)}.mdc-switch--disabled{opacity:.38;pointer-events:none}.mdc-switch--disabled .mdc-switch__thumb{border-width:1px}.mdc-switch--disabled .mdc-switch__native-control{cursor:default;pointer-events:none}:host{display:inline-flex;outline:none;-webkit-tap-highlight-color:transparent}`;let Jr=class extends dn{};Jr.styles=[Gb];Jr=J([Kt("mwc-switch")],Jr);const Cy=It`:host{--knob-size:12px;--knob-translate-x:16px;contain:content}.mdc-switch{--mdc-theme-secondary: var(--connotation);--vvd-switch-unchecked-background: trasparent;--vvd-switch-unchecked-background-hover: var(--vvd-color-neutral);--vvd-switch-unchecked-background-focus: var(--vvd-color-neutral);--vvd-switch-disabled-background: var(--vvd-color-neutral-30);--mdc-theme-surface: var(--vvd-color-neutral-10);--mdc-theme-on-surface: var(--vvd-switch-unchecked-background)}.mdc-switch.connotation-primary,.mdc-switch:not(.connotation-cta):not(.connotation-success):not(.connotation-alert){--connotation:var(--vvd-color-primary);--on-connotation:var(--vvd-color-on-primary)}.mdc-switch.connotation-cta{--connotation:var(--vvd-color-cta);--on-connotation:var(--vvd-color-on-cta)}.mdc-switch.connotation-success{--connotation:var(--vvd-color-success);--on-connotation:var(--vvd-color-on-success)}.mdc-switch.connotation-alert{--connotation:var(--vvd-color-alert);--on-connotation:var(--vvd-color-on-alert)}.mdc-switch.mdc-switch--checked .mdc-switch__thumb{--knob-size:14px;background-color:#f2f2f2}.mdc-switch.mdc-switch--checked .mdc-switch__thumb-underlay{transform:translateX(var(--knob-translate-x))}.mdc-switch.mdc-switch--checked .mdc-switch__native-control{transform:translateX(calc(var(--knob-translate-x) * -1))}.mdc-switch.mdc-switch--checked:hover .mdc-switch__thumb,.mdc-switch.mdc-switch--checked:hover .mdc-switch__track{filter:brightness(90%)}.mdc-switch:not(.mdc-switch--checked) .mdc-switch__track{border:1px solid #757575}.mdc-switch:not(.mdc-switch--checked) .mdc-switch__thumb{background-color:#757575}.mdc-switch:not(.mdc-switch--checked):hover .mdc-switch__thumb{background-color:var(--vvd-color-neutral-70)}.mdc-switch:not(.mdc-switch--checked):hover .mdc-switch__track{border-color:var(--vvd-color-neutral-70)}.mdc-switch:not(.connotation-cta,.connotation-success,.connotation-alert,.mdc-switch--disabled).mdc-switch--checked .mdc-switch__thumb{background-color:var(--vvd-color-neutral-20)}.mdc-switch .mdc-switch__track,.mdc-switch.mdc-switch--checked .mdc-switch__track{opacity:initial}.mdc-switch.mdc-switch--disabled{opacity:initial}.mdc-switch.mdc-switch--disabled .mdc-switch__track{opacity:initial}.mdc-switch.mdc-switch--disabled.mdc-switch--checked .mdc-switch__track{background-color:var(--vvd-switch-disabled-background)}.mdc-switch.mdc-switch--disabled.mdc-switch--checked .mdc-switch__thumb{background-color:var(--vvd-color-neutral-20)}.mdc-switch.mdc-switch--disabled:not(.mdc-switch--checked) .mdc-switch__track{border-color:var(--vvd-switch-disabled-background)}.mdc-switch.mdc-switch--disabled:not(.mdc-switch--checked) .mdc-switch__thumb{background-color:var(--vvd-switch-disabled-background)}.mdc-switch,.mdc-switch__native-control{width:36px;height:20px}.mdc-switch__track{width:100%;height:100%;border-width:0;border-radius:16px}.mdc-switch__thumb-underlay{top:0;left:0;width:20px;height:100%}.mdc-switch__thumb-underlay .mdc-switch__thumb{width:var(--knob-size);height:var(--knob-size);border:0;box-shadow:none}:host([enlarged]){--knob-size:24px;--knob-translate-x:28px}:host([enlarged]) .mdc-switch,:host([enlarged]) .mdc-switch__native-control{width:60px;height:32px}:host([enlarged]) .mdc-switch__thumb-underlay{width:32px}:host([enlarged]) .mdc-switch.mdc-switch--checked .mdc-switch__thumb{--knob-size:26px}`;Jr.styles=[Bl,Gb,Cy];let Ia=class extends Jr{constructor(){super(...arguments),this.enlarged=!1}getRenderClasses(){return{[`connotation-${this.connotation}`]:!!this.connotation}}render(){return j`
      <div class="mdc-switch ${re(this.getRenderClasses())}">
        <div class="mdc-switch__track"></div>
        <div class="mdc-switch__thumb-underlay">
          ${this.renderRipple()}
          <div class="mdc-switch__thumb">
            <input
              type="checkbox"
              id="basic-switch"
              class="mdc-switch__native-control"
              role="switch"
              aria-label="${Le(this.ariaLabel)}"
							aria-checked="${this.checked}"
              aria-labelledby="${Le(this.ariaLabelledBy)}"
              @change="${this.changeHandler}"
              @focus="${this.handleRippleFocus}"
              @blur="${this.handleRippleBlur}"
              @mousedown="${this.handleRippleMouseDown}"
              @mouseenter="${this.handleRippleMouseEnter}"
              @mouseleave="${this.handleRippleMouseLeave}"
              @touchstart="${this.handleRippleTouchStart}"
              @touchend="${this.handleRippleDeactivate}"
              @touchcancel="${this.handleRippleDeactivate}">
          </div>
        </div>
      </div>`}async firstUpdated(){await super.firstUpdated(),Ou(this)}renderRipple(){return j``}};J([w({type:String,reflect:!0})],Ia.prototype,"connotation",void 0);J([w({type:Boolean,reflect:!0})],Ia.prototype,"enlarged",void 0);Ia=J([Kt("vwc-switch")],Ia);/**
 * @license
 * Copyright 2019 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */function zd(n){return n===void 0&&(n=window),Ly(n)?{passive:!0}:!1}function Ly(n){n===void 0&&(n=window);var t=!1;try{var e={get passive(){return t=!0,!1}},i=function(){};n.document.addEventListener("test",i,e),n.document.removeEventListener("test",i,e)}catch{t=!1}return t}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Xs=function(n,t){return Xs=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var c in i)i.hasOwnProperty(c)&&(e[c]=i[c])},Xs(n,t)};function Ey(n,t){Xs(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}var Ja=function(){return Ja=Object.assign||function(t){for(var e,i=1,c=arguments.length;i<c;i++){e=arguments[i];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s])}return t},Ja.apply(this,arguments)};/**
 * @license
 * Copyright 2016 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var Pm={animation:{prefixed:"-webkit-animation",standard:"animation"},transform:{prefixed:"-webkit-transform",standard:"transform"},transition:{prefixed:"-webkit-transition",standard:"transition"}},jm={animationend:{cssProperty:"animation",prefixed:"webkitAnimationEnd",standard:"animationend"},animationiteration:{cssProperty:"animation",prefixed:"webkitAnimationIteration",standard:"animationiteration"},animationstart:{cssProperty:"animation",prefixed:"webkitAnimationStart",standard:"animationstart"},transitionend:{cssProperty:"transition",prefixed:"webkitTransitionEnd",standard:"transitionend"}};function Rb(n){return Boolean(n.document)&&typeof n.document.createElement=="function"}function My(n,t){if(Rb(n)&&t in Pm){var e=n.document.createElement("div"),i=Pm[t],c=i.standard,s=i.prefixed,b=c in e.style;return b?c:s}return t}function Py(n,t){if(Rb(n)&&t in jm){var e=n.document.createElement("div"),i=jm[t],c=i.standard,s=i.prefixed,b=i.cssProperty,X=b in e.style;return X?c:s}return t}/**
 * @license
 * Copyright 2016 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var jy=function(){function n(t){t===void 0&&(t={}),this.adapter=t}return Object.defineProperty(n,"cssClasses",{get:function(){return{}},enumerable:!0,configurable:!0}),Object.defineProperty(n,"strings",{get:function(){return{}},enumerable:!0,configurable:!0}),Object.defineProperty(n,"numbers",{get:function(){return{}},enumerable:!0,configurable:!0}),Object.defineProperty(n,"defaultAdapter",{get:function(){return{}},enumerable:!0,configurable:!0}),n.prototype.init=function(){},n.prototype.destroy=function(){},n}();/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var pn={ACTIVE:"mdc-slider--active",DISABLED:"mdc-slider--disabled",DISCRETE:"mdc-slider--discrete",FOCUS:"mdc-slider--focus",HAS_TRACK_MARKER:"mdc-slider--display-markers",IN_TRANSIT:"mdc-slider--in-transit",IS_DISCRETE:"mdc-slider--discrete",DISABLE_TOUCH_ACTION:"mdc-slider--disable-touch-action"},hl={ARIA_DISABLED:"aria-disabled",ARIA_VALUEMAX:"aria-valuemax",ARIA_VALUEMIN:"aria-valuemin",ARIA_VALUENOW:"aria-valuenow",CHANGE_EVENT:"MDCSlider:change",INPUT_EVENT:"MDCSlider:input",PIN_VALUE_MARKER_SELECTOR:".mdc-slider__pin-value-marker",STEP_DATA_ATTR:"data-step",THUMB_CONTAINER_SELECTOR:".mdc-slider__thumb-container",TRACK_MARKER_CONTAINER_SELECTOR:".mdc-slider__track-marker-container",TRACK_SELECTOR:".mdc-slider__track"},Bd={PAGE_FACTOR:4};/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var Ws=typeof window<"u",Es=Ws&&!!window.PointerEvent,Qm=Es?["pointerdown"]:["mousedown","touchstart"],Om=Es?["pointerup"]:["mouseup","touchend"],Qy={mousedown:"mousemove",pointerdown:"pointermove",touchstart:"touchmove"},Tt={ARROW_DOWN:"ArrowDown",ARROW_LEFT:"ArrowLeft",ARROW_RIGHT:"ArrowRight",ARROW_UP:"ArrowUp",END:"End",HOME:"Home",PAGE_DOWN:"PageDown",PAGE_UP:"PageUp"},Oy=function(n){Ey(t,n);function t(e){var i=n.call(this,Ja(Ja({},t.defaultAdapter),e))||this;return i.savedTabIndex_=NaN,i.active_=!1,i.inTransit_=!1,i.isDiscrete_=!1,i.hasTrackMarker_=!1,i.handlingThumbTargetEvt_=!1,i.min_=0,i.max_=100,i.step_=0,i.value_=0,i.disabled_=!1,i.preventFocusState_=!1,i.thumbContainerPointerHandler_=function(){return i.handlingThumbTargetEvt_=!0},i.interactionStartHandler_=function(c){return i.handleDown_(c)},i.keydownHandler_=function(c){return i.handleKeydown_(c)},i.focusHandler_=function(){return i.handleFocus_()},i.blurHandler_=function(){return i.handleBlur_()},i.resizeHandler_=function(){return i.layout()},i}return Object.defineProperty(t,"cssClasses",{get:function(){return pn},enumerable:!0,configurable:!0}),Object.defineProperty(t,"strings",{get:function(){return hl},enumerable:!0,configurable:!0}),Object.defineProperty(t,"numbers",{get:function(){return Bd},enumerable:!0,configurable:!0}),Object.defineProperty(t,"defaultAdapter",{get:function(){return{hasClass:function(){return!1},addClass:function(){},removeClass:function(){},getAttribute:function(){return null},setAttribute:function(){},removeAttribute:function(){},computeBoundingRect:function(){return{top:0,right:0,bottom:0,left:0,width:0,height:0}},getTabIndex:function(){return 0},registerInteractionHandler:function(){},deregisterInteractionHandler:function(){},registerThumbContainerInteractionHandler:function(){},deregisterThumbContainerInteractionHandler:function(){},registerBodyInteractionHandler:function(){},deregisterBodyInteractionHandler:function(){},registerResizeHandler:function(){},deregisterResizeHandler:function(){},notifyInput:function(){},notifyChange:function(){},setThumbContainerStyleProperty:function(){},setTrackStyleProperty:function(){},setMarkerValue:function(){},setTrackMarkers:function(){},isRTL:function(){return!1}}},enumerable:!0,configurable:!0}),t.prototype.init=function(){var e=this;this.isDiscrete_=this.adapter.hasClass(pn.IS_DISCRETE),this.hasTrackMarker_=this.adapter.hasClass(pn.HAS_TRACK_MARKER),Qm.forEach(function(i){e.adapter.registerInteractionHandler(i,e.interactionStartHandler_),e.adapter.registerThumbContainerInteractionHandler(i,e.thumbContainerPointerHandler_)}),Es&&this.adapter.addClass(pn.DISABLE_TOUCH_ACTION),this.adapter.registerInteractionHandler("keydown",this.keydownHandler_),this.adapter.registerInteractionHandler("focus",this.focusHandler_),this.adapter.registerInteractionHandler("blur",this.blurHandler_),this.adapter.registerResizeHandler(this.resizeHandler_),this.layout(),this.isDiscrete_&&this.getStep()===0&&(this.step_=1)},t.prototype.destroy=function(){var e=this;Qm.forEach(function(i){e.adapter.deregisterInteractionHandler(i,e.interactionStartHandler_),e.adapter.deregisterThumbContainerInteractionHandler(i,e.thumbContainerPointerHandler_)}),this.adapter.deregisterInteractionHandler("keydown",this.keydownHandler_),this.adapter.deregisterInteractionHandler("focus",this.focusHandler_),this.adapter.deregisterInteractionHandler("blur",this.blurHandler_),this.adapter.deregisterResizeHandler(this.resizeHandler_)},t.prototype.setupTrackMarker=function(){this.isDiscrete_&&this.hasTrackMarker_&&this.getStep()!==0&&this.adapter.setTrackMarkers(this.getStep(),this.getMax(),this.getMin())},t.prototype.layout=function(){this.rect_=this.adapter.computeBoundingRect(),this.updateUIForCurrentValue_()},t.prototype.getValue=function(){return this.value_},t.prototype.setValue=function(e){this.setValue_(e,!1)},t.prototype.getMax=function(){return this.max_},t.prototype.setMax=function(e){if(e<this.min_)throw new Error("Cannot set max to be less than the slider's minimum value");this.max_=e,this.setValue_(this.value_,!1,!0),this.adapter.setAttribute(hl.ARIA_VALUEMAX,String(this.max_)),this.setupTrackMarker()},t.prototype.getMin=function(){return this.min_},t.prototype.setMin=function(e){if(e>this.max_)throw new Error("Cannot set min to be greater than the slider's maximum value");this.min_=e,this.setValue_(this.value_,!1,!0),this.adapter.setAttribute(hl.ARIA_VALUEMIN,String(this.min_)),this.setupTrackMarker()},t.prototype.getStep=function(){return this.step_},t.prototype.setStep=function(e){if(e<0)throw new Error("Step cannot be set to a negative number");this.isDiscrete_&&(typeof e!="number"||e<1)&&(e=1),this.step_=e,this.setValue_(this.value_,!1,!0),this.setupTrackMarker()},t.prototype.isDisabled=function(){return this.disabled_},t.prototype.setDisabled=function(e){this.disabled_=e,this.toggleClass_(pn.DISABLED,this.disabled_),this.disabled_?(this.savedTabIndex_=this.adapter.getTabIndex(),this.adapter.setAttribute(hl.ARIA_DISABLED,"true"),this.adapter.removeAttribute("tabindex")):(this.adapter.removeAttribute(hl.ARIA_DISABLED),isNaN(this.savedTabIndex_)||this.adapter.setAttribute("tabindex",String(this.savedTabIndex_)))},t.prototype.handleDown_=function(e){var i=this;if(!this.disabled_){this.preventFocusState_=!0,this.setInTransit_(!this.handlingThumbTargetEvt_),this.handlingThumbTargetEvt_=!1,this.setActive_(!0);var c=function(X){i.handleMove_(X)},s=Qy[e.type],b=function(){i.handleUp_(),i.adapter.deregisterBodyInteractionHandler(s,c),Om.forEach(function(X){return i.adapter.deregisterBodyInteractionHandler(X,b)})};this.adapter.registerBodyInteractionHandler(s,c),Om.forEach(function(X){return i.adapter.registerBodyInteractionHandler(X,b)}),this.setValueFromEvt_(e)}},t.prototype.handleMove_=function(e){e.preventDefault(),this.setValueFromEvt_(e)},t.prototype.handleUp_=function(){this.setActive_(!1),this.adapter.notifyChange()},t.prototype.getClientX_=function(e){return e.targetTouches&&e.targetTouches.length>0?e.targetTouches[0].clientX:e.clientX},t.prototype.setValueFromEvt_=function(e){var i=this.getClientX_(e),c=this.computeValueFromClientX_(i);this.setValue_(c,!0)},t.prototype.computeValueFromClientX_=function(e){var i=this,c=i.max_,s=i.min_,b=e-this.rect_.left,X=b/this.rect_.width;return this.adapter.isRTL()&&(X=1-X),s+X*(c-s)},t.prototype.handleKeydown_=function(e){var i=this.getKeyId_(e),c=this.getValueForKeyId_(i);isNaN(c)||(e.preventDefault(),this.adapter.addClass(pn.FOCUS),this.setValue_(c,!0),this.adapter.notifyChange())},t.prototype.getKeyId_=function(e){return e.key===Tt.ARROW_LEFT||e.keyCode===37?Tt.ARROW_LEFT:e.key===Tt.ARROW_RIGHT||e.keyCode===39?Tt.ARROW_RIGHT:e.key===Tt.ARROW_UP||e.keyCode===38?Tt.ARROW_UP:e.key===Tt.ARROW_DOWN||e.keyCode===40?Tt.ARROW_DOWN:e.key===Tt.HOME||e.keyCode===36?Tt.HOME:e.key===Tt.END||e.keyCode===35?Tt.END:e.key===Tt.PAGE_UP||e.keyCode===33?Tt.PAGE_UP:e.key===Tt.PAGE_DOWN||e.keyCode===34?Tt.PAGE_DOWN:""},t.prototype.getValueForKeyId_=function(e){var i=this,c=i.max_,s=i.min_,b=i.step_,X=b||(c-s)/100,F=this.adapter.isRTL()&&(e===Tt.ARROW_LEFT||e===Tt.ARROW_RIGHT);switch(F&&(X=-X),e){case Tt.ARROW_LEFT:case Tt.ARROW_DOWN:return this.value_-X;case Tt.ARROW_RIGHT:case Tt.ARROW_UP:return this.value_+X;case Tt.HOME:return this.min_;case Tt.END:return this.max_;case Tt.PAGE_UP:return this.value_+X*Bd.PAGE_FACTOR;case Tt.PAGE_DOWN:return this.value_-X*Bd.PAGE_FACTOR;default:return NaN}},t.prototype.handleFocus_=function(){this.preventFocusState_||this.adapter.addClass(pn.FOCUS)},t.prototype.handleBlur_=function(){this.preventFocusState_=!1,this.adapter.removeClass(pn.FOCUS)},t.prototype.setValue_=function(e,i,c){if(c===void 0&&(c=!1),!(e===this.value_&&!c)){var s=this,b=s.min_,X=s.max_,F=e===b||e===X;this.step_&&!F&&(e=this.quantize_(e)),e<b?e=b:e>X&&(e=X),e=e||0,this.value_=e,this.adapter.setAttribute(hl.ARIA_VALUENOW,String(this.value_)),this.updateUIForCurrentValue_(),i&&(this.adapter.notifyInput(),this.isDiscrete_&&this.adapter.setMarkerValue(e))}},t.prototype.quantize_=function(e){var i=Math.round(e/this.step_);return i*this.step_},t.prototype.updateUIForCurrentValue_=function(){var e=this,i=this,c=i.max_,s=i.min_,b=i.value_,X=(b-s)/(c-s),F=X*this.rect_.width;this.adapter.isRTL()&&(F=this.rect_.width-F);var U=Ws?My(window,"transform"):"transform",E=Ws?Py(window,"transitionend"):"transitionend";if(this.inTransit_){var f=function(){e.setInTransit_(!1),e.adapter.deregisterThumbContainerInteractionHandler(E,f)};this.adapter.registerThumbContainerInteractionHandler(E,f)}requestAnimationFrame(function(){e.adapter.setThumbContainerStyleProperty(U,"translateX("+F+"px) translateX(-50%)"),e.adapter.setTrackStyleProperty(U,"scaleX("+X+")")})},t.prototype.setActive_=function(e){this.active_=e,this.toggleClass_(pn.ACTIVE,this.active_)},t.prototype.setInTransit_=function(e){this.inTransit_=e,this.toggleClass_(pn.IN_TRANSIT,this.inTransit_)},t.prototype.toggleClass_=function(e,i){i?this.adapter.addClass(e):this.adapter.removeClass(e)},t}(jy);const Dy=Oy,Ay="input",$y="change";class he extends Ls{constructor(){super(...arguments),this.mdcFoundationClass=Dy,this.min=0,this.max=100,this._value=0,this.step=0,this.disabled=!1,this.pin=!1,this.markers=!1,this.pinMarkerText="",this.trackMarkerContainerStyles={},this.thumbContainerStyles={},this.trackStyles={},this.isFoundationDestroyed=!1}set value(t){this.mdcFoundation&&this.mdcFoundation.setValue(t),this._value=t,this.requestUpdate("value",t)}get value(){return this.mdcFoundation?this.mdcFoundation.getValue():this._value}render(){const t=this.step!==0,e={"mdc-slider--discrete":t,"mdc-slider--display-markers":this.markers&&t};let i="";t&&this.markers&&(i=j`
        <div
            class="mdc-slider__track-marker-container"
            style="${Ri(this.trackMarkerContainerStyles)}">
        </div>`);let c="";return this.pin&&(c=j`
      <div class="mdc-slider__pin">
        <span class="mdc-slider__pin-value-marker">${this.pinMarkerText}</span>
      </div>`),j`
      <div class="mdc-slider ${re(e)}"
           tabindex="0" role="slider"
           aria-label="${Le(this.ariaLabel)}"
           aria-labelledby="${Le(this.ariaLabelledBy)}"
           aria-valuemin="${this.min}" aria-valuemax="${this.max}"
           aria-valuenow="${this.value}"
           aria-disabled="${this.disabled.toString()}"
           data-step="${this.step}"
           @mousedown=${this.layout}
           @touchstart=${this.layout}>
        <div class="mdc-slider__track-container">
          <div
              class="mdc-slider__track"
              style="${Ri(this.trackStyles)}">
          </div>
          ${i}
        </div>
        <div
            class="mdc-slider__thumb-container"
            style="${Ri(this.thumbContainerStyles)}">
          <!-- TODO: use cache() directive -->
          ${c}
          <svg class="mdc-slider__thumb" width="21" height="21">
            <circle cx="10.5" cy="10.5" r="7.875"></circle>
          </svg>
        <div class="mdc-slider__focus-ring"></div>
      </div>
    </div>`}connectedCallback(){super.connectedCallback(),this.mdcRoot&&this.isFoundationDestroyed&&(this.isFoundationDestroyed=!1,this.mdcFoundation.init())}updated(t){const e=t.has("min"),i=t.has("max");e&&i?this.max<this.mdcFoundation.getMin()?(this.mdcFoundation.setMin(this.min),this.mdcFoundation.setMax(this.max)):(this.mdcFoundation.setMax(this.max),this.mdcFoundation.setMin(this.min)):e?this.mdcFoundation.setMin(this.min):i&&this.mdcFoundation.setMax(this.max),super.updated(t)}disconnectedCallback(){super.disconnectedCallback(),this.isFoundationDestroyed=!0,this.mdcFoundation.destroy()}createAdapter(){return Object.assign(Object.assign({},Bs(this.mdcRoot)),{getAttribute:t=>this.mdcRoot.getAttribute(t),setAttribute:(t,e)=>this.mdcRoot.setAttribute(t,e),removeAttribute:t=>this.mdcRoot.removeAttribute(t),computeBoundingRect:()=>{const t=this.mdcRoot.getBoundingClientRect();return{bottom:t.bottom,height:t.height,left:t.left+window.pageXOffset,right:t.right,top:t.top,width:t.width}},getTabIndex:()=>this.mdcRoot.tabIndex,registerInteractionHandler:(t,e)=>{const i=t==="touchstart"?zd():void 0;this.mdcRoot.addEventListener(t,e,i)},deregisterInteractionHandler:(t,e)=>this.mdcRoot.removeEventListener(t,e),registerThumbContainerInteractionHandler:(t,e)=>{const i=t==="touchstart"?zd():void 0;this.thumbContainer.addEventListener(t,e,i)},deregisterThumbContainerInteractionHandler:(t,e)=>this.thumbContainer.removeEventListener(t,e),registerBodyInteractionHandler:(t,e)=>document.body.addEventListener(t,e),deregisterBodyInteractionHandler:(t,e)=>document.body.removeEventListener(t,e),registerResizeHandler:t=>window.addEventListener("resize",t,zd()),deregisterResizeHandler:t=>window.removeEventListener("resize",t),notifyInput:()=>{const t=this.mdcFoundation.getValue();t!==this._value&&(this.value=t,this.dispatchEvent(new CustomEvent(Ay,{detail:this,composed:!0,bubbles:!0,cancelable:!0})))},notifyChange:()=>{this.dispatchEvent(new CustomEvent($y,{detail:this,composed:!0,bubbles:!0,cancelable:!0}))},setThumbContainerStyleProperty:(t,e)=>{this.thumbContainerStyles[t]=e,this.requestUpdate()},setTrackStyleProperty:(t,e)=>{this.trackStyles[t]=e,this.requestUpdate()},setMarkerValue:t=>this.pinMarkerText=t.toLocaleString(),setTrackMarkers:(t,e,i)=>{const c=t.toLocaleString(),s=e.toLocaleString(),b=i.toLocaleString(),X=`((${s} - ${b}) / ${c})`,F="2px",U=`linear-gradient(to right, currentColor ${F}, transparent 0)`,E=`0 center / calc((100% - ${F}) / ${X}) 100% repeat-x`,f=`${U} ${E}`;this.trackMarkerContainerStyles.background=f,this.requestUpdate()},isRTL:()=>getComputedStyle(this.mdcRoot).direction==="rtl"})}resetFoundation(){this.mdcFoundation&&(this.mdcFoundation.destroy(),this.mdcFoundation.init())}async firstUpdated(){await super.firstUpdated(),this.mdcFoundation.setValue(this._value)}layout(){this.mdcFoundation.layout()}}J([Ge(".mdc-slider")],he.prototype,"mdcRoot",void 0);J([Ge(".mdc-slider")],he.prototype,"formElement",void 0);J([Ge(".mdc-slider__thumb-container")],he.prototype,"thumbContainer",void 0);J([Ge(".mdc-slider__pin-value-marker")],he.prototype,"pinMarker",void 0);J([w({type:Number})],he.prototype,"min",void 0);J([w({type:Number})],he.prototype,"max",void 0);J([w({type:Number})],he.prototype,"value",null);J([w({type:Number}),Vn(function(n,t){t!==0!==(n!==0)&&this.resetFoundation(),this.mdcFoundation.setStep(n)})],he.prototype,"step",void 0);J([w({type:Boolean,reflect:!0}),Vn(function(n){this.mdcFoundation.setDisabled(n)})],he.prototype,"disabled",void 0);J([w({type:Boolean,reflect:!0})],he.prototype,"pin",void 0);J([w({type:Boolean,reflect:!0}),Vn(function(){this.mdcFoundation.setupTrackMarker()})],he.prototype,"markers",void 0);J([zt()],he.prototype,"pinMarkerText",void 0);J([zt()],he.prototype,"trackMarkerContainerStyles",void 0);J([zt()],he.prototype,"thumbContainerStyles",void 0);J([zt()],he.prototype,"trackStyles",void 0);J([Tn,w({attribute:"aria-label"})],he.prototype,"ariaLabel",void 0);J([Tn,w({attribute:"aria-labelledby"})],he.prototype,"ariaLabelledBy",void 0);J([zl({capture:!0,passive:!0})],he.prototype,"layout",null);/**
 * @license
 * Copyright 2021 Google LLC
 * SPDX-LIcense-Identifier: Apache-2.0
 */const vb=It`@keyframes mdc-slider-emphasize{0%{animation-timing-function:ease-out}50%{animation-timing-function:ease-in;transform:scale(0.85)}100%{transform:scale(0.571)}}.mdc-slider{position:relative;width:100%;height:48px;cursor:pointer;touch-action:pan-x;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mdc-slider:not(.mdc-slider--disabled) .mdc-slider__track{background-color:#018786;background-color:var(--mdc-theme-secondary, #018786)}.mdc-slider:not(.mdc-slider--disabled) .mdc-slider__track-container::after{background-color:#018786;background-color:var(--mdc-theme-secondary, #018786);opacity:.26}.mdc-slider:not(.mdc-slider--disabled) .mdc-slider__track-marker-container{background-color:#018786;background-color:var(--mdc-theme-secondary, #018786)}.mdc-slider:not(.mdc-slider--disabled) .mdc-slider__thumb{fill:#018786;fill:var(--mdc-theme-secondary, #018786);stroke:#018786;stroke:var(--mdc-theme-secondary, #018786)}.mdc-slider:not(.mdc-slider--disabled) .mdc-slider__focus-ring{background-color:#018786;background-color:var(--mdc-theme-secondary, #018786)}.mdc-slider:not(.mdc-slider--disabled) .mdc-slider__pin{background-color:#018786;background-color:var(--mdc-theme-secondary, #018786)}.mdc-slider:not(.mdc-slider--disabled) .mdc-slider__pin{color:#fff;color:var(--mdc-theme-text-primary-on-dark, white)}.mdc-slider--disable-touch-action{touch-action:none}.mdc-slider--disabled{cursor:auto}.mdc-slider--disabled .mdc-slider__track{background-color:#9a9a9a}.mdc-slider--disabled .mdc-slider__track-container::after{background-color:#9a9a9a;opacity:.26}.mdc-slider--disabled .mdc-slider__track-marker-container{background-color:#9a9a9a}.mdc-slider--disabled .mdc-slider__thumb{fill:#9a9a9a;stroke:#9a9a9a}.mdc-slider--disabled .mdc-slider__thumb{stroke:#fff;stroke:var(--mdc-slider-bg-color-behind-component, white)}.mdc-slider:focus{outline:none}.mdc-slider__track-container{position:absolute;top:50%;width:100%;height:2px;overflow:hidden}.mdc-slider__track-container::after{position:absolute;top:0;left:0;display:block;width:100%;height:100%;content:""}.mdc-slider__track{position:absolute;width:100%;height:100%;transform-origin:left top;will-change:transform}.mdc-slider[dir=rtl] .mdc-slider__track,[dir=rtl] .mdc-slider .mdc-slider__track{transform-origin:right top}.mdc-slider__track-marker-container{display:flex;margin-right:0;margin-left:-1px;visibility:hidden}.mdc-slider[dir=rtl] .mdc-slider__track-marker-container,[dir=rtl] .mdc-slider .mdc-slider__track-marker-container{margin-right:-1px;margin-left:0}.mdc-slider__track-marker-container::after{display:block;width:2px;height:2px;content:""}.mdc-slider__track-marker{flex:1}.mdc-slider__track-marker::after{display:block;width:2px;height:2px;content:""}.mdc-slider__track-marker:first-child::after{width:3px}.mdc-slider__thumb-container{position:absolute;top:15px;left:0;width:21px;height:100%;user-select:none;will-change:transform}.mdc-slider__thumb{position:absolute;top:0;left:0;transform:scale(0.571);stroke-width:3.5;transition:transform 100ms ease-out,fill 100ms ease-out,stroke 100ms ease-out}.mdc-slider__focus-ring{width:21px;height:21px;border-radius:50%;opacity:0;transition:transform 266.67ms ease-out,opacity 266.67ms ease-out,background-color 266.67ms ease-out}.mdc-slider__pin{display:flex;position:absolute;top:0;left:0;align-items:center;justify-content:center;width:26px;height:26px;margin-top:-2px;margin-left:-2px;transform:rotate(-45deg) scale(0) translate(0, 0);border-radius:50% 50% 50% 0%;z-index:1;transition:transform 100ms ease-out}.mdc-slider__pin-value-marker{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:Roboto, sans-serif;font-family:var(--mdc-typography-body2-font-family, var(--mdc-typography-font-family, Roboto, sans-serif));font-size:0.875rem;font-size:var(--mdc-typography-body2-font-size, 0.875rem);line-height:1.25rem;line-height:var(--mdc-typography-body2-line-height, 1.25rem);font-weight:400;font-weight:var(--mdc-typography-body2-font-weight, 400);letter-spacing:0.0178571429em;letter-spacing:var(--mdc-typography-body2-letter-spacing, 0.0178571429em);text-decoration:inherit;text-decoration:var(--mdc-typography-body2-text-decoration, inherit);text-transform:inherit;text-transform:var(--mdc-typography-body2-text-transform, inherit);transform:rotate(45deg)}.mdc-slider--active .mdc-slider__thumb{transform:scale3d(1, 1, 1)}.mdc-slider--focus .mdc-slider__thumb{animation:mdc-slider-emphasize 266.67ms linear}.mdc-slider--focus .mdc-slider__focus-ring{transform:scale3d(1.55, 1.55, 1.55);opacity:.25}.mdc-slider--in-transit .mdc-slider__thumb{transition-delay:140ms}.mdc-slider--in-transit .mdc-slider__thumb-container,.mdc-slider--in-transit .mdc-slider__track,.mdc-slider:focus:not(.mdc-slider--active) .mdc-slider__thumb-container,.mdc-slider:focus:not(.mdc-slider--active) .mdc-slider__track{transition:transform 80ms ease}.mdc-slider--discrete.mdc-slider--active .mdc-slider__thumb{transform:scale(calc(12 / 21))}.mdc-slider--discrete.mdc-slider--active .mdc-slider__pin{transform:rotate(-45deg) scale(1) translate(19px, -20px)}.mdc-slider--discrete.mdc-slider--focus .mdc-slider__thumb{animation:none}.mdc-slider--discrete.mdc-slider--display-markers .mdc-slider__track-marker-container{visibility:visible}:host{display:inline-block;min-width:120px;outline:none}`;let kr=class extends he{};kr.styles=[vb];kr=J([Kt("mwc-slider")],kr);const qy=It`:host{--vvd-typography-font-family: SpeziaWebVariable;--vvd-typography-font-size: 12px;--vvd-typography-font-stretch: 50%;--vvd-typography-font-weight: 600;--vvd-typography-letter-spacing: 0px;--vvd-typography-line-height: 16px;--vvd-typography-text-decoration: none;--vvd-typography-text-transform: none;--mdc-typography-body2-font-family: var(--vvd-typography-font-family);--mdc-typography-body2-font-size: var(--vvd-typography-font-size);--mdc-typography-body2-font-stretch: var(--vvd-typography-font-stretch);--mdc-typography-body2-font-weight: var(--vvd-typography-font-weight);--mdc-typography-body2-letter-spacing: var(--vvd-typography-letter-spacing);--mdc-typography-body2-line-height: var(--vvd-typography-line-height);--mdc-typography-body2-text-decoration: var(--vvd-typography-text-decoration);--mdc-typography-body2-text-transform: var(--vvd-typography-text-transform);font-stretch:var(--mdc-typography-body2-font-stretch)}:host .mdc-slider__pin-value-marker{display:flex;width:100%;height:100%;align-items:center;justify-content:center;background-color:var(--mdc-theme-secondary);border-radius:3px}:host .mdc-slider__thumb{transform:scale3d(0.6, 0.6, 0.6)}:host(:not([disabled])) .mdc-slider--focus .mdc-slider__focus-ring,:host(:not([disabled])) .mdc-slider__thumb-container:hover .mdc-slider__focus-ring{opacity:.12;transform:scale3d(1.55, 1.55, 1.55)}:host(:not([disabled])) .mdc-slider--focus .mdc-slider__pin,:host(:not([disabled])) .mdc-slider__thumb-container:hover .mdc-slider__pin{transform:rotate(-45deg) scale(1) translate(19px, -20px)}:host(:not([disabled])) .mdc-slider--active .mdc-slider__thumb-container:hover .mdc-slider__focus-ring{opacity:.25;transform:scale3d(1.8, 1.8, 1.8)}.mdc-slider:not(.mdc-slider--disabled) .mdc-slider__pin{color:var(--vvd-color-on-primary)}.mdc-slider.mdc-slider--disabled .mdc-slider__thumb{stroke:var(--vvd-color-canvas)}`;var Xa;kr.styles=[Bl,vb,qy];let Vs=class extends kr{constructor(){super(...arguments),Xa.set(this,new ResizeObserver(()=>this.layout()))}connectedCallback(){super.connectedCallback(),te(this,Xa,"f").observe(this)}disconnectedCallback(){super.disconnectedCallback(),te(this,Xa,"f").unobserve(this)}async firstUpdated(){var t;await super.firstUpdated(),this.pinMarkerText=(t=this.value)===null||t===void 0?void 0:t.toLocaleString(),Ou(this)}focus(){super.focus(),this.formElement.focus()}layout(){super.layout()}};Xa=new WeakMap;J([sZ()],Vs.prototype,"layout",null);Vs=J([Kt("vwc-slider")],Vs);class Kn extends ce{constructor(){super(...arguments),this.dense=!1,this.enlarged=!1}renderIcon(t,e=!1){return t?j`<div class="icon ${re({"icon--leading":!e,"icon--trailing":e})}">
					<vwc-icon .type="${t}"></vwc-icon>
				</div>`:ri}updated(t){Du(this,t)}getRenderClasses(){return{[`connotation-${this.connotation}`]:!!this.connotation,[`layout-${this.layout}`]:!!this.layout}}render(){return j`
			<span class="vwc-badge ${re(this.getRenderClasses())}">
				${this.renderIcon(this.icon)}
				<slot class="text">
					${this.text||ri}
				</slot>
				${this.renderIcon(this.iconTrailing,!0)}
			</span>`}}J([w({type:String,reflect:!0})],Kn.prototype,"connotation",void 0);J([w({type:String,reflect:!0})],Kn.prototype,"shape",void 0);J([w({type:String,reflect:!0})],Kn.prototype,"layout",void 0);J([w({type:Boolean,reflect:!0})],Kn.prototype,"dense",void 0);J([w({type:Boolean,reflect:!0})],Kn.prototype,"enlarged",void 0);J([w({type:String,reflect:!0})],Kn.prototype,"text",void 0);J([w({type:String,reflect:!0})],Kn.prototype,"icon",void 0);J([w({type:String,reflect:!0})],Kn.prototype,"iconTrailing",void 0);const t0=It`.vwc-badge.layout-filled,.vwc-badge:not(.layout-outlined):not(.layout-soft){--layout-color-fill:var(--connotation);--layout-color-text:var(--on-connotation)}.vwc-badge.layout-outlined{--layout-color-fill:transparent;--layout-color-outline:var(--connotation);--layout-color-text:var(--connotation-contrast)}.vwc-badge.layout-soft{--layout-color-fill:var(--connotation-soft);--layout-color-text:var(--connotation-contrast)}:host(:not([shape=pill i])),:host([shape=rounded i]){--vvd-badge-shape:4px}:host([shape=pill i]){--vvd-badge-shape:14px}:host(:not([dense]):not([enlarged])){--vvd-badge--block-size:24px}:host([dense]){--vvd-badge--block-size:20px}:host([enlarged]){--vvd-badge--block-size:28px}.vwc-badge{font:600 ultra-condensed 12px / 16px SpeziaWebVariable;letter-spacing:0px;text-decoration:none;text-transform:none;display:inline-flex;height:var(--vvd-badge--block-size);box-sizing:border-box;align-items:center;padding:0 10px;border:1px solid var(--layout-color-outline);background-color:var(--layout-color-fill);border-radius:var(--vvd-badge-shape);color:var(--layout-color-text);line-height:var(--vvd-badge--block-size);max-inline-size:100%}.vwc-badge.connotation-primary,.vwc-badge:not(.connotation-cta):not(.connotation-success):not(.connotation-alert):not(.connotation-warning):not(.connotation-info){--connotation:var(--vvd-color-primary);--on-connotation:var(--vvd-color-on-primary);--connotation-soft:var(--vvd-color-neutral-20);--connotation-contrast:var(--vvd-color-primary)}.vwc-badge.connotation-cta{--connotation:var(--vvd-color-cta);--on-connotation:var(--vvd-color-on-cta);--connotation-soft:var(--vvd-color-cta-20);--connotation-contrast:var(--vvd-color-cta-90)}.vwc-badge.connotation-success{--connotation:var(--vvd-color-success);--on-connotation:var(--vvd-color-on-success);--connotation-soft:var(--vvd-color-success-20);--connotation-contrast:var(--vvd-color-success-90)}.vwc-badge.connotation-alert{--connotation:var(--vvd-color-alert);--on-connotation:var(--vvd-color-on-alert);--connotation-soft:var(--vvd-color-alert-20);--connotation-contrast:var(--vvd-color-alert-90)}.vwc-badge.connotation-warning{--connotation:var(--vvd-color-warning);--on-connotation:var(--vvd-color-on-warning);--connotation-soft:var(--vvd-color-warning-20);--connotation-contrast:var(--vvd-color-warning-90)}.vwc-badge.connotation-info{--connotation:var(--vvd-color-info);--on-connotation:var(--vvd-color-on-info);--connotation-soft:var(--vvd-color-info-20);--connotation-contrast:var(--vvd-color-info-90)}:host([dense]) .vwc-badge{padding:0 8px}:host([enlarged]) .vwc-badge{padding:0 12px}.vwc-badge .text{display:block;overflow:hidden;max-inline-size:100%;text-overflow:ellipsis;white-space:nowrap}.icon{block-size:12px;line-height:1}.icon>vwc-icon{--icon-size: 12px;--connotation:initial;vertical-align:top}.icon.icon--leading{margin-inline-end:8px}.icon.icon--trailing{margin-inline-start:8px}`;let fs=class extends Kn{};fs.styles=t0;fs=J([Kt("vwc-badge")],fs);const e0=It`:host{font:400 ultra-condensed 12px / 16px SpeziaWebVariable;letter-spacing:0px;text-decoration:none;text-transform:none;--vvd-formfield-disabled-ink:var(--vvd-color-neutral-50);--vvd-formfield-disabled-fill:var(--vvd-color-neutral-20);--vvd-formfield-label-idle-ink:var(--vvd-color-neutral-70);--vvd-formfield-border-idle:var(--vvd-color-neutral-50);--vvd-formfield-border-hover:var(--vvd-color-on-canvas);--vvd-formfield-border-disabled:var(--vvd-color-neutral-50);--vvd-formfield-error-fill:var(--vvd-color-alert-20);--vvd-formfield-label-error-ink:var(--vvd-color-alert);display:flex;align-items:center;color:var(--vvd-formfield-label-idle-ink);margin-block-start:4px;min-block-size:16px}:host .helper-icon{display:none;color:var(--vvd-formfield-label-error-ink)}:host .helper-text{overflow:hidden;margin-inline-start:16px;text-overflow:ellipsis;white-space:nowrap}:host([is-error]){color:var(--vvd-color-on-canvas)}:host([is-error]) .helper-icon{display:flex;flex-shrink:0}:host([is-error]) .helper-text{margin-inline-start:4px}:host([disabled]){color:var(--vvd-formfield-disabled-ink)}`;let ka=class extends ce{constructor(){super(...arguments),this.isError=!1}render(){return j`
			<vwc-icon class="helper-icon" type="info-negative" size="small"></vwc-icon>
			<span class="helper-text"><slot></slot></span>
		`}};ka.styles=[e0];J([w({attribute:"is-error",type:Boolean,reflect:!0})],ka.prototype,"isError",void 0);ka=J([Kt("vwc-helper-message")],ka);const n0=It`:host{--vvd-formfield-disabled-ink:var(--vvd-color-neutral-50);--vvd-formfield-disabled-fill:var(--vvd-color-neutral-20);--vvd-formfield-label-idle-ink:var(--vvd-color-neutral-70);--vvd-formfield-border-idle:var(--vvd-color-neutral-50);--vvd-formfield-border-hover:var(--vvd-color-on-canvas);--vvd-formfield-border-disabled:var(--vvd-color-neutral-50);--vvd-formfield-error-fill:var(--vvd-color-alert-20);--vvd-formfield-label-error-ink:var(--vvd-color-alert)}.input-file-slot::slotted(*){display:none}.label{font:400 ultra-condensed 14px / 20px SpeziaWebVariable;letter-spacing:0px;text-decoration:none;text-transform:none}.wrapper{display:inline-flex;flex-direction:column;max-inline-size:100%;min-block-size:var(--vvd-file-picker-min-height, 140px);min-inline-size:var(--vvd-file-picker-min-width, 320px)}.part{display:flex;flex-direction:row;align-items:center}.content{position:relative;box-sizing:border-box;flex-grow:1;justify-content:center;padding:16px;border:1px dashed #ccc;background-color:var(--vvd-color-canvas);border-radius:6px;outline:none}.content .files-count{position:absolute;z-index:1;top:0;right:0;transform:translate(12px, -50%)}.dd-hint,[name=dd-hint]::slotted(*){font:400 ultra-condensed 14px / 20px SpeziaWebVariable;letter-spacing:0px;text-decoration:none;text-transform:none;margin-inline-end:16px}[name=dd-hint]::slotted(*:empty){display:none}.drag-over .content{border:1px solid #000}.drag-over .content .dd-hint,.drag-over .content ::slotted(*){opacity:.5;pointer-events:none}.drag-over.drag-invalid .content{background-color:var(--vvd-formfield-error-fill)}:host([drop-zone=false]){display:inline-flex}:host([drop-zone=false]) .content{flex-basis:initial;border:0 none}:host([drop-zone=false]) .part>[name=dd-hint]::slotted(*){display:none}`;var Jn;const Dm="button",Am="input-file-slot";let on=class extends ce{constructor(){super(...arguments),Jn.set(this,null),this.filesCount=0,this.label="",this.helper="",this.validationMessage="",this.notAFileError="only file/s drop allowed",this.tooManyFilesError="only one file allowed",this["drop-zone"]=!0,this.noCounter=!1}setCustomValidity(t){var e;this.validationMessage=String(t),(e=te(this,Jn,"f"))===null||e===void 0||e.classList[this.validationMessage?"add":"remove"]("invalid")}firstUpdated(){var t,e,i;no(this,Jn,((t=this.shadowRoot)===null||t===void 0?void 0:t.querySelector(".wrapper"))||null,"f"),this.setupDragNDrop(),(i=(e=this.shadowRoot)===null||e===void 0?void 0:e.querySelector(`.${Am}`))===null||i===void 0||i.addEventListener("slotchange",c=>{this.validateSlottedInput(c.target)}),this.addEventListener("change",()=>{const c=this.getActualInput();this.filesCount=c&&c.files?c.files.length:0})}render(){return j`
			<label class="wrapper" aria-describedby="helper">
				${this.renderHeader()}
				<div
					class="content drop-zone part"
					tabindex="0"
					@click=${this.triggerFileInput}
					@keypress=${this.triggerFileInput}
				>
					<slot name="dd-hint">${this.renderDragNDropHint()}</slot>
					<slot name="${Dm}"></slot>
					<slot class="${Am}"></slot>
					${this.renderFilesCount()}
				</div>
				${this.renderHelperMessage()}
			</label>
		`}getActualInput(){return this.querySelector('[type="file"]')}renderHeader(){return this.label?j`<span class="label part">${this.label}</span>`:j``}renderHelperMessage(){const t=!!this.validationMessage,e=this.validationMessage||this.helper||"";return e?j`<vwc-helper-message id="helper" ?is-error="${t}"
				>${e}</vwc-helper-message
			>`:""}renderDragNDropHint(){return j`<span class="dd-hint">Drag & Drop files here</span>`}renderFilesCount(){return this.filesCount&&!this.noCounter?j`
				<div class="files-count">
					<vwc-badge connotation="alert" shape="pill">${this.filesCount}</vwc-badge>
				</div>
			`:j``}setupDragNDrop(){var t;const e=(t=this.shadowRoot)===null||t===void 0?void 0:t.querySelector(".content");e?(e.ondragover=i=>i.preventDefault(),e.addEventListener("dragenter",i=>{var c,s;if(i.preventDefault(),(c=te(this,Jn,"f"))===null||c===void 0||c.classList.add("drag-over"),!i.dataTransfer)return;this.validateImportedData(i.dataTransfer)?((s=te(this,Jn,"f"))===null||s===void 0||s.classList.add("drag-invalid"),i.dataTransfer.dropEffect="none"):i.dataTransfer.dropEffect="copy"}),e.addEventListener("dragleave",i=>{i.preventDefault(),this.cleanDragClasses()}),e.addEventListener("drop",i=>{if(i.preventDefault(),this.cleanDragClasses(),!i.dataTransfer)return;const c=this.validateImportedData(i.dataTransfer);this.setCustomValidity(c),c?this.setFiles(null):this.setFiles(i.dataTransfer.files)})):console.error("failed to setup drop zone")}triggerFileInput(t){const e=t.target.slot===Dm;if(t.type==="click"&&!e||t.type==="keypress"&&t.code!=="Space")return;this.setCustomValidity("");const i=this.getActualInput();i?i.click():console.error("input element missing")}setFiles(t){const e=this.getActualInput();e?(t&&t.length?e.files=t:e.value="",e.dispatchEvent(new Event("change",{bubbles:!0}))):console.error("input element missing")}cleanDragClasses(){var t;if(!te(this,Jn,"f"))return;const e=Array.from(te(this,Jn,"f").classList).filter(i=>i.startsWith("drag-"));(t=te(this,Jn,"f"))===null||t===void 0||t.classList.remove(...e)}validateSlottedInput(t){const e=t.assignedNodes().filter(c=>c.nodeType===Node.ELEMENT_NODE);e.length>1&&console.error(`only a single slotted INPUT expected; found ${e.length}`);const i=e[0];i.nodeName!=="INPUT"&&console.error(`only an INPUT expected; found ${i.nodeName}`),i.getAttribute("type")!=="file"&&console.error(`only an INPUT of type 'file' expected; found '${i.getAttribute("type")}'`)}validateImportedData(t){const e=this.getActualInput();if(!e)return"input element missing";const i=t.items;if(i){if(Array.from(i).some(c=>c.kind!=="file"))return this.notAFileError;if(!e.hasAttribute("multiple")&&i.length>1)return this.tooManyFilesError}return""}};Jn=new WeakMap;on.styles=[n0];J([w({type:Number,reflect:!1})],on.prototype,"filesCount",void 0);J([w({type:String,reflect:!0})],on.prototype,"label",void 0);J([w({type:String,reflect:!0})],on.prototype,"helper",void 0);J([w({type:String,reflect:!1})],on.prototype,"validationMessage",void 0);J([w({type:String,reflect:!0})],on.prototype,"notAFileError",void 0);J([w({type:String,reflect:!0})],on.prototype,"tooManyFilesError",void 0);J([w({type:Boolean,reflect:!0})],on.prototype,"drop-zone",void 0);J([w({type:Boolean,reflect:!0,attribute:"no-counter"})],on.prototype,"noCounter",void 0);on=J([Kt("vwc-file-picker")],on);class Je extends ce{constructor(){super(...arguments),this.indeterminate=!1,this.progress=0,this.buffer=1,this.reverse=!1,this.closed=!1,this.stylePrimaryHalf="",this.stylePrimaryFull="",this.styleSecondaryQuarter="",this.styleSecondaryHalf="",this.styleSecondaryFull="",this.animationReady=!0,this.closedAnimationOff=!1,this.resizeObserver=null}connectedCallback(){super.connectedCallback(),this.rootEl&&this.attachResizeObserver()}render(){const t={"mdc-linear-progress--closed":this.closed,"mdc-linear-progress--closed-animation-off":this.closedAnimationOff,"mdc-linear-progress--indeterminate":this.indeterminate,"mdc-linear-progress--animation-ready":this.animationReady},e={"--mdc-linear-progress-primary-half":this.stylePrimaryHalf,"--mdc-linear-progress-primary-half-neg":this.stylePrimaryHalf!==""?`-${this.stylePrimaryHalf}`:"","--mdc-linear-progress-primary-full":this.stylePrimaryFull,"--mdc-linear-progress-primary-full-neg":this.stylePrimaryFull!==""?`-${this.stylePrimaryFull}`:"","--mdc-linear-progress-secondary-quarter":this.styleSecondaryQuarter,"--mdc-linear-progress-secondary-quarter-neg":this.styleSecondaryQuarter!==""?`-${this.styleSecondaryQuarter}`:"","--mdc-linear-progress-secondary-half":this.styleSecondaryHalf,"--mdc-linear-progress-secondary-half-neg":this.styleSecondaryHalf!==""?`-${this.styleSecondaryHalf}`:"","--mdc-linear-progress-secondary-full":this.styleSecondaryFull,"--mdc-linear-progress-secondary-full-neg":this.styleSecondaryFull!==""?`-${this.styleSecondaryFull}`:""},i={"flex-basis":this.indeterminate?"100%":`${this.buffer*100}%`},c={transform:this.indeterminate?"scaleX(1)":`scaleX(${this.progress})`};return j`
      <div
          role="progressbar"
          class="mdc-linear-progress ${re(t)}"
          style="${Ri(e)}"
          dir="${Le(this.reverse?"rtl":void 0)}"
          aria-label="${Le(this.ariaLabel)}"
          aria-valuemin="0"
          aria-valuemax="1"
          aria-valuenow="${Le(this.indeterminate?void 0:this.progress)}"
        @transitionend="${this.syncClosedState}">
        <div class="mdc-linear-progress__buffer">
          <div
            class="mdc-linear-progress__buffer-bar"
            style=${Ri(i)}>
          </div>
          <div class="mdc-linear-progress__buffer-dots"></div>
        </div>
        <div
            class="mdc-linear-progress__bar mdc-linear-progress__primary-bar"
            style=${Ri(c)}>
          <span class="mdc-linear-progress__bar-inner"></span>
        </div>
        <div class="mdc-linear-progress__bar mdc-linear-progress__secondary-bar">
          <span class="mdc-linear-progress__bar-inner"></span>
        </div>
      </div>`}update(t){t.has("closed")&&(!this.closed||t.get("closed")===void 0)&&this.syncClosedState(),super.update(t)}async firstUpdated(t){super.firstUpdated(t),this.attachResizeObserver()}syncClosedState(){this.closedAnimationOff=this.closed}updated(t){!t.has("indeterminate")&&t.has("reverse")&&this.indeterminate&&this.restartAnimation(),t.has("indeterminate")&&t.get("indeterminate")!==void 0&&this.indeterminate&&window.ResizeObserver&&this.calculateAndSetAnimationDimensions(this.rootEl.offsetWidth),super.updated(t)}disconnectedCallback(){this.resizeObserver&&(this.resizeObserver.disconnect(),this.resizeObserver=null),super.disconnectedCallback()}attachResizeObserver(){if(window.ResizeObserver){this.resizeObserver=new window.ResizeObserver(t=>{if(!!this.indeterminate){for(const e of t)if(e.contentRect){const i=e.contentRect.width;this.calculateAndSetAnimationDimensions(i)}}}),this.resizeObserver.observe(this.rootEl);return}this.resizeObserver=null}calculateAndSetAnimationDimensions(t){const e=t*.8367142,i=t*2.00611057,c=t*.37651913,s=t*.84386165,b=t*1.60277782;this.stylePrimaryHalf=`${e}px`,this.stylePrimaryFull=`${i}px`,this.styleSecondaryQuarter=`${c}px`,this.styleSecondaryHalf=`${s}px`,this.styleSecondaryFull=`${b}px`,this.restartAnimation()}async restartAnimation(){this.animationReady=!1,await this.updateComplete,await new Promise(requestAnimationFrame),this.animationReady=!0,await this.updateComplete}open(){this.closed=!1}close(){this.closed=!0}}J([Ge(".mdc-linear-progress")],Je.prototype,"rootEl",void 0);J([w({type:Boolean,reflect:!0})],Je.prototype,"indeterminate",void 0);J([w({type:Number})],Je.prototype,"progress",void 0);J([w({type:Number})],Je.prototype,"buffer",void 0);J([w({type:Boolean,reflect:!0})],Je.prototype,"reverse",void 0);J([w({type:Boolean,reflect:!0})],Je.prototype,"closed",void 0);J([Tn,w({attribute:"aria-label"})],Je.prototype,"ariaLabel",void 0);J([zt()],Je.prototype,"stylePrimaryHalf",void 0);J([zt()],Je.prototype,"stylePrimaryFull",void 0);J([zt()],Je.prototype,"styleSecondaryQuarter",void 0);J([zt()],Je.prototype,"styleSecondaryHalf",void 0);J([zt()],Je.prototype,"styleSecondaryFull",void 0);J([zt()],Je.prototype,"animationReady",void 0);J([zt()],Je.prototype,"closedAnimationOff",void 0);/**
 * @license
 * Copyright 2021 Google LLC
 * SPDX-LIcense-Identifier: Apache-2.0
 */const gb=It`@keyframes mdc-linear-progress-primary-indeterminate-translate{0%{transform:translateX(0)}20%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(0)}59.15%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(83.67142%);transform:translateX(var(--mdc-linear-progress-primary-half, 83.67142%))}100%{transform:translateX(200.611057%);transform:translateX(var(--mdc-linear-progress-primary-full, 200.611057%))}}@keyframes mdc-linear-progress-primary-indeterminate-scale{0%{transform:scaleX(0.08)}36.65%{animation-timing-function:cubic-bezier(0.334731, 0.12482, 0.785844, 1);transform:scaleX(0.08)}69.15%{animation-timing-function:cubic-bezier(0.06, 0.11, 0.6, 1);transform:scaleX(0.661479)}100%{transform:scaleX(0.08)}}@keyframes mdc-linear-progress-secondary-indeterminate-translate{0%{animation-timing-function:cubic-bezier(0.15, 0, 0.515058, 0.409685);transform:translateX(0)}25%{animation-timing-function:cubic-bezier(0.31033, 0.284058, 0.8, 0.733712);transform:translateX(37.651913%);transform:translateX(var(--mdc-linear-progress-secondary-quarter, 37.651913%))}48.35%{animation-timing-function:cubic-bezier(0.4, 0.627035, 0.6, 0.902026);transform:translateX(84.386165%);transform:translateX(var(--mdc-linear-progress-secondary-half, 84.386165%))}100%{transform:translateX(160.277782%);transform:translateX(var(--mdc-linear-progress-secondary-full, 160.277782%))}}@keyframes mdc-linear-progress-secondary-indeterminate-scale{0%{animation-timing-function:cubic-bezier(0.205028, 0.057051, 0.57661, 0.453971);transform:scaleX(0.08)}19.15%{animation-timing-function:cubic-bezier(0.152313, 0.196432, 0.648374, 1.004315);transform:scaleX(0.457104)}44.15%{animation-timing-function:cubic-bezier(0.257759, -0.003163, 0.211762, 1.38179);transform:scaleX(0.72796)}100%{transform:scaleX(0.08)}}@keyframes mdc-linear-progress-buffering{from{transform:rotate(180deg) translateX(-10px)}}@keyframes mdc-linear-progress-primary-indeterminate-translate-reverse{0%{transform:translateX(0)}20%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(0)}59.15%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(-83.67142%);transform:translateX(var(--mdc-linear-progress-primary-half-neg, -83.67142%))}100%{transform:translateX(-200.611057%);transform:translateX(var(--mdc-linear-progress-primary-full-neg, -200.611057%))}}@keyframes mdc-linear-progress-secondary-indeterminate-translate-reverse{0%{animation-timing-function:cubic-bezier(0.15, 0, 0.515058, 0.409685);transform:translateX(0)}25%{animation-timing-function:cubic-bezier(0.31033, 0.284058, 0.8, 0.733712);transform:translateX(-37.651913%);transform:translateX(var(--mdc-linear-progress-secondary-quarter-neg, -37.651913%))}48.35%{animation-timing-function:cubic-bezier(0.4, 0.627035, 0.6, 0.902026);transform:translateX(-84.386165%);transform:translateX(var(--mdc-linear-progress-secondary-half-neg, -84.386165%))}100%{transform:translateX(-160.277782%);transform:translateX(var(--mdc-linear-progress-secondary-full-neg, -160.277782%))}}@keyframes mdc-linear-progress-buffering-reverse{from{transform:translateX(-10px)}}.mdc-linear-progress{position:relative;width:100%;height:4px;transform:translateZ(0);outline:1px solid transparent;overflow:hidden;transition:opacity 250ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-linear-progress__bar{position:absolute;width:100%;height:100%;animation:none;transform-origin:top left;transition:transform 250ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-linear-progress__bar-inner{display:inline-block;position:absolute;width:100%;animation:none;border-top:4px solid}.mdc-linear-progress__buffer{display:flex;position:absolute;width:100%;height:100%}.mdc-linear-progress__buffer-dots{background-repeat:repeat-x;background-size:10px 4px;flex:auto;transform:rotate(180deg);animation:mdc-linear-progress-buffering 250ms infinite linear}.mdc-linear-progress__buffer-bar{flex:0 1 100%;transition:flex-basis 250ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-linear-progress__primary-bar{transform:scaleX(0)}.mdc-linear-progress__secondary-bar{display:none}.mdc-linear-progress--indeterminate .mdc-linear-progress__bar{transition:none}.mdc-linear-progress--indeterminate .mdc-linear-progress__primary-bar{left:-145.166611%}.mdc-linear-progress--indeterminate .mdc-linear-progress__secondary-bar{left:-54.888891%;display:block}.mdc-linear-progress--indeterminate.mdc-linear-progress--animation-ready .mdc-linear-progress__primary-bar{animation:mdc-linear-progress-primary-indeterminate-translate 2s infinite linear}.mdc-linear-progress--indeterminate.mdc-linear-progress--animation-ready .mdc-linear-progress__primary-bar>.mdc-linear-progress__bar-inner{animation:mdc-linear-progress-primary-indeterminate-scale 2s infinite linear}.mdc-linear-progress--indeterminate.mdc-linear-progress--animation-ready .mdc-linear-progress__secondary-bar{animation:mdc-linear-progress-secondary-indeterminate-translate 2s infinite linear}.mdc-linear-progress--indeterminate.mdc-linear-progress--animation-ready .mdc-linear-progress__secondary-bar>.mdc-linear-progress__bar-inner{animation:mdc-linear-progress-secondary-indeterminate-scale 2s infinite linear}[dir=rtl] .mdc-linear-progress:not([dir=ltr]) .mdc-linear-progress__bar,.mdc-linear-progress[dir=rtl]:not([dir=ltr]) .mdc-linear-progress__bar{right:0;-webkit-transform-origin:center right;transform-origin:center right}[dir=rtl] .mdc-linear-progress:not([dir=ltr]).mdc-linear-progress--animation-ready .mdc-linear-progress__primary-bar,.mdc-linear-progress[dir=rtl]:not([dir=ltr]).mdc-linear-progress--animation-ready .mdc-linear-progress__primary-bar{animation-name:mdc-linear-progress-primary-indeterminate-translate-reverse}[dir=rtl] .mdc-linear-progress:not([dir=ltr]).mdc-linear-progress--animation-ready .mdc-linear-progress__secondary-bar,.mdc-linear-progress[dir=rtl]:not([dir=ltr]).mdc-linear-progress--animation-ready .mdc-linear-progress__secondary-bar{animation-name:mdc-linear-progress-secondary-indeterminate-translate-reverse}[dir=rtl] .mdc-linear-progress:not([dir=ltr]) .mdc-linear-progress__buffer-dots,.mdc-linear-progress[dir=rtl]:not([dir=ltr]) .mdc-linear-progress__buffer-dots{animation:mdc-linear-progress-buffering-reverse 250ms infinite linear;transform:rotate(0)}[dir=rtl] .mdc-linear-progress:not([dir=ltr]).mdc-linear-progress--indeterminate .mdc-linear-progress__primary-bar,.mdc-linear-progress[dir=rtl]:not([dir=ltr]).mdc-linear-progress--indeterminate .mdc-linear-progress__primary-bar{right:-145.166611%;left:auto}[dir=rtl] .mdc-linear-progress:not([dir=ltr]).mdc-linear-progress--indeterminate .mdc-linear-progress__secondary-bar,.mdc-linear-progress[dir=rtl]:not([dir=ltr]).mdc-linear-progress--indeterminate .mdc-linear-progress__secondary-bar{right:-54.888891%;left:auto}.mdc-linear-progress--closed{opacity:0}.mdc-linear-progress--closed-animation-off .mdc-linear-progress__buffer-dots{animation:none}.mdc-linear-progress--closed-animation-off.mdc-linear-progress--indeterminate .mdc-linear-progress__bar,.mdc-linear-progress--closed-animation-off.mdc-linear-progress--indeterminate .mdc-linear-progress__bar .mdc-linear-progress__bar-inner{animation:none}.mdc-linear-progress__bar-inner{border-color:#6200ee;border-color:var(--mdc-theme-primary, #6200ee)}.mdc-linear-progress__buffer-dots{background-image:url("data:image/svg+xml,%3Csvg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='0px' y='0px' enable-background='new 0 0 5 2' xml:space='preserve' viewBox='0 0 5 2' preserveAspectRatio='none slice'%3E%3Ccircle cx='1' cy='1' r='1' fill='%23e6e6e6'/%3E%3C/svg%3E")}.mdc-linear-progress__buffer-bar{background-color:#e6e6e6}:host{display:block}.mdc-linear-progress__buffer-bar{background-color:#e6e6e6;background-color:var(--mdc-linear-progress-buffer-color, #e6e6e6)}.mdc-linear-progress__buffer-dots{background-image:url("data:image/svg+xml,%3Csvg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='0px' y='0px' enable-background='new 0 0 5 2' xml:space='preserve' viewBox='0 0 5 2' preserveAspectRatio='none slice'%3E%3Ccircle cx='1' cy='1' r='1' fill='%23e6e6e6'/%3E%3C/svg%3E");background-image:var(--mdc-linear-progress-buffering-dots-image, url("data:image/svg+xml,%3Csvg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='0px' y='0px' enable-background='new 0 0 5 2' xml:space='preserve' viewBox='0 0 5 2' preserveAspectRatio='none slice'%3E%3Ccircle cx='1' cy='1' r='1' fill='%23e6e6e6'/%3E%3C/svg%3E"))}`;let Nr=class extends Je{};Nr.styles=[gb];Nr=J([Kt("mwc-linear-progress")],Nr);const i0=It`.mdc-linear-progress{--mdc-theme-primary: var(--connotation);--mdc-linear-progress-buffer-color: var(--vvd-color-neutral-30);--mdc-linear-progress-buffering-dots-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' x='0px' y='0px' enable-background='new 0 0 5 2' xml:space='preserve' viewBox='0 0 5 2' preserveAspectRatio='none slice'%3E%3Ccircle cx='1' cy='1' r='1' fill='%23616266'/%3E%3C/svg%3E");--vvd-linear-progress-shape:10px;height:6px;block-size:6px;border-radius:var(--vvd-linear-progress-shape)}.mdc-linear-progress.connotation-primary,.mdc-linear-progress:not(.connotation-pacific):not(.connotation-cta):not(.connotation-success):not(.connotation-alert){--connotation:var(--vvd-color-primary);--on-connotation:var(--vvd-color-on-primary)}.mdc-linear-progress.connotation-cta{--connotation:var(--vvd-color-cta);--on-connotation:var(--vvd-color-on-cta)}.mdc-linear-progress.connotation-success{--connotation:var(--vvd-color-success);--on-connotation:var(--vvd-color-on-success)}.mdc-linear-progress.connotation-alert{--connotation:var(--vvd-color-alert);--on-connotation:var(--vvd-color-on-alert)}.mdc-linear-progress.connotation-pacific{--connotation:linear-gradient(to right, var(--vvd-color-info-30), var(--vvd-color-cta-70))}.mdc-linear-progress__bar-inner{border-top-width:6px;border-top-style:solid;border-top-color:var(--mdc-theme-primary);border-radius:calc(var(--vvd-linear-progress-shape) / var(--linear-progress-progress))/calc(var(--vvd-linear-progress-shape) / 1)}.connotation-pacific .mdc-linear-progress__bar-inner{height:6px;border-top-width:0;border-top-style:none;border-top-color:transparent;background-image:var(--mdc-theme-primary);block-size:6px}.mdc-linear-progress__buffer-bar{border-radius:var(--vvd-linear-progress-shape)}.mdc-linear-progress__buffer-dots{background-position:center}`;Nr.styles=[Bl,gb,i0];let Na=class extends Nr{updated(t){super.updated(t),t.has("progress")&&this.mdcLinearProgress.style.setProperty("--linear-progress-progress",this.progress.toString())}};J([Ge(".mdc-linear-progress")],Na.prototype,"mdcLinearProgress",void 0);J([w({type:String,reflect:!0}),Vn(function(n,t){this.rootEl.classList.remove(`connotation-${t}`),n&&this.rootEl.classList.add(`connotation-${n}`)})],Na.prototype,"connotation",void 0);Na=J([Kt("vwc-linear-progress")],Na);const l0=It`:host([noseek]) .main>.scrubber{display:none}:host *:focus:not(:focus-visible){outline:none}:host :focus-visible{outline:var(--vvd-color-on-canvas) solid 2px}:host .main{display:flex;align-items:center;justify-content:flex-start}:host .main>.control-button{border:0;background-color:transparent;cursor:pointer}:host .main>.control-button>.icon{color:var(--connotation)}:host .main>.scrubber{flex:1 0;margin-inline-start:4px}`;let Hr=class extends ce{constructor(){super(...arguments),this._playState=!1}render(){return j`
			<main class="main">
				<button @click="${this.dispatchPlayControllerClickEvent}" aria-label="Play/Pause" class="control-button">
					<vwc-icon
						class="icon"
						size="small"
						type="${this._playState?"pause-solid":"play-solid"}"
					></vwc-icon>
				</button>
				<vwc-scrub-bar aria-label="Seek" class="scrubber"></vwc-scrub-bar>
			</main>
		`}dispatchPlayControllerClickEvent(){this.dispatchEvent(new CustomEvent("userPlayPauseRequest",{bubbles:!0,composed:!0}))}setPosition(t){this._scrubber.setPosition(t)}setPlayState(t){this._playState=t}};Hr.styles=[l0];J([Ge(".scrubber")],Hr.prototype,"_scrubber",void 0);J([Kl()],Hr.prototype,"_playState",void 0);Hr=J([Kt("vwc-media-controller")],Hr);/*! Kefir.js v3.8.8
 *  https://github.com/kefirjs/kefir
 */function r0(n){var t=function(){};return t.prototype=n,new t}function co(n){var t=arguments.length,e=void 0,i=void 0;for(e=1;e<t;e++)for(i in arguments[e])n[i]=arguments[e][i];return n}function Ze(n,t){var e=arguments.length,i=void 0;for(n.prototype=r0(t.prototype),n.prototype.constructor=n,i=2;i<e;i++)co(n.prototype,arguments[i]);return n}var ue=["<nothing>"],qt="end",se="value",me="error",Gs="any";function Nl(n,t){var e=void 0,i=void 0,c=void 0,s=void 0;if(n.length===0)return t;if(t.length===0)return n;for(s=0,e=new Array(n.length+t.length),i=n.length,c=0;c<i;c++,s++)e[s]=n[c];for(i=t.length,c=0;c<i;c++,s++)e[s]=t[c];return e}function Rs(n,t){var e=n.length,i=void 0;for(i=0;i<e;i++)if(n[i]===t)return i;return-1}function Ha(n,t){var e=n.length,i=void 0;for(i=0;i<e;i++)if(t(n[i]))return i;return-1}function Ms(n){var t=n.length,e=new Array(t),i=void 0;for(i=0;i<t;i++)e[i]=n[i];return e}function wa(n,t){var e=n.length,i=void 0,c=void 0,s=void 0;if(t>=0&&t<e){if(e===1)return[];for(i=new Array(e-1),c=0,s=0;c<e;c++)c!==t&&(i[s]=n[c],s++);return i}else return n}function $m(n,t){var e=n.length,i=new Array(e),c=void 0;for(c=0;c<e;c++)i[c]=t(n[c]);return i}function c0(n,t){var e=n.length,i=void 0;for(i=0;i<e;i++)t(n[i])}function a0(n,t){var e=n.length,i=void 0;for(i=0;i<e;i++)n[i]=t}function o0(n,t){return Rs(n,t)!==-1}function d0(n,t,e){var i=Math.min(e,n.length+1),c=n.length-i+1,s=new Array(i),b=void 0;for(b=c;b<i;b++)s[b-c]=n[b];return s[i-1]=t,s}function xa(n,t,e){n===Gs?t(e):n===e.type&&(n===se||n===me?t(e.value):t())}function Yb(){this._items=[],this._spies=[],this._inLoop=0,this._removedItems=null}co(Yb.prototype,{add:function(n,t){return this._items=Nl(this._items,[{type:n,fn:t}]),this._items.length},remove:function(n,t){var e=Ha(this._items,function(i){return i.type===n&&i.fn===t});return this._inLoop!==0&&e!==-1&&(this._removedItems===null&&(this._removedItems=[]),this._removedItems.push(this._items[e])),this._items=wa(this._items,e),this._items.length},addSpy:function(n){return this._spies=Nl(this._spies,[n]),this._spies.length},removeSpy:function(n){return this._spies=wa(this._spies,this._spies.indexOf(n)),this._spies.length},dispatch:function(n){this._inLoop++;for(var t=0,e=this._spies;this._spies!==null&&t<e.length;t++)e[t](n);for(var i=0,c=this._items;i<c.length&&this._items!==null;i++)this._removedItems!==null&&o0(this._removedItems,c[i])||xa(c[i].type,c[i].fn,n);this._inLoop--,this._inLoop===0&&(this._removedItems=null)},cleanup:function(){this._items=null,this._spies=null}});function Q(){this._dispatcher=new Yb,this._active=!1,this._alive=!0,this._activating=!1,this._logHandlers=null,this._spyHandlers=null}co(Q.prototype,{_name:"observable",_onActivation:function(){},_onDeactivation:function(){},_setActive:function(n){this._active!==n&&(this._active=n,n?(this._activating=!0,this._onActivation(),this._activating=!1):this._onDeactivation())},_clear:function(){this._setActive(!1),this._dispatcher.cleanup(),this._dispatcher=null,this._logHandlers=null},_emit:function(n,t){switch(n){case se:return this._emitValue(t);case me:return this._emitError(t);case qt:return this._emitEnd()}},_emitValue:function(n){this._alive&&this._dispatcher.dispatch({type:se,value:n})},_emitError:function(n){this._alive&&this._dispatcher.dispatch({type:me,value:n})},_emitEnd:function(){this._alive&&(this._alive=!1,this._dispatcher.dispatch({type:qt}),this._clear())},_on:function(n,t){return this._alive?(this._dispatcher.add(n,t),this._setActive(!0)):xa(n,t,{type:qt}),this},_off:function(n,t){if(this._alive){var e=this._dispatcher.remove(n,t);e===0&&this._setActive(!1)}return this},onValue:function(n){return this._on(se,n)},onError:function(n){return this._on(me,n)},onEnd:function(n){return this._on(qt,n)},onAny:function(n){return this._on(Gs,n)},offValue:function(n){return this._off(se,n)},offError:function(n){return this._off(me,n)},offEnd:function(n){return this._off(qt,n)},offAny:function(n){return this._off(Gs,n)},observe:function(n,t,e){var i=this,c=!1,s=!n||typeof n=="function"?{value:n,error:t,end:e}:n,b=function(X){X.type===qt&&(c=!0),X.type===se&&s.value?s.value(X.value):X.type===me&&s.error?s.error(X.value):X.type===qt&&s.end&&s.end(X.value)};return this.onAny(b),{unsubscribe:function(){c||(i.offAny(b),c=!0)},get closed(){return c}}},_ofSameType:function(n,t){return n.prototype.getType()===this.getType()?n:t},setName:function(n,t){return this._name=t?n._name+"."+t:n,this},log:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.toString(),t=void 0,e=function(i){var c="<"+i.type+(t?":current":"")+">";i.type===qt?console.log(n,c):console.log(n,c,i.value)};return this._alive&&(this._logHandlers||(this._logHandlers=[]),this._logHandlers.push({name:n,handler:e})),t=!0,this.onAny(e),t=!1,this},offLog:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.toString();if(this._logHandlers){var t=Ha(this._logHandlers,function(e){return e.name===n});t!==-1&&(this.offAny(this._logHandlers[t].handler),this._logHandlers.splice(t,1))}return this},spy:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.toString(),t=function(e){var i="<"+e.type+">";e.type===qt?console.log(n,i):console.log(n,i,e.value)};return this._alive&&(this._spyHandlers||(this._spyHandlers=[]),this._spyHandlers.push({name:n,handler:t}),this._dispatcher.addSpy(t)),this},offSpy:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.toString();if(this._spyHandlers){var t=Ha(this._spyHandlers,function(e){return e.name===n});t!==-1&&(this._dispatcher.removeSpy(this._spyHandlers[t].handler),this._spyHandlers.splice(t,1))}return this}});Q.prototype.toString=function(){return"["+this._name+"]"};function Nt(){Q.call(this)}Ze(Nt,Q,{_name:"stream",getType:function(){return"stream"}});function Xn(){Q.call(this),this._currentEvent=null}Ze(Xn,Q,{_name:"property",_emitValue:function(n){this._alive&&(this._currentEvent={type:se,value:n},this._activating||this._dispatcher.dispatch({type:se,value:n}))},_emitError:function(n){this._alive&&(this._currentEvent={type:me,value:n},this._activating||this._dispatcher.dispatch({type:me,value:n}))},_emitEnd:function(){this._alive&&(this._alive=!1,this._activating||this._dispatcher.dispatch({type:qt}),this._clear())},_on:function(n,t){return this._alive&&(this._dispatcher.add(n,t),this._setActive(!0)),this._currentEvent!==null&&xa(n,t,this._currentEvent),this._alive||xa(n,t,{type:qt}),this},getType:function(){return"property"}});var Ps=new Nt;Ps._emitEnd();Ps._name="never";function ai(){return Ps}function Kr(n){function t(e,i){var c=this;Nt.call(this),this._wait=e,this._intervalId=null,this._$onTick=function(){return c._onTick()},this._init(i)}return Ze(t,Nt,{_init:function(){},_free:function(){},_onTick:function(){},_onActivation:function(){this._intervalId=setInterval(this._$onTick,this._wait)},_onDeactivation:function(){this._intervalId!==null&&(clearInterval(this._intervalId),this._intervalId=null)},_clear:function(){Nt.prototype._clear.call(this),this._$onTick=null,this._free()}},n),t}var s0=Kr({_name:"later",_init:function(n){var t=n.x;this._x=t},_free:function(){this._x=null},_onTick:function(){this._emitValue(this._x),this._emitEnd()}});function m0(n,t){return new s0(n,{x:t})}var u0=Kr({_name:"interval",_init:function(n){var t=n.x;this._x=t},_free:function(){this._x=null},_onTick:function(){this._emitValue(this._x)}});function b0(n,t){return new u0(n,{x:t})}var h0=Kr({_name:"sequentially",_init:function(n){var t=n.xs;this._xs=Ms(t)},_free:function(){this._xs=null},_onTick:function(){this._xs.length===1?(this._emitValue(this._xs[0]),this._emitEnd()):this._emitValue(this._xs.shift())}});function p0(n,t){return t.length===0?ai():new h0(n,{xs:t})}var Z0=Kr({_name:"fromPoll",_init:function(n){var t=n.fn;this._fn=t},_free:function(){this._fn=null},_onTick:function(){var n=this._fn;this._emitValue(n())}});function y0(n,t){return new Z0(n,{fn:t})}function js(n){function t(s){return n._emitValue(s),n._active}function e(s){return n._emitError(s),n._active}function i(){return n._emitEnd(),n._active}function c(s){return n._emit(s.type,s.value),n._active}return{value:t,error:e,end:i,event:c,emit:t,emitEvent:c}}var X0=Kr({_name:"withInterval",_init:function(n){var t=n.fn;this._fn=t,this._emitter=js(this)},_free:function(){this._fn=null,this._emitter=null},_onTick:function(){var n=this._fn;n(this._emitter)}});function W0(n,t){return new X0(n,{fn:t})}function Fb(n){Nt.call(this),this._fn=n,this._unsubscribe=null}Ze(Fb,Nt,{_name:"stream",_onActivation:function(){var n=this._fn,t=n(js(this));this._unsubscribe=typeof t=="function"?t:null,this._active||this._callUnsubscribe()},_callUnsubscribe:function(){this._unsubscribe!==null&&(this._unsubscribe(),this._unsubscribe=null)},_onDeactivation:function(){this._callUnsubscribe()},_clear:function(){Nt.prototype._clear.call(this),this._fn=null}});function _l(n){return new Fb(n)}function V0(n){var t=!1;return _l(function(e){t||(n(function(i){e.emit(i),e.end()}),t=!0)}).setName("fromCallback")}function f0(n){var t=!1;return _l(function(e){t||(n(function(i,c){i?e.error(i):e.emit(c),e.end()}),t=!0)}).setName("fromNodeCallback")}function Ib(n,t){switch(t){case 0:return function(){return n()};case 1:return function(e){return n(e[0])};case 2:return function(e){return n(e[0],e[1])};case 3:return function(e){return n(e[0],e[1],e[2])};case 4:return function(e){return n(e[0],e[1],e[2],e[3])};default:return function(e){return n.apply(null,e)}}}function G0(n,t,e){var i=e?e.length:0;if(t==null)switch(i){case 0:return n();case 1:return n(e[0]);case 2:return n(e[0],e[1]);case 3:return n(e[0],e[1],e[2]);case 4:return n(e[0],e[1],e[2],e[3]);default:return n.apply(null,e)}else switch(i){case 0:return n.call(t);default:return n.apply(t,e)}}function R0(n,t,e){return _l(function(i){var c=e?function(){i.emit(G0(e,this,arguments))}:function(s){i.emit(s)};return n(c),function(){return t(c)}}).setName("fromSubUnsub")}var hr=[["addEventListener","removeEventListener"],["addListener","removeListener"],["on","off"]];function v0(n,t,e){for(var i=void 0,c=void 0,s=0;s<hr.length;s++)if(typeof n[hr[s][0]]=="function"&&typeof n[hr[s][1]]=="function"){i=hr[s][0],c=hr[s][1];break}if(i===void 0)throw new Error("target don't support any of addEventListener/removeEventListener, addListener/removeListener, on/off method pair");return R0(function(b){return n[i](t,b)},function(b){return n[c](t,b)},e).setName("fromEvents")}function Jb(n){this._currentEvent={type:"value",value:n,current:!0}}Ze(Jb,Xn,{_name:"constant",_active:!1,_activating:!1,_alive:!1,_dispatcher:null,_logHandlers:null});function kb(n){return new Jb(n)}function Nb(n){this._currentEvent={type:"error",value:n,current:!0}}Ze(Nb,Xn,{_name:"constantError",_active:!1,_activating:!1,_alive:!1,_dispatcher:null,_logHandlers:null});function g0(n){return new Nb(n)}function Hb(n,t){return function(i,c){var s=this;n.call(this),this._source=i,this._name=i._name+"."+t,this._init(c),this._$handleAny=function(b){return s._handleAny(b)}}}function wb(n){return{_init:function(){},_free:function(){},_handleValue:function(t){this._emitValue(t)},_handleError:function(t){this._emitError(t)},_handleEnd:function(){this._emitEnd()},_handleAny:function(t){switch(t.type){case se:return this._handleValue(t.value);case me:return this._handleError(t.value);case qt:return this._handleEnd()}},_onActivation:function(){this._source.onAny(this._$handleAny)},_onDeactivation:function(){this._source.offAny(this._$handleAny)},_clear:function(){n.prototype._clear.call(this),this._source=null,this._$handleAny=null,this._free()}}}function Vt(n,t){var e=Hb(Nt,n);return Ze(e,Nt,wb(Nt),t),e}function ft(n,t){var e=Hb(Xn,n);return Ze(e,Xn,wb(Xn),t),e}var Y0=ft("toProperty",{_init:function(n){var t=n.fn;this._getInitialCurrent=t},_onActivation:function(){if(this._getInitialCurrent!==null){var n=this._getInitialCurrent;this._emitValue(n())}this._source.onAny(this._$handleAny)}});function Qs(n){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(t!==null&&typeof t!="function")throw new Error("You should call toProperty() with a function or no arguments.");return new Y0(n,{fn:t})}var F0=Vt("changes",{_handleValue:function(n){this._activating||this._emitValue(n)},_handleError:function(n){this._activating||this._emitError(n)}});function I0(n){return new F0(n)}function J0(n){var t=!1,e=_l(function(i){if(!t){var c=function(X){i.emit(X),i.end()},s=function(X){i.error(X),i.end()},b=n.then(c,s);b&&typeof b.done=="function"&&b.done(),t=!0}});return Qs(e,null).setName("fromPromise")}function k0(){if(typeof Promise=="function")return Promise;throw new Error("There isn't default Promise, use shim or parameter")}var N0=function(n){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:k0(),e=null;return new t(function(i,c){n.onAny(function(s){s.type===qt&&e!==null?((e.type===se?i:c)(e.value),e=null):e=s})})};function H0(n){var t,e=n.Symbol;return typeof e=="function"?e.observable?t=e.observable:(t=e("observable"),e.observable=t):t="@@observable",t}var gl;typeof self<"u"?gl=self:typeof window<"u"?gl=window:typeof global<"u"?gl=global:typeof module<"u"?gl=module:gl=Function("return this")();var _d=H0(gl),Sa=_d.default?_d.default:_d;function w0(n){var t=n[Sa]?n[Sa]():n;return _l(function(e){var i=t.subscribe({error:function(c){e.error(c),e.end()},next:function(c){e.emit(c)},complete:function(){e.end()}});return i.unsubscribe?function(){i.unsubscribe()}:i}).setName("fromESObservable")}function Os(n){this._observable=n.takeErrors(1)}co(Os.prototype,{subscribe:function(n,t,e){var i=this,c=typeof n=="function"?{next:n,error:t,complete:e}:n,s=function(F){F.type===qt&&(b=!0),F.type===se&&c.next?c.next(F.value):F.type===me&&c.error?c.error(F.value):F.type===qt&&c.complete&&c.complete(F.value)};this._observable.onAny(s);var b=!1,X={unsubscribe:function(){b=!0,i._observable.offAny(s)},get closed(){return b}};return X}});Os.prototype[Sa]=function(){return this};function xb(){return new Os(this)}function qm(n,t,e){for(var i in n)n.hasOwnProperty(i)&&(t.push(i),e.push(n[i]))}function x0(n){for(var t=void 0,e=0;e<n.length;e++)n[e]!==void 0&&(t===void 0||t.index<n[e].index)&&(t=n[e]);return t.error}function Ds(n,t,e){var i=this;Nt.call(this),this._activeCount=n.length,this._sources=Nl(n,t),this._combinator=e,this._aliveCount=0,this._latestValues=new Array(this._sources.length),this._latestErrors=new Array(this._sources.length),a0(this._latestValues,ue),this._emitAfterActivation=!1,this._endAfterActivation=!1,this._latestErrorIndex=0,this._$handlers=[];for(var c=function(b){i._$handlers.push(function(X){return i._handleAny(b,X)})},s=0;s<this._sources.length;s++)c(s)}Ze(Ds,Nt,{_name:"combine",_onActivation:function(){this._aliveCount=this._activeCount;for(var n=this._activeCount;n<this._sources.length;n++)this._sources[n].onAny(this._$handlers[n]);for(var t=0;t<this._activeCount;t++)this._sources[t].onAny(this._$handlers[t]);this._emitAfterActivation&&(this._emitAfterActivation=!1,this._emitIfFull()),this._endAfterActivation&&this._emitEnd()},_onDeactivation:function(){var n=this._sources.length,t=void 0;for(t=0;t<n;t++)this._sources[t].offAny(this._$handlers[t])},_emitIfFull:function(){for(var n=!0,t=!1,e=this._latestValues.length,i=new Array(e),c=new Array(e),s=0;s<e;s++)i[s]=this._latestValues[s],c[s]=this._latestErrors[s],i[s]===ue&&(n=!1),c[s]!==void 0&&(t=!0);if(n){var b=this._combinator;this._emitValue(b(i))}t&&this._emitError(x0(c))},_handleAny:function(n,t){t.type===se||t.type===me?(t.type===se&&(this._latestValues[n]=t.value,this._latestErrors[n]=void 0),t.type===me&&(this._latestValues[n]=ue,this._latestErrors[n]={index:this._latestErrorIndex++,error:t.value}),n<this._activeCount&&(this._activating?this._emitAfterActivation=!0:this._emitIfFull())):n<this._activeCount&&(this._aliveCount--,this._aliveCount===0&&(this._activating?this._endAfterActivation=!0:this._emitEnd()))},_clear:function(){Nt.prototype._clear.call(this),this._sources=null,this._latestValues=null,this._latestErrors=null,this._combinator=null,this._$handlers=null}});function S0(n){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],e=arguments[2];if(!Array.isArray(t))throw new Error("Combine can only combine active and passive collections of the same type.");return e=e?Ib(e,n.length+t.length):function(i){return i},n.length===0?ai():new Ds(n,t,e)}function T0(n){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},e=arguments[2];if(typeof t!="object"||Array.isArray(t))throw new Error("Combine can only combine active and passive collections of the same type.");var i=[],c=[],s=[];qm(n,i,c),qm(t,i,s);var b=function(X){for(var F={},U=X.length-1;0<=U;U--)F[i[U]]=X[U];return e?e(F):F};return c.length===0?ai():new Ds(c,s,b)}function ao(n,t,e){return typeof t=="function"&&(e=t,t=void 0),Array.isArray(n)?S0(n,t,e):T0(n,t,e)}var U0={empty:function(){return ai()},concat:function(n,t){return n.merge(t)},of:function(n){return kb(n)},map:function(n,t){return t.map(n)},bimap:function(n,t,e){return e.mapErrors(n).map(t)},ap:function(n,t){return ao([n,t],function(e,i){return e(i)})},chain:function(n,t){return t.flatMap(n)}},K0=Object.freeze({Observable:U0}),Sb={_init:function(n){var t=n.fn;this._fn=t},_free:function(){this._fn=null},_handleValue:function(n){var t=this._fn;this._emitValue(t(n))}},z0=Vt("map",Sb),B0=ft("map",Sb),_0=function(n){return n};function vs(n){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:_0;return new(n._ofSameType(z0,B0))(n,{fn:t})}var Tb={_init:function(n){var t=n.fn;this._fn=t},_free:function(){this._fn=null},_handleValue:function(n){var t=this._fn;t(n)&&this._emitValue(n)}},C0=Vt("filter",Tb),L0=ft("filter",Tb),E0=function(n){return n};function M0(n){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:E0;return new(n._ofSameType(C0,L0))(n,{fn:t})}var Ub={_init:function(n){var t=n.n;this._n=t,t<=0&&this._emitEnd()},_handleValue:function(n){this._n!==0&&(this._n--,this._emitValue(n),this._n===0&&this._emitEnd())}},P0=Vt("take",Ub),j0=ft("take",Ub);function Q0(n,t){return new(n._ofSameType(P0,j0))(n,{n:t})}var Kb={_init:function(n){var t=n.n;this._n=t,t<=0&&this._emitEnd()},_handleError:function(n){this._n!==0&&(this._n--,this._emitError(n),this._n===0&&this._emitEnd())}},O0=Vt("takeErrors",Kb),D0=ft("takeErrors",Kb);function A0(n,t){return new(n._ofSameType(O0,D0))(n,{n:t})}var zb={_init:function(n){var t=n.fn;this._fn=t},_free:function(){this._fn=null},_handleValue:function(n){var t=this._fn;t(n)?this._emitValue(n):this._emitEnd()}},$0=Vt("takeWhile",zb),q0=ft("takeWhile",zb),tX=function(n){return n};function eX(n){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:tX;return new(n._ofSameType($0,q0))(n,{fn:t})}var Bb={_init:function(){this._lastValue=ue},_free:function(){this._lastValue=null},_handleValue:function(n){this._lastValue=n},_handleEnd:function(){this._lastValue!==ue&&this._emitValue(this._lastValue),this._emitEnd()}},nX=Vt("last",Bb),iX=ft("last",Bb);function lX(n){return new(n._ofSameType(nX,iX))(n)}var _b={_init:function(n){var t=n.n;this._n=Math.max(0,t)},_handleValue:function(n){this._n===0?this._emitValue(n):this._n--}},rX=Vt("skip",_b),cX=ft("skip",_b);function aX(n,t){return new(n._ofSameType(rX,cX))(n,{n:t})}var Cb={_init:function(n){var t=n.fn;this._fn=t},_free:function(){this._fn=null},_handleValue:function(n){var t=this._fn;this._fn!==null&&!t(n)&&(this._fn=null),this._fn===null&&this._emitValue(n)}},oX=Vt("skipWhile",Cb),dX=ft("skipWhile",Cb),sX=function(n){return n};function mX(n){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:sX;return new(n._ofSameType(oX,dX))(n,{fn:t})}var Lb={_init:function(n){var t=n.fn;this._fn=t,this._prev=ue},_free:function(){this._fn=null,this._prev=null},_handleValue:function(n){var t=this._fn;(this._prev===ue||!t(this._prev,n))&&(this._prev=n,this._emitValue(n))}},uX=Vt("skipDuplicates",Lb),bX=ft("skipDuplicates",Lb),hX=function(n,t){return n===t};function Eb(n){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:hX;return new(n._ofSameType(uX,bX))(n,{fn:t})}var Mb={_init:function(n){var t=n.fn,e=n.seed;this._fn=t,this._prev=e},_free:function(){this._prev=null,this._fn=null},_handleValue:function(n){if(this._prev!==ue){var t=this._fn;this._emitValue(t(this._prev,n))}this._prev=n}},pX=Vt("diff",Mb),ZX=ft("diff",Mb);function yX(n,t){return[n,t]}function XX(n,t){var e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:ue;return new(n._ofSameType(pX,ZX))(n,{fn:t||yX,seed:e})}var WX=ft("scan",{_init:function(n){var t=n.fn,e=n.seed;this._fn=t,this._seed=e,e!==ue&&this._emitValue(e)},_free:function(){this._fn=null,this._seed=null},_handleValue:function(n){var t=this._fn;this._currentEvent===null||this._currentEvent.type===me?this._emitValue(this._seed===ue?n:t(this._seed,n)):this._emitValue(t(this._currentEvent.value,n))}});function VX(n,t){var e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:ue;return new WX(n,{fn:t,seed:e})}var fX={_init:function(n){var t=n.fn;this._fn=t},_free:function(){this._fn=null},_handleValue:function(n){for(var t=this._fn,e=t(n),i=0;i<e.length;i++)this._emitValue(e[i])}},GX=Vt("flatten",fX),RX=function(n){return n};function vX(n){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:RX;return new GX(n,{fn:t})}var tu={},Pb={_init:function(n){var t=this,e=n.wait;this._wait=Math.max(0,e),this._buff=[],this._$shiftBuff=function(){var i=t._buff.shift();i===tu?t._emitEnd():t._emitValue(i)}},_free:function(){this._buff=null,this._$shiftBuff=null},_handleValue:function(n){this._activating?this._emitValue(n):(this._buff.push(n),setTimeout(this._$shiftBuff,this._wait))},_handleEnd:function(){this._activating?this._emitEnd():(this._buff.push(tu),setTimeout(this._$shiftBuff,this._wait))}},gX=Vt("delay",Pb),YX=ft("delay",Pb);function FX(n,t){return new(n._ofSameType(gX,YX))(n,{wait:t})}var Ta=Date.now?function(){return Date.now()}:function(){return new Date().getTime()},jb={_init:function(n){var t=this,e=n.wait,i=n.leading,c=n.trailing;this._wait=Math.max(0,e),this._leading=i,this._trailing=c,this._trailingValue=null,this._timeoutId=null,this._endLater=!1,this._lastCallTime=0,this._$trailingCall=function(){return t._trailingCall()}},_free:function(){this._trailingValue=null,this._$trailingCall=null},_handleValue:function(n){if(this._activating)this._emitValue(n);else{var t=Ta();this._lastCallTime===0&&!this._leading&&(this._lastCallTime=t);var e=this._wait-(t-this._lastCallTime);e<=0?(this._cancelTrailing(),this._lastCallTime=t,this._emitValue(n)):this._trailing&&(this._cancelTrailing(),this._trailingValue=n,this._timeoutId=setTimeout(this._$trailingCall,e))}},_handleEnd:function(){this._activating?this._emitEnd():this._timeoutId?this._endLater=!0:this._emitEnd()},_cancelTrailing:function(){this._timeoutId!==null&&(clearTimeout(this._timeoutId),this._timeoutId=null)},_trailingCall:function(){this._emitValue(this._trailingValue),this._timeoutId=null,this._trailingValue=null,this._lastCallTime=this._leading?Ta():0,this._endLater&&this._emitEnd()}},IX=Vt("throttle",jb),JX=ft("throttle",jb);function kX(n,t){var e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=e.leading,c=i===void 0?!0:i,s=e.trailing,b=s===void 0?!0:s;return new(n._ofSameType(IX,JX))(n,{wait:t,leading:c,trailing:b})}var Qb={_init:function(n){var t=this,e=n.wait,i=n.immediate;this._wait=Math.max(0,e),this._immediate=i,this._lastAttempt=0,this._timeoutId=null,this._laterValue=null,this._endLater=!1,this._$later=function(){return t._later()}},_free:function(){this._laterValue=null,this._$later=null},_handleValue:function(n){this._activating?this._emitValue(n):(this._lastAttempt=Ta(),this._immediate&&!this._timeoutId&&this._emitValue(n),this._timeoutId||(this._timeoutId=setTimeout(this._$later,this._wait)),this._immediate||(this._laterValue=n))},_handleEnd:function(){this._activating?this._emitEnd():this._timeoutId&&!this._immediate?this._endLater=!0:this._emitEnd()},_later:function(){var n=Ta()-this._lastAttempt;if(n<this._wait&&n>=0)this._timeoutId=setTimeout(this._$later,this._wait-n);else{if(this._timeoutId=null,!this._immediate){var t=this._laterValue;this._laterValue=null,this._emitValue(t)}this._endLater&&this._emitEnd()}}},NX=Vt("debounce",Qb),HX=ft("debounce",Qb);function wX(n,t){var e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=e.immediate,c=i===void 0?!1:i;return new(n._ofSameType(NX,HX))(n,{wait:t,immediate:c})}var Ob={_init:function(n){var t=n.fn;this._fn=t},_free:function(){this._fn=null},_handleError:function(n){var t=this._fn;this._emitError(t(n))}},xX=Vt("mapErrors",Ob),SX=ft("mapErrors",Ob),TX=function(n){return n};function UX(n){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:TX;return new(n._ofSameType(xX,SX))(n,{fn:t})}var Db={_init:function(n){var t=n.fn;this._fn=t},_free:function(){this._fn=null},_handleError:function(n){var t=this._fn;t(n)&&this._emitError(n)}},KX=Vt("filterErrors",Db),zX=ft("filterErrors",Db),BX=function(n){return n};function _X(n){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:BX;return new(n._ofSameType(KX,zX))(n,{fn:t})}var Ab={_handleValue:function(){}},CX=Vt("ignoreValues",Ab),LX=ft("ignoreValues",Ab);function EX(n){return new(n._ofSameType(CX,LX))(n)}var $b={_handleError:function(){}},MX=Vt("ignoreErrors",$b),PX=ft("ignoreErrors",$b);function jX(n){return new(n._ofSameType(MX,PX))(n)}var qb={_handleEnd:function(){}},QX=Vt("ignoreEnd",qb),OX=ft("ignoreEnd",qb);function DX(n){return new(n._ofSameType(QX,OX))(n)}var th={_init:function(n){var t=n.fn;this._fn=t},_free:function(){this._fn=null},_handleEnd:function(){var n=this._fn;this._emitValue(n()),this._emitEnd()}},AX=Vt("beforeEnd",th),$X=ft("beforeEnd",th);function qX(n,t){return new(n._ofSameType(AX,$X))(n,{fn:t})}var eh={_init:function(n){var t=n.min,e=n.max;this._max=e,this._min=t,this._buff=[]},_free:function(){this._buff=null},_handleValue:function(n){this._buff=d0(this._buff,n,this._max),this._buff.length>=this._min&&this._emitValue(this._buff)}},tW=Vt("slidingWindow",eh),eW=ft("slidingWindow",eh);function nW(n,t){var e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;return new(n._ofSameType(tW,eW))(n,{min:e,max:t})}var nh={_init:function(n){var t=n.fn,e=n.flushOnEnd;this._fn=t,this._flushOnEnd=e,this._buff=[]},_free:function(){this._buff=null},_flush:function(){this._buff!==null&&this._buff.length!==0&&(this._emitValue(this._buff),this._buff=[])},_handleValue:function(n){this._buff.push(n);var t=this._fn;t(n)||this._flush()},_handleEnd:function(){this._flushOnEnd&&this._flush(),this._emitEnd()}},iW=Vt("bufferWhile",nh),lW=ft("bufferWhile",nh),rW=function(n){return n};function cW(n,t){var e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=e.flushOnEnd,c=i===void 0?!0:i;return new(n._ofSameType(iW,lW))(n,{fn:t||rW,flushOnEnd:c})}var ih={_init:function(n){var t=n.count,e=n.flushOnEnd;this._count=t,this._flushOnEnd=e,this._buff=[]},_free:function(){this._buff=null},_flush:function(){this._buff!==null&&this._buff.length!==0&&(this._emitValue(this._buff),this._buff=[])},_handleValue:function(n){this._buff.push(n),this._buff.length>=this._count&&this._flush()},_handleEnd:function(){this._flushOnEnd&&this._flush(),this._emitEnd()}},aW=Vt("bufferWithCount",ih),oW=ft("bufferWithCount",ih);function dW(n,t){var e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=e.flushOnEnd,c=i===void 0?!0:i;return new(n._ofSameType(aW,oW))(n,{count:t,flushOnEnd:c})}var lh={_init:function(n){var t=this,e=n.wait,i=n.count,c=n.flushOnEnd;this._wait=e,this._count=i,this._flushOnEnd=c,this._intervalId=null,this._$onTick=function(){return t._flush()},this._buff=[]},_free:function(){this._$onTick=null,this._buff=null},_flush:function(){this._buff!==null&&(this._emitValue(this._buff),this._buff=[])},_handleValue:function(n){this._buff.push(n),this._buff.length>=this._count&&(clearInterval(this._intervalId),this._flush(),this._intervalId=setInterval(this._$onTick,this._wait))},_handleEnd:function(){this._flushOnEnd&&this._buff.length!==0&&this._flush(),this._emitEnd()},_onActivation:function(){this._intervalId=setInterval(this._$onTick,this._wait),this._source.onAny(this._$handleAny)},_onDeactivation:function(){this._intervalId!==null&&(clearInterval(this._intervalId),this._intervalId=null),this._source.offAny(this._$handleAny)}},sW=Vt("bufferWithTimeOrCount",lh),mW=ft("bufferWithTimeOrCount",lh);function uW(n,t,e){var i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},c=i.flushOnEnd,s=c===void 0?!0:c;return new(n._ofSameType(sW,mW))(n,{wait:t,count:e,flushOnEnd:s})}function bW(n){return{"@@transducer/step":function(t,e){return n._emitValue(e),null},"@@transducer/result":function(){return n._emitEnd(),null}}}var rh={_init:function(n){var t=n.transducer;this._xform=t(bW(this))},_free:function(){this._xform=null},_handleValue:function(n){this._xform["@@transducer/step"](null,n)!==null&&this._xform["@@transducer/result"](null)},_handleEnd:function(){this._xform["@@transducer/result"](null)}},hW=Vt("transduce",rh),pW=ft("transduce",rh);function ZW(n,t){return new(n._ofSameType(hW,pW))(n,{transducer:t})}var ch={_init:function(n){var t=n.fn;this._handler=t,this._emitter=js(this)},_free:function(){this._handler=null,this._emitter=null},_handleAny:function(n){this._handler(this._emitter,n)}},yW=Vt("withHandler",ch),XW=ft("withHandler",ch);function WW(n,t){return new(n._ofSameType(yW,XW))(n,{fn:t})}var eu=Array.isArray||function(n){return Object.prototype.toString.call(n)==="[object Array]"};function ah(n,t){var e=this;Nt.call(this),this._buffers=$m(n,function(s){return eu(s)?Ms(s):[]}),this._sources=$m(n,function(s){return eu(s)?ai():s}),this._combinator=t?Ib(t,this._sources.length):function(s){return s},this._aliveCount=0,this._$handlers=[];for(var i=function(s){e._$handlers.push(function(b){return e._handleAny(s,b)})},c=0;c<this._sources.length;c++)i(c)}Ze(ah,Nt,{_name:"zip",_onActivation:function(){for(;this._isFull();)this._emit();var n=this._sources.length;this._aliveCount=n;for(var t=0;t<n&&this._active;t++)this._sources[t].onAny(this._$handlers[t])},_onDeactivation:function(){for(var n=0;n<this._sources.length;n++)this._sources[n].offAny(this._$handlers[n])},_emit:function(){for(var n=new Array(this._buffers.length),t=0;t<this._buffers.length;t++)n[t]=this._buffers[t].shift();var e=this._combinator;this._emitValue(e(n))},_isFull:function(){for(var n=0;n<this._buffers.length;n++)if(this._buffers[n].length===0)return!1;return!0},_handleAny:function(n,t){t.type===se&&(this._buffers[n].push(t.value),this._isFull()&&this._emit()),t.type===me&&this._emitError(t.value),t.type===qt&&(this._aliveCount--,this._aliveCount===0&&this._emitEnd())},_clear:function(){Nt.prototype._clear.call(this),this._sources=null,this._buffers=null,this._combinator=null,this._$handlers=null}});function oh(n,t){return n.length===0?ai():new ah(n,t)}var VW=function(n){return n};function yn(){var n=this,t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=t.queueLim,i=e===void 0?0:e,c=t.concurLim,s=c===void 0?-1:c,b=t.drop,X=b===void 0?"new":b;Nt.call(this),this._queueLim=i<0?-1:i,this._concurLim=s<0?-1:s,this._drop=X,this._queue=[],this._curSources=[],this._$handleSubAny=function(F){return n._handleSubAny(F)},this._$endHandlers=[],this._currentlyAdding=null,this._concurLim===0&&this._emitEnd()}Ze(yn,Nt,{_name:"abstractPool",_add:function(n,t){t=t||VW,this._concurLim===-1||this._curSources.length<this._concurLim?this._addToCur(t(n)):this._queueLim===-1||this._queue.length<this._queueLim?this._addToQueue(t(n)):this._drop==="old"&&(this._removeOldest(),this._add(n,t))},_addAll:function(n){var t=this;c0(n,function(e){return t._add(e)})},_remove:function(n){this._removeCur(n)===-1&&this._removeQueue(n)},_addToQueue:function(n){this._queue=Nl(this._queue,[n])},_addToCur:function(n){if(this._active){if(!n._alive){n._currentEvent&&this._emit(n._currentEvent.type,n._currentEvent.value),this._active&&(this._queue.length!==0?this._pullQueue():this._curSources.length===0&&this._onEmpty());return}this._currentlyAdding=n,n.onAny(this._$handleSubAny),this._currentlyAdding=null,n._alive?(this._curSources=Nl(this._curSources,[n]),this._active&&this._subToEnd(n)):this._queue.length!==0?this._pullQueue():this._curSources.length===0&&this._onEmpty()}else this._curSources=Nl(this._curSources,[n])},_subToEnd:function(n){var t=this,e=function(){return t._removeCur(n)};this._$endHandlers.push({obs:n,handler:e}),n.onEnd(e)},_subscribe:function(n){n.onAny(this._$handleSubAny),this._active&&this._subToEnd(n)},_unsubscribe:function(n){n.offAny(this._$handleSubAny);var t=Ha(this._$endHandlers,function(e){return e.obs===n});t!==-1&&(n.offEnd(this._$endHandlers[t].handler),this._$endHandlers.splice(t,1))},_handleSubAny:function(n){n.type===se?this._emitValue(n.value):n.type===me&&this._emitError(n.value)},_removeQueue:function(n){var t=Rs(this._queue,n);return this._queue=wa(this._queue,t),t},_removeCur:function(n){this._active&&this._unsubscribe(n);var t=Rs(this._curSources,n);return this._curSources=wa(this._curSources,t),t!==-1&&(this._queue.length!==0?this._pullQueue():this._curSources.length===0&&this._onEmpty()),t},_removeOldest:function(){this._removeCur(this._curSources[0])},_pullQueue:function(){this._queue.length!==0&&(this._queue=Ms(this._queue),this._addToCur(this._queue.shift()))},_onActivation:function(){for(var n=0,t=this._curSources;n<t.length&&this._active;n++)this._subscribe(t[n])},_onDeactivation:function(){for(var n=0,t=this._curSources;n<t.length;n++)this._unsubscribe(t[n]);this._currentlyAdding!==null&&this._unsubscribe(this._currentlyAdding)},_isEmpty:function(){return this._curSources.length===0},_onEmpty:function(){},_clear:function(){Nt.prototype._clear.call(this),this._queue=null,this._curSources=null,this._$handleSubAny=null,this._$endHandlers=null}});function dh(n){yn.call(this),this._addAll(n),this._initialised=!0}Ze(dh,yn,{_name:"merge",_onEmpty:function(){this._initialised&&this._emitEnd()}});function As(n){return n.length===0?ai():new dh(n)}function sh(n){var t=this;Nt.call(this),this._generator=n,this._source=null,this._inLoop=!1,this._iteration=0,this._$handleAny=function(e){return t._handleAny(e)}}Ze(sh,Nt,{_name:"repeat",_handleAny:function(n){n.type===qt?(this._source=null,this._getSource()):this._emit(n.type,n.value)},_getSource:function(){if(!this._inLoop){this._inLoop=!0;for(var n=this._generator;this._source===null&&this._alive&&this._active;)this._source=n(this._iteration++),this._source?this._source.onAny(this._$handleAny):this._emitEnd();this._inLoop=!1}},_onActivation:function(){this._source?this._source.onAny(this._$handleAny):this._getSource()},_onDeactivation:function(){this._source&&this._source.offAny(this._$handleAny)},_clear:function(){Nt.prototype._clear.call(this),this._generator=null,this._source=null,this._$handleAny=null}});var mh=function(n){return new sh(n)};function uh(n){return mh(function(t){return n.length>t?n[t]:!1}).setName("concat")}function $s(){yn.call(this)}Ze($s,yn,{_name:"pool",plug:function(n){return this._add(n),this},unplug:function(n){return this._remove(n),this}});function oi(n,t,e){var i=this;yn.call(this,e),this._source=n,this._fn=t,this._mainEnded=!1,this._lastCurrent=null,this._$handleMain=function(c){return i._handleMain(c)}}Ze(oi,yn,{_onActivation:function(){yn.prototype._onActivation.call(this),this._active&&this._source.onAny(this._$handleMain)},_onDeactivation:function(){yn.prototype._onDeactivation.call(this),this._source.offAny(this._$handleMain),this._hadNoEvSinceDeact=!0},_handleMain:function(n){if(n.type===se){var t=this._activating&&this._hadNoEvSinceDeact&&this._lastCurrent===n.value;t||this._add(n.value,this._fn),this._lastCurrent=n.value,this._hadNoEvSinceDeact=!1}n.type===me&&this._emitError(n.value),n.type===qt&&(this._isEmpty()?this._emitEnd():this._mainEnded=!0)},_onEmpty:function(){this._mainEnded&&this._emitEnd()},_clear:function(){yn.prototype._clear.call(this),this._source=null,this._lastCurrent=null,this._$handleMain=null}});function bh(n,t){oi.call(this,n,t)}Ze(bh,oi,{_handleMain:function(n){if(n.type===me){var t=this._activating&&this._hadNoEvSinceDeact&&this._lastCurrent===n.value;t||this._add(n.value,this._fn),this._lastCurrent=n.value,this._hadNoEvSinceDeact=!1}n.type===se&&this._emitValue(n.value),n.type===qt&&(this._isEmpty()?this._emitEnd():this._mainEnded=!0)}});function hh(n,t){return function(i,c,s){var b=this;n.call(this),this._primary=i,this._secondary=c,this._name=i._name+"."+t,this._lastSecondary=ue,this._$handleSecondaryAny=function(X){return b._handleSecondaryAny(X)},this._$handlePrimaryAny=function(X){return b._handlePrimaryAny(X)},this._init(s)}}function ph(n){return{_init:function(){},_free:function(){},_handlePrimaryValue:function(t){this._emitValue(t)},_handlePrimaryError:function(t){this._emitError(t)},_handlePrimaryEnd:function(){this._emitEnd()},_handleSecondaryValue:function(t){this._lastSecondary=t},_handleSecondaryError:function(t){this._emitError(t)},_handleSecondaryEnd:function(){},_handlePrimaryAny:function(t){switch(t.type){case se:return this._handlePrimaryValue(t.value);case me:return this._handlePrimaryError(t.value);case qt:return this._handlePrimaryEnd(t.value)}},_handleSecondaryAny:function(t){switch(t.type){case se:return this._handleSecondaryValue(t.value);case me:return this._handleSecondaryError(t.value);case qt:this._handleSecondaryEnd(t.value),this._removeSecondary()}},_removeSecondary:function(){this._secondary!==null&&(this._secondary.offAny(this._$handleSecondaryAny),this._$handleSecondaryAny=null,this._secondary=null)},_onActivation:function(){this._secondary!==null&&this._secondary.onAny(this._$handleSecondaryAny),this._active&&this._primary.onAny(this._$handlePrimaryAny)},_onDeactivation:function(){this._secondary!==null&&this._secondary.offAny(this._$handleSecondaryAny),this._primary.offAny(this._$handlePrimaryAny)},_clear:function(){n.prototype._clear.call(this),this._primary=null,this._secondary=null,this._lastSecondary=null,this._$handleSecondaryAny=null,this._$handlePrimaryAny=null,this._free()}}}function zr(n,t){var e=hh(Nt,n);return Ze(e,Nt,ph(Nt),t),e}function Br(n,t){var e=hh(Xn,n);return Ze(e,Xn,ph(Xn),t),e}var Zh={_handlePrimaryValue:function(n){this._lastSecondary!==ue&&this._lastSecondary&&this._emitValue(n)},_handleSecondaryEnd:function(){(this._lastSecondary===ue||!this._lastSecondary)&&this._emitEnd()}},fW=zr("filterBy",Zh),GW=Br("filterBy",Zh);function RW(n,t){return new(n._ofSameType(fW,GW))(n,t)}var vW=function(n,t){return t};function gW(n,t,e){var i=e?function(c,s){return e(s,c)}:vW;return ao([t],[n],i).setName(n,"sampledBy")}var yh={_handlePrimaryValue:function(n){this._lastSecondary!==ue&&this._emitValue(n)},_handleSecondaryEnd:function(){this._lastSecondary===ue&&this._emitEnd()}},YW=zr("skipUntilBy",yh),FW=Br("skipUntilBy",yh);function IW(n,t){return new(n._ofSameType(YW,FW))(n,t)}var Xh={_handleSecondaryValue:function(){this._emitEnd()}},JW=zr("takeUntilBy",Xh),kW=Br("takeUntilBy",Xh);function NW(n,t){return new(n._ofSameType(JW,kW))(n,t)}var Wh={_init:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=n.flushOnEnd,e=t===void 0?!0:t;this._buff=[],this._flushOnEnd=e},_free:function(){this._buff=null},_flush:function(){this._buff!==null&&(this._emitValue(this._buff),this._buff=[])},_handlePrimaryEnd:function(){this._flushOnEnd&&this._flush(),this._emitEnd()},_onActivation:function(){this._primary.onAny(this._$handlePrimaryAny),this._alive&&this._secondary!==null&&this._secondary.onAny(this._$handleSecondaryAny)},_handlePrimaryValue:function(n){this._buff.push(n)},_handleSecondaryValue:function(){this._flush()},_handleSecondaryEnd:function(){this._flushOnEnd||this._emitEnd()}},HW=zr("bufferBy",Wh),wW=Br("bufferBy",Wh);function xW(n,t,e){return new(n._ofSameType(HW,wW))(n,t,e)}var Vh={_init:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=n.flushOnEnd,e=t===void 0?!0:t,i=n.flushOnChange,c=i===void 0?!1:i;this._buff=[],this._flushOnEnd=e,this._flushOnChange=c},_free:function(){this._buff=null},_flush:function(){this._buff!==null&&(this._emitValue(this._buff),this._buff=[])},_handlePrimaryEnd:function(){this._flushOnEnd&&this._flush(),this._emitEnd()},_handlePrimaryValue:function(n){this._buff.push(n),this._lastSecondary!==ue&&!this._lastSecondary&&this._flush()},_handleSecondaryEnd:function(){!this._flushOnEnd&&(this._lastSecondary===ue||this._lastSecondary)&&this._emitEnd()},_handleSecondaryValue:function(n){this._flushOnChange&&!n&&this._flush(),this._lastSecondary=n}},SW=zr("bufferWhileBy",Vh),TW=Br("bufferWhileBy",Vh);function UW(n,t,e){return new(n._ofSameType(SW,TW))(n,t,e)}var nu=function(){return!1},KW=function(){return!0};function zW(n,t){var e=As([vs(n,KW),vs(t,nu)]);return e=Eb(e),e=Qs(e,nu),e.setName(n,"awaiting")}var fh={_init:function(n){var t=n.fn;this._fn=t},_free:function(){this._fn=null},_handleValue:function(n){var t=this._fn,e=t(n);e.convert?this._emitError(e.error):this._emitValue(n)}},BW=Vt("valuesToErrors",fh),_W=ft("valuesToErrors",fh),CW=function(n){return{convert:!0,error:n}};function LW(n){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:CW;return new(n._ofSameType(BW,_W))(n,{fn:t})}var Gh={_init:function(n){var t=n.fn;this._fn=t},_free:function(){this._fn=null},_handleError:function(n){var t=this._fn,e=t(n);e.convert?this._emitValue(e.value):this._emitError(n)}},EW=Vt("errorsToValues",Gh),MW=ft("errorsToValues",Gh),PW=function(n){return{convert:!0,value:n}};function jW(n){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:PW;return new(n._ofSameType(EW,MW))(n,{fn:t})}var Rh={_handleError:function(n){this._emitError(n),this._emitEnd()}},QW=Vt("endOnError",Rh),OW=ft("endOnError",Rh);function DW(n){return new(n._ofSameType(QW,OW))(n)}Q.prototype.toProperty=function(n){return Qs(this,n)};Q.prototype.changes=function(){return I0(this)};Q.prototype.toPromise=function(n){return N0(this,n)};Q.prototype.toESObservable=xb;Q.prototype[Sa]=xb;Q.prototype.map=function(n){return vs(this,n)};Q.prototype.filter=function(n){return M0(this,n)};Q.prototype.take=function(n){return Q0(this,n)};Q.prototype.takeErrors=function(n){return A0(this,n)};Q.prototype.takeWhile=function(n){return eX(this,n)};Q.prototype.last=function(){return lX(this)};Q.prototype.skip=function(n){return aX(this,n)};Q.prototype.skipWhile=function(n){return mX(this,n)};Q.prototype.skipDuplicates=function(n){return Eb(this,n)};Q.prototype.diff=function(n,t){return XX(this,n,t)};Q.prototype.scan=function(n,t){return VX(this,n,t)};Q.prototype.flatten=function(n){return vX(this,n)};Q.prototype.delay=function(n){return FX(this,n)};Q.prototype.throttle=function(n,t){return kX(this,n,t)};Q.prototype.debounce=function(n,t){return wX(this,n,t)};Q.prototype.mapErrors=function(n){return UX(this,n)};Q.prototype.filterErrors=function(n){return _X(this,n)};Q.prototype.ignoreValues=function(){return EX(this)};Q.prototype.ignoreErrors=function(){return jX(this)};Q.prototype.ignoreEnd=function(){return DX(this)};Q.prototype.beforeEnd=function(n){return qX(this,n)};Q.prototype.slidingWindow=function(n,t){return nW(this,n,t)};Q.prototype.bufferWhile=function(n,t){return cW(this,n,t)};Q.prototype.bufferWithCount=function(n,t){return dW(this,n,t)};Q.prototype.bufferWithTimeOrCount=function(n,t,e){return uW(this,n,t,e)};Q.prototype.transduce=function(n){return ZW(this,n)};Q.prototype.withHandler=function(n){return WW(this,n)};Q.prototype.thru=function(n){return n(this)};Q.prototype.combine=function(n,t){return ao([this,n],t)};Q.prototype.zip=function(n,t){return oh([this,n],t)};Q.prototype.merge=function(n){return As([this,n])};Q.prototype.concat=function(n){return uh([this,n])};var AW=function(){return new $s};Q.prototype.flatMap=function(n){return new oi(this,n).setName(this,"flatMap")};Q.prototype.flatMapLatest=function(n){return new oi(this,n,{concurLim:1,drop:"old"}).setName(this,"flatMapLatest")};Q.prototype.flatMapFirst=function(n){return new oi(this,n,{concurLim:1}).setName(this,"flatMapFirst")};Q.prototype.flatMapConcat=function(n){return new oi(this,n,{queueLim:-1,concurLim:1}).setName(this,"flatMapConcat")};Q.prototype.flatMapConcurLimit=function(n,t){return new oi(this,n,{queueLim:-1,concurLim:t}).setName(this,"flatMapConcurLimit")};Q.prototype.flatMapErrors=function(n){return new bh(this,n).setName(this,"flatMapErrors")};Q.prototype.filterBy=function(n){return RW(this,n)};Q.prototype.sampledBy=function(n,t){return gW(this,n,t)};Q.prototype.skipUntilBy=function(n){return IW(this,n)};Q.prototype.takeUntilBy=function(n){return NW(this,n)};Q.prototype.bufferBy=function(n,t){return xW(this,n,t)};Q.prototype.bufferWhileBy=function(n,t){return UW(this,n,t)};function oo(n){if(console&&typeof console.warn=="function"){var t=`
Here is an Error object for you containing the call stack:`;console.warn(n,t,new Error)}}Q.prototype.awaiting=function(n){return oo("You are using deprecated .awaiting() method, see https://github.com/kefirjs/kefir/issues/145"),zW(this,n)};Q.prototype.valuesToErrors=function(n){return oo("You are using deprecated .valuesToErrors() method, see https://github.com/kefirjs/kefir/issues/149"),LW(this,n)};Q.prototype.errorsToValues=function(n){return oo("You are using deprecated .errorsToValues() method, see https://github.com/kefirjs/kefir/issues/149"),jW(this,n)};Q.prototype.endOnError=function(){return oo("You are using deprecated .endOnError() method, see https://github.com/kefirjs/kefir/issues/150"),DW(this)};var Ut={Observable:Q,Stream:Nt,Property:Xn,never:ai,later:m0,interval:b0,sequentially:p0,fromPoll:y0,withInterval:W0,fromCallback:V0,fromNodeCallback:f0,fromEvents:v0,stream:_l,constant:kb,constantError:g0,fromPromise:J0,fromESObservable:w0,combine:ao,zip:oh,merge:As,concat:uh,Pool:$s,pool:AW,repeat:mh,staticLand:K0};Ut.Kefir=Ut;const $W=It`:host{display:block;box-sizing:border-box}:host *:focus:not(:focus-visible){outline:none}:host :focus-visible{outline:var(--vvd-color-on-canvas) solid 2px}:host>div{display:flex;align-items:center;padding:5px}:host>div>div{position:relative;width:100%;min-width:5rem;height:3px;box-sizing:border-box;cursor:pointer;user-select:none}:host>div>div>button{position:absolute;top:50%;left:0;width:12px;height:12px;padding:0;border:0 none;background-color:var(--vwc-media-controls-scrubber-color, #b779ff);border-radius:6px;box-shadow:0 0 0 0 #0000;cursor:pointer;transform:translate(-50%, -50%);transform-origin:center}@media screen and (prefers-reduced-motion: no-preference){:host>div>div>button{transition:background-color .2s,box-shadow 200ms,border-radius .2s}}@supports(-webkit-tap-highlight-color: transparent){:host>div>div>button{-webkit-tap-highlight-color:transparent}}:host>.scrub>div>button{box-shadow:0 0 0 15px #00000017}`,ra=Symbol("signal"),pl=5,qW=10,iu="var(--disable-scrub, #E1E2E6)",lu="var(--disable-scrub, #999)",ru="ArrowLeft",cu="ArrowRight",Zn=n=>({type:t})=>t===n,tV=function(n,t={},...e){const i=document.createElement(n);return Object.entries(t).forEach(([c,s])=>i.setAttribute(c,s)),e.forEach(c=>typeof c=="string"?i.innerHTML+=c:i.appendChild(c)),i},au=n=>(n.preventDefault(),n),eV=n=>(t,e,i={bubbles:!0,composed:!0})=>{const c=new CustomEvent(t,Object.assign(Object.assign({},i),{detail:e}));n.dispatchEvent(c)},nV=({marginX:n=0,marginY:t=0},{x:e,y:i,width:c,height:s})=>({x:e-n,y:i-t,width:c+n*2,height:s+t*2}),ou=(n,t,e)=>n>=t&&n<=e,iV=({x:n,y:t},{x:e,y:i,width:c,height:s})=>[ou(n,e,e+c),ou(t,i,i+s)].every(Hs);class lV extends HTMLElement{static get observedAttributes(){return["noseek-button"]}attributeChangedCallback(t,e,i){var c;t==="noseek-button"&&e!==i&&((c=this.trackEl.querySelector("button"))===null||c===void 0||(c.style.display=i!==null?"none":"block"))}constructor(){super();const t=Ut.pool(),e=eV(this);this[ra]=ha(Ut.constant,t.plug.bind(t));const i=this.attachShadow({mode:"open"});let c,s,b;const X=function(){const[it,Re,Oe]=["style","div","button"].map(Zt=>Xm(tV,[Zt]));return[it({},$W.cssText),b=Re({tabindex:"-1"},c=Re({},s=Oe({tabindex:"0","aria-label":"Seek"})))]}(),F=Ut.repeat(()=>Ut.fromCallback(requestAnimationFrame)),U=t.filter(Zn("component_connected")),E=Ut.fromEvents(i,"mousedown"),f=Ut.fromEvents(this,"keydown"),Gt=Ut.fromEvents(window,"touchstart").map(au),Dt=Ut.stream(({emit:it})=>(window.addEventListener("touchmove",it,{passive:!1}),()=>window.removeEventListener("touchmove",it))).map(au),Bt=Ut.merge(["touchend","touchcancel"].map(it=>Ut.fromEvents(window,it))),[Rt,Pt,$t,vt]=["mouseup","mousemove","contextmenu","resize"].map(it=>Ut.fromEvents(window,it)),ae=U.map(()=>!this.hasAttribute("noseek")).toProperty(()=>!0),q=t.filter(Zn("set_position")).map(hn("value")).toProperty(Wi(0)),ee=Ut.combine([ae,U],Hs).flatMapLatest(function(it){const Re=Ut.merge([Gt.map(Eu(["changedTouches",0])),E]).map(({clientX:Zt,clientY:pe,identifier:yt})=>Object.assign({mouseX:Zt,mouseY:pe,identifier:yt},(({x:ye,y:fn,width:_t,height:sn})=>({x:ye,y:fn,width:_t,height:sn}))(c.getBoundingClientRect()))).filter(Zt=>{var{mouseX:pe,mouseY:yt}=Zt,ye=Wp(Zt,["mouseX","mouseY"]);return iV({x:pe,y:yt},nV({marginY:qW},ye))}).flatMapLatest(({mouseX:Zt,mouseY:pe,x:yt,width:ye,identifier:fn})=>Ut.concat([Ut.constant({type:"start",rectWidth:ye,rectX:yt}),Ut.concat([Ut.constant({mouseX:Zt,mouseY:pe}),Ut.merge([Pt,Dt.map(({touches:_t})=>Array.from(_t).find(({identifier:sn})=>sn===fn)).filter(Boolean)]).map(({clientX:_t,clientY:sn})=>({mouseX:_t,mouseY:sn}))]).map(ha(hn("mouseX"),Lp(yt+pl,yt+ye-pl),_t=>(_t-(yt+pl))/(ye-pl*2))).takeUntilBy(Ut.merge([Rt,$t,Bt.filter(({changedTouches:_t})=>Array.from(_t).map(hn("identifier")).includes(fn))]).take(1)).map(_t=>({type:"position_change",position:_t})),Ut.constant({type:"end"})])),Oe=Ut.merge(["start","end"].map(Zt=>Re.filter(Zn(Zt)).map(Wi(Zt==="start")))).skipDuplicates().toProperty(Wi(!1));return it?Ut.merge([Ut.combine([Oe.flatMap(Zt=>Zt?Re.filter(Zn("position_change")).map(hn("position")):q.filterBy(Oe.map(Mp))).skipDuplicates(),vt.toProperty(Wi(0))],Zt=>Zt).flatMapLatest(Zt=>F.take(1).map(Wi(Zt))).map(Zt=>({type:"update_knob_position",value:Zt})),q.skipDuplicates().map(Zt=>({type:"update_progress_position",value:Zt})),Oe.map(Zt=>({type:"update_scrub_state",value:Zt})),Re.filter(Zn("position_change")).map(ha(hn("position"),Zt=>({type:"update_user_scrub_request",value:Zt})))]).takeUntilBy(t.filter(Zn("component_disconnected")).take(1)):Ut.constant({type:"update_scrub_state",value:!1})});U.take(1).onValue(()=>{X.forEach(it=>i.appendChild(it))}),ae.onValue(it=>c.style.display=it?"block":"none"),ee.filter(Zn("update_knob_position")).map(hn("value")).onValue(it=>{const{width:Re}=c.getBoundingClientRect();s.style.transform=`translate(-50%, -50%) translateX(${pl+it*(Re-pl*2)}px)`}),ee.filter(Zn("update_progress_position")).map(hn("value")).onValue(it=>c.style.backgroundImage=`linear-gradient(90deg, ${lu} 0%, ${lu} ${(isNaN(it)?0:it)*100}%, ${iu} ${(isNaN(it)?0:it)*100}%, ${iu} 100%)`),ee.filter(Zn("update_scrub_state")).map(hn("value")).onValue(it=>b.classList.toggle("scrub",it)),ee.filter(Zn("update_user_scrub_request")).map(hn("value")).onValue(Xm(e,["userScrubRequest"])),f.map(hn("key")).filter(it=>[ru,cu].includes(it)).onValue(it=>{e({[ru]:"userSkipBackwardsRequest",[cu]:"userSkipForwardRequest"}[it])}),this.trackEl=c}setPosition(t){this[ra]({type:"set_position",value:t})}connectedCallback(){this[ra]({type:"component_connected"})}disconnectedCallback(){this[ra]({type:"component_disconnected"})}}customElements.define("vwc-scrub-bar",lV);const rV=It`:host *:focus:not(:focus-visible){outline:none}:host :focus-visible{outline:var(--vvd-color-on-canvas) solid 2px}:host .audio{font:400 ultra-condensed 12px / 16px SpeziaWebVariable;letter-spacing:0px;text-decoration:none;text-transform:none;display:flex;flex-wrap:nowrap;align-items:center;justify-content:flex-start}:host .audio.connotation-primary{--connotation:var(--vvd-color-primary);--on-connotation:var(--vvd-color-on-primary)}:host .audio.connotation-cta,:host .audio:not(.connotation-primary){--connotation:var(--vvd-color-cta);--on-connotation:var(--vvd-color-on-cta)}:host .audio.disabled{pointer-events:none}:host .audio>.scrubber{--vwc-media-controls-scrubber-color:var(--connotation);min-width:200px;flex:1 0}:host .audio>.control-button{flex:0 0 auto;border:0;background-color:transparent;cursor:pointer}:host .audio>.control-button>.icon{color:inherit}:host .audio.disabled.connotation-cta>.scrubber,:host .audio.disabled:not(.connotation-cta)>.scrubber{--vwc-media-controls-scrubber-color:var(--vvd-color-neutral-50);--disable-scrub: var(--vvd-color-neutral-50);cursor:not-allowed}:host .audio.disabled.connotation-cta>.control-button>.icon,:host .audio.disabled:not(.connotation-cta)>.control-button>.icon{--connotation: var(--vvd-color-neutral-50);cursor:not-allowed}:host .audio.disabled.connotation-cta>.playhead-position,:host .audio.disabled:not(.connotation-cta)>.playhead-position{color:var(--vvd-color-neutral-40)}:host .audio>.playhead-position{overflow:hidden;width:90px;box-sizing:border-box;justify-content:center;color:var(--vvd-color-on-canvas);font-variant-numeric:tabular-nums;text-align:center;text-overflow:ellipsis;white-space:pre}`;var Wa;const vh=1,gh=60*vh,cV=60*gh,aV=function(n,t){return ha(...Object.entries(t).map(([e,i])=>(n.addEventListener(e,i),()=>n.removeEventListener(e,i))))},du=n=>{const t=[];return[cV,gh,vh].reduce((e,i)=>(t.push(~~(e/i)),e%i),n),t.filter((e,i,c)=>e>0||i>c.length-3).map((e,i)=>e.toString().padStart(i===0?1:2,"0")).join(":")};function oV(n,t){const e=t===1/0?"__ / __":`${du(n)} / ${du(t)}`;return j`<div class="playhead-position">${e}</div>`}let Ie=class extends ce{constructor(){super(...arguments),this.noseek=!1,this.timestamp=!1,this.disabled=!1,this._duration=0,this._isPlaying=!1,this._loading=!0,this._playheadPosition=0,Wa.set(this,!0)}firstUpdated(t){super.firstUpdated(t),aV(this._audio,{error:()=>this.toggleFaultySrcState(),loadedmetadata:()=>{this.toggleFaultySrcState(),this._duration=this._audio.duration},timeupdate:()=>this._playheadPosition=this._audio.currentTime,loadstart:()=>{this._isPlaying=!1,this._loading=!0},canplay:()=>this._loading=!1,play:()=>this._isPlaying=!0,pause:()=>this._isPlaying=!1}),this.toggleFaultySrcState()}toggleFaultySrcState(){var t;no(this,Wa,!this.src||((t=this._audio)===null||t===void 0?void 0:t.error)!==null,"f"),this.hasUpdated&&this.requestUpdate()}play(){return this._audio.play()}pause(){this._audio.pause()}get currentTime(){return this._audio.currentTime}set currentTime(t){this._audio.currentTime=t}update(t){var e;(e=this._scrubber)===null||e===void 0||e.setPosition(this._playheadPosition/this._duration),super.update(t),t.has("src")&&this.toggleFaultySrcState()}getRenderClasses(){return{[`connotation-${this.connotation}`]:!!this.connotation,disabled:this.disabled||te(this,Wa,"f"),loading:this._loading}}render(){return j`
			<audio class='audio-el' src='${Le(this.src)}'></audio>
			<div class="audio ${re(this.getRenderClasses())}" aria-controls="${Le(this.ariaControls)}">
				<button
					aria-label="Play/Pause"
					class="control-button"
					.disabled=${this.disabled}
					@click="${()=>(this._isPlaying?this.pause:this.play).call(this)}"
				>
				<vwc-icon
						class="icon"
						size="small"
						type="${this._isPlaying?"pause-solid":"play-solid"}"
				></vwc-icon>
				</button>
				${this.timestamp?oV(this._playheadPosition,this._duration):ri}
				${this.noseek?ri:j`<vwc-scrub-bar style=${Le(this._duration===1/0?"pointer-events: none;":void 0)} @userScrubRequest="${({detail:t})=>this.currentTime=t*this._duration}" class="scrubber"></vwc-scrub-bar>`}
			</div>
		`}};Wa=new WeakMap;Ie.styles=[rV];J([w({type:String,reflect:!0})],Ie.prototype,"connotation",void 0);J([Ge(".audio-el")],Ie.prototype,"_audio",void 0);J([Ge(".scrubber")],Ie.prototype,"_scrubber",void 0);J([Tn,w({attribute:"aria-controls",type:String})],Ie.prototype,"ariaControls",void 0);J([w({type:String,reflect:!0})],Ie.prototype,"src",void 0);J([w({type:Boolean,reflect:!0})],Ie.prototype,"noseek",void 0);J([w({type:Boolean,reflect:!0})],Ie.prototype,"timestamp",void 0);J([w({type:Boolean,reflect:!0})],Ie.prototype,"disabled",void 0);J([Kl()],Ie.prototype,"_duration",void 0);J([Kl()],Ie.prototype,"_isPlaying",void 0);J([Kl()],Ie.prototype,"_loading",void 0);J([Kl()],Ie.prototype,"_playheadPosition",void 0);Ie=J([Kt("vwc-audio")],Ie);/**
 * @license
 * Copyright 2020 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Fe extends ce{constructor(){super(...arguments),this.value="",this.group=null,this.tabindex=-1,this.disabled=!1,this.twoline=!1,this.activated=!1,this.graphic=null,this.multipleGraphics=!1,this.hasMeta=!1,this.noninteractive=!1,this.selected=!1,this.shouldRenderRipple=!1,this._managingList=null,this.boundOnClick=this.onClick.bind(this),this._firstChanged=!0,this._skipPropRequest=!1,this.rippleHandlers=new ro(()=>(this.shouldRenderRipple=!0,this.ripple)),this.listeners=[{target:this,eventNames:["click"],cb:()=>{this.onClick()}},{target:this,eventNames:["mouseenter"],cb:this.rippleHandlers.startHover},{target:this,eventNames:["mouseleave"],cb:this.rippleHandlers.endHover},{target:this,eventNames:["focus"],cb:this.rippleHandlers.startFocus},{target:this,eventNames:["blur"],cb:this.rippleHandlers.endFocus},{target:this,eventNames:["mousedown","touchstart"],cb:t=>{const e=t.type;this.onDown(e==="mousedown"?"mouseup":"touchend",t)}}]}get text(){const t=this.textContent;return t?t.trim():""}render(){const t=this.renderText(),e=this.graphic?this.renderGraphic():j``,i=this.hasMeta?this.renderMeta():j``;return j`
      ${this.renderRipple()}
      ${e}
      ${t}
      ${i}`}renderRipple(){return this.shouldRenderRipple?j`
      <mwc-ripple
        .activated=${this.activated}>
      </mwc-ripple>`:this.activated?j`<div class="fake-activated-ripple"></div>`:""}renderGraphic(){const t={multi:this.multipleGraphics};return j`
      <span class="mdc-deprecated-list-item__graphic material-icons ${re(t)}">
        <slot name="graphic"></slot>
      </span>`}renderMeta(){return j`
      <span class="mdc-deprecated-list-item__meta material-icons">
        <slot name="meta"></slot>
      </span>`}renderText(){const t=this.twoline?this.renderTwoline():this.renderSingleLine();return j`
      <span class="mdc-deprecated-list-item__text">
        ${t}
      </span>`}renderSingleLine(){return j`<slot></slot>`}renderTwoline(){return j`
      <span class="mdc-deprecated-list-item__primary-text">
        <slot></slot>
      </span>
      <span class="mdc-deprecated-list-item__secondary-text">
        <slot name="secondary"></slot>
      </span>
    `}onClick(){this.fireRequestSelected(!this.selected,"interaction")}onDown(t,e){const i=()=>{window.removeEventListener(t,i),this.rippleHandlers.endPress()};window.addEventListener(t,i),this.rippleHandlers.startPress(e)}fireRequestSelected(t,e){if(this.noninteractive)return;const i=new CustomEvent("request-selected",{bubbles:!0,composed:!0,detail:{source:e,selected:t}});this.dispatchEvent(i)}connectedCallback(){super.connectedCallback(),this.noninteractive||this.setAttribute("mwc-list-item","");for(const t of this.listeners)for(const e of t.eventNames)t.target.addEventListener(e,t.cb,{passive:!0})}disconnectedCallback(){super.disconnectedCallback();for(const t of this.listeners)for(const e of t.eventNames)t.target.removeEventListener(e,t.cb);this._managingList&&(this._managingList.debouncedLayout?this._managingList.debouncedLayout(!0):this._managingList.layout(!0))}firstUpdated(){const t=new Event("list-item-rendered",{bubbles:!0,composed:!0});this.dispatchEvent(t)}}J([Ge("slot")],Fe.prototype,"slotElement",void 0);J([io("mwc-ripple")],Fe.prototype,"ripple",void 0);J([w({type:String})],Fe.prototype,"value",void 0);J([w({type:String,reflect:!0})],Fe.prototype,"group",void 0);J([w({type:Number,reflect:!0})],Fe.prototype,"tabindex",void 0);J([w({type:Boolean,reflect:!0}),Vn(function(n){n?this.setAttribute("aria-disabled","true"):this.setAttribute("aria-disabled","false")})],Fe.prototype,"disabled",void 0);J([w({type:Boolean,reflect:!0})],Fe.prototype,"twoline",void 0);J([w({type:Boolean,reflect:!0})],Fe.prototype,"activated",void 0);J([w({type:String,reflect:!0})],Fe.prototype,"graphic",void 0);J([w({type:Boolean})],Fe.prototype,"multipleGraphics",void 0);J([w({type:Boolean})],Fe.prototype,"hasMeta",void 0);J([w({type:Boolean,reflect:!0}),Vn(function(n){n?(this.removeAttribute("aria-checked"),this.removeAttribute("mwc-list-item"),this.selected=!1,this.activated=!1,this.tabIndex=-1):this.setAttribute("mwc-list-item","")})],Fe.prototype,"noninteractive",void 0);J([w({type:Boolean,reflect:!0}),Vn(function(n){const t=this.getAttribute("role"),e=t==="gridcell"||t==="option"||t==="row"||t==="tab";if(e&&n?this.setAttribute("aria-selected","true"):e&&this.setAttribute("aria-selected","false"),this._firstChanged){this._firstChanged=!1;return}this._skipPropRequest||this.fireRequestSelected(n,"property")})],Fe.prototype,"selected",void 0);J([zt()],Fe.prototype,"shouldRenderRipple",void 0);J([zt()],Fe.prototype,"_managingList",void 0);/**
 * @license
 * Copyright 2021 Google LLC
 * SPDX-LIcense-Identifier: Apache-2.0
 */const Yh=It`:host{cursor:pointer;user-select:none;-webkit-tap-highlight-color:transparent;height:48px;display:flex;position:relative;align-items:center;justify-content:flex-start;overflow:hidden;padding:0;padding-left:var(--mdc-list-side-padding, 16px);padding-right:var(--mdc-list-side-padding, 16px);outline:none;height:48px;color:rgba(0,0,0,.87);color:var(--mdc-theme-text-primary-on-background, rgba(0, 0, 0, 0.87))}:host:focus{outline:none}:host([activated]){color:#6200ee;color:var(--mdc-theme-primary, #6200ee);--mdc-ripple-color: var( --mdc-theme-primary, #6200ee )}:host([activated]) .mdc-deprecated-list-item__graphic{color:#6200ee;color:var(--mdc-theme-primary, #6200ee)}:host([activated]) .fake-activated-ripple::before{position:absolute;display:block;top:0;bottom:0;left:0;right:0;width:100%;height:100%;pointer-events:none;z-index:1;content:"";opacity:0.12;opacity:var(--mdc-ripple-activated-opacity, 0.12);background-color:#6200ee;background-color:var(--mdc-ripple-color, var(--mdc-theme-primary, #6200ee))}.mdc-deprecated-list-item__graphic{flex-shrink:0;align-items:center;justify-content:center;fill:currentColor;display:inline-flex}.mdc-deprecated-list-item__graphic ::slotted(*){flex-shrink:0;align-items:center;justify-content:center;fill:currentColor;width:100%;height:100%;text-align:center}.mdc-deprecated-list-item__meta{width:var(--mdc-list-item-meta-size, 24px);height:var(--mdc-list-item-meta-size, 24px);margin-left:auto;margin-right:0;color:rgba(0, 0, 0, 0.38);color:var(--mdc-theme-text-hint-on-background, rgba(0, 0, 0, 0.38))}.mdc-deprecated-list-item__meta.multi{width:auto}.mdc-deprecated-list-item__meta ::slotted(*){width:var(--mdc-list-item-meta-size, 24px);line-height:var(--mdc-list-item-meta-size, 24px)}.mdc-deprecated-list-item__meta ::slotted(.material-icons),.mdc-deprecated-list-item__meta ::slotted(mwc-icon){line-height:var(--mdc-list-item-meta-size, 24px) !important}.mdc-deprecated-list-item__meta ::slotted(:not(.material-icons):not(mwc-icon)){-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:Roboto, sans-serif;font-family:var(--mdc-typography-caption-font-family, var(--mdc-typography-font-family, Roboto, sans-serif));font-size:0.75rem;font-size:var(--mdc-typography-caption-font-size, 0.75rem);line-height:1.25rem;line-height:var(--mdc-typography-caption-line-height, 1.25rem);font-weight:400;font-weight:var(--mdc-typography-caption-font-weight, 400);letter-spacing:0.0333333333em;letter-spacing:var(--mdc-typography-caption-letter-spacing, 0.0333333333em);text-decoration:inherit;text-decoration:var(--mdc-typography-caption-text-decoration, inherit);text-transform:inherit;text-transform:var(--mdc-typography-caption-text-transform, inherit)}[dir=rtl] .mdc-deprecated-list-item__meta,.mdc-deprecated-list-item__meta[dir=rtl]{margin-left:0;margin-right:auto}.mdc-deprecated-list-item__meta ::slotted(*){width:100%;height:100%}.mdc-deprecated-list-item__text{text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.mdc-deprecated-list-item__text ::slotted([for]),.mdc-deprecated-list-item__text[for]{pointer-events:none}.mdc-deprecated-list-item__primary-text{text-overflow:ellipsis;white-space:nowrap;overflow:hidden;display:block;margin-top:0;line-height:normal;margin-bottom:-20px;display:block}.mdc-deprecated-list-item__primary-text::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-deprecated-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-deprecated-list-item__secondary-text{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:Roboto, sans-serif;font-family:var(--mdc-typography-body2-font-family, var(--mdc-typography-font-family, Roboto, sans-serif));font-size:0.875rem;font-size:var(--mdc-typography-body2-font-size, 0.875rem);line-height:1.25rem;line-height:var(--mdc-typography-body2-line-height, 1.25rem);font-weight:400;font-weight:var(--mdc-typography-body2-font-weight, 400);letter-spacing:0.0178571429em;letter-spacing:var(--mdc-typography-body2-letter-spacing, 0.0178571429em);text-decoration:inherit;text-decoration:var(--mdc-typography-body2-text-decoration, inherit);text-transform:inherit;text-transform:var(--mdc-typography-body2-text-transform, inherit);text-overflow:ellipsis;white-space:nowrap;overflow:hidden;display:block;margin-top:0;line-height:normal;display:block}.mdc-deprecated-list-item__secondary-text::before{display:inline-block;width:0;height:20px;content:"";vertical-align:0}.mdc-deprecated-list--dense .mdc-deprecated-list-item__secondary-text{font-size:inherit}* ::slotted(a),a{color:inherit;text-decoration:none}:host([twoline]){height:72px}:host([twoline]) .mdc-deprecated-list-item__text{align-self:flex-start}:host([disabled]),:host([noninteractive]){cursor:default;pointer-events:none}:host([disabled]) .mdc-deprecated-list-item__text ::slotted(*){opacity:.38}:host([disabled]) .mdc-deprecated-list-item__text ::slotted(*),:host([disabled]) .mdc-deprecated-list-item__primary-text ::slotted(*),:host([disabled]) .mdc-deprecated-list-item__secondary-text ::slotted(*){color:#000;color:var(--mdc-theme-on-surface, #000)}.mdc-deprecated-list-item__secondary-text ::slotted(*){color:rgba(0, 0, 0, 0.54);color:var(--mdc-theme-text-secondary-on-background, rgba(0, 0, 0, 0.54))}.mdc-deprecated-list-item__graphic ::slotted(*){background-color:transparent;color:rgba(0, 0, 0, 0.38);color:var(--mdc-theme-text-icon-on-background, rgba(0, 0, 0, 0.38))}.mdc-deprecated-list-group__subheader ::slotted(*){color:rgba(0, 0, 0, 0.87);color:var(--mdc-theme-text-primary-on-background, rgba(0, 0, 0, 0.87))}:host([graphic=avatar]) .mdc-deprecated-list-item__graphic{width:var(--mdc-list-item-graphic-size, 40px);height:var(--mdc-list-item-graphic-size, 40px)}:host([graphic=avatar]) .mdc-deprecated-list-item__graphic.multi{width:auto}:host([graphic=avatar]) .mdc-deprecated-list-item__graphic ::slotted(*){width:var(--mdc-list-item-graphic-size, 40px);line-height:var(--mdc-list-item-graphic-size, 40px)}:host([graphic=avatar]) .mdc-deprecated-list-item__graphic ::slotted(.material-icons),:host([graphic=avatar]) .mdc-deprecated-list-item__graphic ::slotted(mwc-icon){line-height:var(--mdc-list-item-graphic-size, 40px) !important}:host([graphic=avatar]) .mdc-deprecated-list-item__graphic ::slotted(*){border-radius:50%}:host([graphic=avatar]) .mdc-deprecated-list-item__graphic,:host([graphic=medium]) .mdc-deprecated-list-item__graphic,:host([graphic=large]) .mdc-deprecated-list-item__graphic,:host([graphic=control]) .mdc-deprecated-list-item__graphic{margin-left:0;margin-right:var(--mdc-list-item-graphic-margin, 16px)}[dir=rtl] :host([graphic=avatar]) .mdc-deprecated-list-item__graphic,[dir=rtl] :host([graphic=medium]) .mdc-deprecated-list-item__graphic,[dir=rtl] :host([graphic=large]) .mdc-deprecated-list-item__graphic,[dir=rtl] :host([graphic=control]) .mdc-deprecated-list-item__graphic,:host([graphic=avatar]) .mdc-deprecated-list-item__graphic[dir=rtl],:host([graphic=medium]) .mdc-deprecated-list-item__graphic[dir=rtl],:host([graphic=large]) .mdc-deprecated-list-item__graphic[dir=rtl],:host([graphic=control]) .mdc-deprecated-list-item__graphic[dir=rtl]{margin-left:var(--mdc-list-item-graphic-margin, 16px);margin-right:0}:host([graphic=icon]) .mdc-deprecated-list-item__graphic{width:var(--mdc-list-item-graphic-size, 24px);height:var(--mdc-list-item-graphic-size, 24px);margin-left:0;margin-right:var(--mdc-list-item-graphic-margin, 32px)}:host([graphic=icon]) .mdc-deprecated-list-item__graphic.multi{width:auto}:host([graphic=icon]) .mdc-deprecated-list-item__graphic ::slotted(*){width:var(--mdc-list-item-graphic-size, 24px);line-height:var(--mdc-list-item-graphic-size, 24px)}:host([graphic=icon]) .mdc-deprecated-list-item__graphic ::slotted(.material-icons),:host([graphic=icon]) .mdc-deprecated-list-item__graphic ::slotted(mwc-icon){line-height:var(--mdc-list-item-graphic-size, 24px) !important}[dir=rtl] :host([graphic=icon]) .mdc-deprecated-list-item__graphic,:host([graphic=icon]) .mdc-deprecated-list-item__graphic[dir=rtl]{margin-left:var(--mdc-list-item-graphic-margin, 32px);margin-right:0}:host([graphic=avatar]:not([twoLine])),:host([graphic=icon]:not([twoLine])){height:56px}:host([graphic=medium]:not([twoLine])),:host([graphic=large]:not([twoLine])){height:72px}:host([graphic=medium]) .mdc-deprecated-list-item__graphic,:host([graphic=large]) .mdc-deprecated-list-item__graphic{width:var(--mdc-list-item-graphic-size, 56px);height:var(--mdc-list-item-graphic-size, 56px)}:host([graphic=medium]) .mdc-deprecated-list-item__graphic.multi,:host([graphic=large]) .mdc-deprecated-list-item__graphic.multi{width:auto}:host([graphic=medium]) .mdc-deprecated-list-item__graphic ::slotted(*),:host([graphic=large]) .mdc-deprecated-list-item__graphic ::slotted(*){width:var(--mdc-list-item-graphic-size, 56px);line-height:var(--mdc-list-item-graphic-size, 56px)}:host([graphic=medium]) .mdc-deprecated-list-item__graphic ::slotted(.material-icons),:host([graphic=medium]) .mdc-deprecated-list-item__graphic ::slotted(mwc-icon),:host([graphic=large]) .mdc-deprecated-list-item__graphic ::slotted(.material-icons),:host([graphic=large]) .mdc-deprecated-list-item__graphic ::slotted(mwc-icon){line-height:var(--mdc-list-item-graphic-size, 56px) !important}:host([graphic=large]){padding-left:0px}`;/**
 * @license
 * Copyright 2020 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let wr=class extends Fe{};wr.styles=[Yh];wr=J([Kt("mwc-list-item")],wr);const dV=It`:host{--vvd-formfield-disabled-ink:var(--vvd-color-neutral-50);--vvd-formfield-disabled-fill:var(--vvd-color-neutral-20);--vvd-formfield-label-idle-ink:var(--vvd-color-neutral-70);--vvd-formfield-border-idle:var(--vvd-color-neutral-50);--vvd-formfield-border-hover:var(--vvd-color-on-canvas);--vvd-formfield-border-disabled:var(--vvd-color-neutral-50);--vvd-formfield-error-fill:var(--vvd-color-alert-20);--vvd-formfield-label-error-ink:var(--vvd-color-alert)}:host .mdc-deprecated-list-item__text,:host([twoline]) .mdc-deprecated-list-item__text{flex-grow:1;align-self:center;inline-size:100%;margin-inline-end:4px}:host([twoline]) .mdc-deprecated-list-item__primary-text{font:600 ultra-condensed 14px / 20px SpeziaWebVariable;letter-spacing:0px;text-decoration:none;text-transform:none;margin-bottom:4px}:host([twoline]) .mdc-deprecated-list-item__primary-text::before,:host([twoline]) .mdc-deprecated-list-item__primary-text::after{display:none}:host([twoline]) .mdc-deprecated-list-item__secondary-text{font:400 ultra-condensed 12px / 16px SpeziaWebVariable;letter-spacing:0px;text-decoration:none;text-transform:none}:host([twoline]) .mdc-deprecated-list-item__secondary-text::before{display:none}:host([disabled]) .mdc-deprecated-list-item__text{color:var(--vvd-formfield-disabled-ink)}:host([shape=rounded i]){--vvd-list-item-shape:6px}:host{--mdc-list-side-padding: var(--vvd-list-item-side-padding);--mdc-list-item-graphic-margin: var(--vvd-list-item-graphic-margin);--mdc-list-item-graphic-size: 20px;--mdc-list-item-meta-size: 20px;--mdc-theme-text-icon-on-background: var( --vvd-color-on-canvas );--mdc-theme-text-hint-on-background: var( --vvd-color-on-canvas );font:400 ultra-condensed 14px / 20px SpeziaWebVariable;letter-spacing:0px;text-decoration:none;text-transform:none;--vvd-formfield-disabled-ink:var(--vvd-color-neutral-50);--vvd-formfield-disabled-fill:var(--vvd-color-neutral-20);--vvd-formfield-label-idle-ink:var(--vvd-color-neutral-70);--vvd-formfield-border-idle:var(--vvd-color-neutral-50);--vvd-formfield-border-hover:var(--vvd-color-on-canvas);--vvd-formfield-border-disabled:var(--vvd-color-neutral-50);--vvd-formfield-error-fill:var(--vvd-color-alert-20);--vvd-formfield-label-error-ink:var(--vvd-color-alert);position:relative;height:var(--vvd-list-item-block-size);border-radius:var(--vvd-list-item-shape);--vvd-list-item-block-size:40px;--vvd-list-item-side-padding:16px;--vvd-list-item-graphic-margin:16px}:host:host([connotation=primary i]){--list-item-connotation:var(--vvd-color-primary);--list-item-on-connotation:var(--vvd-color-on-primary)}:host([activated]){--mdc-ripple-focus-opacity: 0;--mdc-ripple-hover-opacity: 0;z-index:0}:host([activated]) mwc-ripple,:host([activated]) .fake-activated-ripple{--mdc-ripple-activated-opacity: 0;z-index:-1}:host([activated][connotation=primary]) .mdc-deprecated-list-item__secondary-text ::slotted(*){--mdc-theme-text-secondary-on-background: var(--vvd-color-neutral-40)}:host([activated][twoline][connotation=primary]:not([disabled]))::after{--vvd-list-divider--color:var(--vvd-color-neutral-80)}:host([activated]:not([disabled])){--mdc-theme-text-icon-on-background: var( --list-item-on-connotation, var(--vvd-color-on-canvas) );--mdc-theme-text-hint-on-background: var( --list-item-on-connotation, var(--vvd-color-on-canvas) );--mdc-ripple-color: var( --list-item-on-connotation, var(--vvd-color-on-canvas) );color:var(--list-item-on-connotation, var(--vvd-color-on-canvas))}:host([activated]:not([disabled])) .fake-activated-ripple{--mdc-ripple-activated-opacity: 1;--mdc-ripple-color: var( --list-item-connotation, var(--vvd-color-neutral-30) )}:host([activated]:not([disabled])) mwc-ripple{background-color:var(--list-item-connotation, var(--vvd-color-neutral-30))}:host([graphic=icon]:not([twoline])){height:var(--vvd-list-item-block-size)}:host([twoline]){height:auto;min-block-size:var(--vvd-list-item-block-size);--vvd-list-item-block-size:64px;--vvd-list-item-side-padding:16px;--vvd-list-item-graphic-margin:12px}:host([twoline])::after{position:absolute;right:var(--vvd-list-item-side-padding);bottom:0;left:var(--vvd-list-item-side-padding);height:1px;border-bottom:1px solid var(--vvd-list-divider--color);content:""}:host([twoline]) .mdc-deprecated-list-item__meta{flex-shrink:0}:host([disabled]){--mdc-theme-text-icon-on-background: var(--vvd-formfield-disabled-ink);--mdc-theme-text-hint-on-background: var(--vvd-formfield-disabled-ink)}.mdc-deprecated-list-item__meta{display:flex;flex-shrink:0}:host(:not([disabled])) .mdc-deprecated-list-item__graphic ::slotted(*),:host(:not([disabled])) .mdc-deprecated-list-item__meta ::slotted(*){color:var(--vvd-color-neutral-70)}:host([activated][connotation=primary]):host(:not([disabled])) .mdc-deprecated-list-item__graphic ::slotted(*),:host([activated][connotation=primary]):host(:not([disabled])) .mdc-deprecated-list-item__meta ::slotted(*){color:var(--list-item-on-connotation)}`;wr.styles=[Bl,Yh,dV];let Ua=class extends wr{};J([w({type:String,reflect:!0})],Ua.prototype,"connotation",void 0);J([w({type:String,reflect:!0})],Ua.prototype,"shape",void 0);Ua=J([Kt("vwc-list-item")],Ua);var sV=Object.defineProperty,mV=(n,t,e)=>t in n?sV(n,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):n[t]=e,Xt=(n,t,e)=>(mV(n,typeof t!="symbol"?t+"":t,e),e);class Hn{}Xt(Hn,"updates",{transformer_new:"New transformer",transformer_null:"Null transformer"}),Xt(Hn,"errors",{transformer_none:"No transformers provided",transformer_start:"Cannot start transformer",transformer_transform:"Cannot transform frame",transformer_flush:"Cannot flush transformer",readable_null:"Readable is null",writable_null:"Writable is null"});const An=new WeakMap,Va=new WeakMap,Wr=new WeakMap,gs=Symbol("anyProducer"),su=Promise.resolve(),Ka=Symbol("listenerAdded"),za=Symbol("listenerRemoved");let Cd=!1;function Zl(n){if(typeof n!="string"&&typeof n!="symbol")throw new TypeError("eventName must be a string or a symbol")}function ca(n){if(typeof n!="function")throw new TypeError("listener must be a function")}function yl(n,t){const e=Va.get(n);return e.has(t)||e.set(t,new Set),e.get(t)}function Vr(n,t){const e=typeof t=="string"||typeof t=="symbol"?t:gs,i=Wr.get(n);return i.has(e)||i.set(e,new Set),i.get(e)}function uV(n,t,e){const i=Wr.get(n);if(i.has(t))for(const c of i.get(t))c.enqueue(e);if(i.has(gs)){const c=Promise.all([t,e]);for(const s of i.get(gs))s.enqueue(c)}}function mu(n,t){t=Array.isArray(t)?t:[t];let e=!1,i=()=>{},c=[];const s={enqueue(b){c.push(b),i()},finish(){e=!0,i()}};for(const b of t)Vr(n,b).add(s);return{async next(){return c?c.length===0?e?(c=void 0,this.next()):(await new Promise(b=>{i=b}),this.next()):{done:!1,value:await c.shift()}:{done:!0}},async return(b){c=void 0;for(const X of t)Vr(n,X).delete(s);return i(),arguments.length>0?{done:!0,value:await b}:{done:!0}},[Symbol.asyncIterator](){return this}}}function uu(n){if(n===void 0)return bu;if(!Array.isArray(n))throw new TypeError("`methodNames` must be an array of strings");for(const t of n)if(!bu.includes(t))throw typeof t!="string"?new TypeError("`methodNames` element must be a string"):new Error(`${t} is not Emittery method`);return n}const Ld=n=>n===Ka||n===za;class Ii{static mixin(t,e){return e=uu(e),i=>{if(typeof i!="function")throw new TypeError("`target` must be function");for(const b of e)if(i.prototype[b]!==void 0)throw new Error(`The property \`${b}\` already exists on \`target\``);function c(){return Object.defineProperty(this,t,{enumerable:!1,value:new Ii}),this[t]}Object.defineProperty(i.prototype,t,{enumerable:!1,get:c});const s=b=>function(...X){return this[t][b](...X)};for(const b of e)Object.defineProperty(i.prototype,b,{enumerable:!1,value:s(b)});return i}}static get isDebugEnabled(){if(typeof process!="object")return Cd;const{env:t}=process||{env:{}};return t.DEBUG==="emittery"||t.DEBUG==="*"||Cd}static set isDebugEnabled(t){Cd=t}constructor(t={}){An.set(this,new Set),Va.set(this,new Map),Wr.set(this,new Map),this.debug=t.debug||{},this.debug.enabled===void 0&&(this.debug.enabled=!1),this.debug.logger||(this.debug.logger=(e,i,c,s)=>{try{s=JSON.stringify(s)}catch{s=`Object with the following keys failed to stringify: ${Object.keys(s).join(",")}`}typeof c=="symbol"&&(c=c.toString());const b=new Date,X=`${b.getHours()}:${b.getMinutes()}:${b.getSeconds()}.${b.getMilliseconds()}`;console.log(`[${X}][emittery:${e}][${i}] Event Name: ${c}
	data: ${s}`)})}logIfDebugEnabled(t,e,i){(Ii.isDebugEnabled||this.debug.enabled)&&this.debug.logger(t,this.debug.name,e,i)}on(t,e){ca(e),t=Array.isArray(t)?t:[t];for(const i of t)Zl(i),yl(this,i).add(e),this.logIfDebugEnabled("subscribe",i,void 0),Ld(i)||this.emit(Ka,{eventName:i,listener:e});return this.off.bind(this,t,e)}off(t,e){ca(e),t=Array.isArray(t)?t:[t];for(const i of t)Zl(i),yl(this,i).delete(e),this.logIfDebugEnabled("unsubscribe",i,void 0),Ld(i)||this.emit(za,{eventName:i,listener:e})}once(t){return new Promise(e=>{const i=this.on(t,c=>{i(),e(c)})})}events(t){t=Array.isArray(t)?t:[t];for(const e of t)Zl(e);return mu(this,t)}async emit(t,e){Zl(t),this.logIfDebugEnabled("emit",t,e),uV(this,t,e);const i=yl(this,t),c=An.get(this),s=[...i],b=Ld(t)?[]:[...c];await su,await Promise.all([...s.map(async X=>{if(i.has(X))return X(e)}),...b.map(async X=>{if(c.has(X))return X(t,e)})])}async emitSerial(t,e){Zl(t),this.logIfDebugEnabled("emitSerial",t,e);const i=yl(this,t),c=An.get(this),s=[...i],b=[...c];await su;for(const X of s)i.has(X)&&await X(e);for(const X of b)c.has(X)&&await X(t,e)}onAny(t){return ca(t),this.logIfDebugEnabled("subscribeAny",void 0,void 0),An.get(this).add(t),this.emit(Ka,{listener:t}),this.offAny.bind(this,t)}anyEvent(){return mu(this)}offAny(t){ca(t),this.logIfDebugEnabled("unsubscribeAny",void 0,void 0),this.emit(za,{listener:t}),An.get(this).delete(t)}clearListeners(t){t=Array.isArray(t)?t:[t];for(const e of t)if(this.logIfDebugEnabled("clear",e,void 0),typeof e=="string"||typeof e=="symbol"){yl(this,e).clear();const i=Vr(this,e);for(const c of i)c.finish();i.clear()}else{An.get(this).clear();for(const i of Va.get(this).values())i.clear();for(const i of Wr.get(this).values()){for(const c of i)c.finish();i.clear()}}}listenerCount(t){t=Array.isArray(t)?t:[t];let e=0;for(const i of t){if(typeof i=="string"){e+=An.get(this).size+yl(this,i).size+Vr(this,i).size+Vr(this).size;continue}typeof i<"u"&&Zl(i),e+=An.get(this).size;for(const c of Va.get(this).values())e+=c.size;for(const c of Wr.get(this).values())e+=c.size}return e}bindMethods(t,e){if(typeof t!="object"||t===null)throw new TypeError("`target` must be an object");e=uu(e);for(const i of e){if(t[i]!==void 0)throw new Error(`The property \`${i}\` already exists on \`target\``);Object.defineProperty(t,i,{enumerable:!1,value:this[i].bind(this)})}}}const bu=Object.getOwnPropertyNames(Ii.prototype).filter(n=>n!=="constructor");Object.defineProperty(Ii,"listenerAdded",{value:Ka,writable:!1,enumerable:!0,configurable:!1});Object.defineProperty(Ii,"listenerRemoved",{value:za,writable:!1,enumerable:!0,configurable:!1});var qs=Ii;function bV(n){return typeof n=="object"&&n!==null&&"message"in n&&typeof n.message=="string"}function hV(n){if(bV(n))return n;try{return new Error(JSON.stringify(n))}catch{return new Error(String(n))}}function Ed(n){return hV(n).message}var pV=Object.defineProperty,ZV=(n,t,e)=>t in n?pV(n,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):n[t]=e,yV=(n,t,e)=>(ZV(n,typeof t!="symbol"?t+"":t,e),e);const XV="hlg.tokbox.com/prod/logging/vcp_webrtc",WV="https://",VV=1e4;let aa;const fV=new Uint8Array(16);function GV(){if(!aa&&(aa=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!aa))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return aa(fV)}const Ve=[];for(let n=0;n<256;++n)Ve.push((n+256).toString(16).slice(1));function RV(n,t=0){return(Ve[n[t+0]]+Ve[n[t+1]]+Ve[n[t+2]]+Ve[n[t+3]]+"-"+Ve[n[t+4]]+Ve[n[t+5]]+"-"+Ve[n[t+6]]+Ve[n[t+7]]+"-"+Ve[n[t+8]]+Ve[n[t+9]]+"-"+Ve[n[t+10]]+Ve[n[t+11]]+Ve[n[t+12]]+Ve[n[t+13]]+Ve[n[t+14]]+Ve[n[t+15]]).toLowerCase()}const vV=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),hu={randomUUID:vV};function gV(n,t,e){if(hu.randomUUID&&!t&&!n)return hu.randomUUID();n=n||{};const i=n.random||(n.rng||GV)();if(i[6]=i[6]&15|64,i[8]=i[8]&63|128,t){e=e||0;for(let c=0;c<16;++c)t[e+c]=i[c];return t}return RV(i)}function tm(n,t){globalThis.vonage||(globalThis.vonage={}),globalThis.vonage.workerizer||(globalThis.vonage.workerizer={});let e=globalThis.vonage.workerizer;return e[n]||(e[n]=t),e[n]}const ii=tm("globals",{});var fi=(n=>(n.INIT="INIT",n.FORWARD="FORWARD",n.TERMINATE="TERMINATE",n.GLOBALS_SYNC="GLOBALS_SYNC",n))(fi||{});function Fh(n){return[ImageBitmap,ReadableStream,WritableStream].some(t=>n instanceof t)}let YV=0;function FV(n,t,e,i,c){const s=YV++;return n.postMessage({id:s,type:t,functionName:e,args:i},i.filter(b=>Fh(b))),new Promise(b=>{c==null||c.set(s,b)})}function _r(n,t){const{id:e,type:i}=n,c=Array.isArray(t)?t:[t];postMessage({id:e,type:i,result:t},c.filter(s=>Fh(s)))}const pu=tm("workerized",{});function Ih(){return typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope}async function IV(){if(Ih())_r({type:fi.GLOBALS_SYNC},ii);else{const n=[];for(const t in pu){const{worker:e,resolvers:i}=pu[t].workerContext;e&&n.push(FV(e,fi.GLOBALS_SYNC,"",[ii],i))}await Promise.all(n)}}function Ba(n,t){if(Array.isArray(t))t.splice(0,t.length);else if(typeof t=="object")for(const e in t)delete t[e];for(const e in n)Array.isArray(n[e])?(t[e]=[],Ba(n[e],t[e])):typeof n[e]=="object"?(t[e]={},Ba(n[e],t[e])):t[e]=n[e]}async function JV(n,t){const{functionName:e,args:i}=n;if(!t.instance)throw"instance not initialized";if(!e)throw"missing function name to call";if(!t.instance[e])throw`undefined function [${e}] in class ${t.instance.constructor.workerId}`;_r(n,await t.instance[e](...i!=null?i:[]))}const kV=tm("registeredWorkers",{});function NV(n,t){if(!n.args)throw"Missing className while initializing worker";const[e,i]=n.args,c=kV[e];if(c)t.instance=new c(n.args.slice(1));else throw`unknown worker class ${e}`;Ba(i,ii),_r(n,typeof t.instance!==void 0)}async function HV(n,t){const{args:e}=n;if(!t.instance)throw"instance not initialized";let i;t.instance.terminate&&(i=await t.instance.terminate(...e!=null?e:[])),_r(n,i)}function wV(n){if(!n.args)throw"Missing globals while syncing";Ba(n.args[0],ii),_r(n,{})}function xV(){const n={};onmessage=async t=>{const e=t.data;switch(e.type){case fi.INIT:NV(e,n);break;case fi.FORWARD:JV(e,n);break;case fi.TERMINATE:HV(e,n);break;case fi.GLOBALS_SYNC:wV(e);break}}}Ih()&&xV();function SV(n,t){return ii[n]||(ii[n]=t),[()=>ii[n],async e=>{ii[n]=e,await IV()}]}function TV(n,t){return SV(n,t)}const[UV,kR]=TV("metadata");function Md(){return UV()}class em{constructor(t){yV(this,"uuid",gV()),this.config=t}async send(t){var e,i,c;const{appId:s,sourceType:b}=(e=Md())!=null?e:{};if(!s||!b)return"metadata missing";const X=new AbortController,F=setTimeout(()=>X.abort(),VV);return await((c=(i=this.config)==null?void 0:i.fetch)!=null?c:fetch)(this.getUrl(),{method:"POST",headers:this.getHeaders(),body:JSON.stringify(this.buildReport(t)),signal:X.signal}),clearTimeout(F),"success"}getUrl(){var t;let e=(t=Md().proxyUrl)!=null?t:WV;return e+=(e.at(-1)==="/"?"":"/")+XV,e}getHeaders(){return{"Content-Type":"application/json"}}buildReport(t){const e=Md();return{guid:this.uuid,...t,applicationId:e.appId,timestamp:Date.now(),proxyUrl:e.proxyUrl,source:e.sourceType}}}const fa="2.0.3";class KV{constructor(t){Xt(this,"frameTransformedCount",0),Xt(this,"frameFromSourceCount",0),Xt(this,"startAt",0),Xt(this,"reporter"),this.config=t,this.reporter=new em(t)}async onFrameFromSource(){this.frameFromSourceCount++}get fps(){const{startAt:t,frameFromSourceCount:e}=this,i=(Date.now()-t)/1e3;return e/i}async onFrameTransformed(t={},e=!1){this.startAt===0&&(this.startAt=Date.now()),this.frameTransformedCount++;const{startAt:i,frameTransformedCount:c,frameFromSourceCount:s}=this,b=Date.now(),X=(b-i)/1e3,F=c/X,U=s/X;return e||this.frameTransformedCount>=this.config.loggingIntervalFrameCount?(this.frameFromSourceCount=0,this.frameTransformedCount=0,this.startAt=b,this.reporter.config=this.config,this.reporter.send({...this.config.report,variation:"QoS",fps:U,transformedFps:F,framesTransformed:c,...t})):"success"}}var Ys=(n=>(n.pipeline_ended="pipeline_ended",n.pipeline_ended_with_error="pipeline_ended_with_error",n.pipeline_started="pipeline_started",n.pipeline_started_with_error="pipeline_started_with_error",n.pipeline_restarted="pipeline_restarted",n.pipeline_restarted_with_error="pipeline_restarted_with_error",n))(Ys||{});const zV=500,BV=.8;class _V extends qs{constructor(t,e){super(),Xt(this,"reporter_",new em),Xt(this,"reporterQos_",new KV({loggingIntervalFrameCount:zV,report:{version:fa}})),Xt(this,"transformerType_"),Xt(this,"transformer_"),Xt(this,"shouldStop_"),Xt(this,"isFlashed_"),Xt(this,"mediaTransformerQosReportStartTimestamp_"),Xt(this,"videoHeight_"),Xt(this,"videoWidth_"),Xt(this,"trackExpectedRate_"),Xt(this,"index_"),Xt(this,"controller_"),this.index_=e,this.transformer_=t,this.shouldStop_=!1,this.isFlashed_=!1,this.mediaTransformerQosReportStartTimestamp_=0,this.videoHeight_=0,this.videoWidth_=0,this.trackExpectedRate_=-1,this.transformerType_="Custom","getTransformerType"in t&&(this.transformerType_=t.getTransformerType()),this.report({variation:"Create"})}setTrackExpectedRate(t){this.trackExpectedRate_=t}async start(t){if(this.controller_=t,this.transformer_&&typeof this.transformer_.start=="function")try{await this.transformer_.start(t)}catch(e){this.report({message:Hn.errors.transformer_start,variation:"Error",error:Ed(e)});const i={eventMetaData:{transformerIndex:this.index_},error:e,function:"start"};this.emit("error",i)}}async transform(t,e){var i,c,s,b;if(this.mediaTransformerQosReportStartTimestamp_===0&&(this.mediaTransformerQosReportStartTimestamp_=Date.now()),t instanceof VideoFrame&&(this.videoHeight_=(i=t==null?void 0:t.displayHeight)!=null?i:0,this.videoWidth_=(c=t==null?void 0:t.displayWidth)!=null?c:0),this.reporterQos_.onFrameFromSource(),this.transformer_)if(this.shouldStop_)console.warn("[Pipeline] flush from transform"),t.close(),this.flush(e),e.terminate();else{try{await((b=(s=this.transformer_).transform)==null?void 0:b.call(s,t,e)),this.reportQos()}catch(X){this.report({message:Hn.errors.transformer_transform,variation:"Error",error:Ed(X)});const F={eventMetaData:{transformerIndex:this.index_},error:X,function:"transform"};this.emit("error",F)}if(this.trackExpectedRate_!=-1&&this.trackExpectedRate_*BV>this.reporterQos_.fps){const X={eventMetaData:{transformerIndex:this.index_},warningType:"fps_drop",dropInfo:{requested:this.trackExpectedRate_,current:this.reporterQos_.fps}};this.emit("warn",X)}}}async flush(t){if(this.transformer_&&typeof this.transformer_.flush=="function"&&!this.isFlashed_){this.isFlashed_=!0;try{await this.transformer_.flush(t)}catch(e){this.report({message:Hn.errors.transformer_flush,variation:"Error",error:Ed(e)});const i={eventMetaData:{transformerIndex:this.index_},error:e,function:"flush"};this.emit("error",i)}}this.reportQos(!0),this.report({variation:"Delete"})}stop(){console.log("[Pipeline] Stop stream."),this.controller_&&(this.flush(this.controller_),this.controller_.terminate()),this.shouldStop_=!0}report(t){this.reporter_.send({version:fa,action:"MediaTransformer",transformerType:this.transformerType_,...t})}reportQos(t=!1){this.reporterQos_.config={...this.reporterQos_.config},this.reporterQos_.onFrameTransformed({version:fa,action:"MediaTransformer",transformerType:this.transformerType_,videoWidth:this.videoWidth_,videoHeight:this.videoHeight_},t)}}class CV extends qs{constructor(t){super(),Xt(this,"transformers_"),Xt(this,"trackExpectedRate_"),this.transformers_=[],this.trackExpectedRate_=-1;for(let e=0;e<t.length;e++){let i=new _V(t[e],e);i.on("error",c=>{this.emit("error",c)}),i.on("warn",c=>{this.emit("warn",c)}),this.transformers_.push(i)}}setTrackExpectedRate(t){this.trackExpectedRate_=t;for(let e of this.transformers_)e.setTrackExpectedRate(this.trackExpectedRate_)}async start(t,e){if(!this.transformers_||this.transformers_.length===0){console.log("[Pipeline] No transformers.");return}try{let i=t;for(let c of this.transformers_)t=t.pipeThrough(new TransformStream(c));t.pipeTo(e).then(async()=>{console.log("[Pipeline] Setup."),await e.abort(),await i.cancel(),this.emit("pipelineInfo","pipeline_ended")}).catch(async c=>{t.cancel().then(()=>{console.log("[Pipeline] Shutting down streams after abort.")}).catch(s=>{console.error("[Pipeline] Error from stream transform:",s)}),await e.abort(c),await i.cancel(c),this.emit("pipelineInfo","pipeline_ended_with_error")})}catch{this.emit("pipelineInfo","pipeline_started_with_error"),this.destroy();return}this.emit("pipelineInfo","pipeline_started"),console.log("[Pipeline] Pipeline started.")}async destroy(){console.log("[Pipeline] Destroying Pipeline.");for(let t of this.transformers_)t.stop()}}class LV extends qs{constructor(){super(),Xt(this,"reporter_"),Xt(this,"pipeline_"),Xt(this,"transformers_"),Xt(this,"readable_"),Xt(this,"writable_"),Xt(this,"trackExpectedRate_"),this.reporter_=new em,this.trackExpectedRate_=-1,this.report({variation:"Create"})}setTrackExpectedRate(t){this.trackExpectedRate_=t,this.pipeline_&&this.pipeline_.setTrackExpectedRate(this.trackExpectedRate_)}transform(t,e){return this.readable_=t,this.writable_=e,this.transformInternal()}transformInternal(){return new Promise(async(t,e)=>{if(!this.transformers_||this.transformers_.length===0){this.report({message:Hn.errors.transformer_none,variation:"Error"}),e("[MediaProcessor] Need to set transformers.");return}if(!this.readable_){this.report({variation:"Error",message:Hn.errors.readable_null}),e("[MediaProcessor] Readable is null.");return}if(!this.writable_){this.report({variation:"Error",message:Hn.errors.writable_null}),e("[MediaProcessor] Writable is null.");return}let i=!1;this.pipeline_&&(i=!0,this.pipeline_.clearListeners(),this.pipeline_.destroy()),this.pipeline_=new CV(this.transformers_),this.pipeline_.on("warn",c=>{this.emit("warn",c)}),this.pipeline_.on("error",c=>{this.emit("error",c)}),this.pipeline_.on("pipelineInfo",c=>{i&&(c==="pipeline_started"?c=Ys.pipeline_restarted:c==="pipeline_started_with_error"&&(c=Ys.pipeline_restarted_with_error)),this.emit("pipelineInfo",c)}),this.trackExpectedRate_!=-1&&this.pipeline_.setTrackExpectedRate(this.trackExpectedRate_),this.pipeline_.start(this.readable_,this.writable_).then(()=>{t()}).catch(c=>{e(c)})})}setTransformers(t){return this.report({variation:"Update",message:Hn.updates.transformer_new}),this.transformers_=t,this.readable_&&this.writable_?this.transformInternal():Promise.resolve()}destroy(){return new Promise(async t=>{this.pipeline_&&this.pipeline_.destroy(),this.report({variation:"Delete"}),t()})}report(t){this.reporter_.send({version:fa,action:"MediaProcessor",...t})}}class EV{constructor(){Xt(this,"processor_"),Xt(this,"generator_"),this.processor_=null,this.generator_=null}init(t){return new Promise((e,i)=>{try{this.processor_=new MediaStreamTrackProcessor(t)}catch(c){console.log(`[InsertableStreamHelper] MediaStreamTrackProcessor failed: ${c}`),i(c)}try{t.kind==="audio"?this.generator_=new MediaStreamTrackGenerator({kind:"audio"}):t.kind==="video"?this.generator_=new MediaStreamTrackGenerator({kind:"video"}):i("kind not supported")}catch(c){console.log(`[InsertableStreamHelper] MediaStreamTrackGenerator failed: ${c}`),i(c)}e()})}getReadable(){return this.processor_.readable}getWriteable(){return this.generator_.writable}getProccesorTrack(){return this.generator_}}class MV{constructor(t){Xt(this,"insertableStreamHelper_"),Xt(this,"mediaProcessor_"),this.insertableStreamHelper_=new EV,this.mediaProcessor_=t}setTrack(t){return new Promise((e,i)=>{this.insertableStreamHelper_.init(t).then(()=>{this.mediaProcessor_.transform(this.insertableStreamHelper_.getReadable(),this.insertableStreamHelper_.getWriteable()).then(()=>{e(this.insertableStreamHelper_.getProccesorTrack())}).catch(c=>{i(c)})}).catch(c=>{i(c)})})}destroy(){return new Promise((t,e)=>{this.mediaProcessor_?this.mediaProcessor_.destroy().then(()=>{t()}).catch(i=>{e(i)}):e("no processor")})}}let Jh;{var nm=(()=>{var n=location.href;return function(e){e=e||{};var e=typeof e<"u"?e:{},i,c;e.ready=new Promise(function(r,o){i=r,c=o});var s=Object.assign({},e),b="./this.program",X=(r,o)=>{throw o},F=typeof window=="object",U=typeof importScripts=="function";typeof process=="object"&&typeof process.versions=="object"&&process.versions.node;var E="";function f(r){return e.locateFile?e.locateFile(r,E):E+r}var Gt,Dt,Bt;(F||U)&&(U?E=self.location.href:typeof document<"u"&&document.currentScript&&(E=document.currentScript.src),n&&(E=n),E.indexOf("blob:")!==0?E=E.substr(0,E.replace(/[?#].*/,"").lastIndexOf("/")+1):E="",Gt=r=>{var o=new XMLHttpRequest;return o.open("GET",r,!1),o.send(null),o.responseText},U&&(Bt=r=>{var o=new XMLHttpRequest;return o.open("GET",r,!1),o.responseType="arraybuffer",o.send(null),new Uint8Array(o.response)}),Dt=(r,o,m)=>{var h=new XMLHttpRequest;h.open("GET",r,!0),h.responseType="arraybuffer",h.onload=()=>{if(h.status==200||h.status==0&&h.response){o(h.response);return}m()},h.onerror=m,h.send(null)});var Rt=e.print||console.log.bind(console),Pt=e.printErr||console.warn.bind(console);Object.assign(e,s),s=null,e.arguments&&e.arguments,e.thisProgram&&(b=e.thisProgram),e.quit&&(X=e.quit);var $t=0,vt=r=>{$t=r},ae=()=>$t,q;e.wasmBinary&&(q=e.wasmBinary);var ee=e.noExitRuntime||!1;typeof WebAssembly!="object"&&ke("no native wasm support detected");var it,Re=!1;function Oe(r,o){r||ke(o)}var Zt=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0;function pe(r,o,m){for(var h=o+m,W=o;r[W]&&!(W>=h);)++W;if(W-o>16&&r.buffer&&Zt)return Zt.decode(r.subarray(o,W));for(var G="";o<W;){var v=r[o++];if(!(v&128)){G+=String.fromCharCode(v);continue}var Y=r[o++]&63;if((v&224)==192){G+=String.fromCharCode((v&31)<<6|Y);continue}var I=r[o++]&63;if((v&240)==224?v=(v&15)<<12|Y<<6|I:v=(v&7)<<18|Y<<12|I<<6|r[o++]&63,v<65536)G+=String.fromCharCode(v);else{var N=v-65536;G+=String.fromCharCode(55296|N>>10,56320|N&1023)}}return G}function yt(r,o){return r?pe(oe,r,o):""}function ye(r,o,m,h){if(!(h>0))return 0;for(var W=m,G=m+h-1,v=0;v<r.length;++v){var Y=r.charCodeAt(v);if(Y>=55296&&Y<=57343){var I=r.charCodeAt(++v);Y=65536+((Y&1023)<<10)|I&1023}if(Y<=127){if(m>=G)break;o[m++]=Y}else if(Y<=2047){if(m+1>=G)break;o[m++]=192|Y>>6,o[m++]=128|Y&63}else if(Y<=65535){if(m+2>=G)break;o[m++]=224|Y>>12,o[m++]=128|Y>>6&63,o[m++]=128|Y&63}else{if(m+3>=G)break;o[m++]=240|Y>>18,o[m++]=128|Y>>12&63,o[m++]=128|Y>>6&63,o[m++]=128|Y&63}}return o[m]=0,m-W}function fn(r,o,m){return ye(r,oe,o,m)}function _t(r){for(var o=0,m=0;m<r.length;++m){var h=r.charCodeAt(m);h>=55296&&h<=57343&&(h=65536+((h&1023)<<10)|r.charCodeAt(++m)&1023),h<=127?++o:h<=2047?o+=2:h<=65535?o+=3:o+=4}return o}var sn=typeof TextDecoder<"u"?new TextDecoder("utf-16le"):void 0;function di(r,o){for(var m=r,h=m>>1,W=h+o/2;!(h>=W)&&Bn[h];)++h;if(m=h<<1,m-r>32&&sn)return sn.decode(oe.subarray(r,m));for(var G="",v=0;!(v>=o/2);++v){var Y=zn[r+v*2>>1];if(Y==0)break;G+=String.fromCharCode(Y)}return G}function Lr(r,o,m){if(m===void 0&&(m=2147483647),m<2)return 0;m-=2;for(var h=o,W=m<r.length*2?m/2:r.length,G=0;G<W;++G){var v=r.charCodeAt(G);zn[o>>1]=v,o+=2}return zn[o>>1]=0,o-h}function gt(r){return r.length*2}function Er(r,o){for(var m=0,h="";!(m>=o/4);){var W=D[r+m*4>>2];if(W==0)break;if(++m,W>=65536){var G=W-65536;h+=String.fromCharCode(55296|G>>10,56320|G&1023)}else h+=String.fromCharCode(W)}return h}function Cl(r,o,m){if(m===void 0&&(m=2147483647),m<4)return 0;for(var h=o,W=h+m-4,G=0;G<r.length;++G){var v=r.charCodeAt(G);if(v>=55296&&v<=57343){var Y=r.charCodeAt(++G);v=65536+((v&1023)<<10)|Y&1023}if(D[o>>2]=v,o+=4,o+4>W)break}return D[o>>2]=0,o-h}function si(r){for(var o=0,m=0;m<r.length;++m){var h=r.charCodeAt(m);h>=55296&&h<=57343&&++m,o+=4}return o}function Mr(r,o){jt.set(r,o)}function Pr(r,o,m){for(var h=0;h<r.length;++h)jt[o++>>0]=r.charCodeAt(h);m||(jt[o>>0]=0)}var De,jt,oe,zn,Bn,D,At,jr,Qr;function Or(r){De=r,e.HEAP8=jt=new Int8Array(r),e.HEAP16=zn=new Int16Array(r),e.HEAP32=D=new Int32Array(r),e.HEAPU8=oe=new Uint8Array(r),e.HEAPU16=Bn=new Uint16Array(r),e.HEAPU32=At=new Uint32Array(r),e.HEAPF32=jr=new Float32Array(r),e.HEAPF64=Qr=new Float64Array(r)}e.INITIAL_MEMORY;var Dr,Ar=[],$r=[],so=[],ne=[],qr=0;function Ll(){return ee||qr>0}function tc(){if(e.preRun)for(typeof e.preRun=="function"&&(e.preRun=[e.preRun]);e.preRun.length;)lc(e.preRun.shift());Ui(Ar)}function ec(){!e.noFSInit&&!y.init.initialized&&y.init(),y.ignorePermissions=!1,Ui($r)}function nc(){sr(),Ui(so),y.quit()}function ic(){if(e.postRun)for(typeof e.postRun=="function"&&(e.postRun=[e.postRun]);e.postRun.length;)Ee(e.postRun.shift());Ui(ne)}function lc(r){Ar.unshift(r)}function rc(r){$r.unshift(r)}function Ee(r){ne.unshift(r)}var mn=0,_n=null;function mo(r){return r}function xi(r){mn++,e.monitorRunDependencies&&e.monitorRunDependencies(mn)}function Si(r){if(mn--,e.monitorRunDependencies&&e.monitorRunDependencies(mn),mn==0&&_n){var o=_n;_n=null,o()}}function ke(r){e.onAbort&&e.onAbort(r),r="Aborted("+r+")",Pt(r),Re=!0,r+=". Build with -sASSERTIONS for more info.";var o=new WebAssembly.RuntimeError(r);throw c(o),o}var uo="data:application/octet-stream;base64,";function Ti(r){return r.startsWith(uo)}var Ne;e.locateFile?(Ne="main-bin-mono.wasm",Ti(Ne)||(Ne=f(Ne))):Ne=new URL("main-bin-mono.wasm",location.href).toString();function El(r){try{if(r==Ne&&q)return new Uint8Array(q);if(Bt)return Bt(r);throw"both async and sync fetching of the wasm failed"}catch(o){ke(o)}}function bo(){return!q&&(F||U)&&typeof fetch=="function"?fetch(Ne,{credentials:"same-origin"}).then(function(r){if(!r.ok)throw"failed to load wasm binary file at '"+Ne+"'";return r.arrayBuffer()}).catch(function(){return El(Ne)}):Promise.resolve().then(function(){return El(Ne)})}function ho(){var r={a:Zd};function o(v,Y){var I=v.exports;e.asm=I,it=e.asm.Na,Or(it.buffer),Dr=e.asm.Pa,rc(e.asm.Oa),Si()}xi();function m(v){o(v.instance)}function h(v){return bo().then(function(Y){return WebAssembly.instantiate(Y,r)}).then(function(Y){return Y}).then(v,function(Y){Pt("failed to asynchronously prepare wasm: "+Y),ke(Y)})}function W(){return!q&&typeof WebAssembly.instantiateStreaming=="function"&&!Ti(Ne)&&typeof fetch=="function"?fetch(Ne,{credentials:"same-origin"}).then(function(v){var Y=WebAssembly.instantiateStreaming(v,r);return Y.then(m,function(I){return Pt("wasm streaming compile failed: "+I),Pt("falling back to ArrayBuffer instantiation"),h(m)})}):h(m)}if(e.instantiateWasm)try{var G=e.instantiateWasm(r,o);return G}catch(v){return Pt("Module.instantiateWasm callback failed with error: "+v),!1}return W().catch(c),{}}var ie,Ae;function Ui(r){for(;r.length>0;){var o=r.shift();if(typeof o=="function"){o(e);continue}var m=o.func;typeof m=="number"?o.arg===void 0?lt(m)():lt(m)(o.arg):m(o.arg===void 0?null:o.arg)}}var Me=[];function lt(r){var o=Me[r];return o||(r>=Me.length&&(Me.length=r+1),Me[r]=o=Dr.get(r)),o}function bm(r,o,m,h){ke("Assertion failed: "+yt(r)+", at: "+[o?yt(o):"unknown filename",m,h?yt(h):"unknown function"])}function Ml(r){return il(r+24)+24}var Se=[];function ve(r){r.add_ref()}var Ki=0;function cc(r){var o=new $e(r);return o.get_caught()||(o.set_caught(!0),Ki--),o.set_rethrown(!1),Se.push(o),ve(o),o.get_exception_ptr()}function He(){if(!Se.length)return 0;var r=Se[Se.length-1];return ve(r),r.excPtr}function $e(r){this.excPtr=r,this.ptr=r-24,this.set_type=function(o){At[this.ptr+4>>2]=o},this.get_type=function(){return At[this.ptr+4>>2]},this.set_destructor=function(o){At[this.ptr+8>>2]=o},this.get_destructor=function(){return At[this.ptr+8>>2]},this.set_refcount=function(o){D[this.ptr>>2]=o},this.set_caught=function(o){o=o?1:0,jt[this.ptr+12>>0]=o},this.get_caught=function(){return jt[this.ptr+12>>0]!=0},this.set_rethrown=function(o){o=o?1:0,jt[this.ptr+13>>0]=o},this.get_rethrown=function(){return jt[this.ptr+13>>0]!=0},this.init=function(o,m){this.set_adjusted_ptr(0),this.set_type(o),this.set_destructor(m),this.set_refcount(0),this.set_caught(!1),this.set_rethrown(!1)},this.add_ref=function(){var o=D[this.ptr>>2];D[this.ptr>>2]=o+1},this.release_ref=function(){var o=D[this.ptr>>2];return D[this.ptr>>2]=o-1,o===1},this.set_adjusted_ptr=function(o){At[this.ptr+16>>2]=o},this.get_adjusted_ptr=function(){return At[this.ptr+16>>2]},this.get_exception_ptr=function(){var o=_c(this.get_type());if(o)return At[this.excPtr>>2];var m=this.get_adjusted_ptr();return m!==0?m:this.excPtr}}function ac(r){return je(new $e(r).ptr)}function oc(r){if(r.release_ref()&&!r.get_rethrown()){var o=r.get_destructor();o&&lt(o)(r.excPtr),ac(r.excPtr)}}function le(r){!r||oc(new $e(r))}var Xe=0;function po(){bt(0);var r=Se.pop();oc(r),Xe=0}function Zo(r){throw Xe||(Xe=r),r}function yo(){var r=Xe;if(!r)return vt(0),0;var o=new $e(r);o.set_adjusted_ptr(r);var m=o.get_type();if(!m)return vt(0),r;for(var h=Array.prototype.slice.call(arguments),W=0;W<h.length;W++){var G=h[W];if(G===0||G===m)break;var v=o.ptr+16;if(mr(G,m,v))return vt(G),r}return vt(m),r}function dc(){var r=Xe;if(!r)return vt(0),0;var o=new $e(r);o.set_adjusted_ptr(r);var m=o.get_type();if(!m)return vt(0),r;for(var h=Array.prototype.slice.call(arguments),W=0;W<h.length;W++){var G=h[W];if(G===0||G===m)break;var v=o.ptr+16;if(mr(G,m,v))return vt(G),r}return vt(m),r}function Xo(r){!r||ve(new $e(r))}function Pl(){var r=Se.pop();r||ke("no exception to throw");var o=r.excPtr;throw r.get_rethrown()||(Se.push(r),r.set_rethrown(!0),r.set_caught(!1),Ki++),Xe=o,o}function sc(r){if(!!r){var o=new $e(r);Se.push(o),o.set_rethrown(!0),Pl()}}function Wo(r,o,m){var h=new $e(r);throw h.init(o,m),Xe=r,Ki++,r}function $(){return Ki}var ot={isAbs:r=>r.charAt(0)==="/",splitPath:r=>{var o=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/;return o.exec(r).slice(1)},normalizeArray:(r,o)=>{for(var m=0,h=r.length-1;h>=0;h--){var W=r[h];W==="."?r.splice(h,1):W===".."?(r.splice(h,1),m++):m&&(r.splice(h,1),m--)}if(o)for(;m;m--)r.unshift("..");return r},normalize:r=>{var o=ot.isAbs(r),m=r.substr(-1)==="/";return r=ot.normalizeArray(r.split("/").filter(h=>!!h),!o).join("/"),!r&&!o&&(r="."),r&&m&&(r+="/"),(o?"/":"")+r},dirname:r=>{var o=ot.splitPath(r),m=o[0],h=o[1];return!m&&!h?".":(h&&(h=h.substr(0,h.length-1)),m+h)},basename:r=>{if(r==="/")return"/";r=ot.normalize(r),r=r.replace(/\/$/,"");var o=r.lastIndexOf("/");return o===-1?r:r.substr(o+1)},join:function(){var r=Array.prototype.slice.call(arguments,0);return ot.normalize(r.join("/"))},join2:(r,o)=>ot.normalize(r+"/"+o)};function mc(){if(typeof crypto=="object"&&typeof crypto.getRandomValues=="function"){var r=new Uint8Array(1);return function(){return crypto.getRandomValues(r),r[0]}}else return function(){ke("randomDevice")}}var qe={resolve:function(){for(var r="",o=!1,m=arguments.length-1;m>=-1&&!o;m--){var h=m>=0?arguments[m]:y.cwd();if(typeof h!="string")throw new TypeError("Arguments to path.resolve must be strings");if(!h)return"";r=h+"/"+r,o=ot.isAbs(h)}return r=ot.normalizeArray(r.split("/").filter(W=>!!W),!o).join("/"),(o?"/":"")+r||"."},relative:(r,o)=>{r=qe.resolve(r).substr(1),o=qe.resolve(o).substr(1);function m(N){for(var S=0;S<N.length&&N[S]==="";S++);for(var x=N.length-1;x>=0&&N[x]==="";x--);return S>x?[]:N.slice(S,x-S+1)}for(var h=m(r.split("/")),W=m(o.split("/")),G=Math.min(h.length,W.length),v=G,Y=0;Y<G;Y++)if(h[Y]!==W[Y]){v=Y;break}for(var I=[],Y=v;Y<h.length;Y++)I.push("..");return I=I.concat(W.slice(v)),I.join("/")}},un={ttys:[],init:function(){},shutdown:function(){},register:function(r,o){un.ttys[r]={input:[],output:[],ops:o},y.registerDevice(r,un.stream_ops)},stream_ops:{open:function(r){var o=un.ttys[r.node.rdev];if(!o)throw new y.ErrnoError(43);r.tty=o,r.seekable=!1},close:function(r){r.tty.ops.flush(r.tty)},flush:function(r){r.tty.ops.flush(r.tty)},read:function(r,o,m,h,W){if(!r.tty||!r.tty.ops.get_char)throw new y.ErrnoError(60);for(var G=0,v=0;v<h;v++){var Y;try{Y=r.tty.ops.get_char(r.tty)}catch{throw new y.ErrnoError(29)}if(Y===void 0&&G===0)throw new y.ErrnoError(6);if(Y==null)break;G++,o[m+v]=Y}return G&&(r.node.timestamp=Date.now()),G},write:function(r,o,m,h,W){if(!r.tty||!r.tty.ops.put_char)throw new y.ErrnoError(60);try{for(var G=0;G<h;G++)r.tty.ops.put_char(r.tty,o[m+G])}catch{throw new y.ErrnoError(29)}return h&&(r.node.timestamp=Date.now()),G}},default_tty_ops:{get_char:function(r){if(!r.input.length){var o=null;if(typeof window<"u"&&typeof window.prompt=="function"?(o=window.prompt("Input: "),o!==null&&(o+=`
`)):typeof readline=="function"&&(o=readline(),o!==null&&(o+=`
`)),!o)return null;r.input=nl(o,!0)}return r.input.shift()},put_char:function(r,o){o===null||o===10?(Rt(pe(r.output,0)),r.output=[]):o!=0&&r.output.push(o)},flush:function(r){r.output&&r.output.length>0&&(Rt(pe(r.output,0)),r.output=[])}},default_tty1_ops:{put_char:function(r,o){o===null||o===10?(Pt(pe(r.output,0)),r.output=[]):o!=0&&r.output.push(o)},flush:function(r){r.output&&r.output.length>0&&(Pt(pe(r.output,0)),r.output=[])}}};function zi(r,o){oe.fill(0,r,r+o)}function dt(r,o){return Math.ceil(r/o)*o}function Vo(r){r=dt(r,65536);var o=Bc(65536,r);return o?(zi(o,r),o):0}var et={ops_table:null,mount:function(r){return et.createNode(null,"/",16895,0)},createNode:function(r,o,m,h){if(y.isBlkdev(m)||y.isFIFO(m))throw new y.ErrnoError(63);et.ops_table||(et.ops_table={dir:{node:{getattr:et.node_ops.getattr,setattr:et.node_ops.setattr,lookup:et.node_ops.lookup,mknod:et.node_ops.mknod,rename:et.node_ops.rename,unlink:et.node_ops.unlink,rmdir:et.node_ops.rmdir,readdir:et.node_ops.readdir,symlink:et.node_ops.symlink},stream:{llseek:et.stream_ops.llseek}},file:{node:{getattr:et.node_ops.getattr,setattr:et.node_ops.setattr},stream:{llseek:et.stream_ops.llseek,read:et.stream_ops.read,write:et.stream_ops.write,allocate:et.stream_ops.allocate,mmap:et.stream_ops.mmap,msync:et.stream_ops.msync}},link:{node:{getattr:et.node_ops.getattr,setattr:et.node_ops.setattr,readlink:et.node_ops.readlink},stream:{}},chrdev:{node:{getattr:et.node_ops.getattr,setattr:et.node_ops.setattr},stream:y.chrdev_stream_ops}});var W=y.createNode(r,o,m,h);return y.isDir(W.mode)?(W.node_ops=et.ops_table.dir.node,W.stream_ops=et.ops_table.dir.stream,W.contents={}):y.isFile(W.mode)?(W.node_ops=et.ops_table.file.node,W.stream_ops=et.ops_table.file.stream,W.usedBytes=0,W.contents=null):y.isLink(W.mode)?(W.node_ops=et.ops_table.link.node,W.stream_ops=et.ops_table.link.stream):y.isChrdev(W.mode)&&(W.node_ops=et.ops_table.chrdev.node,W.stream_ops=et.ops_table.chrdev.stream),W.timestamp=Date.now(),r&&(r.contents[o]=W,r.timestamp=W.timestamp),W},getFileDataAsTypedArray:function(r){return r.contents?r.contents.subarray?r.contents.subarray(0,r.usedBytes):new Uint8Array(r.contents):new Uint8Array(0)},expandFileStorage:function(r,o){var m=r.contents?r.contents.length:0;if(!(m>=o)){var h=1024*1024;o=Math.max(o,m*(m<h?2:1.125)>>>0),m!=0&&(o=Math.max(o,256));var W=r.contents;r.contents=new Uint8Array(o),r.usedBytes>0&&r.contents.set(W.subarray(0,r.usedBytes),0)}},resizeFileStorage:function(r,o){if(r.usedBytes!=o)if(o==0)r.contents=null,r.usedBytes=0;else{var m=r.contents;r.contents=new Uint8Array(o),m&&r.contents.set(m.subarray(0,Math.min(o,r.usedBytes))),r.usedBytes=o}},node_ops:{getattr:function(r){var o={};return o.dev=y.isChrdev(r.mode)?r.id:1,o.ino=r.id,o.mode=r.mode,o.nlink=1,o.uid=0,o.gid=0,o.rdev=r.rdev,y.isDir(r.mode)?o.size=4096:y.isFile(r.mode)?o.size=r.usedBytes:y.isLink(r.mode)?o.size=r.link.length:o.size=0,o.atime=new Date(r.timestamp),o.mtime=new Date(r.timestamp),o.ctime=new Date(r.timestamp),o.blksize=4096,o.blocks=Math.ceil(o.size/o.blksize),o},setattr:function(r,o){o.mode!==void 0&&(r.mode=o.mode),o.timestamp!==void 0&&(r.timestamp=o.timestamp),o.size!==void 0&&et.resizeFileStorage(r,o.size)},lookup:function(r,o){throw y.genericErrors[44]},mknod:function(r,o,m,h){return et.createNode(r,o,m,h)},rename:function(r,o,m){if(y.isDir(r.mode)){var h;try{h=y.lookupNode(o,m)}catch{}if(h)for(var W in h.contents)throw new y.ErrnoError(55)}delete r.parent.contents[r.name],r.parent.timestamp=Date.now(),r.name=m,o.contents[m]=r,o.timestamp=r.parent.timestamp,r.parent=o},unlink:function(r,o){delete r.contents[o],r.timestamp=Date.now()},rmdir:function(r,o){var m=y.lookupNode(r,o);for(var h in m.contents)throw new y.ErrnoError(55);delete r.contents[o],r.timestamp=Date.now()},readdir:function(r){var o=[".",".."];for(var m in r.contents)!r.contents.hasOwnProperty(m)||o.push(m);return o},symlink:function(r,o,m){var h=et.createNode(r,o,41471,0);return h.link=m,h},readlink:function(r){if(!y.isLink(r.mode))throw new y.ErrnoError(28);return r.link}},stream_ops:{read:function(r,o,m,h,W){var G=r.node.contents;if(W>=r.node.usedBytes)return 0;var v=Math.min(r.node.usedBytes-W,h);if(v>8&&G.subarray)o.set(G.subarray(W,W+v),m);else for(var Y=0;Y<v;Y++)o[m+Y]=G[W+Y];return v},write:function(r,o,m,h,W,G){if(o.buffer===jt.buffer&&(G=!1),!h)return 0;var v=r.node;if(v.timestamp=Date.now(),o.subarray&&(!v.contents||v.contents.subarray)){if(G)return v.contents=o.subarray(m,m+h),v.usedBytes=h,h;if(v.usedBytes===0&&W===0)return v.contents=o.slice(m,m+h),v.usedBytes=h,h;if(W+h<=v.usedBytes)return v.contents.set(o.subarray(m,m+h),W),h}if(et.expandFileStorage(v,W+h),v.contents.subarray&&o.subarray)v.contents.set(o.subarray(m,m+h),W);else for(var Y=0;Y<h;Y++)v.contents[W+Y]=o[m+Y];return v.usedBytes=Math.max(v.usedBytes,W+h),h},llseek:function(r,o,m){var h=o;if(m===1?h+=r.position:m===2&&y.isFile(r.node.mode)&&(h+=r.node.usedBytes),h<0)throw new y.ErrnoError(28);return h},allocate:function(r,o,m){et.expandFileStorage(r.node,o+m),r.node.usedBytes=Math.max(r.node.usedBytes,o+m)},mmap:function(r,o,m,h,W,G){if(o!==0)throw new y.ErrnoError(28);if(!y.isFile(r.node.mode))throw new y.ErrnoError(43);var v,Y,I=r.node.contents;if(!(G&2)&&I.buffer===De)Y=!1,v=I.byteOffset;else{if((h>0||h+m<I.length)&&(I.subarray?I=I.subarray(h,h+m):I=Array.prototype.slice.call(I,h,h+m)),Y=!0,v=Vo(m),!v)throw new y.ErrnoError(48);jt.set(I,v)}return{ptr:v,allocated:Y}},msync:function(r,o,m,h,W){if(!y.isFile(r.node.mode))throw new y.ErrnoError(43);return W&2||et.stream_ops.write(r,o,0,h,m,!1),0}}};function fo(r,o,m,h){var W=h?"":"al "+r;Dt(r,function(G){Oe(G,'Loading data file "'+r+'" failed (no arrayBuffer).'),o(new Uint8Array(G)),W&&Si()},function(G){if(m)m();else throw'Loading data file "'+r+'" failed.'}),W&&xi()}var y={root:null,mounts:[],devices:{},streams:[],nextInode:1,nameTable:null,currentPath:"/",initialized:!1,ignorePermissions:!0,ErrnoError:null,genericErrors:{},filesystems:null,syncFSRequests:0,lookupPath:(r,o={})=>{if(r=qe.resolve(y.cwd(),r),!r)return{path:"",node:null};var m={follow_mount:!0,recurse_count:0};if(o=Object.assign(m,o),o.recurse_count>8)throw new y.ErrnoError(32);for(var h=ot.normalizeArray(r.split("/").filter(x=>!!x),!1),W=y.root,G="/",v=0;v<h.length;v++){var Y=v===h.length-1;if(Y&&o.parent)break;if(W=y.lookupNode(W,h[v]),G=ot.join2(G,h[v]),y.isMountpoint(W)&&(!Y||Y&&o.follow_mount)&&(W=W.mounted.root),!Y||o.follow)for(var I=0;y.isLink(W.mode);){var N=y.readlink(G);G=qe.resolve(ot.dirname(G),N);var S=y.lookupPath(G,{recurse_count:o.recurse_count+1});if(W=S.node,I++>40)throw new y.ErrnoError(32)}}return{path:G,node:W}},getPath:r=>{for(var o;;){if(y.isRoot(r)){var m=r.mount.mountpoint;return o?m[m.length-1]!=="/"?m+"/"+o:m+o:m}o=o?r.name+"/"+o:r.name,r=r.parent}},hashName:(r,o)=>{for(var m=0,h=0;h<o.length;h++)m=(m<<5)-m+o.charCodeAt(h)|0;return(r+m>>>0)%y.nameTable.length},hashAddNode:r=>{var o=y.hashName(r.parent.id,r.name);r.name_next=y.nameTable[o],y.nameTable[o]=r},hashRemoveNode:r=>{var o=y.hashName(r.parent.id,r.name);if(y.nameTable[o]===r)y.nameTable[o]=r.name_next;else for(var m=y.nameTable[o];m;){if(m.name_next===r){m.name_next=r.name_next;break}m=m.name_next}},lookupNode:(r,o)=>{var m=y.mayLookup(r);if(m)throw new y.ErrnoError(m,r);for(var h=y.hashName(r.id,o),W=y.nameTable[h];W;W=W.name_next){var G=W.name;if(W.parent.id===r.id&&G===o)return W}return y.lookup(r,o)},createNode:(r,o,m,h)=>{var W=new y.FSNode(r,o,m,h);return y.hashAddNode(W),W},destroyNode:r=>{y.hashRemoveNode(r)},isRoot:r=>r===r.parent,isMountpoint:r=>!!r.mounted,isFile:r=>(r&61440)===32768,isDir:r=>(r&61440)===16384,isLink:r=>(r&61440)===40960,isChrdev:r=>(r&61440)===8192,isBlkdev:r=>(r&61440)===24576,isFIFO:r=>(r&61440)===4096,isSocket:r=>(r&49152)===49152,flagModes:{r:0,"r+":2,w:577,"w+":578,a:1089,"a+":1090},modeStringToFlags:r=>{var o=y.flagModes[r];if(typeof o>"u")throw new Error("Unknown file open mode: "+r);return o},flagsToPermissionString:r=>{var o=["r","w","rw"][r&3];return r&512&&(o+="w"),o},nodePermissions:(r,o)=>y.ignorePermissions?0:o.includes("r")&&!(r.mode&292)||o.includes("w")&&!(r.mode&146)||o.includes("x")&&!(r.mode&73)?2:0,mayLookup:r=>{var o=y.nodePermissions(r,"x");return o||(r.node_ops.lookup?0:2)},mayCreate:(r,o)=>{try{var m=y.lookupNode(r,o);return 20}catch{}return y.nodePermissions(r,"wx")},mayDelete:(r,o,m)=>{var h;try{h=y.lookupNode(r,o)}catch(G){return G.errno}var W=y.nodePermissions(r,"wx");if(W)return W;if(m){if(!y.isDir(h.mode))return 54;if(y.isRoot(h)||y.getPath(h)===y.cwd())return 10}else if(y.isDir(h.mode))return 31;return 0},mayOpen:(r,o)=>r?y.isLink(r.mode)?32:y.isDir(r.mode)&&(y.flagsToPermissionString(o)!=="r"||o&512)?31:y.nodePermissions(r,y.flagsToPermissionString(o)):44,MAX_OPEN_FDS:4096,nextfd:(r=0,o=y.MAX_OPEN_FDS)=>{for(var m=r;m<=o;m++)if(!y.streams[m])return m;throw new y.ErrnoError(33)},getStream:r=>y.streams[r],createStream:(r,o,m)=>{y.FSStream||(y.FSStream=function(){this.shared={}},y.FSStream.prototype={object:{get:function(){return this.node},set:function(W){this.node=W}},isRead:{get:function(){return(this.flags&2097155)!==1}},isWrite:{get:function(){return(this.flags&2097155)!==0}},isAppend:{get:function(){return this.flags&1024}},flags:{get:function(){return this.shared.flags},set:function(W){this.shared.flags=W}},position:{get function(){return this.shared.position},set:function(W){this.shared.position=W}}}),r=Object.assign(new y.FSStream,r);var h=y.nextfd(o,m);return r.fd=h,y.streams[h]=r,r},closeStream:r=>{y.streams[r]=null},chrdev_stream_ops:{open:r=>{var o=y.getDevice(r.node.rdev);r.stream_ops=o.stream_ops,r.stream_ops.open&&r.stream_ops.open(r)},llseek:()=>{throw new y.ErrnoError(70)}},major:r=>r>>8,minor:r=>r&255,makedev:(r,o)=>r<<8|o,registerDevice:(r,o)=>{y.devices[r]={stream_ops:o}},getDevice:r=>y.devices[r],getMounts:r=>{for(var o=[],m=[r];m.length;){var h=m.pop();o.push(h),m.push.apply(m,h.mounts)}return o},syncfs:(r,o)=>{typeof r=="function"&&(o=r,r=!1),y.syncFSRequests++,y.syncFSRequests>1&&Pt("warning: "+y.syncFSRequests+" FS.syncfs operations in flight at once, probably just doing extra work");var m=y.getMounts(y.root.mount),h=0;function W(v){return y.syncFSRequests--,o(v)}function G(v){if(v)return G.errored?void 0:(G.errored=!0,W(v));++h>=m.length&&W(null)}m.forEach(v=>{if(!v.type.syncfs)return G(null);v.type.syncfs(v,r,G)})},mount:(r,o,m)=>{var h=m==="/",W=!m,G;if(h&&y.root)throw new y.ErrnoError(10);if(!h&&!W){var v=y.lookupPath(m,{follow_mount:!1});if(m=v.path,G=v.node,y.isMountpoint(G))throw new y.ErrnoError(10);if(!y.isDir(G.mode))throw new y.ErrnoError(54)}var Y={type:r,opts:o,mountpoint:m,mounts:[]},I=r.mount(Y);return I.mount=Y,Y.root=I,h?y.root=I:G&&(G.mounted=Y,G.mount&&G.mount.mounts.push(Y)),I},unmount:r=>{var o=y.lookupPath(r,{follow_mount:!1});if(!y.isMountpoint(o.node))throw new y.ErrnoError(28);var m=o.node,h=m.mounted,W=y.getMounts(h);Object.keys(y.nameTable).forEach(v=>{for(var Y=y.nameTable[v];Y;){var I=Y.name_next;W.includes(Y.mount)&&y.destroyNode(Y),Y=I}}),m.mounted=null;var G=m.mount.mounts.indexOf(h);m.mount.mounts.splice(G,1)},lookup:(r,o)=>r.node_ops.lookup(r,o),mknod:(r,o,m)=>{var h=y.lookupPath(r,{parent:!0}),W=h.node,G=ot.basename(r);if(!G||G==="."||G==="..")throw new y.ErrnoError(28);var v=y.mayCreate(W,G);if(v)throw new y.ErrnoError(v);if(!W.node_ops.mknod)throw new y.ErrnoError(63);return W.node_ops.mknod(W,G,o,m)},create:(r,o)=>(o=o!==void 0?o:438,o&=4095,o|=32768,y.mknod(r,o,0)),mkdir:(r,o)=>(o=o!==void 0?o:511,o&=1023,o|=16384,y.mknod(r,o,0)),mkdirTree:(r,o)=>{for(var m=r.split("/"),h="",W=0;W<m.length;++W)if(!!m[W]){h+="/"+m[W];try{y.mkdir(h,o)}catch(G){if(G.errno!=20)throw G}}},mkdev:(r,o,m)=>(typeof m>"u"&&(m=o,o=438),o|=8192,y.mknod(r,o,m)),symlink:(r,o)=>{if(!qe.resolve(r))throw new y.ErrnoError(44);var m=y.lookupPath(o,{parent:!0}),h=m.node;if(!h)throw new y.ErrnoError(44);var W=ot.basename(o),G=y.mayCreate(h,W);if(G)throw new y.ErrnoError(G);if(!h.node_ops.symlink)throw new y.ErrnoError(63);return h.node_ops.symlink(h,W,r)},rename:(r,o)=>{var m=ot.dirname(r),h=ot.dirname(o),W=ot.basename(r),G=ot.basename(o),v,Y,I;if(v=y.lookupPath(r,{parent:!0}),Y=v.node,v=y.lookupPath(o,{parent:!0}),I=v.node,!Y||!I)throw new y.ErrnoError(44);if(Y.mount!==I.mount)throw new y.ErrnoError(75);var N=y.lookupNode(Y,W),S=qe.relative(r,h);if(S.charAt(0)!==".")throw new y.ErrnoError(28);if(S=qe.relative(o,m),S.charAt(0)!==".")throw new y.ErrnoError(55);var x;try{x=y.lookupNode(I,G)}catch{}if(N!==x){var T=y.isDir(N.mode),M=y.mayDelete(Y,W,T);if(M)throw new y.ErrnoError(M);if(M=x?y.mayDelete(I,G,T):y.mayCreate(I,G),M)throw new y.ErrnoError(M);if(!Y.node_ops.rename)throw new y.ErrnoError(63);if(y.isMountpoint(N)||x&&y.isMountpoint(x))throw new y.ErrnoError(10);if(I!==Y&&(M=y.nodePermissions(Y,"w"),M))throw new y.ErrnoError(M);y.hashRemoveNode(N);try{Y.node_ops.rename(N,I,G)}catch(nt){throw nt}finally{y.hashAddNode(N)}}},rmdir:r=>{var o=y.lookupPath(r,{parent:!0}),m=o.node,h=ot.basename(r),W=y.lookupNode(m,h),G=y.mayDelete(m,h,!0);if(G)throw new y.ErrnoError(G);if(!m.node_ops.rmdir)throw new y.ErrnoError(63);if(y.isMountpoint(W))throw new y.ErrnoError(10);m.node_ops.rmdir(m,h),y.destroyNode(W)},readdir:r=>{var o=y.lookupPath(r,{follow:!0}),m=o.node;if(!m.node_ops.readdir)throw new y.ErrnoError(54);return m.node_ops.readdir(m)},unlink:r=>{var o=y.lookupPath(r,{parent:!0}),m=o.node;if(!m)throw new y.ErrnoError(44);var h=ot.basename(r),W=y.lookupNode(m,h),G=y.mayDelete(m,h,!1);if(G)throw new y.ErrnoError(G);if(!m.node_ops.unlink)throw new y.ErrnoError(63);if(y.isMountpoint(W))throw new y.ErrnoError(10);m.node_ops.unlink(m,h),y.destroyNode(W)},readlink:r=>{var o=y.lookupPath(r),m=o.node;if(!m)throw new y.ErrnoError(44);if(!m.node_ops.readlink)throw new y.ErrnoError(28);return qe.resolve(y.getPath(m.parent),m.node_ops.readlink(m))},stat:(r,o)=>{var m=y.lookupPath(r,{follow:!o}),h=m.node;if(!h)throw new y.ErrnoError(44);if(!h.node_ops.getattr)throw new y.ErrnoError(63);return h.node_ops.getattr(h)},lstat:r=>y.stat(r,!0),chmod:(r,o,m)=>{var h;if(typeof r=="string"){var W=y.lookupPath(r,{follow:!m});h=W.node}else h=r;if(!h.node_ops.setattr)throw new y.ErrnoError(63);h.node_ops.setattr(h,{mode:o&4095|h.mode&-4096,timestamp:Date.now()})},lchmod:(r,o)=>{y.chmod(r,o,!0)},fchmod:(r,o)=>{var m=y.getStream(r);if(!m)throw new y.ErrnoError(8);y.chmod(m.node,o)},chown:(r,o,m,h)=>{var W;if(typeof r=="string"){var G=y.lookupPath(r,{follow:!h});W=G.node}else W=r;if(!W.node_ops.setattr)throw new y.ErrnoError(63);W.node_ops.setattr(W,{timestamp:Date.now()})},lchown:(r,o,m)=>{y.chown(r,o,m,!0)},fchown:(r,o,m)=>{var h=y.getStream(r);if(!h)throw new y.ErrnoError(8);y.chown(h.node,o,m)},truncate:(r,o)=>{if(o<0)throw new y.ErrnoError(28);var m;if(typeof r=="string"){var h=y.lookupPath(r,{follow:!0});m=h.node}else m=r;if(!m.node_ops.setattr)throw new y.ErrnoError(63);if(y.isDir(m.mode))throw new y.ErrnoError(31);if(!y.isFile(m.mode))throw new y.ErrnoError(28);var W=y.nodePermissions(m,"w");if(W)throw new y.ErrnoError(W);m.node_ops.setattr(m,{size:o,timestamp:Date.now()})},ftruncate:(r,o)=>{var m=y.getStream(r);if(!m)throw new y.ErrnoError(8);if((m.flags&2097155)===0)throw new y.ErrnoError(28);y.truncate(m.node,o)},utime:(r,o,m)=>{var h=y.lookupPath(r,{follow:!0}),W=h.node;W.node_ops.setattr(W,{timestamp:Math.max(o,m)})},open:(r,o,m)=>{if(r==="")throw new y.ErrnoError(44);o=typeof o=="string"?y.modeStringToFlags(o):o,m=typeof m>"u"?438:m,o&64?m=m&4095|32768:m=0;var h;if(typeof r=="object")h=r;else{r=ot.normalize(r);try{var W=y.lookupPath(r,{follow:!(o&131072)});h=W.node}catch{}}var G=!1;if(o&64)if(h){if(o&128)throw new y.ErrnoError(20)}else h=y.mknod(r,m,0),G=!0;if(!h)throw new y.ErrnoError(44);if(y.isChrdev(h.mode)&&(o&=-513),o&65536&&!y.isDir(h.mode))throw new y.ErrnoError(54);if(!G){var v=y.mayOpen(h,o);if(v)throw new y.ErrnoError(v)}o&512&&!G&&y.truncate(h,0),o&=-131713;var Y=y.createStream({node:h,path:y.getPath(h),flags:o,seekable:!0,position:0,stream_ops:h.stream_ops,ungotten:[],error:!1});return Y.stream_ops.open&&Y.stream_ops.open(Y),e.logReadFiles&&!(o&1)&&(y.readFiles||(y.readFiles={}),r in y.readFiles||(y.readFiles[r]=1)),Y},close:r=>{if(y.isClosed(r))throw new y.ErrnoError(8);r.getdents&&(r.getdents=null);try{r.stream_ops.close&&r.stream_ops.close(r)}catch(o){throw o}finally{y.closeStream(r.fd)}r.fd=null},isClosed:r=>r.fd===null,llseek:(r,o,m)=>{if(y.isClosed(r))throw new y.ErrnoError(8);if(!r.seekable||!r.stream_ops.llseek)throw new y.ErrnoError(70);if(m!=0&&m!=1&&m!=2)throw new y.ErrnoError(28);return r.position=r.stream_ops.llseek(r,o,m),r.ungotten=[],r.position},read:(r,o,m,h,W)=>{if(h<0||W<0)throw new y.ErrnoError(28);if(y.isClosed(r))throw new y.ErrnoError(8);if((r.flags&2097155)===1)throw new y.ErrnoError(8);if(y.isDir(r.node.mode))throw new y.ErrnoError(31);if(!r.stream_ops.read)throw new y.ErrnoError(28);var G=typeof W<"u";if(!G)W=r.position;else if(!r.seekable)throw new y.ErrnoError(70);var v=r.stream_ops.read(r,o,m,h,W);return G||(r.position+=v),v},write:(r,o,m,h,W,G)=>{if(h<0||W<0)throw new y.ErrnoError(28);if(y.isClosed(r))throw new y.ErrnoError(8);if((r.flags&2097155)===0)throw new y.ErrnoError(8);if(y.isDir(r.node.mode))throw new y.ErrnoError(31);if(!r.stream_ops.write)throw new y.ErrnoError(28);r.seekable&&r.flags&1024&&y.llseek(r,0,2);var v=typeof W<"u";if(!v)W=r.position;else if(!r.seekable)throw new y.ErrnoError(70);var Y=r.stream_ops.write(r,o,m,h,W,G);return v||(r.position+=Y),Y},allocate:(r,o,m)=>{if(y.isClosed(r))throw new y.ErrnoError(8);if(o<0||m<=0)throw new y.ErrnoError(28);if((r.flags&2097155)===0)throw new y.ErrnoError(8);if(!y.isFile(r.node.mode)&&!y.isDir(r.node.mode))throw new y.ErrnoError(43);if(!r.stream_ops.allocate)throw new y.ErrnoError(138);r.stream_ops.allocate(r,o,m)},mmap:(r,o,m,h,W,G)=>{if((W&2)!==0&&(G&2)===0&&(r.flags&2097155)!==2)throw new y.ErrnoError(2);if((r.flags&2097155)===1)throw new y.ErrnoError(2);if(!r.stream_ops.mmap)throw new y.ErrnoError(43);return r.stream_ops.mmap(r,o,m,h,W,G)},msync:(r,o,m,h,W)=>!r||!r.stream_ops.msync?0:r.stream_ops.msync(r,o,m,h,W),munmap:r=>0,ioctl:(r,o,m)=>{if(!r.stream_ops.ioctl)throw new y.ErrnoError(59);return r.stream_ops.ioctl(r,o,m)},readFile:(r,o={})=>{if(o.flags=o.flags||0,o.encoding=o.encoding||"binary",o.encoding!=="utf8"&&o.encoding!=="binary")throw new Error('Invalid encoding type "'+o.encoding+'"');var m,h=y.open(r,o.flags),W=y.stat(r),G=W.size,v=new Uint8Array(G);return y.read(h,v,0,G,0),o.encoding==="utf8"?m=pe(v,0):o.encoding==="binary"&&(m=v),y.close(h),m},writeFile:(r,o,m={})=>{m.flags=m.flags||577;var h=y.open(r,m.flags,m.mode);if(typeof o=="string"){var W=new Uint8Array(_t(o)+1),G=ye(o,W,0,W.length);y.write(h,W,0,G,void 0,m.canOwn)}else if(ArrayBuffer.isView(o))y.write(h,o,0,o.byteLength,void 0,m.canOwn);else throw new Error("Unsupported data type");y.close(h)},cwd:()=>y.currentPath,chdir:r=>{var o=y.lookupPath(r,{follow:!0});if(o.node===null)throw new y.ErrnoError(44);if(!y.isDir(o.node.mode))throw new y.ErrnoError(54);var m=y.nodePermissions(o.node,"x");if(m)throw new y.ErrnoError(m);y.currentPath=o.path},createDefaultDirectories:()=>{y.mkdir("/tmp"),y.mkdir("/home"),y.mkdir("/home/web_user")},createDefaultDevices:()=>{y.mkdir("/dev"),y.registerDevice(y.makedev(1,3),{read:()=>0,write:(o,m,h,W,G)=>W}),y.mkdev("/dev/null",y.makedev(1,3)),un.register(y.makedev(5,0),un.default_tty_ops),un.register(y.makedev(6,0),un.default_tty1_ops),y.mkdev("/dev/tty",y.makedev(5,0)),y.mkdev("/dev/tty1",y.makedev(6,0));var r=mc();y.createDevice("/dev","random",r),y.createDevice("/dev","urandom",r),y.mkdir("/dev/shm"),y.mkdir("/dev/shm/tmp")},createSpecialDirectories:()=>{y.mkdir("/proc");var r=y.mkdir("/proc/self");y.mkdir("/proc/self/fd"),y.mount({mount:()=>{var o=y.createNode(r,"fd",16895,73);return o.node_ops={lookup:(m,h)=>{var W=+h,G=y.getStream(W);if(!G)throw new y.ErrnoError(8);var v={parent:null,mount:{mountpoint:"fake"},node_ops:{readlink:()=>G.path}};return v.parent=v,v}},o}},{},"/proc/self/fd")},createStandardStreams:()=>{e.stdin?y.createDevice("/dev","stdin",e.stdin):y.symlink("/dev/tty","/dev/stdin"),e.stdout?y.createDevice("/dev","stdout",null,e.stdout):y.symlink("/dev/tty","/dev/stdout"),e.stderr?y.createDevice("/dev","stderr",null,e.stderr):y.symlink("/dev/tty1","/dev/stderr"),y.open("/dev/stdin",0),y.open("/dev/stdout",1),y.open("/dev/stderr",1)},ensureErrnoError:()=>{y.ErrnoError||(y.ErrnoError=function(o,m){this.node=m,this.setErrno=function(h){this.errno=h},this.setErrno(o),this.message="FS error"},y.ErrnoError.prototype=new Error,y.ErrnoError.prototype.constructor=y.ErrnoError,[44].forEach(r=>{y.genericErrors[r]=new y.ErrnoError(r),y.genericErrors[r].stack="<generic error, no stack>"}))},staticInit:()=>{y.ensureErrnoError(),y.nameTable=new Array(4096),y.mount(et,{},"/"),y.createDefaultDirectories(),y.createDefaultDevices(),y.createSpecialDirectories(),y.filesystems={MEMFS:et}},init:(r,o,m)=>{y.init.initialized=!0,y.ensureErrnoError(),e.stdin=r||e.stdin,e.stdout=o||e.stdout,e.stderr=m||e.stderr,y.createStandardStreams()},quit:()=>{y.init.initialized=!1,dr();for(var r=0;r<y.streams.length;r++){var o=y.streams[r];!o||y.close(o)}},getMode:(r,o)=>{var m=0;return r&&(m|=365),o&&(m|=146),m},findObject:(r,o)=>{var m=y.analyzePath(r,o);return m.exists?m.object:null},analyzePath:(r,o)=>{try{var m=y.lookupPath(r,{follow:!o});r=m.path}catch{}var h={isRoot:!1,exists:!1,error:0,name:null,path:null,object:null,parentExists:!1,parentPath:null,parentObject:null};try{var m=y.lookupPath(r,{parent:!0});h.parentExists=!0,h.parentPath=m.path,h.parentObject=m.node,h.name=ot.basename(r),m=y.lookupPath(r,{follow:!o}),h.exists=!0,h.path=m.path,h.object=m.node,h.name=m.node.name,h.isRoot=m.path==="/"}catch(W){h.error=W.errno}return h},createPath:(r,o,m,h)=>{r=typeof r=="string"?r:y.getPath(r);for(var W=o.split("/").reverse();W.length;){var G=W.pop();if(!!G){var v=ot.join2(r,G);try{y.mkdir(v)}catch{}r=v}}return v},createFile:(r,o,m,h,W)=>{var G=ot.join2(typeof r=="string"?r:y.getPath(r),o),v=y.getMode(h,W);return y.create(G,v)},createDataFile:(r,o,m,h,W,G)=>{var v=o;r&&(r=typeof r=="string"?r:y.getPath(r),v=o?ot.join2(r,o):r);var Y=y.getMode(h,W),I=y.create(v,Y);if(m){if(typeof m=="string"){for(var N=new Array(m.length),S=0,x=m.length;S<x;++S)N[S]=m.charCodeAt(S);m=N}y.chmod(I,Y|146);var T=y.open(I,577);y.write(T,m,0,m.length,0,G),y.close(T),y.chmod(I,Y)}return I},createDevice:(r,o,m,h)=>{var W=ot.join2(typeof r=="string"?r:y.getPath(r),o),G=y.getMode(!!m,!!h);y.createDevice.major||(y.createDevice.major=64);var v=y.makedev(y.createDevice.major++,0);return y.registerDevice(v,{open:Y=>{Y.seekable=!1},close:Y=>{h&&h.buffer&&h.buffer.length&&h(10)},read:(Y,I,N,S,x)=>{for(var T=0,M=0;M<S;M++){var nt;try{nt=m()}catch{throw new y.ErrnoError(29)}if(nt===void 0&&T===0)throw new y.ErrnoError(6);if(nt==null)break;T++,I[N+M]=nt}return T&&(Y.node.timestamp=Date.now()),T},write:(Y,I,N,S,x)=>{for(var T=0;T<S;T++)try{h(I[N+T])}catch{throw new y.ErrnoError(29)}return S&&(Y.node.timestamp=Date.now()),T}}),y.mkdev(W,G,v)},forceLoadFile:r=>{if(r.isDevice||r.isFolder||r.link||r.contents)return!0;if(typeof XMLHttpRequest<"u")throw new Error("Lazy loading should have been performed (contents set) in createLazyFile, but it was not. Lazy loading only works in web workers. Use --embed-file or --preload-file in emcc on the main thread.");if(Gt)try{r.contents=nl(Gt(r.url),!0),r.usedBytes=r.contents.length}catch{throw new y.ErrnoError(29)}else throw new Error("Cannot load without read() or XMLHttpRequest.")},createLazyFile:(r,o,m,h,W)=>{function G(){this.lengthKnown=!1,this.chunks=[]}if(G.prototype.get=function(T){if(!(T>this.length-1||T<0)){var M=T%this.chunkSize,nt=T/this.chunkSize|0;return this.getter(nt)[M]}},G.prototype.setDataGetter=function(T){this.getter=T},G.prototype.cacheLength=function(){var T=new XMLHttpRequest;if(T.open("HEAD",m,!1),T.send(null),!(T.status>=200&&T.status<300||T.status===304))throw new Error("Couldn't load "+m+". Status: "+T.status);var M=Number(T.getResponseHeader("Content-length")),nt,Yt=(nt=T.getResponseHeader("Accept-Ranges"))&&nt==="bytes",Ht=(nt=T.getResponseHeader("Content-Encoding"))&&nt==="gzip",Ft=1024*1024;Yt||(Ft=M);var z=(Jt,wt)=>{if(Jt>wt)throw new Error("invalid range ("+Jt+", "+wt+") or no bytes requested!");if(wt>M-1)throw new Error("only "+M+" bytes available! programmer error!");var kt=new XMLHttpRequest;if(kt.open("GET",m,!1),M!==Ft&&kt.setRequestHeader("Range","bytes="+Jt+"-"+wt),kt.responseType="arraybuffer",kt.overrideMimeType&&kt.overrideMimeType("text/plain; charset=x-user-defined"),kt.send(null),!(kt.status>=200&&kt.status<300||kt.status===304))throw new Error("Couldn't load "+m+". Status: "+kt.status);return kt.response!==void 0?new Uint8Array(kt.response||[]):nl(kt.responseText||"",!0)},O=this;O.setDataGetter(Jt=>{var wt=Jt*Ft,kt=(Jt+1)*Ft-1;if(kt=Math.min(kt,M-1),typeof O.chunks[Jt]>"u"&&(O.chunks[Jt]=z(wt,kt)),typeof O.chunks[Jt]>"u")throw new Error("doXHR failed!");return O.chunks[Jt]}),(Ht||!M)&&(Ft=M=1,M=this.getter(0).length,Ft=M,Rt("LazyFiles on gzip forces download of the whole file when length is accessed")),this._length=M,this._chunkSize=Ft,this.lengthKnown=!0},typeof XMLHttpRequest<"u"){if(!U)throw"Cannot do synchronous binary XHRs outside webworkers in modern browsers. Use --embed-file or --preload-file in emcc";var v=new G;Object.defineProperties(v,{length:{get:function(){return this.lengthKnown||this.cacheLength(),this._length}},chunkSize:{get:function(){return this.lengthKnown||this.cacheLength(),this._chunkSize}}});var Y={isDevice:!1,contents:v}}else var Y={isDevice:!1,url:m};var I=y.createFile(r,o,Y,h,W);Y.contents?I.contents=Y.contents:Y.url&&(I.contents=null,I.url=Y.url),Object.defineProperties(I,{usedBytes:{get:function(){return this.contents.length}}});var N={},S=Object.keys(I.stream_ops);return S.forEach(x=>{var T=I.stream_ops[x];N[x]=function(){return y.forceLoadFile(I),T.apply(null,arguments)}}),N.read=(x,T,M,nt,Yt)=>{y.forceLoadFile(I);var Ht=x.node.contents;if(Yt>=Ht.length)return 0;var Ft=Math.min(Ht.length-Yt,nt);if(Ht.slice)for(var z=0;z<Ft;z++)T[M+z]=Ht[Yt+z];else for(var z=0;z<Ft;z++)T[M+z]=Ht.get(Yt+z);return Ft},I.stream_ops=N,I},createPreloadedFile:(r,o,m,h,W,G,v,Y,I,N)=>{var S=o?qe.resolve(ot.join2(r,o)):r;function x(T){function M(nt){N&&N(),Y||y.createDataFile(r,o,nt,h,W,I),G&&G(),Si()}Browser.handledByPreloadPlugin(T,S,M,()=>{v&&v(),Si()})||M(T)}xi(),typeof m=="string"?fo(m,T=>x(T),v):x(m)},indexedDB:()=>window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB,DB_NAME:()=>"EM_FS_"+window.location.pathname,DB_VERSION:20,DB_STORE_NAME:"FILE_DATA",saveFilesToDB:(r,o,m)=>{o=o||(()=>{}),m=m||(()=>{});var h=y.indexedDB();try{var W=h.open(y.DB_NAME(),y.DB_VERSION)}catch(G){return m(G)}W.onupgradeneeded=()=>{Rt("creating db");var G=W.result;G.createObjectStore(y.DB_STORE_NAME)},W.onsuccess=()=>{var G=W.result,v=G.transaction([y.DB_STORE_NAME],"readwrite"),Y=v.objectStore(y.DB_STORE_NAME),I=0,N=0,S=r.length;function x(){N==0?o():m()}r.forEach(T=>{var M=Y.put(y.analyzePath(T).object.contents,T);M.onsuccess=()=>{I++,I+N==S&&x()},M.onerror=()=>{N++,I+N==S&&x()}}),v.onerror=m},W.onerror=m},loadFilesFromDB:(r,o,m)=>{o=o||(()=>{}),m=m||(()=>{});var h=y.indexedDB();try{var W=h.open(y.DB_NAME(),y.DB_VERSION)}catch(G){return m(G)}W.onupgradeneeded=m,W.onsuccess=()=>{var G=W.result;try{var v=G.transaction([y.DB_STORE_NAME],"readonly")}catch(T){m(T);return}var Y=v.objectStore(y.DB_STORE_NAME),I=0,N=0,S=r.length;function x(){N==0?o():m()}r.forEach(T=>{var M=Y.get(T);M.onsuccess=()=>{y.analyzePath(T).exists&&y.unlink(T),y.createDataFile(ot.dirname(T),ot.basename(T),M.result,!0,!0,!0),I++,I+N==S&&x()},M.onerror=()=>{N++,I+N==S&&x()}}),v.onerror=m},W.onerror=m}},st={DEFAULT_POLLMASK:5,calculateAt:function(r,o,m){if(ot.isAbs(o))return o;var h;if(r===-100)h=y.cwd();else{var W=y.getStream(r);if(!W)throw new y.ErrnoError(8);h=W.path}if(o.length==0){if(!m)throw new y.ErrnoError(44);return h}return ot.join2(h,o)},doStat:function(r,o,m){try{var h=r(o)}catch(W){if(W&&W.node&&ot.normalize(o)!==ot.normalize(y.getPath(W.node)))return-54;throw W}return D[m>>2]=h.dev,D[m+4>>2]=0,D[m+8>>2]=h.ino,D[m+12>>2]=h.mode,D[m+16>>2]=h.nlink,D[m+20>>2]=h.uid,D[m+24>>2]=h.gid,D[m+28>>2]=h.rdev,D[m+32>>2]=0,Ae=[h.size>>>0,(ie=h.size,+Math.abs(ie)>=1?ie>0?(Math.min(+Math.floor(ie/4294967296),4294967295)|0)>>>0:~~+Math.ceil((ie-+(~~ie>>>0))/4294967296)>>>0:0)],D[m+40>>2]=Ae[0],D[m+44>>2]=Ae[1],D[m+48>>2]=4096,D[m+52>>2]=h.blocks,D[m+56>>2]=h.atime.getTime()/1e3|0,D[m+60>>2]=0,D[m+64>>2]=h.mtime.getTime()/1e3|0,D[m+68>>2]=0,D[m+72>>2]=h.ctime.getTime()/1e3|0,D[m+76>>2]=0,Ae=[h.ino>>>0,(ie=h.ino,+Math.abs(ie)>=1?ie>0?(Math.min(+Math.floor(ie/4294967296),4294967295)|0)>>>0:~~+Math.ceil((ie-+(~~ie>>>0))/4294967296)>>>0:0)],D[m+80>>2]=Ae[0],D[m+84>>2]=Ae[1],0},doMsync:function(r,o,m,h,W){var G=oe.slice(r,r+m);y.msync(o,G,W,m,h)},varargs:void 0,get:function(){st.varargs+=4;var r=D[st.varargs-4>>2];return r},getStr:function(r){var o=yt(r);return o},getStreamFromFD:function(r){var o=y.getStream(r);if(!o)throw new y.ErrnoError(8);return o}};function jl(r,o){try{var m=st.getStreamFromFD(r);return st.doStat(y.stat,m.path,o)}catch(h){if(typeof y>"u"||!(h instanceof y.ErrnoError))throw h;return-h.errno}}function Bi(r,o,m){try{var h=m*4294967296+(o>>>0);return y.ftruncate(r,h),0}catch(W){if(typeof y>"u"||!(W instanceof y.ErrnoError))throw W;return-W.errno}}function Go(r,o){try{return r=st.getStr(r),st.doStat(y.lstat,r,o)}catch(m){if(typeof y>"u"||!(m instanceof y.ErrnoError))throw m;return-m.errno}}function Ro(r,o,m,h){try{o=st.getStr(o);var W=h&256,G=h&4096;return h=h&-4353,o=st.calculateAt(r,o,G),st.doStat(W?y.lstat:y.stat,o,m)}catch(v){if(typeof y>"u"||!(v instanceof y.ErrnoError))throw v;return-v.errno}}function bn(r,o,m,h){st.varargs=h;try{o=st.getStr(o),o=st.calculateAt(r,o);var W=h?st.get():0;return y.open(o,m,W).fd}catch(G){if(typeof y>"u"||!(G instanceof y.ErrnoError))throw G;return-G.errno}}function uc(r,o,m,h){try{return o=st.getStr(o),h=st.getStr(h),o=st.calculateAt(r,o),h=st.calculateAt(m,h),y.rename(o,h),0}catch(W){if(typeof y>"u"||!(W instanceof y.ErrnoError))throw W;return-W.errno}}function bc(r,o){try{return r=st.getStr(r),st.doStat(y.stat,r,o)}catch(m){if(typeof y>"u"||!(m instanceof y.ErrnoError))throw m;return-m.errno}}function vo(r,o,m){try{return o=st.getStr(o),o=st.calculateAt(r,o),m===0?y.unlink(o):m===512?y.rmdir(o):ke("Invalid flags passed to unlinkat"),0}catch(h){if(typeof y>"u"||!(h instanceof y.ErrnoError))throw h;return-h.errno}}function Gn(r){}var hc="To use dlopen, you need enable dynamic linking, see https://github.com/emscripten-core/emscripten/wiki/Linking";function go(r,o){ke(hc)}function Yo(r,o){ke(hc)}function Fo(r,o,m,h,W){}function Ql(r){switch(r){case 1:return 0;case 2:return 1;case 4:return 2;case 8:return 3;default:throw new TypeError("Unknown type size: "+r)}}function pc(){for(var r=new Array(256),o=0;o<256;++o)r[o]=String.fromCharCode(o);Zc=r}var Zc=void 0;function we(r){for(var o="",m=r;oe[m];)o+=Zc[oe[m++]];return o}var Cn={},Rn={},_i={},yc=48,Xc=57;function Ol(r){if(r===void 0)return"_unknown";r=r.replace(/[^a-zA-Z0-9_]/g,"$");var o=r.charCodeAt(0);return o>=yc&&o<=Xc?"_"+r:r}function mt(r,o){return r=Ol(r),new Function("body","return function "+r+`() {
    "use strict";    return body.apply(this, arguments);
};
`)(o)}function Ci(r,o){var m=mt(o,function(h){this.name=o,this.message=h;var W=new Error(h).stack;W!==void 0&&(this.stack=this.toString()+`
`+W.replace(/^Error(:[^\n]*)?\n/,""))});return m.prototype=Object.create(r.prototype),m.prototype.constructor=m,m.prototype.toString=function(){return this.message===void 0?this.name:this.name+": "+this.message},m}var ge=void 0;function rt(r){throw new ge(r)}var Wc=void 0;function Li(r){throw new Wc(r)}function tt(r,o,m){r.forEach(function(Y){_i[Y]=o});function h(Y){var I=m(Y);I.length!==r.length&&Li("Mismatched type converter count");for(var N=0;N<r.length;++N)tn(r[N],I[N])}var W=new Array(o.length),G=[],v=0;o.forEach((Y,I)=>{Rn.hasOwnProperty(Y)?W[I]=Rn[Y]:(G.push(Y),Cn.hasOwnProperty(Y)||(Cn[Y]=[]),Cn[Y].push(()=>{W[I]=Rn[Y],++v,v===G.length&&h(W)}))}),G.length===0&&h(W)}function tn(r,o,m={}){if(!("argPackAdvance"in o))throw new TypeError("registerType registeredInstance requires argPackAdvance");var h=o.name;if(r||rt('type "'+h+'" must have a positive integer typeid pointer'),Rn.hasOwnProperty(r)){if(m.ignoreDuplicateRegistrations)return;rt("Cannot register type '"+h+"' twice")}if(Rn[r]=o,delete _i[r],Cn.hasOwnProperty(r)){var W=Cn[r];delete Cn[r],W.forEach(G=>G())}}function p(r,o,m,h,W){var G=Ql(m);o=we(o),tn(r,{name:o,fromWireType:function(v){return!!v},toWireType:function(v,Y){return Y?h:W},argPackAdvance:8,readValueFromPointer:function(v){var Y;if(m===1)Y=jt;else if(m===2)Y=zn;else if(m===4)Y=D;else throw new TypeError("Unknown boolean type size: "+o);return this.fromWireType(Y[v>>G])},destructorFunction:null})}function at(r){if(!(this instanceof Pe)||!(r instanceof Pe))return!1;for(var o=this.$$.ptrType.registeredClass,m=this.$$.ptr,h=r.$$.ptrType.registeredClass,W=r.$$.ptr;o.baseClass;)m=o.upcast(m),o=o.baseClass;for(;h.baseClass;)W=h.upcast(W),h=h.baseClass;return o===h&&m===W}function Io(r){return{count:r.count,deleteScheduled:r.deleteScheduled,preservePointerOnDelete:r.preservePointerOnDelete,ptr:r.ptr,ptrType:r.ptrType,smartPtr:r.smartPtr,smartPtrType:r.smartPtrType}}function Ei(r){function o(m){return m.$$.ptrType.registeredClass.name}rt(o(r)+" instance already deleted")}var Mi=!1;function Vc(r){}function fc(r){r.smartPtr?r.smartPtrType.rawDestructor(r.smartPtr):r.ptrType.registeredClass.rawDestructor(r.ptr)}function Dl(r){r.count.value-=1;var o=r.count.value===0;o&&fc(r)}function Al(r,o,m){if(o===m)return r;if(m.baseClass===void 0)return null;var h=Al(r,o,m.baseClass);return h===null?null:m.downcast(h)}var $l={};function Gc(){return Object.keys(vn).length}function Rc(){var r=[];for(var o in vn)vn.hasOwnProperty(o)&&r.push(vn[o]);return r}var mi=[];function Pi(){for(;mi.length;){var r=mi.pop();r.$$.deleteScheduled=!1,r.delete()}}var ui=void 0;function Jo(r){ui=r,mi.length&&ui&&ui(Pi)}function ko(){e.getInheritedInstanceCount=Gc,e.getLiveInheritedInstances=Rc,e.flushPendingDeletes=Pi,e.setDelayFunction=Jo}var vn={};function No(r,o){for(o===void 0&&rt("ptr should not be undefined");r.baseClass;)o=r.upcast(o),r=r.baseClass;return o}function vc(r,o){return o=No(r,o),vn[o]}function We(r,o){(!o.ptrType||!o.ptr)&&Li("makeClassHandle requires ptr and ptrType");var m=!!o.smartPtrType,h=!!o.smartPtr;return m!==h&&Li("Both smartPtrType and smartPtr must be specified"),o.count={value:1},Te(Object.create(r,{$$:{value:o}}))}function Ln(r){var o=this.getPointee(r);if(!o)return this.destructor(r),null;var m=vc(this.registeredClass,o);if(m!==void 0){if(m.$$.count.value===0)return m.$$.ptr=o,m.$$.smartPtr=r,m.clone();var h=m.clone();return this.destructor(r),h}function W(){return this.isSmartPointer?We(this.registeredClass.instancePrototype,{ptrType:this.pointeeType,ptr:o,smartPtrType:this,smartPtr:r}):We(this.registeredClass.instancePrototype,{ptrType:this,ptr:r})}var G=this.registeredClass.getActualType(o),v=$l[G];if(!v)return W.call(this);var Y;this.isConst?Y=v.constPointerType:Y=v.pointerType;var I=Al(o,this.registeredClass,Y.registeredClass);return I===null?W.call(this):this.isSmartPointer?We(Y.registeredClass.instancePrototype,{ptrType:Y,ptr:I,smartPtrType:this,smartPtr:r}):We(Y.registeredClass.instancePrototype,{ptrType:Y,ptr:I})}function Te(r){return typeof FinalizationRegistry>"u"?(Te=o=>o,r):(Mi=new FinalizationRegistry(o=>{Dl(o.$$)}),Te=o=>{var m=o.$$,h=!!m.smartPtr;if(h){var W={$$:m};Mi.register(o,W,o)}return o},Vc=o=>Mi.unregister(o),Te(r))}function ji(){if(this.$$.ptr||Ei(this),this.$$.preservePointerOnDelete)return this.$$.count.value+=1,this;var r=Te(Object.create(Object.getPrototypeOf(this),{$$:{value:Io(this.$$)}}));return r.$$.count.value+=1,r.$$.deleteScheduled=!1,r}function Ho(){this.$$.ptr||Ei(this),this.$$.deleteScheduled&&!this.$$.preservePointerOnDelete&&rt("Object already scheduled for deletion"),Vc(this),Dl(this.$$),this.$$.preservePointerOnDelete||(this.$$.smartPtr=void 0,this.$$.ptr=void 0)}function wo(){return!this.$$.ptr}function ql(){return this.$$.ptr||Ei(this),this.$$.deleteScheduled&&!this.$$.preservePointerOnDelete&&rt("Object already scheduled for deletion"),mi.push(this),mi.length===1&&ui&&ui(Pi),this.$$.deleteScheduled=!0,this}function tr(){Pe.prototype.isAliasOf=at,Pe.prototype.clone=ji,Pe.prototype.delete=Ho,Pe.prototype.isDeleted=wo,Pe.prototype.deleteLater=ql}function Pe(){}function gn(r,o,m){if(r[o].overloadTable===void 0){var h=r[o];r[o]=function(){return r[o].overloadTable.hasOwnProperty(arguments.length)||rt("Function '"+m+"' called with an invalid number of arguments ("+arguments.length+") - expects one of ("+r[o].overloadTable+")!"),r[o].overloadTable[arguments.length].apply(this,arguments)},r[o].overloadTable=[],r[o].overloadTable[h.argCount]=h}}function pt(r,o,m){e.hasOwnProperty(r)?((m===void 0||e[r].overloadTable!==void 0&&e[r].overloadTable[m]!==void 0)&&rt("Cannot register public name '"+r+"' twice"),gn(e,r,r),e.hasOwnProperty(m)&&rt("Cannot register multiple overloads of a function with the same number of arguments ("+m+")!"),e[r].overloadTable[m]=o):(e[r]=o,m!==void 0&&(e[r].numArguments=m))}function gc(r,o,m,h,W,G,v,Y){this.name=r,this.constructor=o,this.instancePrototype=m,this.rawDestructor=h,this.baseClass=W,this.getActualType=G,this.upcast=v,this.downcast=Y,this.pureVirtualFunctions=[]}function En(r,o,m){for(;o!==m;)o.upcast||rt("Expected null or instance of "+m.name+", got an instance of "+o.name),r=o.upcast(r),o=o.baseClass;return r}function bi(r,o){if(o===null)return this.isReference&&rt("null is not a valid "+this.name),0;o.$$||rt('Cannot pass "'+ir(o)+'" as a '+this.name),o.$$.ptr||rt("Cannot pass deleted object as a pointer of type "+this.name);var m=o.$$.ptrType.registeredClass,h=En(o.$$.ptr,m,this.registeredClass);return h}function en(r,o){var m;if(o===null)return this.isReference&&rt("null is not a valid "+this.name),this.isSmartPointer?(m=this.rawConstructor(),r!==null&&r.push(this.rawDestructor,m),m):0;o.$$||rt('Cannot pass "'+ir(o)+'" as a '+this.name),o.$$.ptr||rt("Cannot pass deleted object as a pointer of type "+this.name),!this.isConst&&o.$$.ptrType.isConst&&rt("Cannot convert argument of type "+(o.$$.smartPtrType?o.$$.smartPtrType.name:o.$$.ptrType.name)+" to parameter type "+this.name);var h=o.$$.ptrType.registeredClass;if(m=En(o.$$.ptr,h,this.registeredClass),this.isSmartPointer)switch(o.$$.smartPtr===void 0&&rt("Passing raw pointer to smart pointer is illegal"),this.sharingPolicy){case 0:o.$$.smartPtrType===this?m=o.$$.smartPtr:rt("Cannot convert argument of type "+(o.$$.smartPtrType?o.$$.smartPtrType.name:o.$$.ptrType.name)+" to parameter type "+this.name);break;case 1:m=o.$$.smartPtr;break;case 2:if(o.$$.smartPtrType===this)m=o.$$.smartPtr;else{var W=o.clone();m=this.rawShare(m,Ke.toHandle(function(){W.delete()})),r!==null&&r.push(this.rawDestructor,m)}break;default:rt("Unsupporting sharing policy")}return m}function xo(r,o){if(o===null)return this.isReference&&rt("null is not a valid "+this.name),0;o.$$||rt('Cannot pass "'+ir(o)+'" as a '+this.name),o.$$.ptr||rt("Cannot pass deleted object as a pointer of type "+this.name),o.$$.ptrType.isConst&&rt("Cannot convert argument of type "+o.$$.ptrType.name+" to parameter type "+this.name);var m=o.$$.ptrType.registeredClass,h=En(o.$$.ptr,m,this.registeredClass);return h}function Qi(r){return this.fromWireType(At[r>>2])}function So(r){return this.rawGetPointee&&(r=this.rawGetPointee(r)),r}function er(r){this.rawDestructor&&this.rawDestructor(r)}function nr(r){r!==null&&r.delete()}function Yc(){nn.prototype.getPointee=So,nn.prototype.destructor=er,nn.prototype.argPackAdvance=8,nn.prototype.readValueFromPointer=Qi,nn.prototype.deleteObject=nr,nn.prototype.fromWireType=Ln}function nn(r,o,m,h,W,G,v,Y,I,N,S){this.name=r,this.registeredClass=o,this.isReference=m,this.isConst=h,this.isSmartPointer=W,this.pointeeType=G,this.sharingPolicy=v,this.rawGetPointee=Y,this.rawConstructor=I,this.rawShare=N,this.rawDestructor=S,!W&&o.baseClass===void 0?h?(this.toWireType=bi,this.destructorFunction=null):(this.toWireType=xo,this.destructorFunction=null):this.toWireType=en}function Fc(r,o,m){e.hasOwnProperty(r)||Li("Replacing nonexistant public symbol"),e[r].overloadTable!==void 0&&m!==void 0?e[r].overloadTable[m]=o:(e[r]=o,e[r].argCount=m)}function Ic(r,o,m){var h=e["dynCall_"+r];return m&&m.length?h.apply(null,[o].concat(m)):h.call(null,o)}function Jc(r,o,m){return r.includes("j")?Ic(r,o,m):lt(o).apply(null,m)}function To(r,o){var m=[];return function(){return m.length=0,Object.assign(m,arguments),Jc(r,o,m)}}function Mn(r,o){r=we(r);function m(){return r.includes("j")?To(r,o):lt(o)}var h=m();return typeof h!="function"&&rt("unknown function pointer with signature "+r+": "+o),h}var Pn=void 0;function Oi(r){var o=zc(r),m=we(o);return je(o),m}function Yn(r,o){var m=[],h={};function W(G){if(!h[G]&&!Rn[G]){if(_i[G]){_i[G].forEach(W);return}m.push(G),h[G]=!0}}throw o.forEach(W),new Pn(r+": "+m.map(Oi).join([", "]))}function Uo(r,o,m,h,W,G,v,Y,I,N,S,x,T){S=we(S),G=Mn(W,G),Y&&(Y=Mn(v,Y)),N&&(N=Mn(I,N)),T=Mn(x,T);var M=Ol(S);pt(M,function(){Yn("Cannot construct "+S+" due to unbound types",[h])}),tt([r,o,m],h?[h]:[],function(nt){nt=nt[0];var Yt,Ht;h?(Yt=nt.registeredClass,Ht=Yt.instancePrototype):Ht=Pe.prototype;var Ft=mt(M,function(){if(Object.getPrototypeOf(this)!==z)throw new ge("Use 'new' to construct "+S);if(O.constructor_body===void 0)throw new ge(S+" has no accessible constructor");var bl=O.constructor_body[arguments.length];if(bl===void 0)throw new ge("Tried to invoke ctor of "+S+" with invalid number of parameters ("+arguments.length+") - expected ("+Object.keys(O.constructor_body).toString()+") parameters instead!");return bl.apply(this,arguments)}),z=Object.create(Ht,{constructor:{value:Ft}});Ft.prototype=z;var O=new gc(S,Ft,z,T,Yt,G,Y,N),Jt=new nn(S,O,!0,!1,!1),wt=new nn(S+"*",O,!1,!1,!1),kt=new nn(S+" const*",O,!1,!0,!1);return $l[r]={pointerType:wt,constPointerType:kt},Fc(M,Ft),[Jt,wt,kt]})}function kc(r,o){for(var m=[],h=0;h<r;h++)m.push(D[(o>>2)+h]);return m}function hi(r){for(;r.length;){var o=r.pop(),m=r.pop();m(o)}}function Ko(r,o,m,h,W,G){Oe(o>0);var v=kc(o,m);W=Mn(h,W),tt([],[r],function(Y){Y=Y[0];var I="constructor "+Y.name;if(Y.registeredClass.constructor_body===void 0&&(Y.registeredClass.constructor_body=[]),Y.registeredClass.constructor_body[o-1]!==void 0)throw new ge("Cannot register multiple constructors with identical number of parameters ("+(o-1)+") for class '"+Y.name+"'! Overload resolution is currently only performed using the parameter count, not actual type info!");return Y.registeredClass.constructor_body[o-1]=()=>{Yn("Cannot construct "+Y.name+" due to unbound types",v)},tt([],v,function(N){return N.splice(1,0,null),Y.registeredClass.constructor_body[o-1]=pi(I,N,null,W,G),[]}),[]})}function zo(r,o){if(!(r instanceof Function))throw new TypeError("new_ called with constructor type "+typeof r+" which is not a function");var m=mt(r.name||"unknownFunctionName",function(){});m.prototype=r.prototype;var h=new m,W=r.apply(h,o);return W instanceof Object?W:h}function pi(r,o,m,h,W){var G=o.length;G<2&&rt("argTypes array size mismatch! Must at least get return value and 'this' types!");for(var v=o[1]!==null&&m!==null,Y=!1,I=1;I<o.length;++I)if(o[I]!==null&&o[I].destructorFunction===void 0){Y=!0;break}for(var N=o[0].name!=="void",S="",x="",I=0;I<G-2;++I)S+=(I!==0?", ":"")+"arg"+I,x+=(I!==0?", ":"")+"arg"+I+"Wired";var T="return function "+Ol(r)+"("+S+`) {
if (arguments.length !== `+(G-2)+`) {
throwBindingError('function `+r+" called with ' + arguments.length + ' arguments, expected "+(G-2)+` args!');
}
`;Y&&(T+=`var destructors = [];
`);var M=Y?"destructors":"null",nt=["throwBindingError","invoker","fn","runDestructors","retType","classParam"],Yt=[rt,h,W,hi,o[0],o[1]];v&&(T+="var thisWired = classParam.toWireType("+M+`, this);
`);for(var I=0;I<G-2;++I)T+="var arg"+I+"Wired = argType"+I+".toWireType("+M+", arg"+I+"); // "+o[I+2].name+`
`,nt.push("argType"+I),Yt.push(o[I+2]);if(v&&(x="thisWired"+(x.length>0?", ":"")+x),T+=(N?"var rv = ":"")+"invoker(fn"+(x.length>0?", ":"")+x+`);
`,Y)T+=`runDestructors(destructors);
`;else for(var I=v?1:2;I<o.length;++I){var Ht=I===1?"thisWired":"arg"+(I-2)+"Wired";o[I].destructorFunction!==null&&(T+=Ht+"_dtor("+Ht+"); // "+o[I].name+`
`,nt.push(Ht+"_dtor"),Yt.push(o[I].destructorFunction))}N&&(T+=`var ret = retType.fromWireType(rv);
return ret;
`),T+=`}
`,nt.push(T);var Ft=zo(Function,nt).apply(null,Yt);return Ft}function Bo(r,o,m,h,W,G,v,Y){var I=kc(m,h);o=we(o),G=Mn(W,G),tt([],[r],function(N){N=N[0];var S=N.name+"."+o;o.startsWith("@@")&&(o=Symbol[o.substring(2)]),Y&&N.registeredClass.pureVirtualFunctions.push(o);function x(){Yn("Cannot call "+S+" due to unbound types",I)}var T=N.registeredClass.instancePrototype,M=T[o];return M===void 0||M.overloadTable===void 0&&M.className!==N.name&&M.argCount===m-2?(x.argCount=m-2,x.className=N.name,T[o]=x):(gn(T,o,S),T[o].overloadTable[m-2]=x),tt([],I,function(nt){var Yt=pi(S,nt,N,G,v);return T[o].overloadTable===void 0?(Yt.argCount=m-2,T[o]=Yt):T[o].overloadTable[m-2]=Yt,[]}),[]})}var Fn=[],Ue=[{},{value:void 0},{value:null},{value:!0},{value:!1}];function Nc(r){r>4&&--Ue[r].refcount===0&&(Ue[r]=void 0,Fn.push(r))}function _o(){for(var r=0,o=5;o<Ue.length;++o)Ue[o]!==void 0&&++r;return r}function Co(){for(var r=5;r<Ue.length;++r)if(Ue[r]!==void 0)return Ue[r];return null}function Lo(){e.count_emval_handles=_o,e.get_first_emval=Co}var Ke={toValue:r=>(r||rt("Cannot use deleted val. handle = "+r),Ue[r].value),toHandle:r=>{switch(r){case void 0:return 1;case null:return 2;case!0:return 3;case!1:return 4;default:{var o=Fn.length?Fn.pop():Ue.length;return Ue[o]={refcount:1,value:r},o}}}};function Hc(r,o){o=we(o),tn(r,{name:o,fromWireType:function(m){var h=Ke.toValue(m);return Nc(m),h},toWireType:function(m,h){return Ke.toHandle(h)},argPackAdvance:8,readValueFromPointer:Qi,destructorFunction:null})}function ir(r){if(r===null)return"null";var o=typeof r;return o==="object"||o==="array"||o==="function"?r.toString():""+r}function Eo(r,o){switch(o){case 2:return function(m){return this.fromWireType(jr[m>>2])};case 3:return function(m){return this.fromWireType(Qr[m>>3])};default:throw new TypeError("Unknown float type: "+r)}}function lr(r,o,m){var h=Ql(m);o=we(o),tn(r,{name:o,fromWireType:function(W){return W},toWireType:function(W,G){return G},argPackAdvance:8,readValueFromPointer:Eo(o,h),destructorFunction:null})}function Mo(r,o,m){switch(o){case 0:return m?function(W){return jt[W]}:function(W){return oe[W]};case 1:return m?function(W){return zn[W>>1]}:function(W){return Bn[W>>1]};case 2:return m?function(W){return D[W>>2]}:function(W){return At[W>>2]};default:throw new TypeError("Unknown integer type: "+r)}}function Po(r,o,m,h,W){o=we(o);var G=Ql(m),v=x=>x;if(h===0){var Y=32-8*m;v=x=>x<<Y>>>Y}var I=o.includes("unsigned"),N=(x,T)=>{},S;I?S=function(x,T){return N(T,this.name),T>>>0}:S=function(x,T){return N(T,this.name),T},tn(r,{name:o,fromWireType:v,toWireType:S,argPackAdvance:8,readValueFromPointer:Mo(o,G,h!==0),destructorFunction:null})}function jo(r,o,m){var h=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array],W=h[o];function G(v){v=v>>2;var Y=At,I=Y[v],N=Y[v+1];return new W(De,N,I)}m=we(m),tn(r,{name:m,fromWireType:G,argPackAdvance:8,readValueFromPointer:G},{ignoreDuplicateRegistrations:!0})}function Di(r,o){o=we(o);var m=o==="std::string";tn(r,{name:o,fromWireType:function(h){var W=At[h>>2],G;if(m)for(var v=h+4,Y=0;Y<=W;++Y){var I=h+4+Y;if(Y==W||oe[I]==0){var N=I-v,S=yt(v,N);G===void 0?G=S:(G+=String.fromCharCode(0),G+=S),v=I+1}}else{for(var x=new Array(W),Y=0;Y<W;++Y)x[Y]=String.fromCharCode(oe[h+4+Y]);G=x.join("")}return je(h),G},toWireType:function(h,W){W instanceof ArrayBuffer&&(W=new Uint8Array(W));var G,v=typeof W=="string";v||W instanceof Uint8Array||W instanceof Uint8ClampedArray||W instanceof Int8Array||rt("Cannot pass non-string to std::string"),m&&v?G=()=>_t(W):G=()=>W.length;var Y=G(),I=il(4+Y+1);if(At[I>>2]=Y,m&&v)fn(W,I+4,Y+1);else if(v)for(var N=0;N<Y;++N){var S=W.charCodeAt(N);S>255&&(je(I),rt("String has UTF-16 code units that do not fit in 8 bits")),oe[I+4+N]=S}else for(var N=0;N<Y;++N)oe[I+4+N]=W[N];return h!==null&&h.push(je,I),I},argPackAdvance:8,readValueFromPointer:Qi,destructorFunction:function(h){je(h)}})}function Qo(r,o,m){m=we(m);var h,W,G,v,Y;o===2?(h=di,W=Lr,v=gt,G=()=>Bn,Y=1):o===4&&(h=Er,W=Cl,v=si,G=()=>At,Y=2),tn(r,{name:m,fromWireType:function(I){for(var N=At[I>>2],S=G(),x,T=I+4,M=0;M<=N;++M){var nt=I+4+M*o;if(M==N||S[nt>>Y]==0){var Yt=nt-T,Ht=h(T,Yt);x===void 0?x=Ht:(x+=String.fromCharCode(0),x+=Ht),T=nt+o}}return je(I),x},toWireType:function(I,N){typeof N!="string"&&rt("Cannot pass non-string to C++ string type "+m);var S=v(N),x=il(4+S+o);return At[x>>2]=S>>Y,W(N,x+4,S+o),I!==null&&I.push(je,x),x},argPackAdvance:8,readValueFromPointer:Qi,destructorFunction:function(I){je(I)}})}function Oo(r,o){o=we(o),tn(r,{isVoid:!0,name:o,argPackAdvance:0,fromWireType:function(){},toWireType:function(m,h){}})}function Do(){return Date.now()}var Ao=!0;function ln(){return Ao}function $o(r){r>4&&(Ue[r].refcount+=1)}function qo(r,o){var m=Rn[r];return m===void 0&&rt(o+" has unknown type "+Oi(r)),m}function td(r,o){r=qo(r,"_emval_take_value");var m=r.readValueFromPointer(o);return Ke.toHandle(m)}function ed(r,o,m,h,W,G,v,Y){try{var I=y.getStream(W);if(!I)return-8;var N=y.mmap(I,r,o,G,m,h),S=N.ptr;return D[v>>2]=N.allocated,S}catch(x){if(typeof y>"u"||!(x instanceof y.ErrnoError))throw x;return-x.errno}}function jn(r,o,m,h,W,G){try{var v=y.getStream(W);v&&(m&2&&st.doMsync(r,v,o,h,G),y.munmap(v))}catch(Y){if(typeof y>"u"||!(Y instanceof y.ErrnoError))throw Y;return-Y.errno}}function wc(){ke("")}function rr(){return 2147483648}var Ai;Ai=()=>performance.now();function nd(r,o,m){oe.copyWithin(r,o,o+m)}function xc(r){try{return it.grow(r-De.byteLength+65535>>>16),Or(it.buffer),1}catch{}}function id(r){var o=oe.length;r=r>>>0;var m=rr();if(r>m)return!1;let h=(I,N)=>I+(N-I%N)%N;for(var W=1;W<=4;W*=2){var G=o*(1+.2/W);G=Math.min(G,r+100663296);var v=Math.min(m,h(Math.max(r,G),65536)),Y=xc(v);if(Y)return!0}return!1}var cr={};function ld(){return b||"./this.program"}function Qn(){if(!Qn.strings){var r=(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",o={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:r,_:ld()};for(var m in cr)cr[m]===void 0?delete o[m]:o[m]=cr[m];var h=[];for(var m in o)h.push(m+"="+o[m]);Qn.strings=h}return Qn.strings}function rd(r,o){var m=0;return Qn().forEach(function(h,W){var G=o+m;D[r+W*4>>2]=G,Pr(h,G),m+=h.length+1}),0}function ar(r,o){var m=Qn();D[r>>2]=m.length;var h=0;return m.forEach(function(W){h+=W.length+1}),D[o>>2]=h,0}function ze(r){$c(r)}function Sc(r){try{var o=st.getStreamFromFD(r);return y.close(o),0}catch(m){if(typeof y>"u"||!(m instanceof y.ErrnoError))throw m;return m.errno}}function cd(r,o,m,h){for(var W=0,G=0;G<m;G++){var v=At[o>>2],Y=At[o+4>>2];o+=8;var I=y.read(r,jt,v,Y,h);if(I<0)return-1;if(W+=I,I<Y)break}return W}function ad(r,o,m,h){try{var W=st.getStreamFromFD(r),G=cd(W,o,m);return D[h>>2]=G,0}catch(v){if(typeof y>"u"||!(v instanceof y.ErrnoError))throw v;return v.errno}}function od(r,o,m,h,W){try{var G=st.getStreamFromFD(r),v=4294967296,Y=m*v+(o>>>0),I=9007199254740992;return Y<=-I||Y>=I?61:(y.llseek(G,Y,h),Ae=[G.position>>>0,(ie=G.position,+Math.abs(ie)>=1?ie>0?(Math.min(+Math.floor(ie/4294967296),4294967295)|0)>>>0:~~+Math.ceil((ie-+(~~ie>>>0))/4294967296)>>>0:0)],D[W>>2]=Ae[0],D[W+4>>2]=Ae[1],G.getdents&&Y===0&&h===0&&(G.getdents=null),0)}catch(N){if(typeof y>"u"||!(N instanceof y.ErrnoError))throw N;return N.errno}}function $i(r){try{var o=st.getStreamFromFD(r);return o.stream_ops&&o.stream_ops.fsync?-o.stream_ops.fsync(o):0}catch(m){if(typeof y>"u"||!(m instanceof y.ErrnoError))throw m;return m.errno}}function dd(r,o,m,h){for(var W=0,G=0;G<m;G++){var v=At[o>>2],Y=At[o+4>>2];o+=8;var I=y.write(r,jt,v,Y,h);if(I<0)return-1;W+=I}return W}function or(r,o,m,h){try{var W=st.getStreamFromFD(r),G=dd(W,o,m);return D[h>>2]=G,0}catch(v){if(typeof y>"u"||!(v instanceof y.ErrnoError))throw v;return v.errno}}function sd(){return ae()}function qi(r,o){qi.randomDevice||(qi.randomDevice=mc());for(var m=0;m<o;m++)jt[r+m>>0]=qi.randomDevice();return 0}function md(r){vt(r)}function tl(r){return r%4===0&&(r%100!==0||r%400===0)}function ud(r,o){for(var m=0,h=0;h<=o;m+=r[h++]);return m}var Tc=[31,29,31,30,31,30,31,31,30,31,30,31],Uc=[31,28,31,30,31,30,31,31,30,31,30,31];function bd(r,o){for(var m=new Date(r.getTime());o>0;){var h=tl(m.getFullYear()),W=m.getMonth(),G=(h?Tc:Uc)[W];if(o>G-m.getDate())o-=G-m.getDate()+1,m.setDate(1),W<11?m.setMonth(W+1):(m.setMonth(0),m.setFullYear(m.getFullYear()+1));else return m.setDate(m.getDate()+o),m}return m}function hd(r,o,m,h){var W=D[h+40>>2],G={tm_sec:D[h>>2],tm_min:D[h+4>>2],tm_hour:D[h+8>>2],tm_mday:D[h+12>>2],tm_mon:D[h+16>>2],tm_year:D[h+20>>2],tm_wday:D[h+24>>2],tm_yday:D[h+28>>2],tm_isdst:D[h+32>>2],tm_gmtoff:D[h+36>>2],tm_zone:W?yt(W):""},v=yt(m),Y={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"};for(var I in Y)v=v.replace(new RegExp(I,"g"),Y[I]);var N=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],S=["January","February","March","April","May","June","July","August","September","October","November","December"];function x(z,O,Jt){for(var wt=typeof z=="number"?z.toString():z||"";wt.length<O;)wt=Jt[0]+wt;return wt}function T(z,O){return x(z,O,"0")}function M(z,O){function Jt(kt){return kt<0?-1:kt>0?1:0}var wt;return(wt=Jt(z.getFullYear()-O.getFullYear()))===0&&(wt=Jt(z.getMonth()-O.getMonth()))===0&&(wt=Jt(z.getDate()-O.getDate())),wt}function nt(z){switch(z.getDay()){case 0:return new Date(z.getFullYear()-1,11,29);case 1:return z;case 2:return new Date(z.getFullYear(),0,3);case 3:return new Date(z.getFullYear(),0,2);case 4:return new Date(z.getFullYear(),0,1);case 5:return new Date(z.getFullYear()-1,11,31);case 6:return new Date(z.getFullYear()-1,11,30)}}function Yt(z){var O=bd(new Date(z.tm_year+1900,0,1),z.tm_yday),Jt=new Date(O.getFullYear(),0,4),wt=new Date(O.getFullYear()+1,0,4),kt=nt(Jt),bl=nt(wt);return M(kt,O)<=0?M(bl,O)<=0?O.getFullYear()+1:O.getFullYear():O.getFullYear()-1}var Ht={"%a":function(z){return N[z.tm_wday].substring(0,3)},"%A":function(z){return N[z.tm_wday]},"%b":function(z){return S[z.tm_mon].substring(0,3)},"%B":function(z){return S[z.tm_mon]},"%C":function(z){var O=z.tm_year+1900;return T(O/100|0,2)},"%d":function(z){return T(z.tm_mday,2)},"%e":function(z){return x(z.tm_mday,2," ")},"%g":function(z){return Yt(z).toString().substring(2)},"%G":function(z){return Yt(z)},"%H":function(z){return T(z.tm_hour,2)},"%I":function(z){var O=z.tm_hour;return O==0?O=12:O>12&&(O-=12),T(O,2)},"%j":function(z){return T(z.tm_mday+ud(tl(z.tm_year+1900)?Tc:Uc,z.tm_mon-1),3)},"%m":function(z){return T(z.tm_mon+1,2)},"%M":function(z){return T(z.tm_min,2)},"%n":function(){return`
`},"%p":function(z){return z.tm_hour>=0&&z.tm_hour<12?"AM":"PM"},"%S":function(z){return T(z.tm_sec,2)},"%t":function(){return"	"},"%u":function(z){return z.tm_wday||7},"%U":function(z){var O=z.tm_yday+7-z.tm_wday;return T(Math.floor(O/7),2)},"%V":function(z){var O=Math.floor((z.tm_yday+7-(z.tm_wday+6)%7)/7);if((z.tm_wday+371-z.tm_yday-2)%7<=2&&O++,O){if(O==53){var wt=(z.tm_wday+371-z.tm_yday)%7;wt!=4&&(wt!=3||!tl(z.tm_year))&&(O=1)}}else{O=52;var Jt=(z.tm_wday+7-z.tm_yday-1)%7;(Jt==4||Jt==5&&tl(z.tm_year%400-1))&&O++}return T(O,2)},"%w":function(z){return z.tm_wday},"%W":function(z){var O=z.tm_yday+7-(z.tm_wday+6)%7;return T(Math.floor(O/7),2)},"%y":function(z){return(z.tm_year+1900).toString().substring(2)},"%Y":function(z){return z.tm_year+1900},"%z":function(z){var O=z.tm_gmtoff,Jt=O>=0;return O=Math.abs(O)/60,O=O/60*100+O%60,(Jt?"+":"-")+String("0000"+O).slice(-4)},"%Z":function(z){return z.tm_zone},"%%":function(){return"%"}};v=v.replace(/%%/g,"\0\0");for(var I in Ht)v.includes(I)&&(v=v.replace(new RegExp(I,"g"),Ht[I](G)));v=v.replace(/\0\0/g,"%");var Ft=nl(v,!1);return Ft.length>o?0:(Mr(Ft,r),Ft.length-1)}function pd(r,o,m,h){return hd(r,o,m,h)}var Kc=function(r,o,m,h){r||(r=this),this.parent=r,this.mount=r.mount,this.mounted=null,this.id=y.nextInode++,this.name=o,this.mode=m,this.node_ops={},this.stream_ops={},this.rdev=h},el=365,On=146;Object.defineProperties(Kc.prototype,{read:{get:function(){return(this.mode&el)===el},set:function(r){r?this.mode|=el:this.mode&=~el}},write:{get:function(){return(this.mode&On)===On},set:function(r){r?this.mode|=On:this.mode&=~On}},isFolder:{get:function(){return y.isDir(this.mode)}},isDevice:{get:function(){return y.isChrdev(this.mode)}}}),y.FSNode=Kc,y.staticInit(),pc(),ge=e.BindingError=Ci(Error,"BindingError"),Wc=e.InternalError=Ci(Error,"InternalError"),tr(),ko(),Yc(),Pn=e.UnboundTypeError=Ci(Error,"UnboundTypeError"),Lo();function nl(r,o,m){var h=m>0?m:_t(r)+1,W=new Array(h),G=ye(r,W,0,W.length);return o&&(W.length=G),W}var Zd={a:bm,k:Ml,t:cc,ia:He,R:le,v:po,d:yo,i:dc,r:ac,Q:Xo,X:Pl,ha:sc,p:Wo,ja:$,g:Zo,wa:jl,ca:Bi,ta:Go,ua:Ro,xa:bn,na:uc,va:bc,la:vo,Aa:Gn,Ca:go,Ba:Yo,da:Fo,Ea:p,Ma:Uo,La:Ko,w:Bo,Da:Hc,W:lr,y:Po,s:jo,V:Di,L:Qo,Fa:Oo,T:Do,ya:ln,Ka:Nc,ba:$o,G:td,oa:ed,pa:jn,b:wc,ma:rr,K:Ai,za:nd,ka:id,qa:rd,ra:ar,Ga:ze,U:Sc,S:ad,aa:od,sa:$i,J:or,c:sd,ea:qi,N:Id,Ja:Cc,O:Fd,q:fd,f:yd,Ha:Yd,e:Xd,l:Vd,m:rl,ga:Oc,C:Mc,x:Lc,P:Dc,F:Ac,$:kd,_:dl,n:Pc,j:Wd,h:ur,A:Qc,M:gd,o:Zi,Ia:Rd,H:cl,Y:jc,Z:Ec,u:Jd,D:Gd,I:vd,B:al,E:ol,z:md,fa:pd};ho(),e.___wasm_call_ctors=function(){return(e.___wasm_call_ctors=e.asm.Oa).apply(null,arguments)};var il=e._malloc=function(){return(il=e._malloc=e.asm.Qa).apply(null,arguments)},je=e._free=function(){return(je=e._free=e.asm.Ra).apply(null,arguments)},zc=e.___getTypeName=function(){return(zc=e.___getTypeName=e.asm.Sa).apply(null,arguments)};e.___embind_register_native_and_builtin_types=function(){return(e.___embind_register_native_and_builtin_types=e.asm.Ta).apply(null,arguments)};var dr=e.___stdio_exit=function(){return(dr=e.___stdio_exit=e.asm.Ua).apply(null,arguments)},sr=e.___funcs_on_exit=function(){return(sr=e.___funcs_on_exit=e.asm.Va).apply(null,arguments)},Bc=e._emscripten_builtin_memalign=function(){return(Bc=e._emscripten_builtin_memalign=e.asm.Wa).apply(null,arguments)},bt=e._setThrew=function(){return(bt=e._setThrew=e.asm.Xa).apply(null,arguments)},ht=e.stackSave=function(){return(ht=e.stackSave=e.asm.Ya).apply(null,arguments)},ut=e.stackRestore=function(){return(ut=e.stackRestore=e.asm.Za).apply(null,arguments)},mr=e.___cxa_can_catch=function(){return(mr=e.___cxa_can_catch=e.asm._a).apply(null,arguments)},_c=e.___cxa_is_pointer_type=function(){return(_c=e.___cxa_is_pointer_type=e.asm.$a).apply(null,arguments)};e.dynCall_iiiij=function(){return(e.dynCall_iiiij=e.asm.ab).apply(null,arguments)},e.dynCall_jii=function(){return(e.dynCall_jii=e.asm.bb).apply(null,arguments)},e.dynCall_jjj=function(){return(e.dynCall_jjj=e.asm.cb).apply(null,arguments)},e.dynCall_jji=function(){return(e.dynCall_jji=e.asm.db).apply(null,arguments)},e.dynCall_jiii=function(){return(e.dynCall_jiii=e.asm.eb).apply(null,arguments)},e.dynCall_iiiijj=function(){return(e.dynCall_iiiijj=e.asm.fb).apply(null,arguments)},e.dynCall_viijj=function(){return(e.dynCall_viijj=e.asm.gb).apply(null,arguments)},e.dynCall_viiijjjj=function(){return(e.dynCall_viiijjjj=e.asm.hb).apply(null,arguments)},e.dynCall_iijjiiii=function(){return(e.dynCall_iijjiiii=e.asm.ib).apply(null,arguments)},e.dynCall_jiji=function(){return(e.dynCall_jiji=e.asm.jb).apply(null,arguments)};var Et=e.dynCall_j=function(){return(Et=e.dynCall_j=e.asm.kb).apply(null,arguments)};e.dynCall_viijii=function(){return(e.dynCall_viijii=e.asm.lb).apply(null,arguments)};var ll=e.dynCall_jiiii=function(){return(ll=e.dynCall_jiiii=e.asm.mb).apply(null,arguments)};e.dynCall_iiiiij=function(){return(e.dynCall_iiiiij=e.asm.nb).apply(null,arguments)},e.dynCall_iiiiijj=function(){return(e.dynCall_iiiiijj=e.asm.ob).apply(null,arguments)},e.dynCall_iiiiiijj=function(){return(e.dynCall_iiiiiijj=e.asm.pb).apply(null,arguments)};function yd(r,o){var m=ht();try{return lt(r)(o)}catch(h){if(ut(m),h!==h+0)throw h;bt(1,0)}}function Xd(r,o,m){var h=ht();try{return lt(r)(o,m)}catch(W){if(ut(h),W!==W+0)throw W;bt(1,0)}}function Wd(r,o){var m=ht();try{lt(r)(o)}catch(h){if(ut(m),h!==h+0)throw h;bt(1,0)}}function Vd(r,o,m,h){var W=ht();try{return lt(r)(o,m,h)}catch(G){if(ut(W),G!==G+0)throw G;bt(1,0)}}function ur(r,o,m){var h=ht();try{lt(r)(o,m)}catch(W){if(ut(h),W!==W+0)throw W;bt(1,0)}}function fd(r){var o=ht();try{return lt(r)()}catch(m){if(ut(o),m!==m+0)throw m;bt(1,0)}}function Zi(r,o,m,h){var W=ht();try{lt(r)(o,m,h)}catch(G){if(ut(W),G!==G+0)throw G;bt(1,0)}}function Cc(r,o){var m=ht();try{return lt(r)(o)}catch(h){if(ut(m),h!==h+0)throw h;bt(1,0)}}function Lc(r,o,m,h,W,G,v){var Y=ht();try{return lt(r)(o,m,h,W,G,v)}catch(I){if(ut(Y),I!==I+0)throw I;bt(1,0)}}function Ec(r,o,m,h,W,G){var v=ht();try{lt(r)(o,m,h,W,G)}catch(Y){if(ut(v),Y!==Y+0)throw Y;bt(1,0)}}function Gd(r,o,m,h,W,G,v,Y,I,N){var S=ht();try{lt(r)(o,m,h,W,G,v,Y,I,N)}catch(x){if(ut(S),x!==x+0)throw x;bt(1,0)}}function Mc(r,o,m,h,W,G){var v=ht();try{return lt(r)(o,m,h,W,G)}catch(Y){if(ut(v),Y!==Y+0)throw Y;bt(1,0)}}function Pc(r){var o=ht();try{lt(r)()}catch(m){if(ut(o),m!==m+0)throw m;bt(1,0)}}function jc(r,o,m,h,W,G,v){var Y=ht();try{lt(r)(o,m,h,W,G,v)}catch(I){if(ut(Y),I!==I+0)throw I;bt(1,0)}}function Rd(r,o,m,h,W,G,v,Y){var I=ht();try{lt(r)(o,m,h,W,G,v,Y)}catch(N){if(ut(I),N!==N+0)throw N;bt(1,0)}}function Qc(r,o,m,h){var W=ht();try{lt(r)(o,m,h)}catch(G){if(ut(W),G!==G+0)throw G;bt(1,0)}}function vd(r,o,m,h,W,G,v,Y,I){var N=ht();try{lt(r)(o,m,h,W,G,v,Y,I)}catch(S){if(ut(N),S!==S+0)throw S;bt(1,0)}}function rl(r,o,m,h,W){var G=ht();try{return lt(r)(o,m,h,W)}catch(v){if(ut(G),v!==v+0)throw v;bt(1,0)}}function gd(r,o,m,h,W){var G=ht();try{lt(r)(o,m,h,W)}catch(v){if(ut(G),v!==v+0)throw v;bt(1,0)}}function cl(r,o,m,h,W){var G=ht();try{lt(r)(o,m,h,W)}catch(v){if(ut(G),v!==v+0)throw v;bt(1,0)}}function Yd(r,o,m,h,W){var G=ht();try{return lt(r)(o,m,h,W)}catch(v){if(ut(G),v!==v+0)throw v;bt(1,0)}}function Oc(r,o,m,h,W,G){var v=ht();try{return lt(r)(o,m,h,W,G)}catch(Y){if(ut(v),Y!==Y+0)throw Y;bt(1,0)}}function Dc(r,o,m,h,W,G,v,Y){var I=ht();try{return lt(r)(o,m,h,W,G,v,Y)}catch(N){if(ut(I),N!==N+0)throw N;bt(1,0)}}function Fd(r,o,m,h){var W=ht();try{return lt(r)(o,m,h)}catch(G){if(ut(W),G!==G+0)throw G;bt(1,0)}}function Id(r,o,m,h){var W=ht();try{return lt(r)(o,m,h)}catch(G){if(ut(W),G!==G+0)throw G;bt(1,0)}}function Jd(r,o,m,h,W,G,v,Y){var I=ht();try{lt(r)(o,m,h,W,G,v,Y)}catch(N){if(ut(I),N!==N+0)throw N;bt(1,0)}}function Ac(r,o,m,h,W,G,v,Y,I,N,S,x){var T=ht();try{return lt(r)(o,m,h,W,G,v,Y,I,N,S,x)}catch(M){if(ut(T),M!==M+0)throw M;bt(1,0)}}function al(r,o,m,h,W,G,v,Y,I,N,S){var x=ht();try{lt(r)(o,m,h,W,G,v,Y,I,N,S)}catch(T){if(ut(x),T!==T+0)throw T;bt(1,0)}}function ol(r,o,m,h,W,G,v,Y,I,N,S,x,T,M,nt,Yt){var Ht=ht();try{lt(r)(o,m,h,W,G,v,Y,I,N,S,x,T,M,nt,Yt)}catch(Ft){if(ut(Ht),Ft!==Ft+0)throw Ft;bt(1,0)}}function kd(r){var o=ht();try{return Et(r)}catch(m){if(ut(o),m!==m+0)throw m;bt(1,0)}}function dl(r,o,m,h,W){var G=ht();try{return ll(r,o,m,h,W)}catch(v){if(ut(G),v!==v+0)throw v;bt(1,0)}}var sl;function ml(r){this.name="ExitStatus",this.message="Program terminated with exit("+r+")",this.status=r}_n=function r(){sl||xe(),sl||(_n=r)};function xe(r){if(mn>0||(tc(),mn>0))return;function o(){sl||(sl=!0,e.calledRun=!0,!Re&&(ec(),i(e),e.onRuntimeInitialized&&e.onRuntimeInitialized(),ic()))}e.setStatus?(e.setStatus("Running..."),setTimeout(function(){setTimeout(function(){e.setStatus("")},1),o()},1)):o()}e.run=xe;function $c(r,o){Ll()||nc(),ul(r)}function ul(r){Ll()||(e.onExit&&e.onExit(r),Re=!0),X(r,new ml(r))}if(e.preInit)for(typeof e.preInit=="function"&&(e.preInit=[e.preInit]);e.preInit.length>0;)e.preInit.pop()();return xe(),e.ready}})();Jh=nm}let kh;{var nm=(()=>{var t=location.href;return function(f){f=f||{};function i(){return gt.buffer!=ne&&Ee(gt.buffer),qr}function c(){return gt.buffer!=ne&&Ee(gt.buffer),Ll}function s(){return gt.buffer!=ne&&Ee(gt.buffer),tc}function b(){return gt.buffer!=ne&&Ee(gt.buffer),ec}function X(){return gt.buffer!=ne&&Ee(gt.buffer),nc}function F(){return gt.buffer!=ne&&Ee(gt.buffer),ic}function U(){return gt.buffer!=ne&&Ee(gt.buffer),lc}function E(){return gt.buffer!=ne&&Ee(gt.buffer),rc}var f=typeof f<"u"?f:{},Gt,Dt;f.ready=new Promise(function(l,a){Gt=l,Dt=a});var Bt=Object.assign({},f),Rt="./this.program",Pt=(l,a)=>{throw a},$t=typeof window=="object",vt=typeof importScripts=="function",ae=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string",q=f.ENVIRONMENT_IS_PTHREAD||!1,ee="";function it(l){return f.locateFile?f.locateFile(l,ee):ee+l}var Re,Oe,Zt;($t||vt)&&(vt?ee=self.location.href:typeof document<"u"&&document.currentScript&&(ee=document.currentScript.src),t&&(ee=t),ee.indexOf("blob:")!==0?ee=ee.substr(0,ee.replace(/[?#].*/,"").lastIndexOf("/")+1):ee="",Re=l=>{var a=new XMLHttpRequest;return a.open("GET",l,!1),a.send(null),a.responseText},vt&&(Zt=l=>{var a=new XMLHttpRequest;return a.open("GET",l,!1),a.responseType="arraybuffer",a.send(null),new Uint8Array(a.response)}),Oe=(l,a,d)=>{var u=new XMLHttpRequest;u.open("GET",l,!0),u.responseType="arraybuffer",u.onload=()=>{if(u.status==200||u.status==0&&u.response){a(u.response);return}d()},u.onerror=d,u.send(null)});var pe=f.print||console.log.bind(console),yt=f.printErr||console.warn.bind(console);Object.assign(f,Bt),Bt=null,f.arguments&&f.arguments,f.thisProgram&&(Rt=f.thisProgram),f.quit&&(Pt=f.quit);function ye(l){ye.shown||(ye.shown={}),ye.shown[l]||(ye.shown[l]=1,yt(l))}var fn=0,_t=l=>{fn=l},sn=()=>fn,di;f.wasmBinary&&(di=f.wasmBinary);var Lr=f.noExitRuntime||!1;typeof WebAssembly!="object"&&ve("no native wasm support detected");var gt,Er,Cl=!1,si;function Mr(l,a){l||ve(a)}var Pr=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0;function De(l,a,d){for(var u=a+d,Z=a;l[Z]&&!(Z>=u);)++Z;if(Z-a>16&&l.buffer&&Pr)return Pr.decode(l.buffer instanceof SharedArrayBuffer?l.slice(a,Z):l.subarray(a,Z));for(var V="";a<Z;){var R=l[a++];if(!(R&128)){V+=String.fromCharCode(R);continue}var g=l[a++]&63;if((R&224)==192){V+=String.fromCharCode((R&31)<<6|g);continue}var k=l[a++]&63;if((R&240)==224?R=(R&15)<<12|g<<6|k:R=(R&7)<<18|g<<12|k<<6|l[a++]&63,R<65536)V+=String.fromCharCode(R);else{var H=R-65536;V+=String.fromCharCode(55296|H>>10,56320|H&1023)}}return V}function jt(l,a){return l?De(c(),l,a):""}function oe(l,a,d,u){if(!(u>0))return 0;for(var Z=d,V=d+u-1,R=0;R<l.length;++R){var g=l.charCodeAt(R);if(g>=55296&&g<=57343){var k=l.charCodeAt(++R);g=65536+((g&1023)<<10)|k&1023}if(g<=127){if(d>=V)break;a[d++]=g}else if(g<=2047){if(d+1>=V)break;a[d++]=192|g>>6,a[d++]=128|g&63}else if(g<=65535){if(d+2>=V)break;a[d++]=224|g>>12,a[d++]=128|g>>6&63,a[d++]=128|g&63}else{if(d+3>=V)break;a[d++]=240|g>>18,a[d++]=128|g>>12&63,a[d++]=128|g>>6&63,a[d++]=128|g&63}}return a[d]=0,d-Z}function zn(l,a,d){return oe(l,c(),a,d)}function Bn(l){for(var a=0,d=0;d<l.length;++d){var u=l.charCodeAt(d);u>=55296&&u<=57343&&(u=65536+((u&1023)<<10)|l.charCodeAt(++d)&1023),u<=127?++a:u<=2047?a+=2:u<=65535?a+=3:a+=4}return a}var D=typeof TextDecoder<"u"?new TextDecoder("utf-16le"):void 0;function At(l,a){for(var d=l,u=d>>1,Z=u+a/2;!(u>=Z)&&b()[u];)++u;if(d=u<<1,d-l>32&&D)return D.decode(c().slice(l,d));for(var V="",R=0;!(R>=a/2);++R){var g=s()[l+R*2>>1];if(g==0)break;V+=String.fromCharCode(g)}return V}function jr(l,a,d){if(d===void 0&&(d=2147483647),d<2)return 0;d-=2;for(var u=a,Z=d<l.length*2?d/2:l.length,V=0;V<Z;++V){var R=l.charCodeAt(V);s()[a>>1]=R,a+=2}return s()[a>>1]=0,a-u}function Qr(l){return l.length*2}function Or(l,a){for(var d=0,u="";!(d>=a/4);){var Z=X()[l+d*4>>2];if(Z==0)break;if(++d,Z>=65536){var V=Z-65536;u+=String.fromCharCode(55296|V>>10,56320|V&1023)}else u+=String.fromCharCode(Z)}return u}function Dr(l,a,d){if(d===void 0&&(d=2147483647),d<4)return 0;for(var u=a,Z=u+d-4,V=0;V<l.length;++V){var R=l.charCodeAt(V);if(R>=55296&&R<=57343){var g=l.charCodeAt(++V);R=65536+((R&1023)<<10)|g&1023}if(X()[a>>2]=R,a+=4,a+4>Z)break}return X()[a>>2]=0,a-u}function Ar(l){for(var a=0,d=0;d<l.length;++d){var u=l.charCodeAt(d);u>=55296&&u<=57343&&++d,a+=4}return a}function $r(l,a){i().set(l,a)}function so(l,a,d){for(var u=0;u<l.length;++u)i()[a++>>0]=l.charCodeAt(u);d||(i()[a>>0]=0)}var ne,qr,Ll,tc,ec,nc,ic,lc,rc;q&&(ne=f.buffer);function Ee(l){ne=l,f.HEAP8=qr=new Int8Array(l),f.HEAP16=tc=new Int16Array(l),f.HEAP32=nc=new Int32Array(l),f.HEAPU8=Ll=new Uint8Array(l),f.HEAPU16=ec=new Uint16Array(l),f.HEAPU32=ic=new Uint32Array(l),f.HEAPF32=lc=new Float32Array(l),f.HEAPF64=rc=new Float64Array(l)}var mn=f.INITIAL_MEMORY||16777216;if(q)gt=f.wasmMemory,ne=f.buffer;else if(f.wasmMemory)gt=f.wasmMemory;else if(gt=new WebAssembly.Memory({initial:mn/65536,maximum:32768,shared:!0}),!(gt.buffer instanceof SharedArrayBuffer))throw yt("requested a shared WebAssembly.Memory but the returned buffer is not a SharedArrayBuffer, indicating that while the browser has SharedArrayBuffer it does not have WebAssembly threads support - you may need to set a flag"),ae&&console.log("(on node you may need: --experimental-wasm-threads --experimental-wasm-bulk-memory and also use a recent version)"),Error("bad memory");gt&&(ne=gt.buffer),mn=ne.byteLength,Ee(ne);var _n,mo=[],xi=[],Si=[],ke=[],uo=0;function Ti(){return Lr||uo>0}function Ne(){if(f.preRun)for(typeof f.preRun=="function"&&(f.preRun=[f.preRun]);f.preRun.length;)ie(f.preRun.shift());ot(mo)}function El(){q||(!f.noFSInit&&!p.init.initialized&&p.init(),p.ignorePermissions=!1,ot(xi))}function bo(){q||(h(),ot(Si),p.quit(),$.terminateAllThreads())}function ho(){if(!q){if(f.postRun)for(typeof f.postRun=="function"&&(f.postRun=[f.postRun]);f.postRun.length;)Ui(f.postRun.shift());ot(ke)}}function ie(l){mo.unshift(l)}function Ae(l){xi.unshift(l)}function Ui(l){ke.unshift(l)}var Me=0,lt=null;function bm(l){return l}function Ml(l){Me++,f.monitorRunDependencies&&f.monitorRunDependencies(Me)}function Se(l){if(Me--,f.monitorRunDependencies&&f.monitorRunDependencies(Me),Me==0&&lt){var a=lt;lt=null,a()}}function ve(l){q?postMessage({cmd:"onAbort",arg:l}):f.onAbort&&f.onAbort(l),l="Aborted("+l+")",yt(l),Cl=!0,si=1,l+=". Build with -sASSERTIONS for more info.";var a=new WebAssembly.RuntimeError(l);throw Dt(a),a}var Ki="data:application/octet-stream;base64,";function cc(l){return l.startsWith(Ki)}var He;f.locateFile?(He="main-bin-multi.wasm",cc(He)||(He=it(He))):He=new URL("main-bin-multi.wasm",location.href).toString();function $e(l){try{if(l==He&&di)return new Uint8Array(di);if(Zt)return Zt(l);throw"both async and sync fetching of the wasm failed"}catch(a){ve(a)}}function ac(){return!di&&($t||vt)&&typeof fetch=="function"?fetch(He,{credentials:"same-origin"}).then(function(l){if(!l.ok)throw"failed to load wasm binary file at '"+He+"'";return l.arrayBuffer()}).catch(function(){return $e(He)}):Promise.resolve().then(function(){return $e(He)})}function oc(){var l={a:sl};function a(R,g){var k=R.exports;if(f.asm=k,et(f.asm.cb),_n=f.asm.Za,Ae(f.asm.Ya),Er=g,!q){var H=$.unusedWorkers.length;$.unusedWorkers.forEach(function(_){$.loadWasmModuleToWorker(_,function(){--H||Se()})})}}q||Ml();function d(R){a(R.instance,R.module)}function u(R){return ac().then(function(g){return WebAssembly.instantiate(g,l)}).then(function(g){return g}).then(R,function(g){yt("failed to asynchronously prepare wasm: "+g),ve(g)})}function Z(){return!di&&typeof WebAssembly.instantiateStreaming=="function"&&!cc(He)&&typeof fetch=="function"?fetch(He,{credentials:"same-origin"}).then(function(R){var g=WebAssembly.instantiateStreaming(R,l);return g.then(d,function(k){return yt("wasm streaming compile failed: "+k),yt("falling back to ArrayBuffer instantiation"),u(d)})}):u(d)}if(f.instantiateWasm)try{var V=f.instantiateWasm(l,a);return V}catch(R){return yt("Module.instantiateWasm callback failed with error: "+R),!1}return Z().catch(Dt),{}}var le,Xe,po={};function Zo(l){X()[l>>2]=0;var a=$.pthreads[l];delete $.pthreads[l],a.worker.terminate(),Y(l),$.runningWorkers.splice($.runningWorkers.indexOf(a.worker),1),a.worker.pthread=void 0}function yo(l){var a=$.pthreads[l];a.worker.postMessage({cmd:"cancel"})}function dc(l){var a=$.pthreads[l];if(a){X()[l>>2]=0;var d=a.worker;$.returnWorkerToPool(d)}}function Xo(l,a){c().fill(0,l,l+a)}function Pl(l){var a=$.getNewWorker();if(!a)return 6;$.runningWorkers.push(a);var d=$.pthreads[l.pthread_ptr]={worker:a,threadInfoStruct:l.pthread_ptr};a.pthread=d;var u={cmd:"run",start_routine:l.startRoutine,arg:l.arg,threadInfoStruct:l.pthread_ptr};return a.runPthread=()=>{u.time=performance.now(),a.postMessage(u,l.transferList)},a.loaded&&(a.runPthread(),delete a.runPthread),0}function sc(l){pp(l)}function Wo(l){if(l instanceof Nd||l=="unwind")return si;Pt(1,l)}var $={unusedWorkers:[],runningWorkers:[],tlsInitFunctions:[],init:function(){q?$.initWorker():$.initMainThread()},initMainThread:function(){for(var l=6,a=0;a<l;++a)$.allocateUnusedWorker()},initWorker:function(){Lr=!1},pthreads:{},setExitStatus:function(l){si=l},terminateAllThreads:function(){for(var l in $.pthreads){var a=$.pthreads[l];a&&a.worker&&$.returnWorkerToPool(a.worker)}for(var d=0;d<$.unusedWorkers.length;++d){var u=$.unusedWorkers[d];u.terminate()}$.unusedWorkers=[]},returnWorkerToPool:function(l){$.runWithoutMainThreadQueuedCalls(function(){delete $.pthreads[l.pthread.threadInfoStruct],$.unusedWorkers.push(l),$.runningWorkers.splice($.runningWorkers.indexOf(l),1),Y(l.pthread.threadInfoStruct),l.pthread=void 0})},runWithoutMainThreadQueuedCalls:function(l){X()[Ft>>2]=0;try{l()}finally{X()[Ft>>2]=1}},receiveObjectTransfer:function(l){},threadInit:function(){for(var l in $.tlsInitFunctions)$.tlsInitFunctions.hasOwnProperty(l)&&$.tlsInitFunctions[l]()},loadWasmModuleToWorker:function(l,a){l.onmessage=d=>{var u=d.data,Z=u.cmd;if(l.pthread&&($.currentProxiedOperationCallerThread=l.pthread.threadInfoStruct),u.targetThread&&u.targetThread!=ul()){var V=$.pthreads[u.targetThread];V?V.worker.postMessage(u,u.transferList):yt('Internal error! Worker sent a message "'+Z+'" to target pthread '+u.targetThread+", but that thread no longer exists!"),$.currentProxiedOperationCallerThread=void 0;return}Z==="processProxyingQueue"?On(u.queue):Z==="spawnThread"?Pl(u):Z==="cleanupThread"?dc(u.thread):Z==="killThread"?Zo(u.thread):Z==="cancelThread"?yo(u.thread):Z==="loaded"?(l.loaded=!0,a&&a(l),l.runPthread&&(l.runPthread(),delete l.runPthread)):Z==="print"?pe("Thread "+u.threadId+": "+u.text):Z==="printErr"?yt("Thread "+u.threadId+": "+u.text):Z==="alert"?alert("Thread "+u.threadId+": "+u.text):u.target==="setimmediate"?l.postMessage(u):Z==="onAbort"?f.onAbort&&f.onAbort(u.arg):Z&&yt("worker sent an unknown command "+Z),$.currentProxiedOperationCallerThread=void 0},l.onerror=d=>{var u="worker sent an error!";throw yt(u+" "+d.filename+":"+d.lineno+": "+d.message),d},l.postMessage({cmd:"load",urlOrBlob:f.mainScriptUrlOrBlob,wasmMemory:gt,wasmModule:Er})},allocateUnusedWorker:function(){if(!f.locateFile){$.unusedWorkers.push(new Worker(new URL("main-bin-multi.worker.js",location.href)));return}var l=it("main-bin-multi.worker.js");$.unusedWorkers.push(new Worker(l,{type:"module"}))},getNewWorker:function(){return $.unusedWorkers.length==0&&($.allocateUnusedWorker(),$.loadWasmModuleToWorker($.unusedWorkers[0])),$.unusedWorkers.pop()}};f.PThread=$;function ot(l){for(;l.length>0;){var a=l.shift();if(typeof a=="function"){a(f);continue}var d=a.func;typeof d=="number"?a.arg===void 0?dt(d)():dt(d)(a.arg):d(a.arg===void 0?null:a.arg)}}function mc(l){var a=S(),d=l();return x(a),d}function qe(){var l=ul(),a=X()[l+44>>2],d=X()[l+48>>2],u=a-d;N(a,u),x(a)}f.establishStackSpace=qe;function un(l){if(q)return Et(1,0,l);try{sc(l)}catch(a){Wo(a)}}var zi=[];function dt(l){var a=zi[l];return a||(l>=zi.length&&(zi.length=l+1),zi[l]=a=_n.get(l)),a}function Vo(l,a){return dt(l)(a)}f.invokeEntryPoint=Vo;function et(l){$.tlsInitFunctions.push(l)}function fo(l,a,d,u){ve("Assertion failed: "+jt(l)+", at: "+[a?jt(a):"unknown filename",d,u?jt(u):"unknown function"])}function y(l){return ml(l+24)+24}var st=[];function jl(l){l.add_ref()}var Bi=0;function Go(l){var a=new bn(l);return a.get_caught()||(a.set_caught(!0),Bi--),a.set_rethrown(!1),st.push(a),jl(a),a.get_exception_ptr()}function Ro(){if(!st.length)return 0;var l=st[st.length-1];return jl(l),l.excPtr}function bn(l){this.excPtr=l,this.ptr=l-24,this.set_type=function(a){F()[this.ptr+4>>2]=a},this.get_type=function(){return F()[this.ptr+4>>2]},this.set_destructor=function(a){F()[this.ptr+8>>2]=a},this.get_destructor=function(){return F()[this.ptr+8>>2]},this.set_refcount=function(a){X()[this.ptr>>2]=a},this.set_caught=function(a){a=a?1:0,i()[this.ptr+12>>0]=a},this.get_caught=function(){return i()[this.ptr+12>>0]!=0},this.set_rethrown=function(a){a=a?1:0,i()[this.ptr+13>>0]=a},this.get_rethrown=function(){return i()[this.ptr+13>>0]!=0},this.init=function(a,d){this.set_adjusted_ptr(0),this.set_type(a),this.set_destructor(d),this.set_refcount(0),this.set_caught(!1),this.set_rethrown(!1)},this.add_ref=function(){Atomics.add(X(),this.ptr+0>>2,1)},this.release_ref=function(){var a=Atomics.sub(X(),this.ptr+0>>2,1);return a===1},this.set_adjusted_ptr=function(a){F()[this.ptr+16>>2]=a},this.get_adjusted_ptr=function(){return F()[this.ptr+16>>2]},this.get_exception_ptr=function(){var a=nt(this.get_type());if(a)return F()[this.excPtr>>2];var d=this.get_adjusted_ptr();return d!==0?d:this.excPtr}}function uc(l){return xe(new bn(l).ptr)}function bc(l){if(l.release_ref()&&!l.get_rethrown()){var a=l.get_destructor();a&&dt(a)(l.excPtr),uc(l.excPtr)}}function vo(l){!l||bc(new bn(l))}var Gn=0;function hc(){I(0);var l=st.pop();bc(l),Gn=0}function go(l){throw Gn||(Gn=l),l}function Yo(){var l=Gn;if(!l)return _t(0),0;var a=new bn(l);a.set_adjusted_ptr(l);var d=a.get_type();if(!d)return _t(0),l;for(var u=Array.prototype.slice.call(arguments),Z=0;Z<u.length;Z++){var V=u[Z];if(V===0||V===d)break;var R=a.ptr+16;if(M(V,d,R))return _t(V),l}return _t(d),l}function Fo(){var l=Gn;if(!l)return _t(0),0;var a=new bn(l);a.set_adjusted_ptr(l);var d=a.get_type();if(!d)return _t(0),l;for(var u=Array.prototype.slice.call(arguments),Z=0;Z<u.length;Z++){var V=u[Z];if(V===0||V===d)break;var R=a.ptr+16;if(M(V,d,R))return _t(V),l}return _t(d),l}function Ql(l){!l||jl(new bn(l))}function pc(){var l=st.pop();l||ve("no exception to throw");var a=l.excPtr;throw l.get_rethrown()||(st.push(l),l.set_rethrown(!0),l.set_caught(!1),Bi++),Gn=a,a}function Zc(l){if(!!l){var a=new bn(l);st.push(a),a.set_rethrown(!0),pc()}}function we(l,a,d){var u=new bn(l);throw u.init(a,d),Gn=l,Bi++,l}function Cn(){return Bi}function Rn(l){W(l,!vt,1,!$t),$.threadInit()}function _i(l){q?postMessage({cmd:"cleanupThread",thread:l}):dc(l)}function yc(l,a,d,u){return q?Et(2,1,l,a,d,u):Xc(l,a,d,u)}function Xc(l,a,d,u){if(typeof SharedArrayBuffer>"u")return yt("Current environment does not support SharedArrayBuffer, pthreads are not available!"),6;var Z=[],V=0;if(q&&(Z.length===0||V))return yc(l,a,d,u);var R={startRoutine:d,pthread_ptr:l,arg:u,transferList:Z};return q?(R.cmd="spawnThread",postMessage(R,Z),0):Pl(R)}function Ol(l){return X()[$c()>>2]=l,l}var mt={isAbs:l=>l.charAt(0)==="/",splitPath:l=>{var a=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/;return a.exec(l).slice(1)},normalizeArray:(l,a)=>{for(var d=0,u=l.length-1;u>=0;u--){var Z=l[u];Z==="."?l.splice(u,1):Z===".."?(l.splice(u,1),d++):d&&(l.splice(u,1),d--)}if(a)for(;d;d--)l.unshift("..");return l},normalize:l=>{var a=mt.isAbs(l),d=l.substr(-1)==="/";return l=mt.normalizeArray(l.split("/").filter(u=>!!u),!a).join("/"),!l&&!a&&(l="."),l&&d&&(l+="/"),(a?"/":"")+l},dirname:l=>{var a=mt.splitPath(l),d=a[0],u=a[1];return!d&&!u?".":(u&&(u=u.substr(0,u.length-1)),d+u)},basename:l=>{if(l==="/")return"/";l=mt.normalize(l),l=l.replace(/\/$/,"");var a=l.lastIndexOf("/");return a===-1?l:l.substr(a+1)},join:function(){var l=Array.prototype.slice.call(arguments,0);return mt.normalize(l.join("/"))},join2:(l,a)=>mt.normalize(l+"/"+a)};function Ci(){if(typeof crypto=="object"&&typeof crypto.getRandomValues=="function"){var l=new Uint8Array(1);return function(){return crypto.getRandomValues(l),l[0]}}else return function(){ve("randomDevice")}}var ge={resolve:function(){for(var l="",a=!1,d=arguments.length-1;d>=-1&&!a;d--){var u=d>=0?arguments[d]:p.cwd();if(typeof u!="string")throw new TypeError("Arguments to path.resolve must be strings");if(!u)return"";l=u+"/"+l,a=mt.isAbs(u)}return l=mt.normalizeArray(l.split("/").filter(Z=>!!Z),!a).join("/"),(a?"/":"")+l||"."},relative:(l,a)=>{l=ge.resolve(l).substr(1),a=ge.resolve(a).substr(1);function d(H){for(var _=0;_<H.length&&H[_]==="";_++);for(var C=H.length-1;C>=0&&H[C]==="";C--);return _>C?[]:H.slice(_,C-_+1)}for(var u=d(l.split("/")),Z=d(a.split("/")),V=Math.min(u.length,Z.length),R=V,g=0;g<V;g++)if(u[g]!==Z[g]){R=g;break}for(var k=[],g=R;g<u.length;g++)k.push("..");return k=k.concat(Z.slice(R)),k.join("/")}},rt={ttys:[],init:function(){},shutdown:function(){},register:function(l,a){rt.ttys[l]={input:[],output:[],ops:a},p.registerDevice(l,rt.stream_ops)},stream_ops:{open:function(l){var a=rt.ttys[l.node.rdev];if(!a)throw new p.ErrnoError(43);l.tty=a,l.seekable=!1},close:function(l){l.tty.ops.flush(l.tty)},flush:function(l){l.tty.ops.flush(l.tty)},read:function(l,a,d,u,Z){if(!l.tty||!l.tty.ops.get_char)throw new p.ErrnoError(60);for(var V=0,R=0;R<u;R++){var g;try{g=l.tty.ops.get_char(l.tty)}catch{throw new p.ErrnoError(29)}if(g===void 0&&V===0)throw new p.ErrnoError(6);if(g==null)break;V++,a[d+R]=g}return V&&(l.node.timestamp=Date.now()),V},write:function(l,a,d,u,Z){if(!l.tty||!l.tty.ops.put_char)throw new p.ErrnoError(60);try{for(var V=0;V<u;V++)l.tty.ops.put_char(l.tty,a[d+V])}catch{throw new p.ErrnoError(29)}return u&&(l.node.timestamp=Date.now()),V}},default_tty_ops:{get_char:function(l){if(!l.input.length){var a=null;if(typeof window<"u"&&typeof window.prompt=="function"?(a=window.prompt("Input: "),a!==null&&(a+=`
`)):typeof readline=="function"&&(a=readline(),a!==null&&(a+=`
`)),!a)return null;l.input=dl(a,!0)}return l.input.shift()},put_char:function(l,a){a===null||a===10?(pe(De(l.output,0)),l.output=[]):a!=0&&l.output.push(a)},flush:function(l){l.output&&l.output.length>0&&(pe(De(l.output,0)),l.output=[])}},default_tty1_ops:{put_char:function(l,a){a===null||a===10?(yt(De(l.output,0)),l.output=[]):a!=0&&l.output.push(a)},flush:function(l){l.output&&l.output.length>0&&(yt(De(l.output,0)),l.output=[])}}};function Wc(l,a){return Math.ceil(l/a)*a}function Li(l){l=Wc(l,65536);var a=r(65536,l);return a?(Xo(a,l),a):0}var tt={ops_table:null,mount:function(l){return tt.createNode(null,"/",16895,0)},createNode:function(l,a,d,u){if(p.isBlkdev(d)||p.isFIFO(d))throw new p.ErrnoError(63);tt.ops_table||(tt.ops_table={dir:{node:{getattr:tt.node_ops.getattr,setattr:tt.node_ops.setattr,lookup:tt.node_ops.lookup,mknod:tt.node_ops.mknod,rename:tt.node_ops.rename,unlink:tt.node_ops.unlink,rmdir:tt.node_ops.rmdir,readdir:tt.node_ops.readdir,symlink:tt.node_ops.symlink},stream:{llseek:tt.stream_ops.llseek}},file:{node:{getattr:tt.node_ops.getattr,setattr:tt.node_ops.setattr},stream:{llseek:tt.stream_ops.llseek,read:tt.stream_ops.read,write:tt.stream_ops.write,allocate:tt.stream_ops.allocate,mmap:tt.stream_ops.mmap,msync:tt.stream_ops.msync}},link:{node:{getattr:tt.node_ops.getattr,setattr:tt.node_ops.setattr,readlink:tt.node_ops.readlink},stream:{}},chrdev:{node:{getattr:tt.node_ops.getattr,setattr:tt.node_ops.setattr},stream:p.chrdev_stream_ops}});var Z=p.createNode(l,a,d,u);return p.isDir(Z.mode)?(Z.node_ops=tt.ops_table.dir.node,Z.stream_ops=tt.ops_table.dir.stream,Z.contents={}):p.isFile(Z.mode)?(Z.node_ops=tt.ops_table.file.node,Z.stream_ops=tt.ops_table.file.stream,Z.usedBytes=0,Z.contents=null):p.isLink(Z.mode)?(Z.node_ops=tt.ops_table.link.node,Z.stream_ops=tt.ops_table.link.stream):p.isChrdev(Z.mode)&&(Z.node_ops=tt.ops_table.chrdev.node,Z.stream_ops=tt.ops_table.chrdev.stream),Z.timestamp=Date.now(),l&&(l.contents[a]=Z,l.timestamp=Z.timestamp),Z},getFileDataAsTypedArray:function(l){return l.contents?l.contents.subarray?l.contents.subarray(0,l.usedBytes):new Uint8Array(l.contents):new Uint8Array(0)},expandFileStorage:function(l,a){var d=l.contents?l.contents.length:0;if(!(d>=a)){var u=1024*1024;a=Math.max(a,d*(d<u?2:1.125)>>>0),d!=0&&(a=Math.max(a,256));var Z=l.contents;l.contents=new Uint8Array(a),l.usedBytes>0&&l.contents.set(Z.subarray(0,l.usedBytes),0)}},resizeFileStorage:function(l,a){if(l.usedBytes!=a)if(a==0)l.contents=null,l.usedBytes=0;else{var d=l.contents;l.contents=new Uint8Array(a),d&&l.contents.set(d.subarray(0,Math.min(a,l.usedBytes))),l.usedBytes=a}},node_ops:{getattr:function(l){var a={};return a.dev=p.isChrdev(l.mode)?l.id:1,a.ino=l.id,a.mode=l.mode,a.nlink=1,a.uid=0,a.gid=0,a.rdev=l.rdev,p.isDir(l.mode)?a.size=4096:p.isFile(l.mode)?a.size=l.usedBytes:p.isLink(l.mode)?a.size=l.link.length:a.size=0,a.atime=new Date(l.timestamp),a.mtime=new Date(l.timestamp),a.ctime=new Date(l.timestamp),a.blksize=4096,a.blocks=Math.ceil(a.size/a.blksize),a},setattr:function(l,a){a.mode!==void 0&&(l.mode=a.mode),a.timestamp!==void 0&&(l.timestamp=a.timestamp),a.size!==void 0&&tt.resizeFileStorage(l,a.size)},lookup:function(l,a){throw p.genericErrors[44]},mknod:function(l,a,d,u){return tt.createNode(l,a,d,u)},rename:function(l,a,d){if(p.isDir(l.mode)){var u;try{u=p.lookupNode(a,d)}catch{}if(u)for(var Z in u.contents)throw new p.ErrnoError(55)}delete l.parent.contents[l.name],l.parent.timestamp=Date.now(),l.name=d,a.contents[d]=l,a.timestamp=l.parent.timestamp,l.parent=a},unlink:function(l,a){delete l.contents[a],l.timestamp=Date.now()},rmdir:function(l,a){var d=p.lookupNode(l,a);for(var u in d.contents)throw new p.ErrnoError(55);delete l.contents[a],l.timestamp=Date.now()},readdir:function(l){var a=[".",".."];for(var d in l.contents)!l.contents.hasOwnProperty(d)||a.push(d);return a},symlink:function(l,a,d){var u=tt.createNode(l,a,41471,0);return u.link=d,u},readlink:function(l){if(!p.isLink(l.mode))throw new p.ErrnoError(28);return l.link}},stream_ops:{read:function(l,a,d,u,Z){var V=l.node.contents;if(Z>=l.node.usedBytes)return 0;var R=Math.min(l.node.usedBytes-Z,u);if(R>8&&V.subarray)a.set(V.subarray(Z,Z+R),d);else for(var g=0;g<R;g++)a[d+g]=V[Z+g];return R},write:function(l,a,d,u,Z,V){if(a.buffer===i().buffer&&(V=!1),!u)return 0;var R=l.node;if(R.timestamp=Date.now(),a.subarray&&(!R.contents||R.contents.subarray)){if(V)return R.contents=a.subarray(d,d+u),R.usedBytes=u,u;if(R.usedBytes===0&&Z===0)return R.contents=a.slice(d,d+u),R.usedBytes=u,u;if(Z+u<=R.usedBytes)return R.contents.set(a.subarray(d,d+u),Z),u}if(tt.expandFileStorage(R,Z+u),R.contents.subarray&&a.subarray)R.contents.set(a.subarray(d,d+u),Z);else for(var g=0;g<u;g++)R.contents[Z+g]=a[d+g];return R.usedBytes=Math.max(R.usedBytes,Z+u),u},llseek:function(l,a,d){var u=a;if(d===1?u+=l.position:d===2&&p.isFile(l.node.mode)&&(u+=l.node.usedBytes),u<0)throw new p.ErrnoError(28);return u},allocate:function(l,a,d){tt.expandFileStorage(l.node,a+d),l.node.usedBytes=Math.max(l.node.usedBytes,a+d)},mmap:function(l,a,d,u,Z,V){if(a!==0)throw new p.ErrnoError(28);if(!p.isFile(l.node.mode))throw new p.ErrnoError(43);var R,g,k=l.node.contents;if(!(V&2)&&k.buffer===ne)g=!1,R=k.byteOffset;else{if((u>0||u+d<k.length)&&(k.subarray?k=k.subarray(u,u+d):k=Array.prototype.slice.call(k,u,u+d)),g=!0,R=Li(d),!R)throw new p.ErrnoError(48);i().set(k,R)}return{ptr:R,allocated:g}},msync:function(l,a,d,u,Z){if(!p.isFile(l.node.mode))throw new p.ErrnoError(43);return Z&2||tt.stream_ops.write(l,a,0,u,d,!1),0}}};function tn(l,a,d,u){var Z=u?"":"al "+l;Oe(l,function(V){Mr(V,'Loading data file "'+l+'" failed (no arrayBuffer).'),a(new Uint8Array(V)),Z&&Se()},function(V){if(d)d();else throw'Loading data file "'+l+'" failed.'}),Z&&Ml()}var p={root:null,mounts:[],devices:{},streams:[],nextInode:1,nameTable:null,currentPath:"/",initialized:!1,ignorePermissions:!0,ErrnoError:null,genericErrors:{},filesystems:null,syncFSRequests:0,lookupPath:(l,a={})=>{if(l=ge.resolve(p.cwd(),l),!l)return{path:"",node:null};var d={follow_mount:!0,recurse_count:0};if(a=Object.assign(d,a),a.recurse_count>8)throw new p.ErrnoError(32);for(var u=mt.normalizeArray(l.split("/").filter(C=>!!C),!1),Z=p.root,V="/",R=0;R<u.length;R++){var g=R===u.length-1;if(g&&a.parent)break;if(Z=p.lookupNode(Z,u[R]),V=mt.join2(V,u[R]),p.isMountpoint(Z)&&(!g||g&&a.follow_mount)&&(Z=Z.mounted.root),!g||a.follow)for(var k=0;p.isLink(Z.mode);){var H=p.readlink(V);V=ge.resolve(mt.dirname(V),H);var _=p.lookupPath(V,{recurse_count:a.recurse_count+1});if(Z=_.node,k++>40)throw new p.ErrnoError(32)}}return{path:V,node:Z}},getPath:l=>{for(var a;;){if(p.isRoot(l)){var d=l.mount.mountpoint;return a?d[d.length-1]!=="/"?d+"/"+a:d+a:d}a=a?l.name+"/"+a:l.name,l=l.parent}},hashName:(l,a)=>{for(var d=0,u=0;u<a.length;u++)d=(d<<5)-d+a.charCodeAt(u)|0;return(l+d>>>0)%p.nameTable.length},hashAddNode:l=>{var a=p.hashName(l.parent.id,l.name);l.name_next=p.nameTable[a],p.nameTable[a]=l},hashRemoveNode:l=>{var a=p.hashName(l.parent.id,l.name);if(p.nameTable[a]===l)p.nameTable[a]=l.name_next;else for(var d=p.nameTable[a];d;){if(d.name_next===l){d.name_next=l.name_next;break}d=d.name_next}},lookupNode:(l,a)=>{var d=p.mayLookup(l);if(d)throw new p.ErrnoError(d,l);for(var u=p.hashName(l.id,a),Z=p.nameTable[u];Z;Z=Z.name_next){var V=Z.name;if(Z.parent.id===l.id&&V===a)return Z}return p.lookup(l,a)},createNode:(l,a,d,u)=>{var Z=new p.FSNode(l,a,d,u);return p.hashAddNode(Z),Z},destroyNode:l=>{p.hashRemoveNode(l)},isRoot:l=>l===l.parent,isMountpoint:l=>!!l.mounted,isFile:l=>(l&61440)===32768,isDir:l=>(l&61440)===16384,isLink:l=>(l&61440)===40960,isChrdev:l=>(l&61440)===8192,isBlkdev:l=>(l&61440)===24576,isFIFO:l=>(l&61440)===4096,isSocket:l=>(l&49152)===49152,flagModes:{r:0,"r+":2,w:577,"w+":578,a:1089,"a+":1090},modeStringToFlags:l=>{var a=p.flagModes[l];if(typeof a>"u")throw new Error("Unknown file open mode: "+l);return a},flagsToPermissionString:l=>{var a=["r","w","rw"][l&3];return l&512&&(a+="w"),a},nodePermissions:(l,a)=>p.ignorePermissions?0:a.includes("r")&&!(l.mode&292)||a.includes("w")&&!(l.mode&146)||a.includes("x")&&!(l.mode&73)?2:0,mayLookup:l=>{var a=p.nodePermissions(l,"x");return a||(l.node_ops.lookup?0:2)},mayCreate:(l,a)=>{try{var d=p.lookupNode(l,a);return 20}catch{}return p.nodePermissions(l,"wx")},mayDelete:(l,a,d)=>{var u;try{u=p.lookupNode(l,a)}catch(V){return V.errno}var Z=p.nodePermissions(l,"wx");if(Z)return Z;if(d){if(!p.isDir(u.mode))return 54;if(p.isRoot(u)||p.getPath(u)===p.cwd())return 10}else if(p.isDir(u.mode))return 31;return 0},mayOpen:(l,a)=>l?p.isLink(l.mode)?32:p.isDir(l.mode)&&(p.flagsToPermissionString(a)!=="r"||a&512)?31:p.nodePermissions(l,p.flagsToPermissionString(a)):44,MAX_OPEN_FDS:4096,nextfd:(l=0,a=p.MAX_OPEN_FDS)=>{for(var d=l;d<=a;d++)if(!p.streams[d])return d;throw new p.ErrnoError(33)},getStream:l=>p.streams[l],createStream:(l,a,d)=>{p.FSStream||(p.FSStream=function(){this.shared={}},p.FSStream.prototype={object:{get:function(){return this.node},set:function(Z){this.node=Z}},isRead:{get:function(){return(this.flags&2097155)!==1}},isWrite:{get:function(){return(this.flags&2097155)!==0}},isAppend:{get:function(){return this.flags&1024}},flags:{get:function(){return this.shared.flags},set:function(Z){this.shared.flags=Z}},position:{get function(){return this.shared.position},set:function(Z){this.shared.position=Z}}}),l=Object.assign(new p.FSStream,l);var u=p.nextfd(a,d);return l.fd=u,p.streams[u]=l,l},closeStream:l=>{p.streams[l]=null},chrdev_stream_ops:{open:l=>{var a=p.getDevice(l.node.rdev);l.stream_ops=a.stream_ops,l.stream_ops.open&&l.stream_ops.open(l)},llseek:()=>{throw new p.ErrnoError(70)}},major:l=>l>>8,minor:l=>l&255,makedev:(l,a)=>l<<8|a,registerDevice:(l,a)=>{p.devices[l]={stream_ops:a}},getDevice:l=>p.devices[l],getMounts:l=>{for(var a=[],d=[l];d.length;){var u=d.pop();a.push(u),d.push.apply(d,u.mounts)}return a},syncfs:(l,a)=>{typeof l=="function"&&(a=l,l=!1),p.syncFSRequests++,p.syncFSRequests>1&&yt("warning: "+p.syncFSRequests+" FS.syncfs operations in flight at once, probably just doing extra work");var d=p.getMounts(p.root.mount),u=0;function Z(R){return p.syncFSRequests--,a(R)}function V(R){if(R)return V.errored?void 0:(V.errored=!0,Z(R));++u>=d.length&&Z(null)}d.forEach(R=>{if(!R.type.syncfs)return V(null);R.type.syncfs(R,l,V)})},mount:(l,a,d)=>{var u=d==="/",Z=!d,V;if(u&&p.root)throw new p.ErrnoError(10);if(!u&&!Z){var R=p.lookupPath(d,{follow_mount:!1});if(d=R.path,V=R.node,p.isMountpoint(V))throw new p.ErrnoError(10);if(!p.isDir(V.mode))throw new p.ErrnoError(54)}var g={type:l,opts:a,mountpoint:d,mounts:[]},k=l.mount(g);return k.mount=g,g.root=k,u?p.root=k:V&&(V.mounted=g,V.mount&&V.mount.mounts.push(g)),k},unmount:l=>{var a=p.lookupPath(l,{follow_mount:!1});if(!p.isMountpoint(a.node))throw new p.ErrnoError(28);var d=a.node,u=d.mounted,Z=p.getMounts(u);Object.keys(p.nameTable).forEach(R=>{for(var g=p.nameTable[R];g;){var k=g.name_next;Z.includes(g.mount)&&p.destroyNode(g),g=k}}),d.mounted=null;var V=d.mount.mounts.indexOf(u);d.mount.mounts.splice(V,1)},lookup:(l,a)=>l.node_ops.lookup(l,a),mknod:(l,a,d)=>{var u=p.lookupPath(l,{parent:!0}),Z=u.node,V=mt.basename(l);if(!V||V==="."||V==="..")throw new p.ErrnoError(28);var R=p.mayCreate(Z,V);if(R)throw new p.ErrnoError(R);if(!Z.node_ops.mknod)throw new p.ErrnoError(63);return Z.node_ops.mknod(Z,V,a,d)},create:(l,a)=>(a=a!==void 0?a:438,a&=4095,a|=32768,p.mknod(l,a,0)),mkdir:(l,a)=>(a=a!==void 0?a:511,a&=1023,a|=16384,p.mknod(l,a,0)),mkdirTree:(l,a)=>{for(var d=l.split("/"),u="",Z=0;Z<d.length;++Z)if(!!d[Z]){u+="/"+d[Z];try{p.mkdir(u,a)}catch(V){if(V.errno!=20)throw V}}},mkdev:(l,a,d)=>(typeof d>"u"&&(d=a,a=438),a|=8192,p.mknod(l,a,d)),symlink:(l,a)=>{if(!ge.resolve(l))throw new p.ErrnoError(44);var d=p.lookupPath(a,{parent:!0}),u=d.node;if(!u)throw new p.ErrnoError(44);var Z=mt.basename(a),V=p.mayCreate(u,Z);if(V)throw new p.ErrnoError(V);if(!u.node_ops.symlink)throw new p.ErrnoError(63);return u.node_ops.symlink(u,Z,l)},rename:(l,a)=>{var d=mt.dirname(l),u=mt.dirname(a),Z=mt.basename(l),V=mt.basename(a),R,g,k;if(R=p.lookupPath(l,{parent:!0}),g=R.node,R=p.lookupPath(a,{parent:!0}),k=R.node,!g||!k)throw new p.ErrnoError(44);if(g.mount!==k.mount)throw new p.ErrnoError(75);var H=p.lookupNode(g,Z),_=ge.relative(l,u);if(_.charAt(0)!==".")throw new p.ErrnoError(28);if(_=ge.relative(a,d),_.charAt(0)!==".")throw new p.ErrnoError(55);var C;try{C=p.lookupNode(k,V)}catch{}if(H!==C){var K=p.isDir(H.mode),P=p.mayDelete(g,Z,K);if(P)throw new p.ErrnoError(P);if(P=C?p.mayDelete(k,V,K):p.mayCreate(k,V),P)throw new p.ErrnoError(P);if(!g.node_ops.rename)throw new p.ErrnoError(63);if(p.isMountpoint(H)||C&&p.isMountpoint(C))throw new p.ErrnoError(10);if(k!==g&&(P=p.nodePermissions(g,"w"),P))throw new p.ErrnoError(P);p.hashRemoveNode(H);try{g.node_ops.rename(H,k,V)}catch(ct){throw ct}finally{p.hashAddNode(H)}}},rmdir:l=>{var a=p.lookupPath(l,{parent:!0}),d=a.node,u=mt.basename(l),Z=p.lookupNode(d,u),V=p.mayDelete(d,u,!0);if(V)throw new p.ErrnoError(V);if(!d.node_ops.rmdir)throw new p.ErrnoError(63);if(p.isMountpoint(Z))throw new p.ErrnoError(10);d.node_ops.rmdir(d,u),p.destroyNode(Z)},readdir:l=>{var a=p.lookupPath(l,{follow:!0}),d=a.node;if(!d.node_ops.readdir)throw new p.ErrnoError(54);return d.node_ops.readdir(d)},unlink:l=>{var a=p.lookupPath(l,{parent:!0}),d=a.node;if(!d)throw new p.ErrnoError(44);var u=mt.basename(l),Z=p.lookupNode(d,u),V=p.mayDelete(d,u,!1);if(V)throw new p.ErrnoError(V);if(!d.node_ops.unlink)throw new p.ErrnoError(63);if(p.isMountpoint(Z))throw new p.ErrnoError(10);d.node_ops.unlink(d,u),p.destroyNode(Z)},readlink:l=>{var a=p.lookupPath(l),d=a.node;if(!d)throw new p.ErrnoError(44);if(!d.node_ops.readlink)throw new p.ErrnoError(28);return ge.resolve(p.getPath(d.parent),d.node_ops.readlink(d))},stat:(l,a)=>{var d=p.lookupPath(l,{follow:!a}),u=d.node;if(!u)throw new p.ErrnoError(44);if(!u.node_ops.getattr)throw new p.ErrnoError(63);return u.node_ops.getattr(u)},lstat:l=>p.stat(l,!0),chmod:(l,a,d)=>{var u;if(typeof l=="string"){var Z=p.lookupPath(l,{follow:!d});u=Z.node}else u=l;if(!u.node_ops.setattr)throw new p.ErrnoError(63);u.node_ops.setattr(u,{mode:a&4095|u.mode&-4096,timestamp:Date.now()})},lchmod:(l,a)=>{p.chmod(l,a,!0)},fchmod:(l,a)=>{var d=p.getStream(l);if(!d)throw new p.ErrnoError(8);p.chmod(d.node,a)},chown:(l,a,d,u)=>{var Z;if(typeof l=="string"){var V=p.lookupPath(l,{follow:!u});Z=V.node}else Z=l;if(!Z.node_ops.setattr)throw new p.ErrnoError(63);Z.node_ops.setattr(Z,{timestamp:Date.now()})},lchown:(l,a,d)=>{p.chown(l,a,d,!0)},fchown:(l,a,d)=>{var u=p.getStream(l);if(!u)throw new p.ErrnoError(8);p.chown(u.node,a,d)},truncate:(l,a)=>{if(a<0)throw new p.ErrnoError(28);var d;if(typeof l=="string"){var u=p.lookupPath(l,{follow:!0});d=u.node}else d=l;if(!d.node_ops.setattr)throw new p.ErrnoError(63);if(p.isDir(d.mode))throw new p.ErrnoError(31);if(!p.isFile(d.mode))throw new p.ErrnoError(28);var Z=p.nodePermissions(d,"w");if(Z)throw new p.ErrnoError(Z);d.node_ops.setattr(d,{size:a,timestamp:Date.now()})},ftruncate:(l,a)=>{var d=p.getStream(l);if(!d)throw new p.ErrnoError(8);if((d.flags&2097155)===0)throw new p.ErrnoError(28);p.truncate(d.node,a)},utime:(l,a,d)=>{var u=p.lookupPath(l,{follow:!0}),Z=u.node;Z.node_ops.setattr(Z,{timestamp:Math.max(a,d)})},open:(l,a,d)=>{if(l==="")throw new p.ErrnoError(44);a=typeof a=="string"?p.modeStringToFlags(a):a,d=typeof d>"u"?438:d,a&64?d=d&4095|32768:d=0;var u;if(typeof l=="object")u=l;else{l=mt.normalize(l);try{var Z=p.lookupPath(l,{follow:!(a&131072)});u=Z.node}catch{}}var V=!1;if(a&64)if(u){if(a&128)throw new p.ErrnoError(20)}else u=p.mknod(l,d,0),V=!0;if(!u)throw new p.ErrnoError(44);if(p.isChrdev(u.mode)&&(a&=-513),a&65536&&!p.isDir(u.mode))throw new p.ErrnoError(54);if(!V){var R=p.mayOpen(u,a);if(R)throw new p.ErrnoError(R)}a&512&&!V&&p.truncate(u,0),a&=-131713;var g=p.createStream({node:u,path:p.getPath(u),flags:a,seekable:!0,position:0,stream_ops:u.stream_ops,ungotten:[],error:!1});return g.stream_ops.open&&g.stream_ops.open(g),f.logReadFiles&&!(a&1)&&(p.readFiles||(p.readFiles={}),l in p.readFiles||(p.readFiles[l]=1)),g},close:l=>{if(p.isClosed(l))throw new p.ErrnoError(8);l.getdents&&(l.getdents=null);try{l.stream_ops.close&&l.stream_ops.close(l)}catch(a){throw a}finally{p.closeStream(l.fd)}l.fd=null},isClosed:l=>l.fd===null,llseek:(l,a,d)=>{if(p.isClosed(l))throw new p.ErrnoError(8);if(!l.seekable||!l.stream_ops.llseek)throw new p.ErrnoError(70);if(d!=0&&d!=1&&d!=2)throw new p.ErrnoError(28);return l.position=l.stream_ops.llseek(l,a,d),l.ungotten=[],l.position},read:(l,a,d,u,Z)=>{if(u<0||Z<0)throw new p.ErrnoError(28);if(p.isClosed(l))throw new p.ErrnoError(8);if((l.flags&2097155)===1)throw new p.ErrnoError(8);if(p.isDir(l.node.mode))throw new p.ErrnoError(31);if(!l.stream_ops.read)throw new p.ErrnoError(28);var V=typeof Z<"u";if(!V)Z=l.position;else if(!l.seekable)throw new p.ErrnoError(70);var R=l.stream_ops.read(l,a,d,u,Z);return V||(l.position+=R),R},write:(l,a,d,u,Z,V)=>{if(u<0||Z<0)throw new p.ErrnoError(28);if(p.isClosed(l))throw new p.ErrnoError(8);if((l.flags&2097155)===0)throw new p.ErrnoError(8);if(p.isDir(l.node.mode))throw new p.ErrnoError(31);if(!l.stream_ops.write)throw new p.ErrnoError(28);l.seekable&&l.flags&1024&&p.llseek(l,0,2);var R=typeof Z<"u";if(!R)Z=l.position;else if(!l.seekable)throw new p.ErrnoError(70);var g=l.stream_ops.write(l,a,d,u,Z,V);return R||(l.position+=g),g},allocate:(l,a,d)=>{if(p.isClosed(l))throw new p.ErrnoError(8);if(a<0||d<=0)throw new p.ErrnoError(28);if((l.flags&2097155)===0)throw new p.ErrnoError(8);if(!p.isFile(l.node.mode)&&!p.isDir(l.node.mode))throw new p.ErrnoError(43);if(!l.stream_ops.allocate)throw new p.ErrnoError(138);l.stream_ops.allocate(l,a,d)},mmap:(l,a,d,u,Z,V)=>{if((Z&2)!==0&&(V&2)===0&&(l.flags&2097155)!==2)throw new p.ErrnoError(2);if((l.flags&2097155)===1)throw new p.ErrnoError(2);if(!l.stream_ops.mmap)throw new p.ErrnoError(43);return l.stream_ops.mmap(l,a,d,u,Z,V)},msync:(l,a,d,u,Z)=>!l||!l.stream_ops.msync?0:l.stream_ops.msync(l,a,d,u,Z),munmap:l=>0,ioctl:(l,a,d)=>{if(!l.stream_ops.ioctl)throw new p.ErrnoError(59);return l.stream_ops.ioctl(l,a,d)},readFile:(l,a={})=>{if(a.flags=a.flags||0,a.encoding=a.encoding||"binary",a.encoding!=="utf8"&&a.encoding!=="binary")throw new Error('Invalid encoding type "'+a.encoding+'"');var d,u=p.open(l,a.flags),Z=p.stat(l),V=Z.size,R=new Uint8Array(V);return p.read(u,R,0,V,0),a.encoding==="utf8"?d=De(R,0):a.encoding==="binary"&&(d=R),p.close(u),d},writeFile:(l,a,d={})=>{d.flags=d.flags||577;var u=p.open(l,d.flags,d.mode);if(typeof a=="string"){var Z=new Uint8Array(Bn(a)+1),V=oe(a,Z,0,Z.length);p.write(u,Z,0,V,void 0,d.canOwn)}else if(ArrayBuffer.isView(a))p.write(u,a,0,a.byteLength,void 0,d.canOwn);else throw new Error("Unsupported data type");p.close(u)},cwd:()=>p.currentPath,chdir:l=>{var a=p.lookupPath(l,{follow:!0});if(a.node===null)throw new p.ErrnoError(44);if(!p.isDir(a.node.mode))throw new p.ErrnoError(54);var d=p.nodePermissions(a.node,"x");if(d)throw new p.ErrnoError(d);p.currentPath=a.path},createDefaultDirectories:()=>{p.mkdir("/tmp"),p.mkdir("/home"),p.mkdir("/home/web_user")},createDefaultDevices:()=>{p.mkdir("/dev"),p.registerDevice(p.makedev(1,3),{read:()=>0,write:(a,d,u,Z,V)=>Z}),p.mkdev("/dev/null",p.makedev(1,3)),rt.register(p.makedev(5,0),rt.default_tty_ops),rt.register(p.makedev(6,0),rt.default_tty1_ops),p.mkdev("/dev/tty",p.makedev(5,0)),p.mkdev("/dev/tty1",p.makedev(6,0));var l=Ci();p.createDevice("/dev","random",l),p.createDevice("/dev","urandom",l),p.mkdir("/dev/shm"),p.mkdir("/dev/shm/tmp")},createSpecialDirectories:()=>{p.mkdir("/proc");var l=p.mkdir("/proc/self");p.mkdir("/proc/self/fd"),p.mount({mount:()=>{var a=p.createNode(l,"fd",16895,73);return a.node_ops={lookup:(d,u)=>{var Z=+u,V=p.getStream(Z);if(!V)throw new p.ErrnoError(8);var R={parent:null,mount:{mountpoint:"fake"},node_ops:{readlink:()=>V.path}};return R.parent=R,R}},a}},{},"/proc/self/fd")},createStandardStreams:()=>{f.stdin?p.createDevice("/dev","stdin",f.stdin):p.symlink("/dev/tty","/dev/stdin"),f.stdout?p.createDevice("/dev","stdout",null,f.stdout):p.symlink("/dev/tty","/dev/stdout"),f.stderr?p.createDevice("/dev","stderr",null,f.stderr):p.symlink("/dev/tty1","/dev/stderr"),p.open("/dev/stdin",0),p.open("/dev/stdout",1),p.open("/dev/stderr",1)},ensureErrnoError:()=>{p.ErrnoError||(p.ErrnoError=function(a,d){this.node=d,this.setErrno=function(u){this.errno=u},this.setErrno(a),this.message="FS error"},p.ErrnoError.prototype=new Error,p.ErrnoError.prototype.constructor=p.ErrnoError,[44].forEach(l=>{p.genericErrors[l]=new p.ErrnoError(l),p.genericErrors[l].stack="<generic error, no stack>"}))},staticInit:()=>{p.ensureErrnoError(),p.nameTable=new Array(4096),p.mount(tt,{},"/"),p.createDefaultDirectories(),p.createDefaultDevices(),p.createSpecialDirectories(),p.filesystems={MEMFS:tt}},init:(l,a,d)=>{p.init.initialized=!0,p.ensureErrnoError(),f.stdin=l||f.stdin,f.stdout=a||f.stdout,f.stderr=d||f.stderr,p.createStandardStreams()},quit:()=>{p.init.initialized=!1,m();for(var l=0;l<p.streams.length;l++){var a=p.streams[l];!a||p.close(a)}},getMode:(l,a)=>{var d=0;return l&&(d|=365),a&&(d|=146),d},findObject:(l,a)=>{var d=p.analyzePath(l,a);return d.exists?d.object:null},analyzePath:(l,a)=>{try{var d=p.lookupPath(l,{follow:!a});l=d.path}catch{}var u={isRoot:!1,exists:!1,error:0,name:null,path:null,object:null,parentExists:!1,parentPath:null,parentObject:null};try{var d=p.lookupPath(l,{parent:!0});u.parentExists=!0,u.parentPath=d.path,u.parentObject=d.node,u.name=mt.basename(l),d=p.lookupPath(l,{follow:!a}),u.exists=!0,u.path=d.path,u.object=d.node,u.name=d.node.name,u.isRoot=d.path==="/"}catch(Z){u.error=Z.errno}return u},createPath:(l,a,d,u)=>{l=typeof l=="string"?l:p.getPath(l);for(var Z=a.split("/").reverse();Z.length;){var V=Z.pop();if(!!V){var R=mt.join2(l,V);try{p.mkdir(R)}catch{}l=R}}return R},createFile:(l,a,d,u,Z)=>{var V=mt.join2(typeof l=="string"?l:p.getPath(l),a),R=p.getMode(u,Z);return p.create(V,R)},createDataFile:(l,a,d,u,Z,V)=>{var R=a;l&&(l=typeof l=="string"?l:p.getPath(l),R=a?mt.join2(l,a):l);var g=p.getMode(u,Z),k=p.create(R,g);if(d){if(typeof d=="string"){for(var H=new Array(d.length),_=0,C=d.length;_<C;++_)H[_]=d.charCodeAt(_);d=H}p.chmod(k,g|146);var K=p.open(k,577);p.write(K,d,0,d.length,0,V),p.close(K),p.chmod(k,g)}return k},createDevice:(l,a,d,u)=>{var Z=mt.join2(typeof l=="string"?l:p.getPath(l),a),V=p.getMode(!!d,!!u);p.createDevice.major||(p.createDevice.major=64);var R=p.makedev(p.createDevice.major++,0);return p.registerDevice(R,{open:g=>{g.seekable=!1},close:g=>{u&&u.buffer&&u.buffer.length&&u(10)},read:(g,k,H,_,C)=>{for(var K=0,P=0;P<_;P++){var ct;try{ct=d()}catch{throw new p.ErrnoError(29)}if(ct===void 0&&K===0)throw new p.ErrnoError(6);if(ct==null)break;K++,k[H+P]=ct}return K&&(g.node.timestamp=Date.now()),K},write:(g,k,H,_,C)=>{for(var K=0;K<_;K++)try{u(k[H+K])}catch{throw new p.ErrnoError(29)}return _&&(g.node.timestamp=Date.now()),K}}),p.mkdev(Z,V,R)},forceLoadFile:l=>{if(l.isDevice||l.isFolder||l.link||l.contents)return!0;if(typeof XMLHttpRequest<"u")throw new Error("Lazy loading should have been performed (contents set) in createLazyFile, but it was not. Lazy loading only works in web workers. Use --embed-file or --preload-file in emcc on the main thread.");if(Re)try{l.contents=dl(Re(l.url),!0),l.usedBytes=l.contents.length}catch{throw new p.ErrnoError(29)}else throw new Error("Cannot load without read() or XMLHttpRequest.")},createLazyFile:(l,a,d,u,Z)=>{function V(){this.lengthKnown=!1,this.chunks=[]}if(V.prototype.get=function(K){if(!(K>this.length-1||K<0)){var P=K%this.chunkSize,ct=K/this.chunkSize|0;return this.getter(ct)[P]}},V.prototype.setDataGetter=function(K){this.getter=K},V.prototype.cacheLength=function(){var K=new XMLHttpRequest;if(K.open("HEAD",d,!1),K.send(null),!(K.status>=200&&K.status<300||K.status===304))throw new Error("Couldn't load "+d+". Status: "+K.status);var P=Number(K.getResponseHeader("Content-length")),ct,xt=(ct=K.getResponseHeader("Accept-Ranges"))&&ct==="bytes",Qt=(ct=K.getResponseHeader("Content-Encoding"))&&ct==="gzip",St=1024*1024;xt||(St=P);var B=(Ct,Mt)=>{if(Ct>Mt)throw new Error("invalid range ("+Ct+", "+Mt+") or no bytes requested!");if(Mt>P-1)throw new Error("only "+P+" bytes available! programmer error!");var Lt=new XMLHttpRequest;if(Lt.open("GET",d,!1),P!==St&&Lt.setRequestHeader("Range","bytes="+Ct+"-"+Mt),Lt.responseType="arraybuffer",Lt.overrideMimeType&&Lt.overrideMimeType("text/plain; charset=x-user-defined"),Lt.send(null),!(Lt.status>=200&&Lt.status<300||Lt.status===304))throw new Error("Couldn't load "+d+". Status: "+Lt.status);return Lt.response!==void 0?new Uint8Array(Lt.response||[]):dl(Lt.responseText||"",!0)},A=this;A.setDataGetter(Ct=>{var Mt=Ct*St,Lt=(Ct+1)*St-1;if(Lt=Math.min(Lt,P-1),typeof A.chunks[Ct]>"u"&&(A.chunks[Ct]=B(Mt,Lt)),typeof A.chunks[Ct]>"u")throw new Error("doXHR failed!");return A.chunks[Ct]}),(Qt||!P)&&(St=P=1,P=this.getter(0).length,St=P,pe("LazyFiles on gzip forces download of the whole file when length is accessed")),this._length=P,this._chunkSize=St,this.lengthKnown=!0},typeof XMLHttpRequest<"u"){if(!vt)throw"Cannot do synchronous binary XHRs outside webworkers in modern browsers. Use --embed-file or --preload-file in emcc";var R=new V;Object.defineProperties(R,{length:{get:function(){return this.lengthKnown||this.cacheLength(),this._length}},chunkSize:{get:function(){return this.lengthKnown||this.cacheLength(),this._chunkSize}}});var g={isDevice:!1,contents:R}}else var g={isDevice:!1,url:d};var k=p.createFile(l,a,g,u,Z);g.contents?k.contents=g.contents:g.url&&(k.contents=null,k.url=g.url),Object.defineProperties(k,{usedBytes:{get:function(){return this.contents.length}}});var H={},_=Object.keys(k.stream_ops);return _.forEach(C=>{var K=k.stream_ops[C];H[C]=function(){return p.forceLoadFile(k),K.apply(null,arguments)}}),H.read=(C,K,P,ct,xt)=>{p.forceLoadFile(k);var Qt=C.node.contents;if(xt>=Qt.length)return 0;var St=Math.min(Qt.length-xt,ct);if(Qt.slice)for(var B=0;B<St;B++)K[P+B]=Qt[xt+B];else for(var B=0;B<St;B++)K[P+B]=Qt.get(xt+B);return St},k.stream_ops=H,k},createPreloadedFile:(l,a,d,u,Z,V,R,g,k,H)=>{var _=a?ge.resolve(mt.join2(l,a)):l;function C(K){function P(ct){H&&H(),g||p.createDataFile(l,a,ct,u,Z,k),V&&V(),Se()}Browser.handledByPreloadPlugin(K,_,P,()=>{R&&R(),Se()})||P(K)}Ml(),typeof d=="string"?tn(d,K=>C(K),R):C(d)},indexedDB:()=>window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB,DB_NAME:()=>"EM_FS_"+window.location.pathname,DB_VERSION:20,DB_STORE_NAME:"FILE_DATA",saveFilesToDB:(l,a,d)=>{a=a||(()=>{}),d=d||(()=>{});var u=p.indexedDB();try{var Z=u.open(p.DB_NAME(),p.DB_VERSION)}catch(V){return d(V)}Z.onupgradeneeded=()=>{pe("creating db");var V=Z.result;V.createObjectStore(p.DB_STORE_NAME)},Z.onsuccess=()=>{var V=Z.result,R=V.transaction([p.DB_STORE_NAME],"readwrite"),g=R.objectStore(p.DB_STORE_NAME),k=0,H=0,_=l.length;function C(){H==0?a():d()}l.forEach(K=>{var P=g.put(p.analyzePath(K).object.contents,K);P.onsuccess=()=>{k++,k+H==_&&C()},P.onerror=()=>{H++,k+H==_&&C()}}),R.onerror=d},Z.onerror=d},loadFilesFromDB:(l,a,d)=>{a=a||(()=>{}),d=d||(()=>{});var u=p.indexedDB();try{var Z=u.open(p.DB_NAME(),p.DB_VERSION)}catch(V){return d(V)}Z.onupgradeneeded=d,Z.onsuccess=()=>{var V=Z.result;try{var R=V.transaction([p.DB_STORE_NAME],"readonly")}catch(K){d(K);return}var g=R.objectStore(p.DB_STORE_NAME),k=0,H=0,_=l.length;function C(){H==0?a():d()}l.forEach(K=>{var P=g.get(K);P.onsuccess=()=>{p.analyzePath(K).exists&&p.unlink(K),p.createDataFile(mt.dirname(K),mt.basename(K),P.result,!0,!0,!0),k++,k+H==_&&C()},P.onerror=()=>{H++,k+H==_&&C()}}),R.onerror=d},Z.onerror=d}},at={DEFAULT_POLLMASK:5,calculateAt:function(l,a,d){if(mt.isAbs(a))return a;var u;if(l===-100)u=p.cwd();else{var Z=p.getStream(l);if(!Z)throw new p.ErrnoError(8);u=Z.path}if(a.length==0){if(!d)throw new p.ErrnoError(44);return u}return mt.join2(u,a)},doStat:function(l,a,d){try{var u=l(a)}catch(Z){if(Z&&Z.node&&mt.normalize(a)!==mt.normalize(p.getPath(Z.node)))return-54;throw Z}return X()[d>>2]=u.dev,X()[d+4>>2]=0,X()[d+8>>2]=u.ino,X()[d+12>>2]=u.mode,X()[d+16>>2]=u.nlink,X()[d+20>>2]=u.uid,X()[d+24>>2]=u.gid,X()[d+28>>2]=u.rdev,X()[d+32>>2]=0,Xe=[u.size>>>0,(le=u.size,+Math.abs(le)>=1?le>0?(Math.min(+Math.floor(le/4294967296),4294967295)|0)>>>0:~~+Math.ceil((le-+(~~le>>>0))/4294967296)>>>0:0)],X()[d+40>>2]=Xe[0],X()[d+44>>2]=Xe[1],X()[d+48>>2]=4096,X()[d+52>>2]=u.blocks,X()[d+56>>2]=u.atime.getTime()/1e3|0,X()[d+60>>2]=0,X()[d+64>>2]=u.mtime.getTime()/1e3|0,X()[d+68>>2]=0,X()[d+72>>2]=u.ctime.getTime()/1e3|0,X()[d+76>>2]=0,Xe=[u.ino>>>0,(le=u.ino,+Math.abs(le)>=1?le>0?(Math.min(+Math.floor(le/4294967296),4294967295)|0)>>>0:~~+Math.ceil((le-+(~~le>>>0))/4294967296)>>>0:0)],X()[d+80>>2]=Xe[0],X()[d+84>>2]=Xe[1],0},doMsync:function(l,a,d,u,Z){var V=c().slice(l,l+d);p.msync(a,V,Z,d,u)},varargs:void 0,get:function(){at.varargs+=4;var l=X()[at.varargs-4>>2];return l},getStr:function(l){var a=jt(l);return a},getStreamFromFD:function(l){var a=p.getStream(l);if(!a)throw new p.ErrnoError(8);return a}};function Io(l,a,d){if(q)return Et(3,1,l,a,d);at.varargs=d;try{var u=at.getStreamFromFD(l);switch(a){case 0:{var Z=at.get();if(Z<0)return-28;var V;return V=p.createStream(u,Z),V.fd}case 1:case 2:return 0;case 3:return u.flags;case 4:{var Z=at.get();return u.flags|=Z,0}case 5:{var Z=at.get(),R=0;return s()[Z+R>>1]=2,0}case 6:case 7:return 0;case 16:case 8:return-28;case 9:return Ol(28),-1;default:return-28}}catch(g){if(typeof p>"u"||!(g instanceof p.ErrnoError))throw g;return-g.errno}}function Ei(l,a){if(q)return Et(4,1,l,a);try{var d=at.getStreamFromFD(l);return at.doStat(p.stat,d.path,a)}catch(u){if(typeof p>"u"||!(u instanceof p.ErrnoError))throw u;return-u.errno}}function Mi(l,a,d){if(q)return Et(5,1,l,a,d);try{var u=d*4294967296+(a>>>0);return p.ftruncate(l,u),0}catch(Z){if(typeof p>"u"||!(Z instanceof p.ErrnoError))throw Z;return-Z.errno}}function Vc(l,a,d){if(q)return Et(6,1,l,a,d);at.varargs=d;try{var u=at.getStreamFromFD(l);switch(a){case 21509:case 21505:return u.tty?0:-59;case 21510:case 21511:case 21512:case 21506:case 21507:case 21508:return u.tty?0:-59;case 21519:{if(!u.tty)return-59;var Z=at.get();return X()[Z>>2]=0,0}case 21520:return u.tty?-28:-59;case 21531:{var Z=at.get();return p.ioctl(u,a,Z)}case 21523:return u.tty?0:-59;case 21524:return u.tty?0:-59;default:ve("bad ioctl syscall "+a)}}catch(V){if(typeof p>"u"||!(V instanceof p.ErrnoError))throw V;return-V.errno}}function fc(l,a){if(q)return Et(7,1,l,a);try{return l=at.getStr(l),at.doStat(p.lstat,l,a)}catch(d){if(typeof p>"u"||!(d instanceof p.ErrnoError))throw d;return-d.errno}}function Dl(l,a,d,u){if(q)return Et(8,1,l,a,d,u);try{a=at.getStr(a);var Z=u&256,V=u&4096;return u=u&-4353,a=at.calculateAt(l,a,V),at.doStat(Z?p.lstat:p.stat,a,d)}catch(R){if(typeof p>"u"||!(R instanceof p.ErrnoError))throw R;return-R.errno}}function Al(l,a,d,u){if(q)return Et(9,1,l,a,d,u);at.varargs=u;try{a=at.getStr(a),a=at.calculateAt(l,a);var Z=u?at.get():0;return p.open(a,d,Z).fd}catch(V){if(typeof p>"u"||!(V instanceof p.ErrnoError))throw V;return-V.errno}}function $l(l,a,d,u){if(q)return Et(10,1,l,a,d,u);try{return a=at.getStr(a),u=at.getStr(u),a=at.calculateAt(l,a),u=at.calculateAt(d,u),p.rename(a,u),0}catch(Z){if(typeof p>"u"||!(Z instanceof p.ErrnoError))throw Z;return-Z.errno}}function Gc(l,a){if(q)return Et(11,1,l,a);try{return l=at.getStr(l),at.doStat(p.stat,l,a)}catch(d){if(typeof p>"u"||!(d instanceof p.ErrnoError))throw d;return-d.errno}}function Rc(l,a,d){if(q)return Et(12,1,l,a,d);try{return a=at.getStr(a),a=at.calculateAt(l,a),d===0?p.unlink(a):d===512?p.rmdir(a):ve("Invalid flags passed to unlinkat"),0}catch(u){if(typeof p>"u"||!(u instanceof p.ErrnoError))throw u;return-u.errno}}function mi(l){}var Pi="To use dlopen, you need enable dynamic linking, see https://github.com/emscripten-core/emscripten/wiki/Linking";function ui(l,a){ve(Pi)}function Jo(l,a){ve(Pi)}function ko(l,a,d,u,Z){}function vn(l){switch(l){case 1:return 0;case 2:return 1;case 4:return 2;case 8:return 3;default:throw new TypeError("Unknown type size: "+l)}}function No(){for(var l=new Array(256),a=0;a<256;++a)l[a]=String.fromCharCode(a);vc=l}var vc=void 0;function We(l){for(var a="",d=l;c()[d];)a+=vc[c()[d++]];return a}var Ln={},Te={},ji={},Ho=48,wo=57;function ql(l){if(l===void 0)return"_unknown";l=l.replace(/[^a-zA-Z0-9_]/g,"$");var a=l.charCodeAt(0);return a>=Ho&&a<=wo?"_"+l:l}function tr(l,a){return l=ql(l),new Function("body","return function "+l+`() {
    "use strict";    return body.apply(this, arguments);
};
`)(a)}function Pe(l,a){var d=tr(a,function(u){this.name=a,this.message=u;var Z=new Error(u).stack;Z!==void 0&&(this.stack=this.toString()+`
`+Z.replace(/^Error(:[^\n]*)?\n/,""))});return d.prototype=Object.create(l.prototype),d.prototype.constructor=d,d.prototype.toString=function(){return this.message===void 0?this.name:this.name+": "+this.message},d}var gn=void 0;function pt(l){throw new gn(l)}var gc=void 0;function En(l){throw new gc(l)}function bi(l,a,d){l.forEach(function(g){ji[g]=a});function u(g){var k=d(g);k.length!==l.length&&En("Mismatched type converter count");for(var H=0;H<l.length;++H)en(l[H],k[H])}var Z=new Array(a.length),V=[],R=0;a.forEach((g,k)=>{Te.hasOwnProperty(g)?Z[k]=Te[g]:(V.push(g),Ln.hasOwnProperty(g)||(Ln[g]=[]),Ln[g].push(()=>{Z[k]=Te[g],++R,R===V.length&&u(Z)}))}),V.length===0&&u(Z)}function en(l,a,d={}){if(!("argPackAdvance"in a))throw new TypeError("registerType registeredInstance requires argPackAdvance");var u=a.name;if(l||pt('type "'+u+'" must have a positive integer typeid pointer'),Te.hasOwnProperty(l)){if(d.ignoreDuplicateRegistrations)return;pt("Cannot register type '"+u+"' twice")}if(Te[l]=a,delete ji[l],Ln.hasOwnProperty(l)){var Z=Ln[l];delete Ln[l],Z.forEach(V=>V())}}function xo(l,a,d,u,Z){var V=vn(d);a=We(a),en(l,{name:a,fromWireType:function(R){return!!R},toWireType:function(R,g){return g?u:Z},argPackAdvance:8,readValueFromPointer:function(R){var g;if(d===1)g=i();else if(d===2)g=s();else if(d===4)g=X();else throw new TypeError("Unknown boolean type size: "+a);return this.fromWireType(g[R>>V])},destructorFunction:null})}function Qi(l){if(!(this instanceof Ke)||!(l instanceof Ke))return!1;for(var a=this.$$.ptrType.registeredClass,d=this.$$.ptr,u=l.$$.ptrType.registeredClass,Z=l.$$.ptr;a.baseClass;)d=a.upcast(d),a=a.baseClass;for(;u.baseClass;)Z=u.upcast(Z),u=u.baseClass;return a===u&&d===Z}function So(l){return{count:l.count,deleteScheduled:l.deleteScheduled,preservePointerOnDelete:l.preservePointerOnDelete,ptr:l.ptr,ptrType:l.ptrType,smartPtr:l.smartPtr,smartPtrType:l.smartPtrType}}function er(l){function a(d){return d.$$.ptrType.registeredClass.name}pt(a(l)+" instance already deleted")}var nr=!1;function Yc(l){}function nn(l){l.smartPtr?l.smartPtrType.rawDestructor(l.smartPtr):l.ptrType.registeredClass.rawDestructor(l.ptr)}function Fc(l){l.count.value-=1;var a=l.count.value===0;a&&nn(l)}function Ic(l,a,d){if(a===d)return l;if(d.baseClass===void 0)return null;var u=Ic(l,a,d.baseClass);return u===null?null:d.downcast(u)}var Jc={};function To(){return Object.keys(hi).length}function Mn(){var l=[];for(var a in hi)hi.hasOwnProperty(a)&&l.push(hi[a]);return l}var Pn=[];function Oi(){for(;Pn.length;){var l=Pn.pop();l.$$.deleteScheduled=!1,l.delete()}}var Yn=void 0;function Uo(l){Yn=l,Pn.length&&Yn&&Yn(Oi)}function kc(){f.getInheritedInstanceCount=To,f.getLiveInheritedInstances=Mn,f.flushPendingDeletes=Oi,f.setDelayFunction=Uo}var hi={};function Ko(l,a){for(a===void 0&&pt("ptr should not be undefined");l.baseClass;)a=l.upcast(a),l=l.baseClass;return a}function zo(l,a){return a=Ko(l,a),hi[a]}function pi(l,a){(!a.ptrType||!a.ptr)&&En("makeClassHandle requires ptr and ptrType");var d=!!a.smartPtrType,u=!!a.smartPtr;return d!==u&&En("Both smartPtrType and smartPtr must be specified"),a.count={value:1},Fn(Object.create(l,{$$:{value:a}}))}function Bo(l){var a=this.getPointee(l);if(!a)return this.destructor(l),null;var d=zo(this.registeredClass,a);if(d!==void 0){if(d.$$.count.value===0)return d.$$.ptr=a,d.$$.smartPtr=l,d.clone();var u=d.clone();return this.destructor(l),u}function Z(){return this.isSmartPointer?pi(this.registeredClass.instancePrototype,{ptrType:this.pointeeType,ptr:a,smartPtrType:this,smartPtr:l}):pi(this.registeredClass.instancePrototype,{ptrType:this,ptr:l})}var V=this.registeredClass.getActualType(a),R=Jc[V];if(!R)return Z.call(this);var g;this.isConst?g=R.constPointerType:g=R.pointerType;var k=Ic(a,this.registeredClass,g.registeredClass);return k===null?Z.call(this):this.isSmartPointer?pi(g.registeredClass.instancePrototype,{ptrType:g,ptr:k,smartPtrType:this,smartPtr:l}):pi(g.registeredClass.instancePrototype,{ptrType:g,ptr:k})}function Fn(l){return typeof FinalizationRegistry>"u"?(Fn=a=>a,l):(nr=new FinalizationRegistry(a=>{Fc(a.$$)}),Fn=a=>{var d=a.$$,u=!!d.smartPtr;if(u){var Z={$$:d};nr.register(a,Z,a)}return a},Yc=a=>nr.unregister(a),Fn(l))}function Ue(){if(this.$$.ptr||er(this),this.$$.preservePointerOnDelete)return this.$$.count.value+=1,this;var l=Fn(Object.create(Object.getPrototypeOf(this),{$$:{value:So(this.$$)}}));return l.$$.count.value+=1,l.$$.deleteScheduled=!1,l}function Nc(){this.$$.ptr||er(this),this.$$.deleteScheduled&&!this.$$.preservePointerOnDelete&&pt("Object already scheduled for deletion"),Yc(this),Fc(this.$$),this.$$.preservePointerOnDelete||(this.$$.smartPtr=void 0,this.$$.ptr=void 0)}function _o(){return!this.$$.ptr}function Co(){return this.$$.ptr||er(this),this.$$.deleteScheduled&&!this.$$.preservePointerOnDelete&&pt("Object already scheduled for deletion"),Pn.push(this),Pn.length===1&&Yn&&Yn(Oi),this.$$.deleteScheduled=!0,this}function Lo(){Ke.prototype.isAliasOf=Qi,Ke.prototype.clone=Ue,Ke.prototype.delete=Nc,Ke.prototype.isDeleted=_o,Ke.prototype.deleteLater=Co}function Ke(){}function Hc(l,a,d){if(l[a].overloadTable===void 0){var u=l[a];l[a]=function(){return l[a].overloadTable.hasOwnProperty(arguments.length)||pt("Function '"+d+"' called with an invalid number of arguments ("+arguments.length+") - expects one of ("+l[a].overloadTable+")!"),l[a].overloadTable[arguments.length].apply(this,arguments)},l[a].overloadTable=[],l[a].overloadTable[u.argCount]=u}}function ir(l,a,d){f.hasOwnProperty(l)?((d===void 0||f[l].overloadTable!==void 0&&f[l].overloadTable[d]!==void 0)&&pt("Cannot register public name '"+l+"' twice"),Hc(f,l,l),f.hasOwnProperty(d)&&pt("Cannot register multiple overloads of a function with the same number of arguments ("+d+")!"),f[l].overloadTable[d]=a):(f[l]=a,d!==void 0&&(f[l].numArguments=d))}function Eo(l,a,d,u,Z,V,R,g){this.name=l,this.constructor=a,this.instancePrototype=d,this.rawDestructor=u,this.baseClass=Z,this.getActualType=V,this.upcast=R,this.downcast=g,this.pureVirtualFunctions=[]}function lr(l,a,d){for(;a!==d;)a.upcast||pt("Expected null or instance of "+d.name+", got an instance of "+a.name),l=a.upcast(l),a=a.baseClass;return l}function Mo(l,a){if(a===null)return this.isReference&&pt("null is not a valid "+this.name),0;a.$$||pt('Cannot pass "'+or(a)+'" as a '+this.name),a.$$.ptr||pt("Cannot pass deleted object as a pointer of type "+this.name);var d=a.$$.ptrType.registeredClass,u=lr(a.$$.ptr,d,this.registeredClass);return u}function Po(l,a){var d;if(a===null)return this.isReference&&pt("null is not a valid "+this.name),this.isSmartPointer?(d=this.rawConstructor(),l!==null&&l.push(this.rawDestructor,d),d):0;a.$$||pt('Cannot pass "'+or(a)+'" as a '+this.name),a.$$.ptr||pt("Cannot pass deleted object as a pointer of type "+this.name),!this.isConst&&a.$$.ptrType.isConst&&pt("Cannot convert argument of type "+(a.$$.smartPtrType?a.$$.smartPtrType.name:a.$$.ptrType.name)+" to parameter type "+this.name);var u=a.$$.ptrType.registeredClass;if(d=lr(a.$$.ptr,u,this.registeredClass),this.isSmartPointer)switch(a.$$.smartPtr===void 0&&pt("Passing raw pointer to smart pointer is illegal"),this.sharingPolicy){case 0:a.$$.smartPtrType===this?d=a.$$.smartPtr:pt("Cannot convert argument of type "+(a.$$.smartPtrType?a.$$.smartPtrType.name:a.$$.ptrType.name)+" to parameter type "+this.name);break;case 1:d=a.$$.smartPtr;break;case 2:if(a.$$.smartPtrType===this)d=a.$$.smartPtr;else{var Z=a.clone();d=this.rawShare(d,$i.toHandle(function(){Z.delete()})),l!==null&&l.push(this.rawDestructor,d)}break;default:pt("Unsupporting sharing policy")}return d}function jo(l,a){if(a===null)return this.isReference&&pt("null is not a valid "+this.name),0;a.$$||pt('Cannot pass "'+or(a)+'" as a '+this.name),a.$$.ptr||pt("Cannot pass deleted object as a pointer of type "+this.name),a.$$.ptrType.isConst&&pt("Cannot convert argument of type "+a.$$.ptrType.name+" to parameter type "+this.name);var d=a.$$.ptrType.registeredClass,u=lr(a.$$.ptr,d,this.registeredClass);return u}function Di(l){return this.fromWireType(F()[l>>2])}function Qo(l){return this.rawGetPointee&&(l=this.rawGetPointee(l)),l}function Oo(l){this.rawDestructor&&this.rawDestructor(l)}function Do(l){l!==null&&l.delete()}function Ao(){ln.prototype.getPointee=Qo,ln.prototype.destructor=Oo,ln.prototype.argPackAdvance=8,ln.prototype.readValueFromPointer=Di,ln.prototype.deleteObject=Do,ln.prototype.fromWireType=Bo}function ln(l,a,d,u,Z,V,R,g,k,H,_){this.name=l,this.registeredClass=a,this.isReference=d,this.isConst=u,this.isSmartPointer=Z,this.pointeeType=V,this.sharingPolicy=R,this.rawGetPointee=g,this.rawConstructor=k,this.rawShare=H,this.rawDestructor=_,!Z&&a.baseClass===void 0?u?(this.toWireType=Mo,this.destructorFunction=null):(this.toWireType=jo,this.destructorFunction=null):this.toWireType=Po}function $o(l,a,d){f.hasOwnProperty(l)||En("Replacing nonexistant public symbol"),f[l].overloadTable!==void 0&&d!==void 0?f[l].overloadTable[d]=a:(f[l]=a,f[l].argCount=d)}function qo(l,a,d){var u=f["dynCall_"+l];return d&&d.length?u.apply(null,[a].concat(d)):u.call(null,a)}function td(l,a,d){return l.includes("j")?qo(l,a,d):dt(a).apply(null,d)}function ed(l,a){var d=[];return function(){return d.length=0,Object.assign(d,arguments),td(l,a,d)}}function jn(l,a){l=We(l);function d(){return l.includes("j")?ed(l,a):dt(a)}var u=d();return typeof u!="function"&&pt("unknown function pointer with signature "+l+": "+a),u}var wc=void 0;function rr(l){var a=o(l),d=We(a);return xe(a),d}function Ai(l,a){var d=[],u={};function Z(V){if(!u[V]&&!Te[V]){if(ji[V]){ji[V].forEach(Z);return}d.push(V),u[V]=!0}}throw a.forEach(Z),new wc(l+": "+d.map(rr).join([", "]))}function nd(l,a,d,u,Z,V,R,g,k,H,_,C,K){_=We(_),V=jn(Z,V),g&&(g=jn(R,g)),H&&(H=jn(k,H)),K=jn(C,K);var P=ql(_);ir(P,function(){Ai("Cannot construct "+_+" due to unbound types",[u])}),bi([l,a,d],u?[u]:[],function(ct){ct=ct[0];var xt,Qt;u?(xt=ct.registeredClass,Qt=xt.instancePrototype):Qt=Ke.prototype;var St=tr(P,function(){if(Object.getPrototypeOf(this)!==B)throw new gn("Use 'new' to construct "+_);if(A.constructor_body===void 0)throw new gn(_+" has no accessible constructor");var ta=A.constructor_body[arguments.length];if(ta===void 0)throw new gn("Tried to invoke ctor of "+_+" with invalid number of parameters ("+arguments.length+") - expected ("+Object.keys(A.constructor_body).toString()+") parameters instead!");return ta.apply(this,arguments)}),B=Object.create(Qt,{constructor:{value:St}});St.prototype=B;var A=new Eo(_,St,B,K,xt,V,g,H),Ct=new ln(_,A,!0,!1,!1),Mt=new ln(_+"*",A,!1,!1,!1),Lt=new ln(_+" const*",A,!1,!0,!1);return Jc[l]={pointerType:Mt,constPointerType:Lt},$o(P,St),[Ct,Mt,Lt]})}function xc(l,a){for(var d=[],u=0;u<l;u++)d.push(X()[(a>>2)+u]);return d}function id(l){for(;l.length;){var a=l.pop(),d=l.pop();d(a)}}function cr(l,a,d,u,Z,V){Mr(a>0);var R=xc(a,d);Z=jn(u,Z),bi([],[l],function(g){g=g[0];var k="constructor "+g.name;if(g.registeredClass.constructor_body===void 0&&(g.registeredClass.constructor_body=[]),g.registeredClass.constructor_body[a-1]!==void 0)throw new gn("Cannot register multiple constructors with identical number of parameters ("+(a-1)+") for class '"+g.name+"'! Overload resolution is currently only performed using the parameter count, not actual type info!");return g.registeredClass.constructor_body[a-1]=()=>{Ai("Cannot construct "+g.name+" due to unbound types",R)},bi([],R,function(H){return H.splice(1,0,null),g.registeredClass.constructor_body[a-1]=Qn(k,H,null,Z,V),[]}),[]})}function ld(l,a){if(!(l instanceof Function))throw new TypeError("new_ called with constructor type "+typeof l+" which is not a function");var d=tr(l.name||"unknownFunctionName",function(){});d.prototype=l.prototype;var u=new d,Z=l.apply(u,a);return Z instanceof Object?Z:u}function Qn(l,a,d,u,Z){var V=a.length;V<2&&pt("argTypes array size mismatch! Must at least get return value and 'this' types!");for(var R=a[1]!==null&&d!==null,g=!1,k=1;k<a.length;++k)if(a[k]!==null&&a[k].destructorFunction===void 0){g=!0;break}for(var H=a[0].name!=="void",_="",C="",k=0;k<V-2;++k)_+=(k!==0?", ":"")+"arg"+k,C+=(k!==0?", ":"")+"arg"+k+"Wired";var K="return function "+ql(l)+"("+_+`) {
if (arguments.length !== `+(V-2)+`) {
throwBindingError('function `+l+" called with ' + arguments.length + ' arguments, expected "+(V-2)+` args!');
}
`;g&&(K+=`var destructors = [];
`);var P=g?"destructors":"null",ct=["throwBindingError","invoker","fn","runDestructors","retType","classParam"],xt=[pt,u,Z,id,a[0],a[1]];R&&(K+="var thisWired = classParam.toWireType("+P+`, this);
`);for(var k=0;k<V-2;++k)K+="var arg"+k+"Wired = argType"+k+".toWireType("+P+", arg"+k+"); // "+a[k+2].name+`
`,ct.push("argType"+k),xt.push(a[k+2]);if(R&&(C="thisWired"+(C.length>0?", ":"")+C),K+=(H?"var rv = ":"")+"invoker(fn"+(C.length>0?", ":"")+C+`);
`,g)K+=`runDestructors(destructors);
`;else for(var k=R?1:2;k<a.length;++k){var Qt=k===1?"thisWired":"arg"+(k-2)+"Wired";a[k].destructorFunction!==null&&(K+=Qt+"_dtor("+Qt+"); // "+a[k].name+`
`,ct.push(Qt+"_dtor"),xt.push(a[k].destructorFunction))}H&&(K+=`var ret = retType.fromWireType(rv);
return ret;
`),K+=`}
`,ct.push(K);var St=ld(Function,ct).apply(null,xt);return St}function rd(l,a,d,u,Z,V,R,g){var k=xc(d,u);a=We(a),V=jn(Z,V),bi([],[l],function(H){H=H[0];var _=H.name+"."+a;a.startsWith("@@")&&(a=Symbol[a.substring(2)]),g&&H.registeredClass.pureVirtualFunctions.push(a);function C(){Ai("Cannot call "+_+" due to unbound types",k)}var K=H.registeredClass.instancePrototype,P=K[a];return P===void 0||P.overloadTable===void 0&&P.className!==H.name&&P.argCount===d-2?(C.argCount=d-2,C.className=H.name,K[a]=C):(Hc(K,a,_),K[a].overloadTable[d-2]=C),bi([],k,function(ct){var xt=Qn(_,ct,H,V,R);return K[a].overloadTable===void 0?(xt.argCount=d-2,K[a]=xt):K[a].overloadTable[d-2]=xt,[]}),[]})}var ar=[],ze=[{},{value:void 0},{value:null},{value:!0},{value:!1}];function Sc(l){l>4&&--ze[l].refcount===0&&(ze[l]=void 0,ar.push(l))}function cd(){for(var l=0,a=5;a<ze.length;++a)ze[a]!==void 0&&++l;return l}function ad(){for(var l=5;l<ze.length;++l)if(ze[l]!==void 0)return ze[l];return null}function od(){f.count_emval_handles=cd,f.get_first_emval=ad}var $i={toValue:l=>(l||pt("Cannot use deleted val. handle = "+l),ze[l].value),toHandle:l=>{switch(l){case void 0:return 1;case null:return 2;case!0:return 3;case!1:return 4;default:{var a=ar.length?ar.pop():ze.length;return ze[a]={refcount:1,value:l},a}}}};function dd(l,a){a=We(a),en(l,{name:a,fromWireType:function(d){var u=$i.toValue(d);return Sc(d),u},toWireType:function(d,u){return $i.toHandle(u)},argPackAdvance:8,readValueFromPointer:Di,destructorFunction:null})}function or(l){if(l===null)return"null";var a=typeof l;return a==="object"||a==="array"||a==="function"?l.toString():""+l}function sd(l,a){switch(a){case 2:return function(d){return this.fromWireType(U()[d>>2])};case 3:return function(d){return this.fromWireType(E()[d>>3])};default:throw new TypeError("Unknown float type: "+l)}}function qi(l,a,d){var u=vn(d);a=We(a),en(l,{name:a,fromWireType:function(Z){return Z},toWireType:function(Z,V){return V},argPackAdvance:8,readValueFromPointer:sd(a,u),destructorFunction:null})}function md(l,a,d){switch(a){case 0:return d?function(Z){return i()[Z]}:function(Z){return c()[Z]};case 1:return d?function(Z){return s()[Z>>1]}:function(Z){return b()[Z>>1]};case 2:return d?function(Z){return X()[Z>>2]}:function(Z){return F()[Z>>2]};default:throw new TypeError("Unknown integer type: "+l)}}function tl(l,a,d,u,Z){a=We(a);var V=vn(d),R=C=>C;if(u===0){var g=32-8*d;R=C=>C<<g>>>g}var k=a.includes("unsigned"),H=(C,K)=>{},_;k?_=function(C,K){return H(K,this.name),K>>>0}:_=function(C,K){return H(K,this.name),K},en(l,{name:a,fromWireType:R,toWireType:_,argPackAdvance:8,readValueFromPointer:md(a,V,u!==0),destructorFunction:null})}function ud(l,a,d){var u=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array],Z=u[a];function V(R){R=R>>2;var g=F(),k=g[R],H=g[R+1];return new Z(ne,H,k)}d=We(d),en(l,{name:d,fromWireType:V,argPackAdvance:8,readValueFromPointer:V},{ignoreDuplicateRegistrations:!0})}function Tc(l,a){a=We(a);var d=a==="std::string";en(l,{name:a,fromWireType:function(u){var Z=F()[u>>2],V;if(d)for(var R=u+4,g=0;g<=Z;++g){var k=u+4+g;if(g==Z||c()[k]==0){var H=k-R,_=jt(R,H);V===void 0?V=_:(V+=String.fromCharCode(0),V+=_),R=k+1}}else{for(var C=new Array(Z),g=0;g<Z;++g)C[g]=String.fromCharCode(c()[u+4+g]);V=C.join("")}return xe(u),V},toWireType:function(u,Z){Z instanceof ArrayBuffer&&(Z=new Uint8Array(Z));var V,R=typeof Z=="string";R||Z instanceof Uint8Array||Z instanceof Uint8ClampedArray||Z instanceof Int8Array||pt("Cannot pass non-string to std::string"),d&&R?V=()=>Bn(Z):V=()=>Z.length;var g=V(),k=ml(4+g+1);if(F()[k>>2]=g,d&&R)zn(Z,k+4,g+1);else if(R)for(var H=0;H<g;++H){var _=Z.charCodeAt(H);_>255&&(xe(k),pt("String has UTF-16 code units that do not fit in 8 bits")),c()[k+4+H]=_}else for(var H=0;H<g;++H)c()[k+4+H]=Z[H];return u!==null&&u.push(xe,k),k},argPackAdvance:8,readValueFromPointer:Di,destructorFunction:function(u){xe(u)}})}function Uc(l,a,d){d=We(d);var u,Z,V,R,g;a===2?(u=At,Z=jr,R=Qr,V=()=>b(),g=1):a===4&&(u=Or,Z=Dr,R=Ar,V=()=>F(),g=2),en(l,{name:d,fromWireType:function(k){for(var H=F()[k>>2],_=V(),C,K=k+4,P=0;P<=H;++P){var ct=k+4+P*a;if(P==H||_[ct>>g]==0){var xt=ct-K,Qt=u(K,xt);C===void 0?C=Qt:(C+=String.fromCharCode(0),C+=Qt),K=ct+a}}return xe(k),C},toWireType:function(k,H){typeof H!="string"&&pt("Cannot pass non-string to C++ string type "+d);var _=R(H),C=ml(4+_+a);return F()[C>>2]=_>>g,Z(H,C+4,_+a),k!==null&&k.push(xe,C),C},argPackAdvance:8,readValueFromPointer:Di,destructorFunction:function(k){xe(k)}})}function bd(l,a){a=We(a),en(l,{isVoid:!0,name:a,argPackAdvance:0,fromWireType:function(){},toWireType:function(d,u){}})}function hd(){return Date.now()}function pd(){return 2097152}var Kc=!0;function el(){return Kc}function On(l){Atomics.store(X(),l>>2,1),ul()&&v(l),Atomics.compareExchange(X(),l>>2,1,0)}f.executeNotifiedProxyingQueue=On;function nl(l,a,d,u){if(l==a)setTimeout(()=>On(u));else if(q)postMessage({targetThread:l,cmd:"processProxyingQueue",queue:u});else{var Z=$.pthreads[l],V=Z&&Z.worker;if(!V)return;V.postMessage({cmd:"processProxyingQueue",queue:u})}return 1}function Zd(l,a,d){return-1}function il(l){l>4&&(ze[l].refcount+=1)}function je(l,a){var d=Te[l];return d===void 0&&pt(a+" has unknown type "+rr(l)),d}function zc(l,a){l=je(l,"_emval_take_value");var d=l.readValueFromPointer(a);return $i.toHandle(d)}function dr(l,a,d,u,Z,V,R,g){if(q)return Et(13,1,l,a,d,u,Z,V,R,g);try{var k=p.getStream(Z);if(!k)return-8;var H=p.mmap(k,l,a,V,d,u),_=H.ptr;return X()[R>>2]=H.allocated,_}catch(C){if(typeof p>"u"||!(C instanceof p.ErrnoError))throw C;return-C.errno}}function sr(l,a,d,u,Z,V){if(q)return Et(14,1,l,a,d,u,Z,V);try{var R=p.getStream(Z);R&&(d&2&&at.doMsync(l,R,a,u,V),p.munmap(R))}catch(g){if(typeof p>"u"||!(g instanceof p.ErrnoError))throw g;return-g.errno}}function Bc(){ve("")}function bt(){vt||ye("Blocking on the main thread is very dangerous, see https://emscripten.org/docs/porting/pthreads.html#blocking-on-the-main-browser-thread")}function ht(){return 2147483648}var ut;q?ut=()=>performance.now()-f.__performance_now_clock_drift:ut=()=>performance.now();function mr(l,a,d){c().copyWithin(l,a,a+d)}function _c(){return navigator.hardwareConcurrency}function Et(l,a){var d=arguments.length-2,u=arguments;return mc(function(){for(var Z=d,V=T(Z*8),R=V>>3,g=0;g<d;g++){var k=u[2+g];E()[R+g]=k}return G(l,Z,V,a)})}var ll=[];function yd(l,a,d){ll.length=a;for(var u=d>>3,Z=0;Z<a;Z++)ll[Z]=E()[u+Z];var V=l<0,R=V?po[-l-1]:kd[l];return R.apply(null,ll)}function Xd(l){try{return gt.grow(l-ne.byteLength+65535>>>16),Ee(gt.buffer),1}catch{}}function Wd(l){var a=c().length;if(l=l>>>0,l<=a)return!1;var d=ht();if(l>d)return!1;let u=(k,H)=>k+(H-k%H)%H;for(var Z=1;Z<=4;Z*=2){var V=a*(1+.2/Z);V=Math.min(V,l+100663296);var R=Math.min(d,u(Math.max(l,V),65536)),g=Xd(R);if(g)return!0}return!1}function Vd(){throw"unwind"}var ur={};function fd(){return Rt||"./this.program"}function Zi(){if(!Zi.strings){var l=(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",a={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:l,_:fd()};for(var d in ur)ur[d]===void 0?delete a[d]:a[d]=ur[d];var u=[];for(var d in a)u.push(d+"="+a[d]);Zi.strings=u}return Zi.strings}function Cc(l,a){if(q)return Et(15,1,l,a);var d=0;return Zi().forEach(function(u,Z){var V=a+d;X()[l+Z*4>>2]=V,so(u,V),d+=u.length+1}),0}function Lc(l,a){if(q)return Et(16,1,l,a);var d=Zi();X()[l>>2]=d.length;var u=0;return d.forEach(function(Z){u+=Z.length+1}),X()[a>>2]=u,0}function Ec(l){if(q)return Et(17,1,l);try{var a=at.getStreamFromFD(l);return p.close(a),0}catch(d){if(typeof p>"u"||!(d instanceof p.ErrnoError))throw d;return d.errno}}function Gd(l,a,d,u){for(var Z=0,V=0;V<d;V++){var R=F()[a>>2],g=F()[a+4>>2];a+=8;var k=p.read(l,i(),R,g,u);if(k<0)return-1;if(Z+=k,k<g)break}return Z}function Mc(l,a,d,u){if(q)return Et(18,1,l,a,d,u);try{var Z=at.getStreamFromFD(l),V=Gd(Z,a,d);return X()[u>>2]=V,0}catch(R){if(typeof p>"u"||!(R instanceof p.ErrnoError))throw R;return R.errno}}function Pc(l,a,d,u,Z){if(q)return Et(19,1,l,a,d,u,Z);try{var V=at.getStreamFromFD(l),R=4294967296,g=d*R+(a>>>0),k=9007199254740992;return g<=-k||g>=k?61:(p.llseek(V,g,u),Xe=[V.position>>>0,(le=V.position,+Math.abs(le)>=1?le>0?(Math.min(+Math.floor(le/4294967296),4294967295)|0)>>>0:~~+Math.ceil((le-+(~~le>>>0))/4294967296)>>>0:0)],X()[Z>>2]=Xe[0],X()[Z+4>>2]=Xe[1],V.getdents&&g===0&&u===0&&(V.getdents=null),0)}catch(H){if(typeof p>"u"||!(H instanceof p.ErrnoError))throw H;return H.errno}}function jc(l){if(q)return Et(20,1,l);try{var a=at.getStreamFromFD(l);return a.stream_ops&&a.stream_ops.fsync?-a.stream_ops.fsync(a):0}catch(d){if(typeof p>"u"||!(d instanceof p.ErrnoError))throw d;return d.errno}}function Rd(l,a,d,u){for(var Z=0,V=0;V<d;V++){var R=F()[a>>2],g=F()[a+4>>2];a+=8;var k=p.write(l,i(),R,g,u);if(k<0)return-1;Z+=k}return Z}function Qc(l,a,d,u){if(q)return Et(21,1,l,a,d,u);try{var Z=at.getStreamFromFD(l),V=Rd(Z,a,d);return X()[u>>2]=V,0}catch(R){if(typeof p>"u"||!(R instanceof p.ErrnoError))throw R;return R.errno}}function vd(){return sn()}function rl(l,a){rl.randomDevice||(rl.randomDevice=Ci());for(var d=0;d<a;d++)i()[l+d>>0]=rl.randomDevice();return 0}function gd(l){_t(l)}function cl(l){return l%4===0&&(l%100!==0||l%400===0)}function Yd(l,a){for(var d=0,u=0;u<=a;d+=l[u++]);return d}var Oc=[31,29,31,30,31,30,31,31,30,31,30,31],Dc=[31,28,31,30,31,30,31,31,30,31,30,31];function Fd(l,a){for(var d=new Date(l.getTime());a>0;){var u=cl(d.getFullYear()),Z=d.getMonth(),V=(u?Oc:Dc)[Z];if(a>V-d.getDate())a-=V-d.getDate()+1,d.setDate(1),Z<11?d.setMonth(Z+1):(d.setMonth(0),d.setFullYear(d.getFullYear()+1));else return d.setDate(d.getDate()+a),d}return d}function Id(l,a,d,u){var Z=X()[u+40>>2],V={tm_sec:X()[u>>2],tm_min:X()[u+4>>2],tm_hour:X()[u+8>>2],tm_mday:X()[u+12>>2],tm_mon:X()[u+16>>2],tm_year:X()[u+20>>2],tm_wday:X()[u+24>>2],tm_yday:X()[u+28>>2],tm_isdst:X()[u+32>>2],tm_gmtoff:X()[u+36>>2],tm_zone:Z?jt(Z):""},R=jt(d),g={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"};for(var k in g)R=R.replace(new RegExp(k,"g"),g[k]);var H=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],_=["January","February","March","April","May","June","July","August","September","October","November","December"];function C(B,A,Ct){for(var Mt=typeof B=="number"?B.toString():B||"";Mt.length<A;)Mt=Ct[0]+Mt;return Mt}function K(B,A){return C(B,A,"0")}function P(B,A){function Ct(Lt){return Lt<0?-1:Lt>0?1:0}var Mt;return(Mt=Ct(B.getFullYear()-A.getFullYear()))===0&&(Mt=Ct(B.getMonth()-A.getMonth()))===0&&(Mt=Ct(B.getDate()-A.getDate())),Mt}function ct(B){switch(B.getDay()){case 0:return new Date(B.getFullYear()-1,11,29);case 1:return B;case 2:return new Date(B.getFullYear(),0,3);case 3:return new Date(B.getFullYear(),0,2);case 4:return new Date(B.getFullYear(),0,1);case 5:return new Date(B.getFullYear()-1,11,31);case 6:return new Date(B.getFullYear()-1,11,30)}}function xt(B){var A=Fd(new Date(B.tm_year+1900,0,1),B.tm_yday),Ct=new Date(A.getFullYear(),0,4),Mt=new Date(A.getFullYear()+1,0,4),Lt=ct(Ct),ta=ct(Mt);return P(Lt,A)<=0?P(ta,A)<=0?A.getFullYear()+1:A.getFullYear():A.getFullYear()-1}var Qt={"%a":function(B){return H[B.tm_wday].substring(0,3)},"%A":function(B){return H[B.tm_wday]},"%b":function(B){return _[B.tm_mon].substring(0,3)},"%B":function(B){return _[B.tm_mon]},"%C":function(B){var A=B.tm_year+1900;return K(A/100|0,2)},"%d":function(B){return K(B.tm_mday,2)},"%e":function(B){return C(B.tm_mday,2," ")},"%g":function(B){return xt(B).toString().substring(2)},"%G":function(B){return xt(B)},"%H":function(B){return K(B.tm_hour,2)},"%I":function(B){var A=B.tm_hour;return A==0?A=12:A>12&&(A-=12),K(A,2)},"%j":function(B){return K(B.tm_mday+Yd(cl(B.tm_year+1900)?Oc:Dc,B.tm_mon-1),3)},"%m":function(B){return K(B.tm_mon+1,2)},"%M":function(B){return K(B.tm_min,2)},"%n":function(){return`
`},"%p":function(B){return B.tm_hour>=0&&B.tm_hour<12?"AM":"PM"},"%S":function(B){return K(B.tm_sec,2)},"%t":function(){return"	"},"%u":function(B){return B.tm_wday||7},"%U":function(B){var A=B.tm_yday+7-B.tm_wday;return K(Math.floor(A/7),2)},"%V":function(B){var A=Math.floor((B.tm_yday+7-(B.tm_wday+6)%7)/7);if((B.tm_wday+371-B.tm_yday-2)%7<=2&&A++,A){if(A==53){var Mt=(B.tm_wday+371-B.tm_yday)%7;Mt!=4&&(Mt!=3||!cl(B.tm_year))&&(A=1)}}else{A=52;var Ct=(B.tm_wday+7-B.tm_yday-1)%7;(Ct==4||Ct==5&&cl(B.tm_year%400-1))&&A++}return K(A,2)},"%w":function(B){return B.tm_wday},"%W":function(B){var A=B.tm_yday+7-(B.tm_wday+6)%7;return K(Math.floor(A/7),2)},"%y":function(B){return(B.tm_year+1900).toString().substring(2)},"%Y":function(B){return B.tm_year+1900},"%z":function(B){var A=B.tm_gmtoff,Ct=A>=0;return A=Math.abs(A)/60,A=A/60*100+A%60,(Ct?"+":"-")+String("0000"+A).slice(-4)},"%Z":function(B){return B.tm_zone},"%%":function(){return"%"}};R=R.replace(/%%/g,"\0\0");for(var k in Qt)R.includes(k)&&(R=R.replace(new RegExp(k,"g"),Qt[k](V)));R=R.replace(/\0\0/g,"%");var St=dl(R,!1);return St.length>a?0:($r(St,l),St.length-1)}function Jd(l,a,d,u){return Id(l,a,d,u)}$.init();var Ac=function(l,a,d,u){l||(l=this),this.parent=l,this.mount=l.mount,this.mounted=null,this.id=p.nextInode++,this.name=a,this.mode=d,this.node_ops={},this.stream_ops={},this.rdev=u},al=365,ol=146;Object.defineProperties(Ac.prototype,{read:{get:function(){return(this.mode&al)===al},set:function(l){l?this.mode|=al:this.mode&=~al}},write:{get:function(){return(this.mode&ol)===ol},set:function(l){l?this.mode|=ol:this.mode&=~ol}},isFolder:{get:function(){return p.isDir(this.mode)}},isDevice:{get:function(){return p.isChrdev(this.mode)}}}),p.FSNode=Ac,p.staticInit(),No(),gn=f.BindingError=Pe(Error,"BindingError"),gc=f.InternalError=Pe(Error,"InternalError"),Lo(),kc(),Ao(),wc=f.UnboundTypeError=Pe(Error,"UnboundTypeError"),od();var kd=[null,un,yc,Io,Ei,Mi,Vc,fc,Dl,Al,$l,Gc,Rc,dr,sr,Cc,Lc,Ec,Mc,Pc,jc,Qc];function dl(l,a,d){var u=d>0?d:Bn(l)+1,Z=new Array(u),V=oe(l,Z,0,Z.length);return a&&(Z.length=V),Z}var sl={b:fo,n:y,u:Go,la:Ro,R:vo,x:hc,e:Yo,j:Fo,s:uc,Q:Ql,aa:pc,ka:Zc,r:we,ma:Cn,wa:Rn,S:_i,ra:Xc,f:go,Fa:Ei,ea:Mi,Ca:fc,Da:Dl,Ha:Al,qa:$l,Ea:Gc,oa:Rc,Ka:mi,W:ui,La:Jo,fa:ko,Na:xo,Xa:nd,Wa:cr,y:rd,Ma:dd,Z:qi,A:tl,t:ud,Y:Tc,L:Uc,Oa:bd,V:hd,sa:pd,Ja:el,ta:nl,ya:Zd,Sa:Sc,ia:il,I:zc,ua:dr,va:sr,d:Bc,T:bt,pa:ht,w:ut,Ga:mr,_:_c,xa:yd,na:Wd,Ia:Vd,za:Cc,Aa:Lc,$:sc,X:Ec,U:Mc,Va:Pc,Ba:jc,K:Qc,c:vd,ga:rl,N:op,Ra:Mh,O:ap,q:bl,g:z,Pa:lp,h:O,m:wt,o:ep,ja:rp,E:Oh,z:Ph,P:cp,H:sp,Ua:bp,Ta:hp,l:Dh,k:Jt,i:kt,C:qh,M:np,p:Eh,Qa:$h,J:ip,ca:Ah,da:jh,v:dp,F:Qh,ba:tp,D:mp,G:up,a:gt||f.wasmMemory,B:gd,ha:Jd};oc(),f.___wasm_call_ctors=function(){return(f.___wasm_call_ctors=f.asm.Ya).apply(null,arguments)};var ml=f._malloc=function(){return(ml=f._malloc=f.asm._a).apply(null,arguments)},xe=f._free=function(){return(xe=f._free=f.asm.$a).apply(null,arguments)},$c=f.___errno_location=function(){return($c=f.___errno_location=f.asm.ab).apply(null,arguments)},ul=f._pthread_self=function(){return(ul=f._pthread_self=f.asm.bb).apply(null,arguments)};f._emscripten_tls_init=function(){return(f._emscripten_tls_init=f.asm.cb).apply(null,arguments)};var r=f._emscripten_builtin_memalign=function(){return(r=f._emscripten_builtin_memalign=f.asm.db).apply(null,arguments)},o=f.___getTypeName=function(){return(o=f.___getTypeName=f.asm.eb).apply(null,arguments)};f.___embind_register_native_and_builtin_types=function(){return(f.___embind_register_native_and_builtin_types=f.asm.fb).apply(null,arguments)};var m=f.___stdio_exit=function(){return(m=f.___stdio_exit=f.asm.gb).apply(null,arguments)},h=f.___funcs_on_exit=function(){return(h=f.___funcs_on_exit=f.asm.hb).apply(null,arguments)},W=f.__emscripten_thread_init=function(){return(W=f.__emscripten_thread_init=f.asm.ib).apply(null,arguments)};f.__emscripten_thread_crashed=function(){return(f.__emscripten_thread_crashed=f.asm.jb).apply(null,arguments)};var G=f._emscripten_run_in_main_runtime_thread_js=function(){return(G=f._emscripten_run_in_main_runtime_thread_js=f.asm.kb).apply(null,arguments)},v=f.__emscripten_proxy_execute_task_queue=function(){return(v=f.__emscripten_proxy_execute_task_queue=f.asm.lb).apply(null,arguments)},Y=f.__emscripten_thread_free_data=function(){return(Y=f.__emscripten_thread_free_data=f.asm.mb).apply(null,arguments)};f.__emscripten_thread_exit=function(){return(f.__emscripten_thread_exit=f.asm.nb).apply(null,arguments)};var I=f._setThrew=function(){return(I=f._setThrew=f.asm.ob).apply(null,arguments)},N=f._emscripten_stack_set_limits=function(){return(N=f._emscripten_stack_set_limits=f.asm.pb).apply(null,arguments)},S=f.stackSave=function(){return(S=f.stackSave=f.asm.qb).apply(null,arguments)},x=f.stackRestore=function(){return(x=f.stackRestore=f.asm.rb).apply(null,arguments)},T=f.stackAlloc=function(){return(T=f.stackAlloc=f.asm.sb).apply(null,arguments)},M=f.___cxa_can_catch=function(){return(M=f.___cxa_can_catch=f.asm.tb).apply(null,arguments)},nt=f.___cxa_is_pointer_type=function(){return(nt=f.___cxa_is_pointer_type=f.asm.ub).apply(null,arguments)};f.dynCall_iiiij=function(){return(f.dynCall_iiiij=f.asm.vb).apply(null,arguments)},f.dynCall_jii=function(){return(f.dynCall_jii=f.asm.wb).apply(null,arguments)},f.dynCall_jjj=function(){return(f.dynCall_jjj=f.asm.xb).apply(null,arguments)},f.dynCall_jji=function(){return(f.dynCall_jji=f.asm.yb).apply(null,arguments)},f.dynCall_jiii=function(){return(f.dynCall_jiii=f.asm.zb).apply(null,arguments)},f.dynCall_iiiijj=function(){return(f.dynCall_iiiijj=f.asm.Ab).apply(null,arguments)},f.dynCall_viijj=function(){return(f.dynCall_viijj=f.asm.Bb).apply(null,arguments)},f.dynCall_viiijjjj=function(){return(f.dynCall_viiijjjj=f.asm.Cb).apply(null,arguments)},f.dynCall_iijjiiii=function(){return(f.dynCall_iijjiiii=f.asm.Db).apply(null,arguments)},f.dynCall_jiji=function(){return(f.dynCall_jiji=f.asm.Eb).apply(null,arguments)};var Yt=f.dynCall_j=function(){return(Yt=f.dynCall_j=f.asm.Fb).apply(null,arguments)};f.dynCall_viijii=function(){return(f.dynCall_viijii=f.asm.Gb).apply(null,arguments)};var Ht=f.dynCall_jiiii=function(){return(Ht=f.dynCall_jiiii=f.asm.Hb).apply(null,arguments)};f.dynCall_iiiiij=function(){return(f.dynCall_iiiiij=f.asm.Ib).apply(null,arguments)},f.dynCall_iiiiijj=function(){return(f.dynCall_iiiiijj=f.asm.Jb).apply(null,arguments)},f.dynCall_iiiiiijj=function(){return(f.dynCall_iiiiiijj=f.asm.Kb).apply(null,arguments)};var Ft=f.__emscripten_allow_main_runtime_queued_calls=240356;function z(l,a){var d=S();try{return dt(l)(a)}catch(u){if(x(d),u!==u+0)throw u;I(1,0)}}function O(l,a,d){var u=S();try{return dt(l)(a,d)}catch(Z){if(x(u),Z!==Z+0)throw Z;I(1,0)}}function Jt(l,a){var d=S();try{dt(l)(a)}catch(u){if(x(d),u!==u+0)throw u;I(1,0)}}function wt(l,a,d,u){var Z=S();try{return dt(l)(a,d,u)}catch(V){if(x(Z),V!==V+0)throw V;I(1,0)}}function kt(l,a,d){var u=S();try{dt(l)(a,d)}catch(Z){if(x(u),Z!==Z+0)throw Z;I(1,0)}}function bl(l){var a=S();try{return dt(l)()}catch(d){if(x(a),d!==d+0)throw d;I(1,0)}}function Eh(l,a,d,u){var Z=S();try{dt(l)(a,d,u)}catch(V){if(x(Z),V!==V+0)throw V;I(1,0)}}function Mh(l,a){var d=S();try{return dt(l)(a)}catch(u){if(x(d),u!==u+0)throw u;I(1,0)}}function Ph(l,a,d,u,Z,V,R){var g=S();try{return dt(l)(a,d,u,Z,V,R)}catch(k){if(x(g),k!==k+0)throw k;I(1,0)}}function jh(l,a,d,u,Z,V){var R=S();try{dt(l)(a,d,u,Z,V)}catch(g){if(x(R),g!==g+0)throw g;I(1,0)}}function Qh(l,a,d,u,Z,V,R,g,k,H){var _=S();try{dt(l)(a,d,u,Z,V,R,g,k,H)}catch(C){if(x(_),C!==C+0)throw C;I(1,0)}}function Oh(l,a,d,u,Z,V){var R=S();try{return dt(l)(a,d,u,Z,V)}catch(g){if(x(R),g!==g+0)throw g;I(1,0)}}function Dh(l){var a=S();try{dt(l)()}catch(d){if(x(a),d!==d+0)throw d;I(1,0)}}function Ah(l,a,d,u,Z,V,R){var g=S();try{dt(l)(a,d,u,Z,V,R)}catch(k){if(x(g),k!==k+0)throw k;I(1,0)}}function $h(l,a,d,u,Z,V,R,g){var k=S();try{dt(l)(a,d,u,Z,V,R,g)}catch(H){if(x(k),H!==H+0)throw H;I(1,0)}}function qh(l,a,d,u){var Z=S();try{dt(l)(a,d,u)}catch(V){if(x(Z),V!==V+0)throw V;I(1,0)}}function tp(l,a,d,u,Z,V,R,g,k){var H=S();try{dt(l)(a,d,u,Z,V,R,g,k)}catch(_){if(x(H),_!==_+0)throw _;I(1,0)}}function ep(l,a,d,u,Z){var V=S();try{return dt(l)(a,d,u,Z)}catch(R){if(x(V),R!==R+0)throw R;I(1,0)}}function np(l,a,d,u,Z){var V=S();try{dt(l)(a,d,u,Z)}catch(R){if(x(V),R!==R+0)throw R;I(1,0)}}function ip(l,a,d,u,Z){var V=S();try{dt(l)(a,d,u,Z)}catch(R){if(x(V),R!==R+0)throw R;I(1,0)}}function lp(l,a,d,u,Z){var V=S();try{return dt(l)(a,d,u,Z)}catch(R){if(x(V),R!==R+0)throw R;I(1,0)}}function rp(l,a,d,u,Z,V){var R=S();try{return dt(l)(a,d,u,Z,V)}catch(g){if(x(R),g!==g+0)throw g;I(1,0)}}function cp(l,a,d,u,Z,V,R,g){var k=S();try{return dt(l)(a,d,u,Z,V,R,g)}catch(H){if(x(k),H!==H+0)throw H;I(1,0)}}function ap(l,a,d,u){var Z=S();try{return dt(l)(a,d,u)}catch(V){if(x(Z),V!==V+0)throw V;I(1,0)}}function op(l,a,d,u){var Z=S();try{return dt(l)(a,d,u)}catch(V){if(x(Z),V!==V+0)throw V;I(1,0)}}function dp(l,a,d,u,Z,V,R,g){var k=S();try{dt(l)(a,d,u,Z,V,R,g)}catch(H){if(x(k),H!==H+0)throw H;I(1,0)}}function sp(l,a,d,u,Z,V,R,g,k,H,_,C){var K=S();try{return dt(l)(a,d,u,Z,V,R,g,k,H,_,C)}catch(P){if(x(K),P!==P+0)throw P;I(1,0)}}function mp(l,a,d,u,Z,V,R,g,k,H,_){var C=S();try{dt(l)(a,d,u,Z,V,R,g,k,H,_)}catch(K){if(x(C),K!==K+0)throw K;I(1,0)}}function up(l,a,d,u,Z,V,R,g,k,H,_,C,K,P,ct,xt){var Qt=S();try{dt(l)(a,d,u,Z,V,R,g,k,H,_,C,K,P,ct,xt)}catch(St){if(x(Qt),St!==St+0)throw St;I(1,0)}}function bp(l){var a=S();try{return Yt(l)}catch(d){if(x(a),d!==d+0)throw d;I(1,0)}}function hp(l,a,d,u,Z){var V=S();try{return Ht(l,a,d,u,Z)}catch(R){if(x(V),R!==R+0)throw R;I(1,0)}}f.keepRuntimeAlive=Ti,f.wasmMemory=gt,f.ExitStatus=Nd,f.PThread=$;var qc;function Nd(l){this.name="ExitStatus",this.message="Program terminated with exit("+l+")",this.status=l}lt=function l(){qc||Hd(),qc||(lt=l)};function Hd(l){if(Me>0)return;if(q){Gt(f),El(),postMessage({cmd:"loaded"});return}if(Ne(),Me>0)return;function a(){qc||(qc=!0,f.calledRun=!0,!Cl&&(El(),Gt(f),f.onRuntimeInitialized&&f.onRuntimeInitialized(),ho()))}f.setStatus?(f.setStatus("Running..."),setTimeout(function(){setTimeout(function(){f.setStatus("")},1),a()},1)):a()}f.run=Hd;function pp(l,a){if(si=l,!a&&q)throw un(l),"unwind";Ti()||bo(),Zp(l)}function Zp(l){si=l,Ti()||($.terminateAllThreads(),f.onExit&&f.onExit(l),Cl=!0),Pt(l,new Nd(l))}if(f.preInit)for(typeof f.preInit=="function"&&(f.preInit=[f.preInit]);f.preInit.length>0;)f.preInit.pop()();return Hd(),f.ready}})();kh=nm}var PV=Object.defineProperty,jV=(n,t,e)=>t in n?PV(n,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):n[t]=e,Wt=(n,t,e)=>(jV(n,typeof t!="symbol"?t+"":t,e),e);class wn{}Wt(wn,"updates",{transformer_new:"New transformer",transformer_null:"Null transformer"}),Wt(wn,"errors",{transformer_none:"No transformers provided",transformer_start:"Cannot start transformer",transformer_transform:"Cannot transform frame",transformer_flush:"Cannot flush transformer",readable_null:"Readable is null",writable_null:"Writable is null"});const $n=new WeakMap,Ga=new WeakMap,fr=new WeakMap,Fs=Symbol("anyProducer"),Zu=Promise.resolve(),_a=Symbol("listenerAdded"),Ca=Symbol("listenerRemoved");let Pd=!1;function Xl(n){if(typeof n!="string"&&typeof n!="symbol")throw new TypeError("eventName must be a string or a symbol")}function oa(n){if(typeof n!="function")throw new TypeError("listener must be a function")}function Wl(n,t){const e=Ga.get(n);return e.has(t)||e.set(t,new Set),e.get(t)}function Gr(n,t){const e=typeof t=="string"||typeof t=="symbol"?t:Fs,i=fr.get(n);return i.has(e)||i.set(e,new Set),i.get(e)}function QV(n,t,e){const i=fr.get(n);if(i.has(t))for(const c of i.get(t))c.enqueue(e);if(i.has(Fs)){const c=Promise.all([t,e]);for(const s of i.get(Fs))s.enqueue(c)}}function yu(n,t){t=Array.isArray(t)?t:[t];let e=!1,i=()=>{},c=[];const s={enqueue(b){c.push(b),i()},finish(){e=!0,i()}};for(const b of t)Gr(n,b).add(s);return{async next(){return c?c.length===0?e?(c=void 0,this.next()):(await new Promise(b=>{i=b}),this.next()):{done:!1,value:await c.shift()}:{done:!0}},async return(b){c=void 0;for(const X of t)Gr(n,X).delete(s);return i(),arguments.length>0?{done:!0,value:await b}:{done:!0}},[Symbol.asyncIterator](){return this}}}function Xu(n){if(n===void 0)return Wu;if(!Array.isArray(n))throw new TypeError("`methodNames` must be an array of strings");for(const t of n)if(!Wu.includes(t))throw typeof t!="string"?new TypeError("`methodNames` element must be a string"):new Error(`${t} is not Emittery method`);return n}const jd=n=>n===_a||n===Ca;class Ji{static mixin(t,e){return e=Xu(e),i=>{if(typeof i!="function")throw new TypeError("`target` must be function");for(const b of e)if(i.prototype[b]!==void 0)throw new Error(`The property \`${b}\` already exists on \`target\``);function c(){return Object.defineProperty(this,t,{enumerable:!1,value:new Ji}),this[t]}Object.defineProperty(i.prototype,t,{enumerable:!1,get:c});const s=b=>function(...X){return this[t][b](...X)};for(const b of e)Object.defineProperty(i.prototype,b,{enumerable:!1,value:s(b)});return i}}static get isDebugEnabled(){if(typeof process!="object")return Pd;const{env:t}=process||{env:{}};return t.DEBUG==="emittery"||t.DEBUG==="*"||Pd}static set isDebugEnabled(t){Pd=t}constructor(t={}){$n.set(this,new Set),Ga.set(this,new Map),fr.set(this,new Map),this.debug=t.debug||{},this.debug.enabled===void 0&&(this.debug.enabled=!1),this.debug.logger||(this.debug.logger=(e,i,c,s)=>{try{s=JSON.stringify(s)}catch{s=`Object with the following keys failed to stringify: ${Object.keys(s).join(",")}`}typeof c=="symbol"&&(c=c.toString());const b=new Date,X=`${b.getHours()}:${b.getMinutes()}:${b.getSeconds()}.${b.getMilliseconds()}`;console.log(`[${X}][emittery:${e}][${i}] Event Name: ${c}
	data: ${s}`)})}logIfDebugEnabled(t,e,i){(Ji.isDebugEnabled||this.debug.enabled)&&this.debug.logger(t,this.debug.name,e,i)}on(t,e){oa(e),t=Array.isArray(t)?t:[t];for(const i of t)Xl(i),Wl(this,i).add(e),this.logIfDebugEnabled("subscribe",i,void 0),jd(i)||this.emit(_a,{eventName:i,listener:e});return this.off.bind(this,t,e)}off(t,e){oa(e),t=Array.isArray(t)?t:[t];for(const i of t)Xl(i),Wl(this,i).delete(e),this.logIfDebugEnabled("unsubscribe",i,void 0),jd(i)||this.emit(Ca,{eventName:i,listener:e})}once(t){return new Promise(e=>{const i=this.on(t,c=>{i(),e(c)})})}events(t){t=Array.isArray(t)?t:[t];for(const e of t)Xl(e);return yu(this,t)}async emit(t,e){Xl(t),this.logIfDebugEnabled("emit",t,e),QV(this,t,e);const i=Wl(this,t),c=$n.get(this),s=[...i],b=jd(t)?[]:[...c];await Zu,await Promise.all([...s.map(async X=>{if(i.has(X))return X(e)}),...b.map(async X=>{if(c.has(X))return X(t,e)})])}async emitSerial(t,e){Xl(t),this.logIfDebugEnabled("emitSerial",t,e);const i=Wl(this,t),c=$n.get(this),s=[...i],b=[...c];await Zu;for(const X of s)i.has(X)&&await X(e);for(const X of b)c.has(X)&&await X(t,e)}onAny(t){return oa(t),this.logIfDebugEnabled("subscribeAny",void 0,void 0),$n.get(this).add(t),this.emit(_a,{listener:t}),this.offAny.bind(this,t)}anyEvent(){return yu(this)}offAny(t){oa(t),this.logIfDebugEnabled("unsubscribeAny",void 0,void 0),this.emit(Ca,{listener:t}),$n.get(this).delete(t)}clearListeners(t){t=Array.isArray(t)?t:[t];for(const e of t)if(this.logIfDebugEnabled("clear",e,void 0),typeof e=="string"||typeof e=="symbol"){Wl(this,e).clear();const i=Gr(this,e);for(const c of i)c.finish();i.clear()}else{$n.get(this).clear();for(const i of Ga.get(this).values())i.clear();for(const i of fr.get(this).values()){for(const c of i)c.finish();i.clear()}}}listenerCount(t){t=Array.isArray(t)?t:[t];let e=0;for(const i of t){if(typeof i=="string"){e+=$n.get(this).size+Wl(this,i).size+Gr(this,i).size+Gr(this).size;continue}typeof i<"u"&&Xl(i),e+=$n.get(this).size;for(const c of Ga.get(this).values())e+=c.size;for(const c of fr.get(this).values())e+=c.size}return e}bindMethods(t,e){if(typeof t!="object"||t===null)throw new TypeError("`target` must be an object");e=Xu(e);for(const i of e){if(t[i]!==void 0)throw new Error(`The property \`${i}\` already exists on \`target\``);Object.defineProperty(t,i,{enumerable:!1,value:this[i].bind(this)})}}}const Wu=Object.getOwnPropertyNames(Ji.prototype).filter(n=>n!=="constructor");Object.defineProperty(Ji,"listenerAdded",{value:_a,writable:!1,enumerable:!0,configurable:!1});Object.defineProperty(Ji,"listenerRemoved",{value:Ca,writable:!1,enumerable:!0,configurable:!1});var im=Ji;function OV(n){return typeof n=="object"&&n!==null&&"message"in n&&typeof n.message=="string"}function DV(n){if(OV(n))return n;try{return new Error(JSON.stringify(n))}catch{return new Error(String(n))}}function Qd(n){return DV(n).message}var AV=Object.defineProperty,$V=(n,t,e)=>t in n?AV(n,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):n[t]=e,qV=(n,t,e)=>($V(n,typeof t!="symbol"?t+"":t,e),e);const tf="hlg.tokbox.com/prod/logging/vcp_webrtc",ef="https://",nf=1e4;let da;const lf=new Uint8Array(16);function rf(){if(!da&&(da=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!da))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return da(lf)}const fe=[];for(let n=0;n<256;++n)fe.push((n+256).toString(16).slice(1));function cf(n,t=0){return(fe[n[t+0]]+fe[n[t+1]]+fe[n[t+2]]+fe[n[t+3]]+"-"+fe[n[t+4]]+fe[n[t+5]]+"-"+fe[n[t+6]]+fe[n[t+7]]+"-"+fe[n[t+8]]+fe[n[t+9]]+"-"+fe[n[t+10]]+fe[n[t+11]]+fe[n[t+12]]+fe[n[t+13]]+fe[n[t+14]]+fe[n[t+15]]).toLowerCase()}const af=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),Vu={randomUUID:af};function of(n,t,e){if(Vu.randomUUID&&!t&&!n)return Vu.randomUUID();n=n||{};const i=n.random||(n.rng||rf)();if(i[6]=i[6]&15|64,i[8]=i[8]&63|128,t){e=e||0;for(let c=0;c<16;++c)t[e+c]=i[c];return t}return cf(i)}function lm(n,t){globalThis.vonage||(globalThis.vonage={}),globalThis.vonage.workerizer||(globalThis.vonage.workerizer={});let e=globalThis.vonage.workerizer;return e[n]||(e[n]=t),e[n]}const li=lm("globals",{});var Gi=(n=>(n.INIT="INIT",n.FORWARD="FORWARD",n.TERMINATE="TERMINATE",n.GLOBALS_SYNC="GLOBALS_SYNC",n))(Gi||{});function Nh(n){return[ImageBitmap,ReadableStream,WritableStream].some(t=>n instanceof t)}let df=0;function sf(n,t,e,i,c){const s=df++;return n.postMessage({id:s,type:t,functionName:e,args:i},i.filter(b=>Nh(b))),new Promise(b=>{c==null||c.set(s,b)})}function Cr(n,t){const{id:e,type:i}=n,c=Array.isArray(t)?t:[t];postMessage({id:e,type:i,result:t},c.filter(s=>Nh(s)))}const fu=lm("workerized",{});function Hh(){return typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope}async function mf(){if(Hh())Cr({type:Gi.GLOBALS_SYNC},li);else{const n=[];for(const t in fu){const{worker:e,resolvers:i}=fu[t].workerContext;e&&n.push(sf(e,Gi.GLOBALS_SYNC,"",[li],i))}await Promise.all(n)}}function La(n,t){if(Array.isArray(t))t.splice(0,t.length);else if(typeof t=="object")for(const e in t)delete t[e];for(const e in n)Array.isArray(n[e])?(t[e]=[],La(n[e],t[e])):typeof n[e]=="object"?(t[e]={},La(n[e],t[e])):t[e]=n[e]}async function uf(n,t){const{functionName:e,args:i}=n;if(!t.instance)throw"instance not initialized";if(!e)throw"missing function name to call";if(!t.instance[e])throw`undefined function [${e}] in class ${t.instance.constructor.workerId}`;Cr(n,await t.instance[e](...i!=null?i:[]))}const bf=lm("registeredWorkers",{});function hf(n,t){if(!n.args)throw"Missing className while initializing worker";const[e,i]=n.args,c=bf[e];if(c)t.instance=new c(n.args.slice(1));else throw`unknown worker class ${e}`;La(i,li),Cr(n,typeof t.instance!==void 0)}async function pf(n,t){const{args:e}=n;if(!t.instance)throw"instance not initialized";let i;t.instance.terminate&&(i=await t.instance.terminate(...e!=null?e:[])),Cr(n,i)}function Zf(n){if(!n.args)throw"Missing globals while syncing";La(n.args[0],li),Cr(n,{})}function yf(){const n={};onmessage=async t=>{const e=t.data;switch(e.type){case Gi.INIT:hf(e,n);break;case Gi.FORWARD:uf(e,n);break;case Gi.TERMINATE:pf(e,n);break;case Gi.GLOBALS_SYNC:Zf(e);break}}}Hh()&&yf();function Xf(n,t){return li[n]||(li[n]=t),[()=>li[n],async e=>{li[n]=e,await mf()}]}function Wf(n,t){return Xf(n,t)}const[Vf,NR]=Wf("metadata");function Od(){return Vf()}class rm{constructor(t){qV(this,"uuid",of()),this.config=t}async send(t){var e,i,c;const{appId:s,sourceType:b}=(e=Od())!=null?e:{};if(!s||!b)return"metadata missing";const X=new AbortController,F=setTimeout(()=>X.abort(),nf);return await((c=(i=this.config)==null?void 0:i.fetch)!=null?c:fetch)(this.getUrl(),{method:"POST",headers:this.getHeaders(),body:JSON.stringify(this.buildReport(t)),signal:X.signal}),clearTimeout(F),"success"}getUrl(){var t;let e=(t=Od().proxyUrl)!=null?t:ef;return e+=(e.at(-1)==="/"?"":"/")+tf,e}getHeaders(){return{"Content-Type":"application/json"}}buildReport(t){const e=Od();return{guid:this.uuid,...t,applicationId:e.appId,timestamp:Date.now(),proxyUrl:e.proxyUrl,source:e.sourceType}}}const Ra="2.0.3";class ff{constructor(t){Wt(this,"frameTransformedCount",0),Wt(this,"frameFromSourceCount",0),Wt(this,"startAt",0),Wt(this,"reporter"),this.config=t,this.reporter=new rm(t)}async onFrameFromSource(){this.frameFromSourceCount++}get fps(){const{startAt:t,frameFromSourceCount:e}=this,i=(Date.now()-t)/1e3;return e/i}async onFrameTransformed(t={},e=!1){this.startAt===0&&(this.startAt=Date.now()),this.frameTransformedCount++;const{startAt:i,frameTransformedCount:c,frameFromSourceCount:s}=this,b=Date.now(),X=(b-i)/1e3,F=c/X,U=s/X;return e||this.frameTransformedCount>=this.config.loggingIntervalFrameCount?(this.frameFromSourceCount=0,this.frameTransformedCount=0,this.startAt=b,this.reporter.config=this.config,this.reporter.send({...this.config.report,variation:"QoS",fps:U,transformedFps:F,framesTransformed:c,...t})):"success"}}var Is=(n=>(n.pipeline_ended="pipeline_ended",n.pipeline_ended_with_error="pipeline_ended_with_error",n.pipeline_started="pipeline_started",n.pipeline_started_with_error="pipeline_started_with_error",n.pipeline_restarted="pipeline_restarted",n.pipeline_restarted_with_error="pipeline_restarted_with_error",n))(Is||{});const Gf=500,Rf=.8;class vf extends im{constructor(t,e){super(),Wt(this,"reporter_",new rm),Wt(this,"reporterQos_",new ff({loggingIntervalFrameCount:Gf,report:{version:Ra}})),Wt(this,"transformerType_"),Wt(this,"transformer_"),Wt(this,"shouldStop_"),Wt(this,"isFlashed_"),Wt(this,"mediaTransformerQosReportStartTimestamp_"),Wt(this,"videoHeight_"),Wt(this,"videoWidth_"),Wt(this,"trackExpectedRate_"),Wt(this,"index_"),Wt(this,"controller_"),this.index_=e,this.transformer_=t,this.shouldStop_=!1,this.isFlashed_=!1,this.mediaTransformerQosReportStartTimestamp_=0,this.videoHeight_=0,this.videoWidth_=0,this.trackExpectedRate_=-1,this.transformerType_="Custom","getTransformerType"in t&&(this.transformerType_=t.getTransformerType()),this.report({variation:"Create"})}setTrackExpectedRate(t){this.trackExpectedRate_=t}async start(t){if(this.controller_=t,this.transformer_&&typeof this.transformer_.start=="function")try{await this.transformer_.start(t)}catch(e){this.report({message:wn.errors.transformer_start,variation:"Error",error:Qd(e)});const i={eventMetaData:{transformerIndex:this.index_},error:e,function:"start"};this.emit("error",i)}}async transform(t,e){var i,c,s,b;if(this.mediaTransformerQosReportStartTimestamp_===0&&(this.mediaTransformerQosReportStartTimestamp_=Date.now()),t instanceof VideoFrame&&(this.videoHeight_=(i=t==null?void 0:t.displayHeight)!=null?i:0,this.videoWidth_=(c=t==null?void 0:t.displayWidth)!=null?c:0),this.reporterQos_.onFrameFromSource(),this.transformer_)if(this.shouldStop_)console.warn("[Pipeline] flush from transform"),t.close(),this.flush(e),e.terminate();else{try{await((b=(s=this.transformer_).transform)==null?void 0:b.call(s,t,e)),this.reportQos()}catch(X){this.report({message:wn.errors.transformer_transform,variation:"Error",error:Qd(X)});const F={eventMetaData:{transformerIndex:this.index_},error:X,function:"transform"};this.emit("error",F)}if(this.trackExpectedRate_!=-1&&this.trackExpectedRate_*Rf>this.reporterQos_.fps){const X={eventMetaData:{transformerIndex:this.index_},warningType:"fps_drop",dropInfo:{requested:this.trackExpectedRate_,current:this.reporterQos_.fps}};this.emit("warn",X)}}}async flush(t){if(this.transformer_&&typeof this.transformer_.flush=="function"&&!this.isFlashed_){this.isFlashed_=!0;try{await this.transformer_.flush(t)}catch(e){this.report({message:wn.errors.transformer_flush,variation:"Error",error:Qd(e)});const i={eventMetaData:{transformerIndex:this.index_},error:e,function:"flush"};this.emit("error",i)}}this.reportQos(!0),this.report({variation:"Delete"})}stop(){console.log("[Pipeline] Stop stream."),this.controller_&&(this.flush(this.controller_),this.controller_.terminate()),this.shouldStop_=!0}report(t){this.reporter_.send({version:Ra,action:"MediaTransformer",transformerType:this.transformerType_,...t})}reportQos(t=!1){this.reporterQos_.config={...this.reporterQos_.config},this.reporterQos_.onFrameTransformed({version:Ra,action:"MediaTransformer",transformerType:this.transformerType_,videoWidth:this.videoWidth_,videoHeight:this.videoHeight_},t)}}class gf extends im{constructor(t){super(),Wt(this,"transformers_"),Wt(this,"trackExpectedRate_"),this.transformers_=[],this.trackExpectedRate_=-1;for(let e=0;e<t.length;e++){let i=new vf(t[e],e);i.on("error",c=>{this.emit("error",c)}),i.on("warn",c=>{this.emit("warn",c)}),this.transformers_.push(i)}}setTrackExpectedRate(t){this.trackExpectedRate_=t;for(let e of this.transformers_)e.setTrackExpectedRate(this.trackExpectedRate_)}async start(t,e){if(!this.transformers_||this.transformers_.length===0){console.log("[Pipeline] No transformers.");return}try{let i=t;for(let c of this.transformers_)t=t.pipeThrough(new TransformStream(c));t.pipeTo(e).then(async()=>{console.log("[Pipeline] Setup."),await e.abort(),await i.cancel(),this.emit("pipelineInfo","pipeline_ended")}).catch(async c=>{t.cancel().then(()=>{console.log("[Pipeline] Shutting down streams after abort.")}).catch(s=>{console.error("[Pipeline] Error from stream transform:",s)}),await e.abort(c),await i.cancel(c),this.emit("pipelineInfo","pipeline_ended_with_error")})}catch{this.emit("pipelineInfo","pipeline_started_with_error"),this.destroy();return}this.emit("pipelineInfo","pipeline_started"),console.log("[Pipeline] Pipeline started.")}async destroy(){console.log("[Pipeline] Destroying Pipeline.");for(let t of this.transformers_)t.stop()}}class Yf extends im{constructor(){super(),Wt(this,"reporter_"),Wt(this,"pipeline_"),Wt(this,"transformers_"),Wt(this,"readable_"),Wt(this,"writable_"),Wt(this,"trackExpectedRate_"),this.reporter_=new rm,this.trackExpectedRate_=-1,this.report({variation:"Create"})}setTrackExpectedRate(t){this.trackExpectedRate_=t,this.pipeline_&&this.pipeline_.setTrackExpectedRate(this.trackExpectedRate_)}transform(t,e){return this.readable_=t,this.writable_=e,this.transformInternal()}transformInternal(){return new Promise(async(t,e)=>{if(!this.transformers_||this.transformers_.length===0){this.report({message:wn.errors.transformer_none,variation:"Error"}),e("[MediaProcessor] Need to set transformers.");return}if(!this.readable_){this.report({variation:"Error",message:wn.errors.readable_null}),e("[MediaProcessor] Readable is null.");return}if(!this.writable_){this.report({variation:"Error",message:wn.errors.writable_null}),e("[MediaProcessor] Writable is null.");return}let i=!1;this.pipeline_&&(i=!0,this.pipeline_.clearListeners(),this.pipeline_.destroy()),this.pipeline_=new gf(this.transformers_),this.pipeline_.on("warn",c=>{this.emit("warn",c)}),this.pipeline_.on("error",c=>{this.emit("error",c)}),this.pipeline_.on("pipelineInfo",c=>{i&&(c==="pipeline_started"?c=Is.pipeline_restarted:c==="pipeline_started_with_error"&&(c=Is.pipeline_restarted_with_error)),this.emit("pipelineInfo",c)}),this.trackExpectedRate_!=-1&&this.pipeline_.setTrackExpectedRate(this.trackExpectedRate_),this.pipeline_.start(this.readable_,this.writable_).then(()=>{t()}).catch(c=>{e(c)})})}setTransformers(t){return this.report({variation:"Update",message:wn.updates.transformer_new}),this.transformers_=t,this.readable_&&this.writable_?this.transformInternal():Promise.resolve()}destroy(){return new Promise(async t=>{this.pipeline_&&this.pipeline_.destroy(),this.report({variation:"Delete"}),t()})}report(t){this.reporter_.send({version:Ra,action:"MediaProcessor",...t})}}class Ff{constructor(){Wt(this,"processor_"),Wt(this,"generator_"),this.processor_=null,this.generator_=null}init(t){return new Promise((e,i)=>{try{this.processor_=new MediaStreamTrackProcessor(t)}catch(c){console.log(`[InsertableStreamHelper] MediaStreamTrackProcessor failed: ${c}`),i(c)}try{t.kind==="audio"?this.generator_=new MediaStreamTrackGenerator({kind:"audio"}):t.kind==="video"?this.generator_=new MediaStreamTrackGenerator({kind:"video"}):i("kind not supported")}catch(c){console.log(`[InsertableStreamHelper] MediaStreamTrackGenerator failed: ${c}`),i(c)}e()})}getReadable(){return this.processor_.readable}getWriteable(){return this.generator_.writable}getProccesorTrack(){return this.generator_}}class If{constructor(t){Wt(this,"insertableStreamHelper_"),Wt(this,"mediaProcessor_"),this.insertableStreamHelper_=new Ff,this.mediaProcessor_=t}setTrack(t){return new Promise((e,i)=>{this.insertableStreamHelper_.init(t).then(()=>{this.mediaProcessor_.transform(this.insertableStreamHelper_.getReadable(),this.insertableStreamHelper_.getWriteable()).then(()=>{e(this.insertableStreamHelper_.getProccesorTrack())}).catch(c=>{i(c)})}).catch(c=>{i(c)})})}destroy(){return new Promise((t,e)=>{this.mediaProcessor_?this.mediaProcessor_.destroy().then(()=>{t()}).catch(i=>{e(i)}):e("no processor")})}}const qn=new WeakMap,yi=new WeakMap,kn=new WeakMap,Ea=Symbol("anyProducer"),Gu=Promise.resolve(),Ma=Symbol("listenerAdded"),Pa=Symbol("listenerRemoved");let ja=!1,Dd=!1;function Vl(n){if(typeof n!="string"&&typeof n!="symbol"&&typeof n!="number")throw new TypeError("`eventName` must be a string, symbol, or number")}function sa(n){if(typeof n!="function")throw new TypeError("listener must be a function")}function fl(n,t){const e=yi.get(n);if(!!e.has(t))return e.get(t)}function Rr(n,t){const e=typeof t=="string"||typeof t=="symbol"||typeof t=="number"?t:Ea,i=kn.get(n);if(!!i.has(e))return i.get(e)}function Jf(n,t,e){const i=kn.get(n);if(i.has(t))for(const c of i.get(t))c.enqueue(e);if(i.has(Ea)){const c=Promise.all([t,e]);for(const s of i.get(Ea))s.enqueue(c)}}function Ru(n,t){t=Array.isArray(t)?t:[t];let e=!1,i=()=>{},c=[];const s={enqueue(b){c.push(b),i()},finish(){e=!0,i()}};for(const b of t){let X=Rr(n,b);X||(X=new Set,kn.get(n).set(b,X)),X.add(s)}return{async next(){return c?c.length===0?e?(c=void 0,this.next()):(await new Promise(b=>{i=b}),this.next()):{done:!1,value:await c.shift()}:{done:!0}},async return(b){c=void 0;for(const X of t){const F=Rr(n,X);F&&(F.delete(s),F.size===0&&kn.get(n).delete(X))}return i(),arguments.length>0?{done:!0,value:await b}:{done:!0}},[Symbol.asyncIterator](){return this}}}function vu(n){if(n===void 0)return gu;if(!Array.isArray(n))throw new TypeError("`methodNames` must be an array of strings");for(const t of n)if(!gu.includes(t))throw typeof t!="string"?new TypeError("`methodNames` element must be a string"):new Error(`${t} is not Emittery method`);return n}const Yl=n=>n===Ma||n===Pa;function ma(n,t,e){if(Yl(t))try{ja=!0,n.emit(t,e)}finally{ja=!1}}let wi=class Js{static mixin(t,e){return e=vu(e),i=>{if(typeof i!="function")throw new TypeError("`target` must be function");for(const b of e)if(i.prototype[b]!==void 0)throw new Error(`The property \`${b}\` already exists on \`target\``);function c(){return Object.defineProperty(this,t,{enumerable:!1,value:new Js}),this[t]}Object.defineProperty(i.prototype,t,{enumerable:!1,get:c});const s=b=>function(...X){return this[t][b](...X)};for(const b of e)Object.defineProperty(i.prototype,b,{enumerable:!1,value:s(b)});return i}}static get isDebugEnabled(){var e,i;if(typeof((e=globalThis.process)==null?void 0:e.env)!="object")return Dd;const{env:t}=(i=globalThis.process)!=null?i:{env:{}};return t.DEBUG==="emittery"||t.DEBUG==="*"||Dd}static set isDebugEnabled(t){Dd=t}constructor(t={}){var e;qn.set(this,new Set),yi.set(this,new Map),kn.set(this,new Map),kn.get(this).set(Ea,new Set),this.debug=(e=t.debug)!=null?e:{},this.debug.enabled===void 0&&(this.debug.enabled=!1),this.debug.logger||(this.debug.logger=(i,c,s,b)=>{try{b=JSON.stringify(b)}catch{b=`Object with the following keys failed to stringify: ${Object.keys(b).join(",")}`}(typeof s=="symbol"||typeof s=="number")&&(s=s.toString());const X=new Date,F=`${X.getHours()}:${X.getMinutes()}:${X.getSeconds()}.${X.getMilliseconds()}`;console.log(`[${F}][emittery:${i}][${c}] Event Name: ${s}
	data: ${b}`)})}logIfDebugEnabled(t,e,i){(Js.isDebugEnabled||this.debug.enabled)&&this.debug.logger(t,this.debug.name,e,i)}on(t,e){sa(e),t=Array.isArray(t)?t:[t];for(const i of t){Vl(i);let c=fl(this,i);c||(c=new Set,yi.get(this).set(i,c)),c.add(e),this.logIfDebugEnabled("subscribe",i,void 0),Yl(i)||ma(this,Ma,{eventName:i,listener:e})}return this.off.bind(this,t,e)}off(t,e){sa(e),t=Array.isArray(t)?t:[t];for(const i of t){Vl(i);const c=fl(this,i);c&&(c.delete(e),c.size===0&&yi.get(this).delete(i)),this.logIfDebugEnabled("unsubscribe",i,void 0),Yl(i)||ma(this,Pa,{eventName:i,listener:e})}}once(t){let e;const i=new Promise(c=>{e=this.on(t,s=>{e(),c(s)})});return i.off=e,i}events(t){t=Array.isArray(t)?t:[t];for(const e of t)Vl(e);return Ru(this,t)}async emit(t,e){var X;if(Vl(t),Yl(t)&&!ja)throw new TypeError("`eventName` cannot be meta event `listenerAdded` or `listenerRemoved`");this.logIfDebugEnabled("emit",t,e),Jf(this,t,e);const i=(X=fl(this,t))!=null?X:new Set,c=qn.get(this),s=[...i],b=Yl(t)?[]:[...c];await Gu,await Promise.all([...s.map(async F=>{if(i.has(F))return F(e)}),...b.map(async F=>{if(c.has(F))return F(t,e)})])}async emitSerial(t,e){var X;if(Vl(t),Yl(t)&&!ja)throw new TypeError("`eventName` cannot be meta event `listenerAdded` or `listenerRemoved`");this.logIfDebugEnabled("emitSerial",t,e);const i=(X=fl(this,t))!=null?X:new Set,c=qn.get(this),s=[...i],b=[...c];await Gu;for(const F of s)i.has(F)&&await F(e);for(const F of b)c.has(F)&&await F(t,e)}onAny(t){return sa(t),this.logIfDebugEnabled("subscribeAny",void 0,void 0),qn.get(this).add(t),ma(this,Ma,{listener:t}),this.offAny.bind(this,t)}anyEvent(){return Ru(this)}offAny(t){sa(t),this.logIfDebugEnabled("unsubscribeAny",void 0,void 0),ma(this,Pa,{listener:t}),qn.get(this).delete(t)}clearListeners(t){t=Array.isArray(t)?t:[t];for(const e of t)if(this.logIfDebugEnabled("clear",e,void 0),typeof e=="string"||typeof e=="symbol"||typeof e=="number"){const i=fl(this,e);i&&i.clear();const c=Rr(this,e);if(c){for(const s of c)s.finish();c.clear()}}else{qn.get(this).clear();for(const[i,c]of yi.get(this).entries())c.clear(),yi.get(this).delete(i);for(const[i,c]of kn.get(this).entries()){for(const s of c)s.finish();c.clear(),kn.get(this).delete(i)}}}listenerCount(t){var i,c,s,b,X,F;t=Array.isArray(t)?t:[t];let e=0;for(const U of t){if(typeof U=="string"){e+=qn.get(this).size+((c=(i=fl(this,U))==null?void 0:i.size)!=null?c:0)+((b=(s=Rr(this,U))==null?void 0:s.size)!=null?b:0)+((F=(X=Rr(this))==null?void 0:X.size)!=null?F:0);continue}typeof U<"u"&&Vl(U),e+=qn.get(this).size;for(const E of yi.get(this).values())e+=E.size;for(const E of kn.get(this).values())e+=E.size}return e}bindMethods(t,e){if(typeof t!="object"||t===null)throw new TypeError("`target` must be an object");e=vu(e);for(const i of e){if(t[i]!==void 0)throw new Error(`The property \`${i}\` already exists on \`target\``);Object.defineProperty(t,i,{enumerable:!1,value:this[i].bind(this)})}}};const gu=Object.getOwnPropertyNames(wi.prototype).filter(n=>n!=="constructor");Object.defineProperty(wi,"listenerAdded",{value:Ma,writable:!1,enumerable:!0,configurable:!1});Object.defineProperty(wi,"listenerRemoved",{value:Pa,writable:!1,enumerable:!0,configurable:!1});const kf="1.0.0-beta.4";class Nf{constructor(t){this.size=t,this.values=[],this.sum=0}push(t){var e;for(this.values.push(t),this.sum+=t;this.size<this.values.length;)this.sum-=(e=this.values.shift())!=null?e:0}value(){return this.sum/Math.max(1,this.values.length)}}const Hf=`https://d3opqjmqzxf057.cloudfront.net/noise-suppression/${kf}`;class wf extends wi{constructor(){super(),this.isEnabled=!0,this.internalResampleSupported=!1,this.latency=new Nf(100),this.transform=this.transformAudioData.bind(this)}async init(t={}){var b,X,F;console.log("Noise suppression transformer initialization"),this.transform=t.debug?this.transformDebug.bind(this):this.transformAudioData.bind(this);const e=(b=t.assetsDirBaseUrl)!=null?b:Hf,i=U=>`${e}/${U}`;let c=1;await this.isMonoThread(t)?this.wasmInstance=await Jh({locateFile:i,mainScriptUrlOrBlob:i("main-bin-mono.js")}):(this.wasmInstance=await kh({locateFile:i,mainScriptUrlOrBlob:i("main-bin-multi.js")}),c=3),this.wasmTransformer=new this.wasmInstance.DtlnTransformer,await Promise.all([this.loadModel(`${e}/model_1.tflite`,1),this.loadModel(`${e}/model_2.tflite`,2)]);let s;try{s=(X=this.wasmTransformer)==null?void 0:X.init(c)}catch(U){if(typeof U=="number"){let E="";for(let f=0;f<500;++f)E+=String.fromCharCode(this.wasmInstance.HEAP8[U+f]);console.error(E)}else console.error(U)}if(s!==0){const U=`Fail to init wasm transformer, error code = ${s}`;throw console.error(U),U}if(this.internalResampleSupported=(F=this.wasmTransformer)==null?void 0:F.getInternalResampleSupported(),!this.internalResampleSupported){const U="Internal resampling not supported";throw console.error(U),U}console.log("Noise suppression transformer ready")}setAudioOptions(t,e,i,c,s){var b;(b=this.wasmTransformer)==null||b.setAudioOptions(t,e,i,c,s)}enable(){this.isEnabled=!0}disable(){this.isEnabled=!1}getLatency(){return this.latency.value()}getWasmLatencyNs(){var t,e;return(e=(t=this.wasmTransformer)==null?void 0:t.getLatencyNs())!=null?e:0}async transformDebug(t,e){try{const i=performance.now();await this.transformAudioData(t,e),this.latency.push(performance.now()-i)}catch(i){console.error(i)}}async transformAudioData(t,e){if(this.wasmTransformer||this.emit("warning","transformer not initialized"),this.isEnabled&&this.wasmTransformer)try{const i=this.getAudioDataAsFloat32(t),c=this.convertTypedArray(i,Int16Array,2**15-1);this.wasmTransformer.getInputFrame(t.numberOfFrames).set(c);let s=0;try{s=this.wasmTransformer.runAlgorithm(t.numberOfFrames,t.sampleRate,t.numberOfChannels)}catch(b){if(typeof b=="number"){let X="";for(let F=0;F<500;++F)X+=String.fromCharCode(this.wasmInstance.HEAP8[b+F]);console.error(X)}else console.error(b)}if(s>0){const b=this.wasmTransformer.getOutputFrame().slice(0,s),X=this.convertTypedArray(b,Float32Array,1/(2**15-1)),{timestamp:F,sampleRate:U,numberOfChannels:E}=t;t=new AudioData({data:X,format:"f32-planar",numberOfChannels:E,numberOfFrames:X.length,sampleRate:U,timestamp:F})}}catch(i){console.error(i)}e.enqueue(t)}async loadModel(t,e){if(!this.wasmTransformer)return;const c=await(await fetch(t)).arrayBuffer(),s=c.byteLength,b=`getModel${e}`,X=this.wasmTransformer[b](s);if(X){const F=new Uint8Array(c);X.set(F)}}getAudioDataAsFloat32(t){return this.audioDataToTypedArray(t,Float32Array,"f32-planar",1)}audioDataToTypedArray(t,e,i,c=t.numberOfChannels){const s=t.numberOfFrames*c,b=new e(s);for(let X=0;X<c;++X){const F=t.numberOfFrames*X,U=b.subarray(F,F+t.numberOfFrames);t.copyTo(U,{planeIndex:X,format:i})}return b}convertTypedArray(t,e,i){const c=t.length,s=new e(c);for(let b=0;b<c;++b)s[b]=t[b]*i;return s}isMonoThread(t){if(t.disableWasmMultiThread)return!0;try{if(new SharedArrayBuffer(1024)===void 0)throw new Error("not supported")}catch{return this.emit("warning",`
Multithread is not available, noise-suppresion is now running on a single thread.
This is impacting the performance and increase the latency.

To enable multithread, you need to serve the application via https with these http headers :
   - Cross-Origin-Opener-Policy: same-origin
   - Cross-Origin-Embedder-Policy: require-corp.
More info: https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/SharedArrayBuffer#security_requirements

You can disable this warning by enabling disableWasmMultiThread within the noiseSuppression options.
`),!0}return!1}}function cm(n,t){globalThis.vonage||(globalThis.vonage={}),globalThis.vonage.workerizer||(globalThis.vonage.workerizer={});let e=globalThis.vonage.workerizer;return e[n]||(e[n]=t),e[n]}const xl=cm("globals",{});var Ce=(n=>(n.INIT="INIT",n.FORWARD="FORWARD",n.TERMINATE="TERMINATE",n.GLOBALS_SYNC="GLOBALS_SYNC",n.EVENT="EVENT",n))(Ce||{});function wh(n){return[ImageBitmap,ReadableStream,WritableStream].some(e=>n instanceof e)}let xf=0;function Qa(n,t,e,i,c){const s=xf++;return n.postMessage({id:s,type:t,functionName:e,args:i},i.filter(X=>wh(X))),new Promise(X=>{c==null||c.set(s,X)})}function Sl(n,t){const{id:e,type:i}=n,c=Array.isArray(t)?t:[t];postMessage({id:e,type:i,result:t},c.filter(s=>wh(s)))}const Oa=cm("workerized",{});function am(){return typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope}async function Sf(){if(am())Sl({type:Ce.GLOBALS_SYNC},xl);else{const n=[];for(const t in Oa){const{worker:e,resolvers:i}=Oa[t].workerContext;e&&n.push(Qa(e,Ce.GLOBALS_SYNC,"",[xl],i))}await Promise.all(n)}}function xr(n,t){if(Array.isArray(t))t.splice(0,t.length);else if(typeof t=="object")for(const e in t)delete t[e];for(const e in n)Array.isArray(n[e])?(t[e]=[],xr(n[e],t[e])):typeof n[e]=="object"?(t[e]={},xr(n[e],t[e])):t[e]=n[e]}async function Tf(n,t,e,i){const c=new t;if(c.addEventListener("message",async({data:b})=>{var X,F,U,E,f,Gt,Dt;switch(b.type){case Ce.GLOBALS_SYNC:b.id?((F=e.get((X=b.id)!=null?X:-1))==null||F(b.result),e.delete((U=b.id)!=null?U:-1)):(xr((E=b.result)!=null?E:{},xl),await Sf());break;case Ce.EVENT:const{result:Bt}=b,Rt=Bt;if((Rt==null?void 0:Rt.name)==null)throw"Missing event name";i(Rt.name,Rt.data);break;default:(Gt=e.get((f=b.id)!=null?f:-1))==null||Gt(b.result),e.delete((Dt=b.id)!=null?Dt:-1)}}),!await Qa(c,Ce.INIT,"",[n.workerId,xl],e))throw"Failed to instantiate workerized class";return c}const ti=new WeakMap,Xi=new WeakMap,Nn=new WeakMap,Da=Symbol("anyProducer"),Yu=Promise.resolve(),Aa=Symbol("listenerAdded"),$a=Symbol("listenerRemoved");let qa=!1,Ad=!1;function Gl(n){if(typeof n!="string"&&typeof n!="symbol"&&typeof n!="number")throw new TypeError("`eventName` must be a string, symbol, or number")}function ua(n){if(typeof n!="function")throw new TypeError("listener must be a function")}function Rl(n,t){const e=Xi.get(n);if(!!e.has(t))return e.get(t)}function vr(n,t){const e=typeof t=="string"||typeof t=="symbol"||typeof t=="number"?t:Da,i=Nn.get(n);if(!!i.has(e))return i.get(e)}function Uf(n,t,e){const i=Nn.get(n);if(i.has(t))for(const c of i.get(t))c.enqueue(e);if(i.has(Da)){const c=Promise.all([t,e]);for(const s of i.get(Da))s.enqueue(c)}}function Fu(n,t){t=Array.isArray(t)?t:[t];let e=!1,i=()=>{},c=[];const s={enqueue(b){c.push(b),i()},finish(){e=!0,i()}};for(const b of t){let X=vr(n,b);X||(X=new Set,Nn.get(n).set(b,X)),X.add(s)}return{async next(){return c?c.length===0?e?(c=void 0,this.next()):(await new Promise(b=>{i=b}),this.next()):{done:!1,value:await c.shift()}:{done:!0}},async return(b){c=void 0;for(const X of t){const F=vr(n,X);F&&(F.delete(s),F.size===0&&Nn.get(n).delete(X))}return i(),arguments.length>0?{done:!0,value:await b}:{done:!0}},[Symbol.asyncIterator](){return this}}}function Iu(n){if(n===void 0)return Ju;if(!Array.isArray(n))throw new TypeError("`methodNames` must be an array of strings");for(const t of n)if(!Ju.includes(t))throw typeof t!="string"?new TypeError("`methodNames` element must be a string"):new Error(`${t} is not Emittery method`);return n}const Fl=n=>n===Aa||n===$a;function ba(n,t,e){if(Fl(t))try{qa=!0,n.emit(t,e)}finally{qa=!1}}class ki{static mixin(t,e){return e=Iu(e),i=>{if(typeof i!="function")throw new TypeError("`target` must be function");for(const b of e)if(i.prototype[b]!==void 0)throw new Error(`The property \`${b}\` already exists on \`target\``);function c(){return Object.defineProperty(this,t,{enumerable:!1,value:new ki}),this[t]}Object.defineProperty(i.prototype,t,{enumerable:!1,get:c});const s=b=>function(...X){return this[t][b](...X)};for(const b of e)Object.defineProperty(i.prototype,b,{enumerable:!1,value:s(b)});return i}}static get isDebugEnabled(){var t,e;if(typeof((t=globalThis.process)==null?void 0:t.env)!="object")return Ad;const{env:i}=(e=globalThis.process)!=null?e:{env:{}};return i.DEBUG==="emittery"||i.DEBUG==="*"||Ad}static set isDebugEnabled(t){Ad=t}constructor(t={}){var e;ti.set(this,new Set),Xi.set(this,new Map),Nn.set(this,new Map),Nn.get(this).set(Da,new Set),this.debug=(e=t.debug)!=null?e:{},this.debug.enabled===void 0&&(this.debug.enabled=!1),this.debug.logger||(this.debug.logger=(i,c,s,b)=>{try{b=JSON.stringify(b)}catch{b=`Object with the following keys failed to stringify: ${Object.keys(b).join(",")}`}(typeof s=="symbol"||typeof s=="number")&&(s=s.toString());const X=new Date,F=`${X.getHours()}:${X.getMinutes()}:${X.getSeconds()}.${X.getMilliseconds()}`;console.log(`[${F}][emittery:${i}][${c}] Event Name: ${s}
	data: ${b}`)})}logIfDebugEnabled(t,e,i){(ki.isDebugEnabled||this.debug.enabled)&&this.debug.logger(t,this.debug.name,e,i)}on(t,e){ua(e),t=Array.isArray(t)?t:[t];for(const i of t){Gl(i);let c=Rl(this,i);c||(c=new Set,Xi.get(this).set(i,c)),c.add(e),this.logIfDebugEnabled("subscribe",i,void 0),Fl(i)||ba(this,Aa,{eventName:i,listener:e})}return this.off.bind(this,t,e)}off(t,e){ua(e),t=Array.isArray(t)?t:[t];for(const i of t){Gl(i);const c=Rl(this,i);c&&(c.delete(e),c.size===0&&Xi.get(this).delete(i)),this.logIfDebugEnabled("unsubscribe",i,void 0),Fl(i)||ba(this,$a,{eventName:i,listener:e})}}once(t){let e;const i=new Promise(c=>{e=this.on(t,s=>{e(),c(s)})});return i.off=e,i}events(t){t=Array.isArray(t)?t:[t];for(const e of t)Gl(e);return Fu(this,t)}async emit(t,e){var i;if(Gl(t),Fl(t)&&!qa)throw new TypeError("`eventName` cannot be meta event `listenerAdded` or `listenerRemoved`");this.logIfDebugEnabled("emit",t,e),Uf(this,t,e);const c=(i=Rl(this,t))!=null?i:new Set,s=ti.get(this),b=[...c],X=Fl(t)?[]:[...s];await Yu,await Promise.all([...b.map(async F=>{if(c.has(F))return F(e)}),...X.map(async F=>{if(s.has(F))return F(t,e)})])}async emitSerial(t,e){var i;if(Gl(t),Fl(t)&&!qa)throw new TypeError("`eventName` cannot be meta event `listenerAdded` or `listenerRemoved`");this.logIfDebugEnabled("emitSerial",t,e);const c=(i=Rl(this,t))!=null?i:new Set,s=ti.get(this),b=[...c],X=[...s];await Yu;for(const F of b)c.has(F)&&await F(e);for(const F of X)s.has(F)&&await F(t,e)}onAny(t){return ua(t),this.logIfDebugEnabled("subscribeAny",void 0,void 0),ti.get(this).add(t),ba(this,Aa,{listener:t}),this.offAny.bind(this,t)}anyEvent(){return Fu(this)}offAny(t){ua(t),this.logIfDebugEnabled("unsubscribeAny",void 0,void 0),ba(this,$a,{listener:t}),ti.get(this).delete(t)}clearListeners(t){t=Array.isArray(t)?t:[t];for(const e of t)if(this.logIfDebugEnabled("clear",e,void 0),typeof e=="string"||typeof e=="symbol"||typeof e=="number"){const i=Rl(this,e);i&&i.clear();const c=vr(this,e);if(c){for(const s of c)s.finish();c.clear()}}else{ti.get(this).clear();for(const[i,c]of Xi.get(this).entries())c.clear(),Xi.get(this).delete(i);for(const[i,c]of Nn.get(this).entries()){for(const s of c)s.finish();c.clear(),Nn.get(this).delete(i)}}}listenerCount(t){var e,i,c,s,b,X;t=Array.isArray(t)?t:[t];let F=0;for(const U of t){if(typeof U=="string"){F+=ti.get(this).size+((i=(e=Rl(this,U))==null?void 0:e.size)!=null?i:0)+((s=(c=vr(this,U))==null?void 0:c.size)!=null?s:0)+((X=(b=vr(this))==null?void 0:b.size)!=null?X:0);continue}typeof U<"u"&&Gl(U),F+=ti.get(this).size;for(const E of Xi.get(this).values())F+=E.size;for(const E of Nn.get(this).values())F+=E.size}return F}bindMethods(t,e){if(typeof t!="object"||t===null)throw new TypeError("`target` must be an object");e=Iu(e);for(const i of e){if(t[i]!==void 0)throw new Error(`The property \`${i}\` already exists on \`target\``);Object.defineProperty(t,i,{enumerable:!1,value:this[i].bind(this)})}}}const Ju=Object.getOwnPropertyNames(ki.prototype).filter(n=>n!=="constructor");Object.defineProperty(ki,"listenerAdded",{value:Aa,writable:!1,enumerable:!0,configurable:!1});Object.defineProperty(ki,"listenerRemoved",{value:$a,writable:!1,enumerable:!0,configurable:!1});function Kf(n){return n.onAny&&n.emit}function zf(n){return n.prototype.onAny&&n.prototype.emit}let Bf=0;async function _f(n,t,e){const c=zf(n)?new ki:{},s=Bf++;return Object.getOwnPropertyNames(n.prototype).forEach(b=>{c[b]=(...X)=>Qa(t,Ce.FORWARD,b,X,e)}),c.terminate=async(...b)=>{const X=await Qa(t,Ce.TERMINATE,"",b,e);return delete Oa[s],t.terminate(),c.workerContext.worker=void 0,X},c.workerContext={id:s,worker:t,resolvers:e},Oa[s]=c,c}async function Cf(n,t){const e=new Map;let i;const c=await Tf(n,t,e,(s,b)=>{i!=null&&i.emit&&(i==null||i.emit(s,b))});return i=await _f(n,c,e),i}async function Lf(n,t){const{functionName:e,args:i}=n;if(!t.instance)throw"instance not initialized";if(!e)throw"missing function name to call";if(!t.instance[e])throw`undefined function [${e}] in class ${t.instance.constructor.workerId}`;Sl(n,await t.instance[e](...i!=null?i:[]))}const xh=cm("registeredWorkers",{});function Ef(n,t){t.workerId=n,am()&&(xh[t.workerId]=t)}function Mf(n,t){if(!n.args)throw"Missing className while initializing worker";const[e,i]=n.args,c=xh[e];if(c)t.instance=new c(n.args.slice(1));else throw`unknown worker class ${e}`;xr(i,xl),Kf(t.instance)&&t.instance.onAny((s,b)=>{Sl({type:Ce.EVENT},{name:s,data:b})}),Sl(n,typeof t.instance!==void 0)}async function Pf(n,t){const{args:e}=n;if(!t.instance)throw"instance not initialized";let i;t.instance.terminate&&(i=await t.instance.terminate(...e!=null?e:[])),Sl(n,i)}function jf(n){if(!n.args)throw"Missing globals while syncing";xr(n.args[0],xl),Sl(n,{})}function Qf(){const n={};onmessage=async t=>{const e=t.data;switch(e.type){case Ce.INIT:Mf(e,n);break;case Ce.FORWARD:Lf(e,n);break;case Ce.TERMINATE:Pf(e,n);break;case Ce.GLOBALS_SYNC:jf(e);break}}}am()&&Qf();const Sh=class extends wi{constructor(){super(...arguments),this.processor=new Yf}async init(t={}){this.transformer=new wf,this.processor.onAny((e,i)=>this.emit(e,i)),this.transformer.onAny((e,i)=>this.emit(e,i)),await this.transformer.init(t),await this.processor.setTransformers([this.transformer])}transform(t,e){this.processor.transform(t,e)}setAudioOptions(t,e,i,c,s){var b;(b=this.transformer)==null||b.setAudioOptions(t,e,i,c,s)}enable(){var t;(t=this.transformer)==null||t.enable()}disable(){var t;(t=this.transformer)==null||t.disable()}async terminate(){await this.processor.destroy()}getLatency(){var t,e;return(e=(t=this.transformer)==null?void 0:t.getLatency())!=null?e:0}getWasmLatencyNs(){var t,e;return(e=(t=this.transformer)==null?void 0:t.getWasmLatencyNs())!=null?e:0}};Ef("ProcessorWorker",Sh);let Of=Sh;const Th="bGV0IGNyZWF0ZVdhc21Nb25vSW5zdGFuY2U7IHsKCnZhciBNb2R1bGUgPSAoKCkgPT4gewogIHZhciBfc2NyaXB0RGlyID0gbG9jYXRpb24uaHJlZjsKICAKICByZXR1cm4gKApmdW5jdGlvbihNb2R1bGUpIHsKICBNb2R1bGUgPSBNb2R1bGUgfHwge307Cgp2YXIgTW9kdWxlPXR5cGVvZiBNb2R1bGUhPSJ1bmRlZmluZWQiP01vZHVsZTp7fTt2YXIgcmVhZHlQcm9taXNlUmVzb2x2ZSxyZWFkeVByb21pc2VSZWplY3Q7TW9kdWxlWyJyZWFkeSJdPW5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUscmVqZWN0KXtyZWFkeVByb21pc2VSZXNvbHZlPXJlc29sdmU7cmVhZHlQcm9taXNlUmVqZWN0PXJlamVjdH0pO3ZhciBtb2R1bGVPdmVycmlkZXM9T2JqZWN0LmFzc2lnbih7fSxNb2R1bGUpO3ZhciBhcmd1bWVudHNfPVtdO3ZhciB0aGlzUHJvZ3JhbT0iLi90aGlzLnByb2dyYW0iO3ZhciBxdWl0Xz0oc3RhdHVzLHRvVGhyb3cpPT57dGhyb3cgdG9UaHJvd307dmFyIEVOVklST05NRU5UX0lTX1dFQj10eXBlb2Ygd2luZG93PT0ib2JqZWN0Ijt2YXIgRU5WSVJPTk1FTlRfSVNfV09SS0VSPXR5cGVvZiBpbXBvcnRTY3JpcHRzPT0iZnVuY3Rpb24iO3ZhciBFTlZJUk9OTUVOVF9JU19OT0RFPXR5cGVvZiBwcm9jZXNzPT0ib2JqZWN0IiYmdHlwZW9mIHByb2Nlc3MudmVyc2lvbnM9PSJvYmplY3QiJiZ0eXBlb2YgcHJvY2Vzcy52ZXJzaW9ucy5ub2RlPT0ic3RyaW5nIjt2YXIgc2NyaXB0RGlyZWN0b3J5PSIiO2Z1bmN0aW9uIGxvY2F0ZUZpbGUocGF0aCl7aWYoTW9kdWxlWyJsb2NhdGVGaWxlIl0pe3JldHVybiBNb2R1bGVbImxvY2F0ZUZpbGUiXShwYXRoLHNjcmlwdERpcmVjdG9yeSl9cmV0dXJuIHNjcmlwdERpcmVjdG9yeStwYXRofXZhciByZWFkXyxyZWFkQXN5bmMscmVhZEJpbmFyeSxzZXRXaW5kb3dUaXRsZTtpZihFTlZJUk9OTUVOVF9JU19XRUJ8fEVOVklST05NRU5UX0lTX1dPUktFUil7aWYoRU5WSVJPTk1FTlRfSVNfV09SS0VSKXtzY3JpcHREaXJlY3Rvcnk9c2VsZi5sb2NhdGlvbi5ocmVmfWVsc2UgaWYodHlwZW9mIGRvY3VtZW50IT0idW5kZWZpbmVkIiYmZG9jdW1lbnQuY3VycmVudFNjcmlwdCl7c2NyaXB0RGlyZWN0b3J5PWRvY3VtZW50LmN1cnJlbnRTY3JpcHQuc3JjfWlmKF9zY3JpcHREaXIpe3NjcmlwdERpcmVjdG9yeT1fc2NyaXB0RGlyfWlmKHNjcmlwdERpcmVjdG9yeS5pbmRleE9mKCJibG9iOiIpIT09MCl7c2NyaXB0RGlyZWN0b3J5PXNjcmlwdERpcmVjdG9yeS5zdWJzdHIoMCxzY3JpcHREaXJlY3RvcnkucmVwbGFjZSgvWz8jXS4qLywiIikubGFzdEluZGV4T2YoIi8iKSsxKX1lbHNle3NjcmlwdERpcmVjdG9yeT0iIn17cmVhZF89KHVybD0+e3ZhciB4aHI9bmV3IFhNTEh0dHBSZXF1ZXN0O3hoci5vcGVuKCJHRVQiLHVybCxmYWxzZSk7eGhyLnNlbmQobnVsbCk7cmV0dXJuIHhoci5yZXNwb25zZVRleHR9KTtpZihFTlZJUk9OTUVOVF9JU19XT1JLRVIpe3JlYWRCaW5hcnk9KHVybD0+e3ZhciB4aHI9bmV3IFhNTEh0dHBSZXF1ZXN0O3hoci5vcGVuKCJHRVQiLHVybCxmYWxzZSk7eGhyLnJlc3BvbnNlVHlwZT0iYXJyYXlidWZmZXIiO3hoci5zZW5kKG51bGwpO3JldHVybiBuZXcgVWludDhBcnJheSh4aHIucmVzcG9uc2UpfSl9cmVhZEFzeW5jPSgodXJsLG9ubG9hZCxvbmVycm9yKT0+e3ZhciB4aHI9bmV3IFhNTEh0dHBSZXF1ZXN0O3hoci5vcGVuKCJHRVQiLHVybCx0cnVlKTt4aHIucmVzcG9uc2VUeXBlPSJhcnJheWJ1ZmZlciI7eGhyLm9ubG9hZD0oKCk9PntpZih4aHIuc3RhdHVzPT0yMDB8fHhoci5zdGF0dXM9PTAmJnhoci5yZXNwb25zZSl7b25sb2FkKHhoci5yZXNwb25zZSk7cmV0dXJufW9uZXJyb3IoKX0pO3hoci5vbmVycm9yPW9uZXJyb3I7eGhyLnNlbmQobnVsbCl9KX1zZXRXaW5kb3dUaXRsZT0odGl0bGU9PmRvY3VtZW50LnRpdGxlPXRpdGxlKX1lbHNle312YXIgb3V0PU1vZHVsZVsicHJpbnQiXXx8Y29uc29sZS5sb2cuYmluZChjb25zb2xlKTt2YXIgZXJyPU1vZHVsZVsicHJpbnRFcnIiXXx8Y29uc29sZS53YXJuLmJpbmQoY29uc29sZSk7T2JqZWN0LmFzc2lnbihNb2R1bGUsbW9kdWxlT3ZlcnJpZGVzKTttb2R1bGVPdmVycmlkZXM9bnVsbDtpZihNb2R1bGVbImFyZ3VtZW50cyJdKWFyZ3VtZW50c189TW9kdWxlWyJhcmd1bWVudHMiXTtpZihNb2R1bGVbInRoaXNQcm9ncmFtIl0pdGhpc1Byb2dyYW09TW9kdWxlWyJ0aGlzUHJvZ3JhbSJdO2lmKE1vZHVsZVsicXVpdCJdKXF1aXRfPU1vZHVsZVsicXVpdCJdO3ZhciB0ZW1wUmV0MD0wO3ZhciBzZXRUZW1wUmV0MD12YWx1ZT0+e3RlbXBSZXQwPXZhbHVlfTt2YXIgZ2V0VGVtcFJldDA9KCk9PnRlbXBSZXQwO3ZhciB3YXNtQmluYXJ5O2lmKE1vZHVsZVsid2FzbUJpbmFyeSJdKXdhc21CaW5hcnk9TW9kdWxlWyJ3YXNtQmluYXJ5Il07dmFyIG5vRXhpdFJ1bnRpbWU9TW9kdWxlWyJub0V4aXRSdW50aW1lIl18fGZhbHNlO2lmKHR5cGVvZiBXZWJBc3NlbWJseSE9Im9iamVjdCIpe2Fib3J0KCJubyBuYXRpdmUgd2FzbSBzdXBwb3J0IGRldGVjdGVkIil9dmFyIHdhc21NZW1vcnk7dmFyIEFCT1JUPWZhbHNlO3ZhciBFWElUU1RBVFVTO2Z1bmN0aW9uIGFzc2VydChjb25kaXRpb24sdGV4dCl7aWYoIWNvbmRpdGlvbil7YWJvcnQodGV4dCl9fXZhciBVVEY4RGVjb2Rlcj10eXBlb2YgVGV4dERlY29kZXIhPSJ1bmRlZmluZWQiP25ldyBUZXh0RGVjb2RlcigidXRmOCIpOnVuZGVmaW5lZDtmdW5jdGlvbiBVVEY4QXJyYXlUb1N0cmluZyhoZWFwT3JBcnJheSxpZHgsbWF4Qnl0ZXNUb1JlYWQpe3ZhciBlbmRJZHg9aWR4K21heEJ5dGVzVG9SZWFkO3ZhciBlbmRQdHI9aWR4O3doaWxlKGhlYXBPckFycmF5W2VuZFB0cl0mJiEoZW5kUHRyPj1lbmRJZHgpKSsrZW5kUHRyO2lmKGVuZFB0ci1pZHg+MTYmJmhlYXBPckFycmF5LmJ1ZmZlciYmVVRGOERlY29kZXIpe3JldHVybiBVVEY4RGVjb2Rlci5kZWNvZGUoaGVhcE9yQXJyYXkuc3ViYXJyYXkoaWR4LGVuZFB0cikpfWVsc2V7dmFyIHN0cj0iIjt3aGlsZShpZHg8ZW5kUHRyKXt2YXIgdTA9aGVhcE9yQXJyYXlbaWR4KytdO2lmKCEodTAmMTI4KSl7c3RyKz1TdHJpbmcuZnJvbUNoYXJDb2RlKHUwKTtjb250aW51ZX12YXIgdTE9aGVhcE9yQXJyYXlbaWR4KytdJjYzO2lmKCh1MCYyMjQpPT0xOTIpe3N0cis9U3RyaW5nLmZyb21DaGFyQ29kZSgodTAmMzEpPDw2fHUxKTtjb250aW51ZX12YXIgdTI9aGVhcE9yQXJyYXlbaWR4KytdJjYzO2lmKCh1MCYyNDApPT0yMjQpe3UwPSh1MCYxNSk8PDEyfHUxPDw2fHUyfWVsc2V7dTA9KHUwJjcpPDwxOHx1MTw8MTJ8dTI8PDZ8aGVhcE9yQXJyYXlbaWR4KytdJjYzfWlmKHUwPDY1NTM2KXtzdHIrPVN0cmluZy5mcm9tQ2hhckNvZGUodTApfWVsc2V7dmFyIGNoPXUwLTY1NTM2O3N0cis9U3RyaW5nLmZyb21DaGFyQ29kZSg1NTI5NnxjaD4+MTAsNTYzMjB8Y2gmMTAyMyl9fX1yZXR1cm4gc3RyfWZ1bmN0aW9uIFVURjhUb1N0cmluZyhwdHIsbWF4Qnl0ZXNUb1JlYWQpe3JldHVybiBwdHI/VVRGOEFycmF5VG9TdHJpbmcoSEVBUFU4LHB0cixtYXhCeXRlc1RvUmVhZCk6IiJ9ZnVuY3Rpb24gc3RyaW5nVG9VVEY4QXJyYXkoc3RyLGhlYXAsb3V0SWR4LG1heEJ5dGVzVG9Xcml0ZSl7aWYoIShtYXhCeXRlc1RvV3JpdGU+MCkpcmV0dXJuIDA7dmFyIHN0YXJ0SWR4PW91dElkeDt2YXIgZW5kSWR4PW91dElkeCttYXhCeXRlc1RvV3JpdGUtMTtmb3IodmFyIGk9MDtpPHN0ci5sZW5ndGg7KytpKXt2YXIgdT1zdHIuY2hhckNvZGVBdChpKTtpZih1Pj01NTI5NiYmdTw9NTczNDMpe3ZhciB1MT1zdHIuY2hhckNvZGVBdCgrK2kpO3U9NjU1MzYrKCh1JjEwMjMpPDwxMCl8dTEmMTAyM31pZih1PD0xMjcpe2lmKG91dElkeD49ZW5kSWR4KWJyZWFrO2hlYXBbb3V0SWR4KytdPXV9ZWxzZSBpZih1PD0yMDQ3KXtpZihvdXRJZHgrMT49ZW5kSWR4KWJyZWFrO2hlYXBbb3V0SWR4KytdPTE5Mnx1Pj42O2hlYXBbb3V0SWR4KytdPTEyOHx1JjYzfWVsc2UgaWYodTw9NjU1MzUpe2lmKG91dElkeCsyPj1lbmRJZHgpYnJlYWs7aGVhcFtvdXRJZHgrK109MjI0fHU+PjEyO2hlYXBbb3V0SWR4KytdPTEyOHx1Pj42JjYzO2hlYXBbb3V0SWR4KytdPTEyOHx1JjYzfWVsc2V7aWYob3V0SWR4KzM+PWVuZElkeClicmVhaztoZWFwW291dElkeCsrXT0yNDB8dT4+MTg7aGVhcFtvdXRJZHgrK109MTI4fHU+PjEyJjYzO2hlYXBbb3V0SWR4KytdPTEyOHx1Pj42JjYzO2hlYXBbb3V0SWR4KytdPTEyOHx1JjYzfX1oZWFwW291dElkeF09MDtyZXR1cm4gb3V0SWR4LXN0YXJ0SWR4fWZ1bmN0aW9uIHN0cmluZ1RvVVRGOChzdHIsb3V0UHRyLG1heEJ5dGVzVG9Xcml0ZSl7cmV0dXJuIHN0cmluZ1RvVVRGOEFycmF5KHN0cixIRUFQVTgsb3V0UHRyLG1heEJ5dGVzVG9Xcml0ZSl9ZnVuY3Rpb24gbGVuZ3RoQnl0ZXNVVEY4KHN0cil7dmFyIGxlbj0wO2Zvcih2YXIgaT0wO2k8c3RyLmxlbmd0aDsrK2kpe3ZhciB1PXN0ci5jaGFyQ29kZUF0KGkpO2lmKHU+PTU1Mjk2JiZ1PD01NzM0Myl1PTY1NTM2KygodSYxMDIzKTw8MTApfHN0ci5jaGFyQ29kZUF0KCsraSkmMTAyMztpZih1PD0xMjcpKytsZW47ZWxzZSBpZih1PD0yMDQ3KWxlbis9MjtlbHNlIGlmKHU8PTY1NTM1KWxlbis9MztlbHNlIGxlbis9NH1yZXR1cm4gbGVufXZhciBVVEYxNkRlY29kZXI9dHlwZW9mIFRleHREZWNvZGVyIT0idW5kZWZpbmVkIj9uZXcgVGV4dERlY29kZXIoInV0Zi0xNmxlIik6dW5kZWZpbmVkO2Z1bmN0aW9uIFVURjE2VG9TdHJpbmcocHRyLG1heEJ5dGVzVG9SZWFkKXt2YXIgZW5kUHRyPXB0cjt2YXIgaWR4PWVuZFB0cj4+MTt2YXIgbWF4SWR4PWlkeCttYXhCeXRlc1RvUmVhZC8yO3doaWxlKCEoaWR4Pj1tYXhJZHgpJiZIRUFQVTE2W2lkeF0pKytpZHg7ZW5kUHRyPWlkeDw8MTtpZihlbmRQdHItcHRyPjMyJiZVVEYxNkRlY29kZXIpe3JldHVybiBVVEYxNkRlY29kZXIuZGVjb2RlKEhFQVBVOC5zdWJhcnJheShwdHIsZW5kUHRyKSl9ZWxzZXt2YXIgc3RyPSIiO2Zvcih2YXIgaT0wOyEoaT49bWF4Qnl0ZXNUb1JlYWQvMik7KytpKXt2YXIgY29kZVVuaXQ9SEVBUDE2W3B0citpKjI+PjFdO2lmKGNvZGVVbml0PT0wKWJyZWFrO3N0cis9U3RyaW5nLmZyb21DaGFyQ29kZShjb2RlVW5pdCl9cmV0dXJuIHN0cn19ZnVuY3Rpb24gc3RyaW5nVG9VVEYxNihzdHIsb3V0UHRyLG1heEJ5dGVzVG9Xcml0ZSl7aWYobWF4Qnl0ZXNUb1dyaXRlPT09dW5kZWZpbmVkKXttYXhCeXRlc1RvV3JpdGU9MjE0NzQ4MzY0N31pZihtYXhCeXRlc1RvV3JpdGU8MilyZXR1cm4gMDttYXhCeXRlc1RvV3JpdGUtPTI7dmFyIHN0YXJ0UHRyPW91dFB0cjt2YXIgbnVtQ2hhcnNUb1dyaXRlPW1heEJ5dGVzVG9Xcml0ZTxzdHIubGVuZ3RoKjI/bWF4Qnl0ZXNUb1dyaXRlLzI6c3RyLmxlbmd0aDtmb3IodmFyIGk9MDtpPG51bUNoYXJzVG9Xcml0ZTsrK2kpe3ZhciBjb2RlVW5pdD1zdHIuY2hhckNvZGVBdChpKTtIRUFQMTZbb3V0UHRyPj4xXT1jb2RlVW5pdDtvdXRQdHIrPTJ9SEVBUDE2W291dFB0cj4+MV09MDtyZXR1cm4gb3V0UHRyLXN0YXJ0UHRyfWZ1bmN0aW9uIGxlbmd0aEJ5dGVzVVRGMTYoc3RyKXtyZXR1cm4gc3RyLmxlbmd0aCoyfWZ1bmN0aW9uIFVURjMyVG9TdHJpbmcocHRyLG1heEJ5dGVzVG9SZWFkKXt2YXIgaT0wO3ZhciBzdHI9IiI7d2hpbGUoIShpPj1tYXhCeXRlc1RvUmVhZC80KSl7dmFyIHV0ZjMyPUhFQVAzMltwdHIraSo0Pj4yXTtpZih1dGYzMj09MClicmVhazsrK2k7aWYodXRmMzI+PTY1NTM2KXt2YXIgY2g9dXRmMzItNjU1MzY7c3RyKz1TdHJpbmcuZnJvbUNoYXJDb2RlKDU1Mjk2fGNoPj4xMCw1NjMyMHxjaCYxMDIzKX1lbHNle3N0cis9U3RyaW5nLmZyb21DaGFyQ29kZSh1dGYzMil9fXJldHVybiBzdHJ9ZnVuY3Rpb24gc3RyaW5nVG9VVEYzMihzdHIsb3V0UHRyLG1heEJ5dGVzVG9Xcml0ZSl7aWYobWF4Qnl0ZXNUb1dyaXRlPT09dW5kZWZpbmVkKXttYXhCeXRlc1RvV3JpdGU9MjE0NzQ4MzY0N31pZihtYXhCeXRlc1RvV3JpdGU8NClyZXR1cm4gMDt2YXIgc3RhcnRQdHI9b3V0UHRyO3ZhciBlbmRQdHI9c3RhcnRQdHIrbWF4Qnl0ZXNUb1dyaXRlLTQ7Zm9yKHZhciBpPTA7aTxzdHIubGVuZ3RoOysraSl7dmFyIGNvZGVVbml0PXN0ci5jaGFyQ29kZUF0KGkpO2lmKGNvZGVVbml0Pj01NTI5NiYmY29kZVVuaXQ8PTU3MzQzKXt2YXIgdHJhaWxTdXJyb2dhdGU9c3RyLmNoYXJDb2RlQXQoKytpKTtjb2RlVW5pdD02NTUzNisoKGNvZGVVbml0JjEwMjMpPDwxMCl8dHJhaWxTdXJyb2dhdGUmMTAyM31IRUFQMzJbb3V0UHRyPj4yXT1jb2RlVW5pdDtvdXRQdHIrPTQ7aWYob3V0UHRyKzQ+ZW5kUHRyKWJyZWFrfUhFQVAzMltvdXRQdHI+PjJdPTA7cmV0dXJuIG91dFB0ci1zdGFydFB0cn1mdW5jdGlvbiBsZW5ndGhCeXRlc1VURjMyKHN0cil7dmFyIGxlbj0wO2Zvcih2YXIgaT0wO2k8c3RyLmxlbmd0aDsrK2kpe3ZhciBjb2RlVW5pdD1zdHIuY2hhckNvZGVBdChpKTtpZihjb2RlVW5pdD49NTUyOTYmJmNvZGVVbml0PD01NzM0MykrK2k7bGVuKz00fXJldHVybiBsZW59ZnVuY3Rpb24gd3JpdGVBcnJheVRvTWVtb3J5KGFycmF5LGJ1ZmZlcil7SEVBUDguc2V0KGFycmF5LGJ1ZmZlcil9ZnVuY3Rpb24gd3JpdGVBc2NpaVRvTWVtb3J5KHN0cixidWZmZXIsZG9udEFkZE51bGwpe2Zvcih2YXIgaT0wO2k8c3RyLmxlbmd0aDsrK2kpe0hFQVA4W2J1ZmZlcisrPj4wXT1zdHIuY2hhckNvZGVBdChpKX1pZighZG9udEFkZE51bGwpSEVBUDhbYnVmZmVyPj4wXT0wfXZhciBidWZmZXIsSEVBUDgsSEVBUFU4LEhFQVAxNixIRUFQVTE2LEhFQVAzMixIRUFQVTMyLEhFQVBGMzIsSEVBUEY2NDtmdW5jdGlvbiB1cGRhdGVHbG9iYWxCdWZmZXJBbmRWaWV3cyhidWYpe2J1ZmZlcj1idWY7TW9kdWxlWyJIRUFQOCJdPUhFQVA4PW5ldyBJbnQ4QXJyYXkoYnVmKTtNb2R1bGVbIkhFQVAxNiJdPUhFQVAxNj1uZXcgSW50MTZBcnJheShidWYpO01vZHVsZVsiSEVBUDMyIl09SEVBUDMyPW5ldyBJbnQzMkFycmF5KGJ1Zik7TW9kdWxlWyJIRUFQVTgiXT1IRUFQVTg9bmV3IFVpbnQ4QXJyYXkoYnVmKTtNb2R1bGVbIkhFQVBVMTYiXT1IRUFQVTE2PW5ldyBVaW50MTZBcnJheShidWYpO01vZHVsZVsiSEVBUFUzMiJdPUhFQVBVMzI9bmV3IFVpbnQzMkFycmF5KGJ1Zik7TW9kdWxlWyJIRUFQRjMyIl09SEVBUEYzMj1uZXcgRmxvYXQzMkFycmF5KGJ1Zik7TW9kdWxlWyJIRUFQRjY0Il09SEVBUEY2ND1uZXcgRmxvYXQ2NEFycmF5KGJ1Zil9dmFyIElOSVRJQUxfTUVNT1JZPU1vZHVsZVsiSU5JVElBTF9NRU1PUlkiXXx8MTY3NzcyMTY7dmFyIHdhc21UYWJsZTt2YXIgX19BVFBSRVJVTl9fPVtdO3ZhciBfX0FUSU5JVF9fPVtdO3ZhciBfX0FURVhJVF9fPVtdO3ZhciBfX0FUUE9TVFJVTl9fPVtdO3ZhciBydW50aW1lSW5pdGlhbGl6ZWQ9ZmFsc2U7dmFyIHJ1bnRpbWVFeGl0ZWQ9ZmFsc2U7dmFyIHJ1bnRpbWVLZWVwYWxpdmVDb3VudGVyPTA7ZnVuY3Rpb24ga2VlcFJ1bnRpbWVBbGl2ZSgpe3JldHVybiBub0V4aXRSdW50aW1lfHxydW50aW1lS2VlcGFsaXZlQ291bnRlcj4wfWZ1bmN0aW9uIHByZVJ1bigpe2lmKE1vZHVsZVsicHJlUnVuIl0pe2lmKHR5cGVvZiBNb2R1bGVbInByZVJ1biJdPT0iZnVuY3Rpb24iKU1vZHVsZVsicHJlUnVuIl09W01vZHVsZVsicHJlUnVuIl1dO3doaWxlKE1vZHVsZVsicHJlUnVuIl0ubGVuZ3RoKXthZGRPblByZVJ1bihNb2R1bGVbInByZVJ1biJdLnNoaWZ0KCkpfX1jYWxsUnVudGltZUNhbGxiYWNrcyhfX0FUUFJFUlVOX18pfWZ1bmN0aW9uIGluaXRSdW50aW1lKCl7cnVudGltZUluaXRpYWxpemVkPXRydWU7aWYoIU1vZHVsZVsibm9GU0luaXQiXSYmIUZTLmluaXQuaW5pdGlhbGl6ZWQpRlMuaW5pdCgpO0ZTLmlnbm9yZVBlcm1pc3Npb25zPWZhbHNlO1RUWS5pbml0KCk7Y2FsbFJ1bnRpbWVDYWxsYmFja3MoX19BVElOSVRfXyl9ZnVuY3Rpb24gZXhpdFJ1bnRpbWUoKXtfX19mdW5jc19vbl9leGl0KCk7Y2FsbFJ1bnRpbWVDYWxsYmFja3MoX19BVEVYSVRfXyk7RlMucXVpdCgpO1RUWS5zaHV0ZG93bigpO3J1bnRpbWVFeGl0ZWQ9dHJ1ZX1mdW5jdGlvbiBwb3N0UnVuKCl7aWYoTW9kdWxlWyJwb3N0UnVuIl0pe2lmKHR5cGVvZiBNb2R1bGVbInBvc3RSdW4iXT09ImZ1bmN0aW9uIilNb2R1bGVbInBvc3RSdW4iXT1bTW9kdWxlWyJwb3N0UnVuIl1dO3doaWxlKE1vZHVsZVsicG9zdFJ1biJdLmxlbmd0aCl7YWRkT25Qb3N0UnVuKE1vZHVsZVsicG9zdFJ1biJdLnNoaWZ0KCkpfX1jYWxsUnVudGltZUNhbGxiYWNrcyhfX0FUUE9TVFJVTl9fKX1mdW5jdGlvbiBhZGRPblByZVJ1bihjYil7X19BVFBSRVJVTl9fLnVuc2hpZnQoY2IpfWZ1bmN0aW9uIGFkZE9uSW5pdChjYil7X19BVElOSVRfXy51bnNoaWZ0KGNiKX1mdW5jdGlvbiBhZGRPblBvc3RSdW4oY2Ipe19fQVRQT1NUUlVOX18udW5zaGlmdChjYil9dmFyIHJ1bkRlcGVuZGVuY2llcz0wO3ZhciBydW5EZXBlbmRlbmN5V2F0Y2hlcj1udWxsO3ZhciBkZXBlbmRlbmNpZXNGdWxmaWxsZWQ9bnVsbDtmdW5jdGlvbiBnZXRVbmlxdWVSdW5EZXBlbmRlbmN5KGlkKXtyZXR1cm4gaWR9ZnVuY3Rpb24gYWRkUnVuRGVwZW5kZW5jeShpZCl7cnVuRGVwZW5kZW5jaWVzKys7aWYoTW9kdWxlWyJtb25pdG9yUnVuRGVwZW5kZW5jaWVzIl0pe01vZHVsZVsibW9uaXRvclJ1bkRlcGVuZGVuY2llcyJdKHJ1bkRlcGVuZGVuY2llcyl9fWZ1bmN0aW9uIHJlbW92ZVJ1bkRlcGVuZGVuY3koaWQpe3J1bkRlcGVuZGVuY2llcy0tO2lmKE1vZHVsZVsibW9uaXRvclJ1bkRlcGVuZGVuY2llcyJdKXtNb2R1bGVbIm1vbml0b3JSdW5EZXBlbmRlbmNpZXMiXShydW5EZXBlbmRlbmNpZXMpfWlmKHJ1bkRlcGVuZGVuY2llcz09MCl7aWYocnVuRGVwZW5kZW5jeVdhdGNoZXIhPT1udWxsKXtjbGVhckludGVydmFsKHJ1bkRlcGVuZGVuY3lXYXRjaGVyKTtydW5EZXBlbmRlbmN5V2F0Y2hlcj1udWxsfWlmKGRlcGVuZGVuY2llc0Z1bGZpbGxlZCl7dmFyIGNhbGxiYWNrPWRlcGVuZGVuY2llc0Z1bGZpbGxlZDtkZXBlbmRlbmNpZXNGdWxmaWxsZWQ9bnVsbDtjYWxsYmFjaygpfX19ZnVuY3Rpb24gYWJvcnQod2hhdCl7e2lmKE1vZHVsZVsib25BYm9ydCJdKXtNb2R1bGVbIm9uQWJvcnQiXSh3aGF0KX19d2hhdD0iQWJvcnRlZCgiK3doYXQrIikiO2Vycih3aGF0KTtBQk9SVD10cnVlO0VYSVRTVEFUVVM9MTt3aGF0Kz0iLiBCdWlsZCB3aXRoIC1zQVNTRVJUSU9OUyBmb3IgbW9yZSBpbmZvLiI7dmFyIGU9bmV3IFdlYkFzc2VtYmx5LlJ1bnRpbWVFcnJvcih3aGF0KTtyZWFkeVByb21pc2VSZWplY3QoZSk7dGhyb3cgZX12YXIgZGF0YVVSSVByZWZpeD0iZGF0YTphcHBsaWNhdGlvbi9vY3RldC1zdHJlYW07YmFzZTY0LCI7ZnVuY3Rpb24gaXNEYXRhVVJJKGZpbGVuYW1lKXtyZXR1cm4gZmlsZW5hbWUuc3RhcnRzV2l0aChkYXRhVVJJUHJlZml4KX12YXIgd2FzbUJpbmFyeUZpbGU7aWYoTW9kdWxlWyJsb2NhdGVGaWxlIl0pe3dhc21CaW5hcnlGaWxlPSJtYWluLWJpbi1tb25vLndhc20iO2lmKCFpc0RhdGFVUkkod2FzbUJpbmFyeUZpbGUpKXt3YXNtQmluYXJ5RmlsZT1sb2NhdGVGaWxlKHdhc21CaW5hcnlGaWxlKX19ZWxzZXt3YXNtQmluYXJ5RmlsZT1uZXcgVVJMKCJtYWluLWJpbi1tb25vLndhc20iLGxvY2F0aW9uLmhyZWYpLnRvU3RyaW5nKCl9ZnVuY3Rpb24gZ2V0QmluYXJ5KGZpbGUpe3RyeXtpZihmaWxlPT13YXNtQmluYXJ5RmlsZSYmd2FzbUJpbmFyeSl7cmV0dXJuIG5ldyBVaW50OEFycmF5KHdhc21CaW5hcnkpfWlmKHJlYWRCaW5hcnkpe3JldHVybiByZWFkQmluYXJ5KGZpbGUpfWVsc2V7dGhyb3ciYm90aCBhc3luYyBhbmQgc3luYyBmZXRjaGluZyBvZiB0aGUgd2FzbSBmYWlsZWQifX1jYXRjaChlcnIpe2Fib3J0KGVycil9fWZ1bmN0aW9uIGdldEJpbmFyeVByb21pc2UoKXtpZighd2FzbUJpbmFyeSYmKEVOVklST05NRU5UX0lTX1dFQnx8RU5WSVJPTk1FTlRfSVNfV09SS0VSKSl7aWYodHlwZW9mIGZldGNoPT0iZnVuY3Rpb24iKXtyZXR1cm4gZmV0Y2god2FzbUJpbmFyeUZpbGUse2NyZWRlbnRpYWxzOiJzYW1lLW9yaWdpbiJ9KS50aGVuKGZ1bmN0aW9uKHJlc3BvbnNlKXtpZighcmVzcG9uc2VbIm9rIl0pe3Rocm93ImZhaWxlZCB0byBsb2FkIHdhc20gYmluYXJ5IGZpbGUgYXQgJyIrd2FzbUJpbmFyeUZpbGUrIicifXJldHVybiByZXNwb25zZVsiYXJyYXlCdWZmZXIiXSgpfSkuY2F0Y2goZnVuY3Rpb24oKXtyZXR1cm4gZ2V0QmluYXJ5KHdhc21CaW5hcnlGaWxlKX0pfX1yZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCkudGhlbihmdW5jdGlvbigpe3JldHVybiBnZXRCaW5hcnkod2FzbUJpbmFyeUZpbGUpfSl9ZnVuY3Rpb24gY3JlYXRlV2FzbSgpe3ZhciBpbmZvPXsiYSI6YXNtTGlicmFyeUFyZ307ZnVuY3Rpb24gcmVjZWl2ZUluc3RhbmNlKGluc3RhbmNlLG1vZHVsZSl7dmFyIGV4cG9ydHM9aW5zdGFuY2UuZXhwb3J0cztNb2R1bGVbImFzbSJdPWV4cG9ydHM7d2FzbU1lbW9yeT1Nb2R1bGVbImFzbSJdWyJOYSJdO3VwZGF0ZUdsb2JhbEJ1ZmZlckFuZFZpZXdzKHdhc21NZW1vcnkuYnVmZmVyKTt3YXNtVGFibGU9TW9kdWxlWyJhc20iXVsiUGEiXTthZGRPbkluaXQoTW9kdWxlWyJhc20iXVsiT2EiXSk7cmVtb3ZlUnVuRGVwZW5kZW5jeSgid2FzbS1pbnN0YW50aWF0ZSIpfWFkZFJ1bkRlcGVuZGVuY3koIndhc20taW5zdGFudGlhdGUiKTtmdW5jdGlvbiByZWNlaXZlSW5zdGFudGlhdGlvblJlc3VsdChyZXN1bHQpe3JlY2VpdmVJbnN0YW5jZShyZXN1bHRbImluc3RhbmNlIl0pfWZ1bmN0aW9uIGluc3RhbnRpYXRlQXJyYXlCdWZmZXIocmVjZWl2ZXIpe3JldHVybiBnZXRCaW5hcnlQcm9taXNlKCkudGhlbihmdW5jdGlvbihiaW5hcnkpe3JldHVybiBXZWJBc3NlbWJseS5pbnN0YW50aWF0ZShiaW5hcnksaW5mbyl9KS50aGVuKGZ1bmN0aW9uKGluc3RhbmNlKXtyZXR1cm4gaW5zdGFuY2V9KS50aGVuKHJlY2VpdmVyLGZ1bmN0aW9uKHJlYXNvbil7ZXJyKCJmYWlsZWQgdG8gYXN5bmNocm9ub3VzbHkgcHJlcGFyZSB3YXNtOiAiK3JlYXNvbik7YWJvcnQocmVhc29uKX0pfWZ1bmN0aW9uIGluc3RhbnRpYXRlQXN5bmMoKXtpZighd2FzbUJpbmFyeSYmdHlwZW9mIFdlYkFzc2VtYmx5Lmluc3RhbnRpYXRlU3RyZWFtaW5nPT0iZnVuY3Rpb24iJiYhaXNEYXRhVVJJKHdhc21CaW5hcnlGaWxlKSYmdHlwZW9mIGZldGNoPT0iZnVuY3Rpb24iKXtyZXR1cm4gZmV0Y2god2FzbUJpbmFyeUZpbGUse2NyZWRlbnRpYWxzOiJzYW1lLW9yaWdpbiJ9KS50aGVuKGZ1bmN0aW9uKHJlc3BvbnNlKXt2YXIgcmVzdWx0PVdlYkFzc2VtYmx5Lmluc3RhbnRpYXRlU3RyZWFtaW5nKHJlc3BvbnNlLGluZm8pO3JldHVybiByZXN1bHQudGhlbihyZWNlaXZlSW5zdGFudGlhdGlvblJlc3VsdCxmdW5jdGlvbihyZWFzb24pe2Vycigid2FzbSBzdHJlYW1pbmcgY29tcGlsZSBmYWlsZWQ6ICIrcmVhc29uKTtlcnIoImZhbGxpbmcgYmFjayB0byBBcnJheUJ1ZmZlciBpbnN0YW50aWF0aW9uIik7cmV0dXJuIGluc3RhbnRpYXRlQXJyYXlCdWZmZXIocmVjZWl2ZUluc3RhbnRpYXRpb25SZXN1bHQpfSl9KX1lbHNle3JldHVybiBpbnN0YW50aWF0ZUFycmF5QnVmZmVyKHJlY2VpdmVJbnN0YW50aWF0aW9uUmVzdWx0KX19aWYoTW9kdWxlWyJpbnN0YW50aWF0ZVdhc20iXSl7dHJ5e3ZhciBleHBvcnRzPU1vZHVsZVsiaW5zdGFudGlhdGVXYXNtIl0oaW5mbyxyZWNlaXZlSW5zdGFuY2UpO3JldHVybiBleHBvcnRzfWNhdGNoKGUpe2VycigiTW9kdWxlLmluc3RhbnRpYXRlV2FzbSBjYWxsYmFjayBmYWlsZWQgd2l0aCBlcnJvcjogIitlKTtyZXR1cm4gZmFsc2V9fWluc3RhbnRpYXRlQXN5bmMoKS5jYXRjaChyZWFkeVByb21pc2VSZWplY3QpO3JldHVybnt9fXZhciB0ZW1wRG91YmxlO3ZhciB0ZW1wSTY0O2Z1bmN0aW9uIGNhbGxSdW50aW1lQ2FsbGJhY2tzKGNhbGxiYWNrcyl7d2hpbGUoY2FsbGJhY2tzLmxlbmd0aD4wKXt2YXIgY2FsbGJhY2s9Y2FsbGJhY2tzLnNoaWZ0KCk7aWYodHlwZW9mIGNhbGxiYWNrPT0iZnVuY3Rpb24iKXtjYWxsYmFjayhNb2R1bGUpO2NvbnRpbnVlfXZhciBmdW5jPWNhbGxiYWNrLmZ1bmM7aWYodHlwZW9mIGZ1bmM9PSJudW1iZXIiKXtpZihjYWxsYmFjay5hcmc9PT11bmRlZmluZWQpe2dldFdhc21UYWJsZUVudHJ5KGZ1bmMpKCl9ZWxzZXtnZXRXYXNtVGFibGVFbnRyeShmdW5jKShjYWxsYmFjay5hcmcpfX1lbHNle2Z1bmMoY2FsbGJhY2suYXJnPT09dW5kZWZpbmVkP251bGw6Y2FsbGJhY2suYXJnKX19fXZhciB3YXNtVGFibGVNaXJyb3I9W107ZnVuY3Rpb24gZ2V0V2FzbVRhYmxlRW50cnkoZnVuY1B0cil7dmFyIGZ1bmM9d2FzbVRhYmxlTWlycm9yW2Z1bmNQdHJdO2lmKCFmdW5jKXtpZihmdW5jUHRyPj13YXNtVGFibGVNaXJyb3IubGVuZ3RoKXdhc21UYWJsZU1pcnJvci5sZW5ndGg9ZnVuY1B0cisxO3dhc21UYWJsZU1pcnJvcltmdW5jUHRyXT1mdW5jPXdhc21UYWJsZS5nZXQoZnVuY1B0cil9cmV0dXJuIGZ1bmN9ZnVuY3Rpb24gX19fYXNzZXJ0X2ZhaWwoY29uZGl0aW9uLGZpbGVuYW1lLGxpbmUsZnVuYyl7YWJvcnQoIkFzc2VydGlvbiBmYWlsZWQ6ICIrVVRGOFRvU3RyaW5nKGNvbmRpdGlvbikrIiwgYXQ6ICIrW2ZpbGVuYW1lP1VURjhUb1N0cmluZyhmaWxlbmFtZSk6InVua25vd24gZmlsZW5hbWUiLGxpbmUsZnVuYz9VVEY4VG9TdHJpbmcoZnVuYyk6InVua25vd24gZnVuY3Rpb24iXSl9ZnVuY3Rpb24gX19fY3hhX2FsbG9jYXRlX2V4Y2VwdGlvbihzaXplKXtyZXR1cm4gX21hbGxvYyhzaXplKzI0KSsyNH12YXIgZXhjZXB0aW9uQ2F1Z2h0PVtdO2Z1bmN0aW9uIGV4Y2VwdGlvbl9hZGRSZWYoaW5mbyl7aW5mby5hZGRfcmVmKCl9dmFyIHVuY2F1Z2h0RXhjZXB0aW9uQ291bnQ9MDtmdW5jdGlvbiBfX19jeGFfYmVnaW5fY2F0Y2gocHRyKXt2YXIgaW5mbz1uZXcgRXhjZXB0aW9uSW5mbyhwdHIpO2lmKCFpbmZvLmdldF9jYXVnaHQoKSl7aW5mby5zZXRfY2F1Z2h0KHRydWUpO3VuY2F1Z2h0RXhjZXB0aW9uQ291bnQtLX1pbmZvLnNldF9yZXRocm93bihmYWxzZSk7ZXhjZXB0aW9uQ2F1Z2h0LnB1c2goaW5mbyk7ZXhjZXB0aW9uX2FkZFJlZihpbmZvKTtyZXR1cm4gaW5mby5nZXRfZXhjZXB0aW9uX3B0cigpfWZ1bmN0aW9uIF9fX2N4YV9jdXJyZW50X3ByaW1hcnlfZXhjZXB0aW9uKCl7aWYoIWV4Y2VwdGlvbkNhdWdodC5sZW5ndGgpe3JldHVybiAwfXZhciBpbmZvPWV4Y2VwdGlvbkNhdWdodFtleGNlcHRpb25DYXVnaHQubGVuZ3RoLTFdO2V4Y2VwdGlvbl9hZGRSZWYoaW5mbyk7cmV0dXJuIGluZm8uZXhjUHRyfWZ1bmN0aW9uIEV4Y2VwdGlvbkluZm8oZXhjUHRyKXt0aGlzLmV4Y1B0cj1leGNQdHI7dGhpcy5wdHI9ZXhjUHRyLTI0O3RoaXMuc2V0X3R5cGU9ZnVuY3Rpb24odHlwZSl7SEVBUFUzMlt0aGlzLnB0cis0Pj4yXT10eXBlfTt0aGlzLmdldF90eXBlPWZ1bmN0aW9uKCl7cmV0dXJuIEhFQVBVMzJbdGhpcy5wdHIrND4+Ml19O3RoaXMuc2V0X2Rlc3RydWN0b3I9ZnVuY3Rpb24oZGVzdHJ1Y3Rvcil7SEVBUFUzMlt0aGlzLnB0cis4Pj4yXT1kZXN0cnVjdG9yfTt0aGlzLmdldF9kZXN0cnVjdG9yPWZ1bmN0aW9uKCl7cmV0dXJuIEhFQVBVMzJbdGhpcy5wdHIrOD4+Ml19O3RoaXMuc2V0X3JlZmNvdW50PWZ1bmN0aW9uKHJlZmNvdW50KXtIRUFQMzJbdGhpcy5wdHI+PjJdPXJlZmNvdW50fTt0aGlzLnNldF9jYXVnaHQ9ZnVuY3Rpb24oY2F1Z2h0KXtjYXVnaHQ9Y2F1Z2h0PzE6MDtIRUFQOFt0aGlzLnB0cisxMj4+MF09Y2F1Z2h0fTt0aGlzLmdldF9jYXVnaHQ9ZnVuY3Rpb24oKXtyZXR1cm4gSEVBUDhbdGhpcy5wdHIrMTI+PjBdIT0wfTt0aGlzLnNldF9yZXRocm93bj1mdW5jdGlvbihyZXRocm93bil7cmV0aHJvd249cmV0aHJvd24/MTowO0hFQVA4W3RoaXMucHRyKzEzPj4wXT1yZXRocm93bn07dGhpcy5nZXRfcmV0aHJvd249ZnVuY3Rpb24oKXtyZXR1cm4gSEVBUDhbdGhpcy5wdHIrMTM+PjBdIT0wfTt0aGlzLmluaXQ9ZnVuY3Rpb24odHlwZSxkZXN0cnVjdG9yKXt0aGlzLnNldF9hZGp1c3RlZF9wdHIoMCk7dGhpcy5zZXRfdHlwZSh0eXBlKTt0aGlzLnNldF9kZXN0cnVjdG9yKGRlc3RydWN0b3IpO3RoaXMuc2V0X3JlZmNvdW50KDApO3RoaXMuc2V0X2NhdWdodChmYWxzZSk7dGhpcy5zZXRfcmV0aHJvd24oZmFsc2UpfTt0aGlzLmFkZF9yZWY9ZnVuY3Rpb24oKXt2YXIgdmFsdWU9SEVBUDMyW3RoaXMucHRyPj4yXTtIRUFQMzJbdGhpcy5wdHI+PjJdPXZhbHVlKzF9O3RoaXMucmVsZWFzZV9yZWY9ZnVuY3Rpb24oKXt2YXIgcHJldj1IRUFQMzJbdGhpcy5wdHI+PjJdO0hFQVAzMlt0aGlzLnB0cj4+Ml09cHJldi0xO3JldHVybiBwcmV2PT09MX07dGhpcy5zZXRfYWRqdXN0ZWRfcHRyPWZ1bmN0aW9uKGFkanVzdGVkUHRyKXtIRUFQVTMyW3RoaXMucHRyKzE2Pj4yXT1hZGp1c3RlZFB0cn07dGhpcy5nZXRfYWRqdXN0ZWRfcHRyPWZ1bmN0aW9uKCl7cmV0dXJuIEhFQVBVMzJbdGhpcy5wdHIrMTY+PjJdfTt0aGlzLmdldF9leGNlcHRpb25fcHRyPWZ1bmN0aW9uKCl7dmFyIGlzUG9pbnRlcj1fX19jeGFfaXNfcG9pbnRlcl90eXBlKHRoaXMuZ2V0X3R5cGUoKSk7aWYoaXNQb2ludGVyKXtyZXR1cm4gSEVBUFUzMlt0aGlzLmV4Y1B0cj4+Ml19dmFyIGFkanVzdGVkPXRoaXMuZ2V0X2FkanVzdGVkX3B0cigpO2lmKGFkanVzdGVkIT09MClyZXR1cm4gYWRqdXN0ZWQ7cmV0dXJuIHRoaXMuZXhjUHRyfX1mdW5jdGlvbiBfX19jeGFfZnJlZV9leGNlcHRpb24ocHRyKXtyZXR1cm4gX2ZyZWUobmV3IEV4Y2VwdGlvbkluZm8ocHRyKS5wdHIpfWZ1bmN0aW9uIGV4Y2VwdGlvbl9kZWNSZWYoaW5mbyl7aWYoaW5mby5yZWxlYXNlX3JlZigpJiYhaW5mby5nZXRfcmV0aHJvd24oKSl7dmFyIGRlc3RydWN0b3I9aW5mby5nZXRfZGVzdHJ1Y3RvcigpO2lmKGRlc3RydWN0b3Ipe2dldFdhc21UYWJsZUVudHJ5KGRlc3RydWN0b3IpKGluZm8uZXhjUHRyKX1fX19jeGFfZnJlZV9leGNlcHRpb24oaW5mby5leGNQdHIpfX1mdW5jdGlvbiBfX19jeGFfZGVjcmVtZW50X2V4Y2VwdGlvbl9yZWZjb3VudChwdHIpe2lmKCFwdHIpcmV0dXJuO2V4Y2VwdGlvbl9kZWNSZWYobmV3IEV4Y2VwdGlvbkluZm8ocHRyKSl9dmFyIGV4Y2VwdGlvbkxhc3Q9MDtmdW5jdGlvbiBfX19jeGFfZW5kX2NhdGNoKCl7X3NldFRocmV3KDApO3ZhciBpbmZvPWV4Y2VwdGlvbkNhdWdodC5wb3AoKTtleGNlcHRpb25fZGVjUmVmKGluZm8pO2V4Y2VwdGlvbkxhc3Q9MH1mdW5jdGlvbiBfX19yZXN1bWVFeGNlcHRpb24ocHRyKXtpZighZXhjZXB0aW9uTGFzdCl7ZXhjZXB0aW9uTGFzdD1wdHJ9dGhyb3cgcHRyfWZ1bmN0aW9uIF9fX2N4YV9maW5kX21hdGNoaW5nX2NhdGNoXzIoKXt2YXIgdGhyb3duPWV4Y2VwdGlvbkxhc3Q7aWYoIXRocm93bil7c2V0VGVtcFJldDAoMCk7cmV0dXJuIDB9dmFyIGluZm89bmV3IEV4Y2VwdGlvbkluZm8odGhyb3duKTtpbmZvLnNldF9hZGp1c3RlZF9wdHIodGhyb3duKTt2YXIgdGhyb3duVHlwZT1pbmZvLmdldF90eXBlKCk7aWYoIXRocm93blR5cGUpe3NldFRlbXBSZXQwKDApO3JldHVybiB0aHJvd259dmFyIHR5cGVBcnJheT1BcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMpO2Zvcih2YXIgaT0wO2k8dHlwZUFycmF5Lmxlbmd0aDtpKyspe3ZhciBjYXVnaHRUeXBlPXR5cGVBcnJheVtpXTtpZihjYXVnaHRUeXBlPT09MHx8Y2F1Z2h0VHlwZT09PXRocm93blR5cGUpe2JyZWFrfXZhciBhZGp1c3RlZF9wdHJfYWRkcj1pbmZvLnB0cisxNjtpZihfX19jeGFfY2FuX2NhdGNoKGNhdWdodFR5cGUsdGhyb3duVHlwZSxhZGp1c3RlZF9wdHJfYWRkcikpe3NldFRlbXBSZXQwKGNhdWdodFR5cGUpO3JldHVybiB0aHJvd259fXNldFRlbXBSZXQwKHRocm93blR5cGUpO3JldHVybiB0aHJvd259ZnVuY3Rpb24gX19fY3hhX2ZpbmRfbWF0Y2hpbmdfY2F0Y2hfMygpe3ZhciB0aHJvd249ZXhjZXB0aW9uTGFzdDtpZighdGhyb3duKXtzZXRUZW1wUmV0MCgwKTtyZXR1cm4gMH12YXIgaW5mbz1uZXcgRXhjZXB0aW9uSW5mbyh0aHJvd24pO2luZm8uc2V0X2FkanVzdGVkX3B0cih0aHJvd24pO3ZhciB0aHJvd25UeXBlPWluZm8uZ2V0X3R5cGUoKTtpZighdGhyb3duVHlwZSl7c2V0VGVtcFJldDAoMCk7cmV0dXJuIHRocm93bn12YXIgdHlwZUFycmF5PUFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cyk7Zm9yKHZhciBpPTA7aTx0eXBlQXJyYXkubGVuZ3RoO2krKyl7dmFyIGNhdWdodFR5cGU9dHlwZUFycmF5W2ldO2lmKGNhdWdodFR5cGU9PT0wfHxjYXVnaHRUeXBlPT09dGhyb3duVHlwZSl7YnJlYWt9dmFyIGFkanVzdGVkX3B0cl9hZGRyPWluZm8ucHRyKzE2O2lmKF9fX2N4YV9jYW5fY2F0Y2goY2F1Z2h0VHlwZSx0aHJvd25UeXBlLGFkanVzdGVkX3B0cl9hZGRyKSl7c2V0VGVtcFJldDAoY2F1Z2h0VHlwZSk7cmV0dXJuIHRocm93bn19c2V0VGVtcFJldDAodGhyb3duVHlwZSk7cmV0dXJuIHRocm93bn1mdW5jdGlvbiBfX19jeGFfaW5jcmVtZW50X2V4Y2VwdGlvbl9yZWZjb3VudChwdHIpe2lmKCFwdHIpcmV0dXJuO2V4Y2VwdGlvbl9hZGRSZWYobmV3IEV4Y2VwdGlvbkluZm8ocHRyKSl9ZnVuY3Rpb24gX19fY3hhX3JldGhyb3coKXt2YXIgaW5mbz1leGNlcHRpb25DYXVnaHQucG9wKCk7aWYoIWluZm8pe2Fib3J0KCJubyBleGNlcHRpb24gdG8gdGhyb3ciKX12YXIgcHRyPWluZm8uZXhjUHRyO2lmKCFpbmZvLmdldF9yZXRocm93bigpKXtleGNlcHRpb25DYXVnaHQucHVzaChpbmZvKTtpbmZvLnNldF9yZXRocm93bih0cnVlKTtpbmZvLnNldF9jYXVnaHQoZmFsc2UpO3VuY2F1Z2h0RXhjZXB0aW9uQ291bnQrK31leGNlcHRpb25MYXN0PXB0cjt0aHJvdyBwdHJ9ZnVuY3Rpb24gX19fY3hhX3JldGhyb3dfcHJpbWFyeV9leGNlcHRpb24ocHRyKXtpZighcHRyKXJldHVybjt2YXIgaW5mbz1uZXcgRXhjZXB0aW9uSW5mbyhwdHIpO2V4Y2VwdGlvbkNhdWdodC5wdXNoKGluZm8pO2luZm8uc2V0X3JldGhyb3duKHRydWUpO19fX2N4YV9yZXRocm93KCl9ZnVuY3Rpb24gX19fY3hhX3Rocm93KHB0cix0eXBlLGRlc3RydWN0b3Ipe3ZhciBpbmZvPW5ldyBFeGNlcHRpb25JbmZvKHB0cik7aW5mby5pbml0KHR5cGUsZGVzdHJ1Y3Rvcik7ZXhjZXB0aW9uTGFzdD1wdHI7dW5jYXVnaHRFeGNlcHRpb25Db3VudCsrO3Rocm93IHB0cn1mdW5jdGlvbiBfX19jeGFfdW5jYXVnaHRfZXhjZXB0aW9ucygpe3JldHVybiB1bmNhdWdodEV4Y2VwdGlvbkNvdW50fXZhciBQQVRIPXtpc0FiczpwYXRoPT5wYXRoLmNoYXJBdCgwKT09PSIvIixzcGxpdFBhdGg6ZmlsZW5hbWU9Pnt2YXIgc3BsaXRQYXRoUmU9L14oXC8/fCkoW1xzXFNdKj8pKCg/OlwuezEsMn18W15cL10rP3wpKFwuW14uXC9dKnwpKSg/OltcL10qKSQvO3JldHVybiBzcGxpdFBhdGhSZS5leGVjKGZpbGVuYW1lKS5zbGljZSgxKX0sbm9ybWFsaXplQXJyYXk6KHBhcnRzLGFsbG93QWJvdmVSb290KT0+e3ZhciB1cD0wO2Zvcih2YXIgaT1wYXJ0cy5sZW5ndGgtMTtpPj0wO2ktLSl7dmFyIGxhc3Q9cGFydHNbaV07aWYobGFzdD09PSIuIil7cGFydHMuc3BsaWNlKGksMSl9ZWxzZSBpZihsYXN0PT09Ii4uIil7cGFydHMuc3BsaWNlKGksMSk7dXArK31lbHNlIGlmKHVwKXtwYXJ0cy5zcGxpY2UoaSwxKTt1cC0tfX1pZihhbGxvd0Fib3ZlUm9vdCl7Zm9yKDt1cDt1cC0tKXtwYXJ0cy51bnNoaWZ0KCIuLiIpfX1yZXR1cm4gcGFydHN9LG5vcm1hbGl6ZTpwYXRoPT57dmFyIGlzQWJzb2x1dGU9UEFUSC5pc0FicyhwYXRoKSx0cmFpbGluZ1NsYXNoPXBhdGguc3Vic3RyKC0xKT09PSIvIjtwYXRoPVBBVEgubm9ybWFsaXplQXJyYXkocGF0aC5zcGxpdCgiLyIpLmZpbHRlcihwPT4hIXApLCFpc0Fic29sdXRlKS5qb2luKCIvIik7aWYoIXBhdGgmJiFpc0Fic29sdXRlKXtwYXRoPSIuIn1pZihwYXRoJiZ0cmFpbGluZ1NsYXNoKXtwYXRoKz0iLyJ9cmV0dXJuKGlzQWJzb2x1dGU/Ii8iOiIiKStwYXRofSxkaXJuYW1lOnBhdGg9Pnt2YXIgcmVzdWx0PVBBVEguc3BsaXRQYXRoKHBhdGgpLHJvb3Q9cmVzdWx0WzBdLGRpcj1yZXN1bHRbMV07aWYoIXJvb3QmJiFkaXIpe3JldHVybiIuIn1pZihkaXIpe2Rpcj1kaXIuc3Vic3RyKDAsZGlyLmxlbmd0aC0xKX1yZXR1cm4gcm9vdCtkaXJ9LGJhc2VuYW1lOnBhdGg9PntpZihwYXRoPT09Ii8iKXJldHVybiIvIjtwYXRoPVBBVEgubm9ybWFsaXplKHBhdGgpO3BhdGg9cGF0aC5yZXBsYWNlKC9cLyQvLCIiKTt2YXIgbGFzdFNsYXNoPXBhdGgubGFzdEluZGV4T2YoIi8iKTtpZihsYXN0U2xhc2g9PT0tMSlyZXR1cm4gcGF0aDtyZXR1cm4gcGF0aC5zdWJzdHIobGFzdFNsYXNoKzEpfSxqb2luOmZ1bmN0aW9uKCl7dmFyIHBhdGhzPUFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywwKTtyZXR1cm4gUEFUSC5ub3JtYWxpemUocGF0aHMuam9pbigiLyIpKX0sam9pbjI6KGwscik9PntyZXR1cm4gUEFUSC5ub3JtYWxpemUobCsiLyIrcil9fTtmdW5jdGlvbiBnZXRSYW5kb21EZXZpY2UoKXtpZih0eXBlb2YgY3J5cHRvPT0ib2JqZWN0IiYmdHlwZW9mIGNyeXB0b1siZ2V0UmFuZG9tVmFsdWVzIl09PSJmdW5jdGlvbiIpe3ZhciByYW5kb21CdWZmZXI9bmV3IFVpbnQ4QXJyYXkoMSk7cmV0dXJuIGZ1bmN0aW9uKCl7Y3J5cHRvLmdldFJhbmRvbVZhbHVlcyhyYW5kb21CdWZmZXIpO3JldHVybiByYW5kb21CdWZmZXJbMF19fWVsc2UgcmV0dXJuIGZ1bmN0aW9uKCl7YWJvcnQoInJhbmRvbURldmljZSIpfX12YXIgUEFUSF9GUz17cmVzb2x2ZTpmdW5jdGlvbigpe3ZhciByZXNvbHZlZFBhdGg9IiIscmVzb2x2ZWRBYnNvbHV0ZT1mYWxzZTtmb3IodmFyIGk9YXJndW1lbnRzLmxlbmd0aC0xO2k+PS0xJiYhcmVzb2x2ZWRBYnNvbHV0ZTtpLS0pe3ZhciBwYXRoPWk+PTA/YXJndW1lbnRzW2ldOkZTLmN3ZCgpO2lmKHR5cGVvZiBwYXRoIT0ic3RyaW5nIil7dGhyb3cgbmV3IFR5cGVFcnJvcigiQXJndW1lbnRzIHRvIHBhdGgucmVzb2x2ZSBtdXN0IGJlIHN0cmluZ3MiKX1lbHNlIGlmKCFwYXRoKXtyZXR1cm4iIn1yZXNvbHZlZFBhdGg9cGF0aCsiLyIrcmVzb2x2ZWRQYXRoO3Jlc29sdmVkQWJzb2x1dGU9UEFUSC5pc0FicyhwYXRoKX1yZXNvbHZlZFBhdGg9UEFUSC5ub3JtYWxpemVBcnJheShyZXNvbHZlZFBhdGguc3BsaXQoIi8iKS5maWx0ZXIocD0+ISFwKSwhcmVzb2x2ZWRBYnNvbHV0ZSkuam9pbigiLyIpO3JldHVybihyZXNvbHZlZEFic29sdXRlPyIvIjoiIikrcmVzb2x2ZWRQYXRofHwiLiJ9LHJlbGF0aXZlOihmcm9tLHRvKT0+e2Zyb209UEFUSF9GUy5yZXNvbHZlKGZyb20pLnN1YnN0cigxKTt0bz1QQVRIX0ZTLnJlc29sdmUodG8pLnN1YnN0cigxKTtmdW5jdGlvbiB0cmltKGFycil7dmFyIHN0YXJ0PTA7Zm9yKDtzdGFydDxhcnIubGVuZ3RoO3N0YXJ0Kyspe2lmKGFycltzdGFydF0hPT0iIilicmVha312YXIgZW5kPWFyci5sZW5ndGgtMTtmb3IoO2VuZD49MDtlbmQtLSl7aWYoYXJyW2VuZF0hPT0iIilicmVha31pZihzdGFydD5lbmQpcmV0dXJuW107cmV0dXJuIGFyci5zbGljZShzdGFydCxlbmQtc3RhcnQrMSl9dmFyIGZyb21QYXJ0cz10cmltKGZyb20uc3BsaXQoIi8iKSk7dmFyIHRvUGFydHM9dHJpbSh0by5zcGxpdCgiLyIpKTt2YXIgbGVuZ3RoPU1hdGgubWluKGZyb21QYXJ0cy5sZW5ndGgsdG9QYXJ0cy5sZW5ndGgpO3ZhciBzYW1lUGFydHNMZW5ndGg9bGVuZ3RoO2Zvcih2YXIgaT0wO2k8bGVuZ3RoO2krKyl7aWYoZnJvbVBhcnRzW2ldIT09dG9QYXJ0c1tpXSl7c2FtZVBhcnRzTGVuZ3RoPWk7YnJlYWt9fXZhciBvdXRwdXRQYXJ0cz1bXTtmb3IodmFyIGk9c2FtZVBhcnRzTGVuZ3RoO2k8ZnJvbVBhcnRzLmxlbmd0aDtpKyspe291dHB1dFBhcnRzLnB1c2goIi4uIil9b3V0cHV0UGFydHM9b3V0cHV0UGFydHMuY29uY2F0KHRvUGFydHMuc2xpY2Uoc2FtZVBhcnRzTGVuZ3RoKSk7cmV0dXJuIG91dHB1dFBhcnRzLmpvaW4oIi8iKX19O3ZhciBUVFk9e3R0eXM6W10saW5pdDpmdW5jdGlvbigpe30sc2h1dGRvd246ZnVuY3Rpb24oKXt9LHJlZ2lzdGVyOmZ1bmN0aW9uKGRldixvcHMpe1RUWS50dHlzW2Rldl09e2lucHV0OltdLG91dHB1dDpbXSxvcHM6b3BzfTtGUy5yZWdpc3RlckRldmljZShkZXYsVFRZLnN0cmVhbV9vcHMpfSxzdHJlYW1fb3BzOntvcGVuOmZ1bmN0aW9uKHN0cmVhbSl7dmFyIHR0eT1UVFkudHR5c1tzdHJlYW0ubm9kZS5yZGV2XTtpZighdHR5KXt0aHJvdyBuZXcgRlMuRXJybm9FcnJvcig0Myl9c3RyZWFtLnR0eT10dHk7c3RyZWFtLnNlZWthYmxlPWZhbHNlfSxjbG9zZTpmdW5jdGlvbihzdHJlYW0pe3N0cmVhbS50dHkub3BzLmZsdXNoKHN0cmVhbS50dHkpfSxmbHVzaDpmdW5jdGlvbihzdHJlYW0pe3N0cmVhbS50dHkub3BzLmZsdXNoKHN0cmVhbS50dHkpfSxyZWFkOmZ1bmN0aW9uKHN0cmVhbSxidWZmZXIsb2Zmc2V0LGxlbmd0aCxwb3Mpe2lmKCFzdHJlYW0udHR5fHwhc3RyZWFtLnR0eS5vcHMuZ2V0X2NoYXIpe3Rocm93IG5ldyBGUy5FcnJub0Vycm9yKDYwKX12YXIgYnl0ZXNSZWFkPTA7Zm9yKHZhciBpPTA7aTxsZW5ndGg7aSsrKXt2YXIgcmVzdWx0O3RyeXtyZXN1bHQ9c3RyZWFtLnR0eS5vcHMuZ2V0X2NoYXIoc3RyZWFtLnR0eSl9Y2F0Y2goZSl7dGhyb3cgbmV3IEZTLkVycm5vRXJyb3IoMjkpfWlmKHJlc3VsdD09PXVuZGVmaW5lZCYmYnl0ZXNSZWFkPT09MCl7dGhyb3cgbmV3IEZTLkVycm5vRXJyb3IoNil9aWYocmVzdWx0PT09bnVsbHx8cmVzdWx0PT09dW5kZWZpbmVkKWJyZWFrO2J5dGVzUmVhZCsrO2J1ZmZlcltvZmZzZXQraV09cmVzdWx0fWlmKGJ5dGVzUmVhZCl7c3RyZWFtLm5vZGUudGltZXN0YW1wPURhdGUubm93KCl9cmV0dXJuIGJ5dGVzUmVhZH0sd3JpdGU6ZnVuY3Rpb24oc3RyZWFtLGJ1ZmZlcixvZmZzZXQsbGVuZ3RoLHBvcyl7aWYoIXN0cmVhbS50dHl8fCFzdHJlYW0udHR5Lm9wcy5wdXRfY2hhcil7dGhyb3cgbmV3IEZTLkVycm5vRXJyb3IoNjApfXRyeXtmb3IodmFyIGk9MDtpPGxlbmd0aDtpKyspe3N0cmVhbS50dHkub3BzLnB1dF9jaGFyKHN0cmVhbS50dHksYnVmZmVyW29mZnNldCtpXSl9fWNhdGNoKGUpe3Rocm93IG5ldyBGUy5FcnJub0Vycm9yKDI5KX1pZihsZW5ndGgpe3N0cmVhbS5ub2RlLnRpbWVzdGFtcD1EYXRlLm5vdygpfXJldHVybiBpfX0sZGVmYXVsdF90dHlfb3BzOntnZXRfY2hhcjpmdW5jdGlvbih0dHkpe2lmKCF0dHkuaW5wdXQubGVuZ3RoKXt2YXIgcmVzdWx0PW51bGw7aWYodHlwZW9mIHdpbmRvdyE9InVuZGVmaW5lZCImJnR5cGVvZiB3aW5kb3cucHJvbXB0PT0iZnVuY3Rpb24iKXtyZXN1bHQ9d2luZG93LnByb21wdCgiSW5wdXQ6ICIpO2lmKHJlc3VsdCE9PW51bGwpe3Jlc3VsdCs9IlxuIn19ZWxzZSBpZih0eXBlb2YgcmVhZGxpbmU9PSJmdW5jdGlvbiIpe3Jlc3VsdD1yZWFkbGluZSgpO2lmKHJlc3VsdCE9PW51bGwpe3Jlc3VsdCs9IlxuIn19aWYoIXJlc3VsdCl7cmV0dXJuIG51bGx9dHR5LmlucHV0PWludEFycmF5RnJvbVN0cmluZyhyZXN1bHQsdHJ1ZSl9cmV0dXJuIHR0eS5pbnB1dC5zaGlmdCgpfSxwdXRfY2hhcjpmdW5jdGlvbih0dHksdmFsKXtpZih2YWw9PT1udWxsfHx2YWw9PT0xMCl7b3V0KFVURjhBcnJheVRvU3RyaW5nKHR0eS5vdXRwdXQsMCkpO3R0eS5vdXRwdXQ9W119ZWxzZXtpZih2YWwhPTApdHR5Lm91dHB1dC5wdXNoKHZhbCl9fSxmbHVzaDpmdW5jdGlvbih0dHkpe2lmKHR0eS5vdXRwdXQmJnR0eS5vdXRwdXQubGVuZ3RoPjApe291dChVVEY4QXJyYXlUb1N0cmluZyh0dHkub3V0cHV0LDApKTt0dHkub3V0cHV0PVtdfX19LGRlZmF1bHRfdHR5MV9vcHM6e3B1dF9jaGFyOmZ1bmN0aW9uKHR0eSx2YWwpe2lmKHZhbD09PW51bGx8fHZhbD09PTEwKXtlcnIoVVRGOEFycmF5VG9TdHJpbmcodHR5Lm91dHB1dCwwKSk7dHR5Lm91dHB1dD1bXX1lbHNle2lmKHZhbCE9MCl0dHkub3V0cHV0LnB1c2godmFsKX19LGZsdXNoOmZ1bmN0aW9uKHR0eSl7aWYodHR5Lm91dHB1dCYmdHR5Lm91dHB1dC5sZW5ndGg+MCl7ZXJyKFVURjhBcnJheVRvU3RyaW5nKHR0eS5vdXRwdXQsMCkpO3R0eS5vdXRwdXQ9W119fX19O2Z1bmN0aW9uIHplcm9NZW1vcnkoYWRkcmVzcyxzaXplKXtIRUFQVTguZmlsbCgwLGFkZHJlc3MsYWRkcmVzcytzaXplKX1mdW5jdGlvbiBhbGlnbk1lbW9yeShzaXplLGFsaWdubWVudCl7cmV0dXJuIE1hdGguY2VpbChzaXplL2FsaWdubWVudCkqYWxpZ25tZW50fWZ1bmN0aW9uIG1tYXBBbGxvYyhzaXplKXtzaXplPWFsaWduTWVtb3J5KHNpemUsNjU1MzYpO3ZhciBwdHI9X2Vtc2NyaXB0ZW5fYnVpbHRpbl9tZW1hbGlnbig2NTUzNixzaXplKTtpZighcHRyKXJldHVybiAwO3plcm9NZW1vcnkocHRyLHNpemUpO3JldHVybiBwdHJ9dmFyIE1FTUZTPXtvcHNfdGFibGU6bnVsbCxtb3VudDpmdW5jdGlvbihtb3VudCl7cmV0dXJuIE1FTUZTLmNyZWF0ZU5vZGUobnVsbCwiLyIsMTYzODR8NTExLDApfSxjcmVhdGVOb2RlOmZ1bmN0aW9uKHBhcmVudCxuYW1lLG1vZGUsZGV2KXtpZihGUy5pc0Jsa2Rldihtb2RlKXx8RlMuaXNGSUZPKG1vZGUpKXt0aHJvdyBuZXcgRlMuRXJybm9FcnJvcig2Myl9aWYoIU1FTUZTLm9wc190YWJsZSl7TUVNRlMub3BzX3RhYmxlPXtkaXI6e25vZGU6e2dldGF0dHI6TUVNRlMubm9kZV9vcHMuZ2V0YXR0cixzZXRhdHRyOk1FTUZTLm5vZGVfb3BzLnNldGF0dHIsbG9va3VwOk1FTUZTLm5vZGVfb3BzLmxvb2t1cCxta25vZDpNRU1GUy5ub2RlX29wcy5ta25vZCxyZW5hbWU6TUVNRlMubm9kZV9vcHMucmVuYW1lLHVubGluazpNRU1GUy5ub2RlX29wcy51bmxpbmsscm1kaXI6TUVNRlMubm9kZV9vcHMucm1kaXIscmVhZGRpcjpNRU1GUy5ub2RlX29wcy5yZWFkZGlyLHN5bWxpbms6TUVNRlMubm9kZV9vcHMuc3ltbGlua30sc3RyZWFtOntsbHNlZWs6TUVNRlMuc3RyZWFtX29wcy5sbHNlZWt9fSxmaWxlOntub2RlOntnZXRhdHRyOk1FTUZTLm5vZGVfb3BzLmdldGF0dHIsc2V0YXR0cjpNRU1GUy5ub2RlX29wcy5zZXRhdHRyfSxzdHJlYW06e2xsc2VlazpNRU1GUy5zdHJlYW1fb3BzLmxsc2VlayxyZWFkOk1FTUZTLnN0cmVhbV9vcHMucmVhZCx3cml0ZTpNRU1GUy5zdHJlYW1fb3BzLndyaXRlLGFsbG9jYXRlOk1FTUZTLnN0cmVhbV9vcHMuYWxsb2NhdGUsbW1hcDpNRU1GUy5zdHJlYW1fb3BzLm1tYXAsbXN5bmM6TUVNRlMuc3RyZWFtX29wcy5tc3luY319LGxpbms6e25vZGU6e2dldGF0dHI6TUVNRlMubm9kZV9vcHMuZ2V0YXR0cixzZXRhdHRyOk1FTUZTLm5vZGVfb3BzLnNldGF0dHIscmVhZGxpbms6TUVNRlMubm9kZV9vcHMucmVhZGxpbmt9LHN0cmVhbTp7fX0sY2hyZGV2Ontub2RlOntnZXRhdHRyOk1FTUZTLm5vZGVfb3BzLmdldGF0dHIsc2V0YXR0cjpNRU1GUy5ub2RlX29wcy5zZXRhdHRyfSxzdHJlYW06RlMuY2hyZGV2X3N0cmVhbV9vcHN9fX12YXIgbm9kZT1GUy5jcmVhdGVOb2RlKHBhcmVudCxuYW1lLG1vZGUsZGV2KTtpZihGUy5pc0Rpcihub2RlLm1vZGUpKXtub2RlLm5vZGVfb3BzPU1FTUZTLm9wc190YWJsZS5kaXIubm9kZTtub2RlLnN0cmVhbV9vcHM9TUVNRlMub3BzX3RhYmxlLmRpci5zdHJlYW07bm9kZS5jb250ZW50cz17fX1lbHNlIGlmKEZTLmlzRmlsZShub2RlLm1vZGUpKXtub2RlLm5vZGVfb3BzPU1FTUZTLm9wc190YWJsZS5maWxlLm5vZGU7bm9kZS5zdHJlYW1fb3BzPU1FTUZTLm9wc190YWJsZS5maWxlLnN0cmVhbTtub2RlLnVzZWRCeXRlcz0wO25vZGUuY29udGVudHM9bnVsbH1lbHNlIGlmKEZTLmlzTGluayhub2RlLm1vZGUpKXtub2RlLm5vZGVfb3BzPU1FTUZTLm9wc190YWJsZS5saW5rLm5vZGU7bm9kZS5zdHJlYW1fb3BzPU1FTUZTLm9wc190YWJsZS5saW5rLnN0cmVhbX1lbHNlIGlmKEZTLmlzQ2hyZGV2KG5vZGUubW9kZSkpe25vZGUubm9kZV9vcHM9TUVNRlMub3BzX3RhYmxlLmNocmRldi5ub2RlO25vZGUuc3RyZWFtX29wcz1NRU1GUy5vcHNfdGFibGUuY2hyZGV2LnN0cmVhbX1ub2RlLnRpbWVzdGFtcD1EYXRlLm5vdygpO2lmKHBhcmVudCl7cGFyZW50LmNvbnRlbnRzW25hbWVdPW5vZGU7cGFyZW50LnRpbWVzdGFtcD1ub2RlLnRpbWVzdGFtcH1yZXR1cm4gbm9kZX0sZ2V0RmlsZURhdGFBc1R5cGVkQXJyYXk6ZnVuY3Rpb24obm9kZSl7aWYoIW5vZGUuY29udGVudHMpcmV0dXJuIG5ldyBVaW50OEFycmF5KDApO2lmKG5vZGUuY29udGVudHMuc3ViYXJyYXkpcmV0dXJuIG5vZGUuY29udGVudHMuc3ViYXJyYXkoMCxub2RlLnVzZWRCeXRlcyk7cmV0dXJuIG5ldyBVaW50OEFycmF5KG5vZGUuY29udGVudHMpfSxleHBhbmRGaWxlU3RvcmFnZTpmdW5jdGlvbihub2RlLG5ld0NhcGFjaXR5KXt2YXIgcHJldkNhcGFjaXR5PW5vZGUuY29udGVudHM/bm9kZS5jb250ZW50cy5sZW5ndGg6MDtpZihwcmV2Q2FwYWNpdHk+PW5ld0NhcGFjaXR5KXJldHVybjt2YXIgQ0FQQUNJVFlfRE9VQkxJTkdfTUFYPTEwMjQqMTAyNDtuZXdDYXBhY2l0eT1NYXRoLm1heChuZXdDYXBhY2l0eSxwcmV2Q2FwYWNpdHkqKHByZXZDYXBhY2l0eTxDQVBBQ0lUWV9ET1VCTElOR19NQVg/MjoxLjEyNSk+Pj4wKTtpZihwcmV2Q2FwYWNpdHkhPTApbmV3Q2FwYWNpdHk9TWF0aC5tYXgobmV3Q2FwYWNpdHksMjU2KTt2YXIgb2xkQ29udGVudHM9bm9kZS5jb250ZW50cztub2RlLmNvbnRlbnRzPW5ldyBVaW50OEFycmF5KG5ld0NhcGFjaXR5KTtpZihub2RlLnVzZWRCeXRlcz4wKW5vZGUuY29udGVudHMuc2V0KG9sZENvbnRlbnRzLnN1YmFycmF5KDAsbm9kZS51c2VkQnl0ZXMpLDApfSxyZXNpemVGaWxlU3RvcmFnZTpmdW5jdGlvbihub2RlLG5ld1NpemUpe2lmKG5vZGUudXNlZEJ5dGVzPT1uZXdTaXplKXJldHVybjtpZihuZXdTaXplPT0wKXtub2RlLmNvbnRlbnRzPW51bGw7bm9kZS51c2VkQnl0ZXM9MH1lbHNle3ZhciBvbGRDb250ZW50cz1ub2RlLmNvbnRlbnRzO25vZGUuY29udGVudHM9bmV3IFVpbnQ4QXJyYXkobmV3U2l6ZSk7aWYob2xkQ29udGVudHMpe25vZGUuY29udGVudHMuc2V0KG9sZENvbnRlbnRzLnN1YmFycmF5KDAsTWF0aC5taW4obmV3U2l6ZSxub2RlLnVzZWRCeXRlcykpKX1ub2RlLnVzZWRCeXRlcz1uZXdTaXplfX0sbm9kZV9vcHM6e2dldGF0dHI6ZnVuY3Rpb24obm9kZSl7dmFyIGF0dHI9e307YXR0ci5kZXY9RlMuaXNDaHJkZXYobm9kZS5tb2RlKT9ub2RlLmlkOjE7YXR0ci5pbm89bm9kZS5pZDthdHRyLm1vZGU9bm9kZS5tb2RlO2F0dHIubmxpbms9MTthdHRyLnVpZD0wO2F0dHIuZ2lkPTA7YXR0ci5yZGV2PW5vZGUucmRldjtpZihGUy5pc0Rpcihub2RlLm1vZGUpKXthdHRyLnNpemU9NDA5Nn1lbHNlIGlmKEZTLmlzRmlsZShub2RlLm1vZGUpKXthdHRyLnNpemU9bm9kZS51c2VkQnl0ZXN9ZWxzZSBpZihGUy5pc0xpbmsobm9kZS5tb2RlKSl7YXR0ci5zaXplPW5vZGUubGluay5sZW5ndGh9ZWxzZXthdHRyLnNpemU9MH1hdHRyLmF0aW1lPW5ldyBEYXRlKG5vZGUudGltZXN0YW1wKTthdHRyLm10aW1lPW5ldyBEYXRlKG5vZGUudGltZXN0YW1wKTthdHRyLmN0aW1lPW5ldyBEYXRlKG5vZGUudGltZXN0YW1wKTthdHRyLmJsa3NpemU9NDA5NjthdHRyLmJsb2Nrcz1NYXRoLmNlaWwoYXR0ci5zaXplL2F0dHIuYmxrc2l6ZSk7cmV0dXJuIGF0dHJ9LHNldGF0dHI6ZnVuY3Rpb24obm9kZSxhdHRyKXtpZihhdHRyLm1vZGUhPT11bmRlZmluZWQpe25vZGUubW9kZT1hdHRyLm1vZGV9aWYoYXR0ci50aW1lc3RhbXAhPT11bmRlZmluZWQpe25vZGUudGltZXN0YW1wPWF0dHIudGltZXN0YW1wfWlmKGF0dHIuc2l6ZSE9PXVuZGVmaW5lZCl7TUVNRlMucmVzaXplRmlsZVN0b3JhZ2Uobm9kZSxhdHRyLnNpemUpfX0sbG9va3VwOmZ1bmN0aW9uKHBhcmVudCxuYW1lKXt0aHJvdyBGUy5nZW5lcmljRXJyb3JzWzQ0XX0sbWtub2Q6ZnVuY3Rpb24ocGFyZW50LG5hbWUsbW9kZSxkZXYpe3JldHVybiBNRU1GUy5jcmVhdGVOb2RlKHBhcmVudCxuYW1lLG1vZGUsZGV2KX0scmVuYW1lOmZ1bmN0aW9uKG9sZF9ub2RlLG5ld19kaXIsbmV3X25hbWUpe2lmKEZTLmlzRGlyKG9sZF9ub2RlLm1vZGUpKXt2YXIgbmV3X25vZGU7dHJ5e25ld19ub2RlPUZTLmxvb2t1cE5vZGUobmV3X2RpcixuZXdfbmFtZSl9Y2F0Y2goZSl7fWlmKG5ld19ub2RlKXtmb3IodmFyIGkgaW4gbmV3X25vZGUuY29udGVudHMpe3Rocm93IG5ldyBGUy5FcnJub0Vycm9yKDU1KX19fWRlbGV0ZSBvbGRfbm9kZS5wYXJlbnQuY29udGVudHNbb2xkX25vZGUubmFtZV07b2xkX25vZGUucGFyZW50LnRpbWVzdGFtcD1EYXRlLm5vdygpO29sZF9ub2RlLm5hbWU9bmV3X25hbWU7bmV3X2Rpci5jb250ZW50c1tuZXdfbmFtZV09b2xkX25vZGU7bmV3X2Rpci50aW1lc3RhbXA9b2xkX25vZGUucGFyZW50LnRpbWVzdGFtcDtvbGRfbm9kZS5wYXJlbnQ9bmV3X2Rpcn0sdW5saW5rOmZ1bmN0aW9uKHBhcmVudCxuYW1lKXtkZWxldGUgcGFyZW50LmNvbnRlbnRzW25hbWVdO3BhcmVudC50aW1lc3RhbXA9RGF0ZS5ub3coKX0scm1kaXI6ZnVuY3Rpb24ocGFyZW50LG5hbWUpe3ZhciBub2RlPUZTLmxvb2t1cE5vZGUocGFyZW50LG5hbWUpO2Zvcih2YXIgaSBpbiBub2RlLmNvbnRlbnRzKXt0aHJvdyBuZXcgRlMuRXJybm9FcnJvcig1NSl9ZGVsZXRlIHBhcmVudC5jb250ZW50c1tuYW1lXTtwYXJlbnQudGltZXN0YW1wPURhdGUubm93KCl9LHJlYWRkaXI6ZnVuY3Rpb24obm9kZSl7dmFyIGVudHJpZXM9WyIuIiwiLi4iXTtmb3IodmFyIGtleSBpbiBub2RlLmNvbnRlbnRzKXtpZighbm9kZS5jb250ZW50cy5oYXNPd25Qcm9wZXJ0eShrZXkpKXtjb250aW51ZX1lbnRyaWVzLnB1c2goa2V5KX1yZXR1cm4gZW50cmllc30sc3ltbGluazpmdW5jdGlvbihwYXJlbnQsbmV3bmFtZSxvbGRwYXRoKXt2YXIgbm9kZT1NRU1GUy5jcmVhdGVOb2RlKHBhcmVudCxuZXduYW1lLDUxMXw0MDk2MCwwKTtub2RlLmxpbms9b2xkcGF0aDtyZXR1cm4gbm9kZX0scmVhZGxpbms6ZnVuY3Rpb24obm9kZSl7aWYoIUZTLmlzTGluayhub2RlLm1vZGUpKXt0aHJvdyBuZXcgRlMuRXJybm9FcnJvcigyOCl9cmV0dXJuIG5vZGUubGlua319LHN0cmVhbV9vcHM6e3JlYWQ6ZnVuY3Rpb24oc3RyZWFtLGJ1ZmZlcixvZmZzZXQsbGVuZ3RoLHBvc2l0aW9uKXt2YXIgY29udGVudHM9c3RyZWFtLm5vZGUuY29udGVudHM7aWYocG9zaXRpb24+PXN0cmVhbS5ub2RlLnVzZWRCeXRlcylyZXR1cm4gMDt2YXIgc2l6ZT1NYXRoLm1pbihzdHJlYW0ubm9kZS51c2VkQnl0ZXMtcG9zaXRpb24sbGVuZ3RoKTtpZihzaXplPjgmJmNvbnRlbnRzLnN1YmFycmF5KXtidWZmZXIuc2V0KGNvbnRlbnRzLnN1YmFycmF5KHBvc2l0aW9uLHBvc2l0aW9uK3NpemUpLG9mZnNldCl9ZWxzZXtmb3IodmFyIGk9MDtpPHNpemU7aSsrKWJ1ZmZlcltvZmZzZXQraV09Y29udGVudHNbcG9zaXRpb24raV19cmV0dXJuIHNpemV9LHdyaXRlOmZ1bmN0aW9uKHN0cmVhbSxidWZmZXIsb2Zmc2V0LGxlbmd0aCxwb3NpdGlvbixjYW5Pd24pe2lmKGJ1ZmZlci5idWZmZXI9PT1IRUFQOC5idWZmZXIpe2Nhbk93bj1mYWxzZX1pZighbGVuZ3RoKXJldHVybiAwO3ZhciBub2RlPXN0cmVhbS5ub2RlO25vZGUudGltZXN0YW1wPURhdGUubm93KCk7aWYoYnVmZmVyLnN1YmFycmF5JiYoIW5vZGUuY29udGVudHN8fG5vZGUuY29udGVudHMuc3ViYXJyYXkpKXtpZihjYW5Pd24pe25vZGUuY29udGVudHM9YnVmZmVyLnN1YmFycmF5KG9mZnNldCxvZmZzZXQrbGVuZ3RoKTtub2RlLnVzZWRCeXRlcz1sZW5ndGg7cmV0dXJuIGxlbmd0aH1lbHNlIGlmKG5vZGUudXNlZEJ5dGVzPT09MCYmcG9zaXRpb249PT0wKXtub2RlLmNvbnRlbnRzPWJ1ZmZlci5zbGljZShvZmZzZXQsb2Zmc2V0K2xlbmd0aCk7bm9kZS51c2VkQnl0ZXM9bGVuZ3RoO3JldHVybiBsZW5ndGh9ZWxzZSBpZihwb3NpdGlvbitsZW5ndGg8PW5vZGUudXNlZEJ5dGVzKXtub2RlLmNvbnRlbnRzLnNldChidWZmZXIuc3ViYXJyYXkob2Zmc2V0LG9mZnNldCtsZW5ndGgpLHBvc2l0aW9uKTtyZXR1cm4gbGVuZ3RofX1NRU1GUy5leHBhbmRGaWxlU3RvcmFnZShub2RlLHBvc2l0aW9uK2xlbmd0aCk7aWYobm9kZS5jb250ZW50cy5zdWJhcnJheSYmYnVmZmVyLnN1YmFycmF5KXtub2RlLmNvbnRlbnRzLnNldChidWZmZXIuc3ViYXJyYXkob2Zmc2V0LG9mZnNldCtsZW5ndGgpLHBvc2l0aW9uKX1lbHNle2Zvcih2YXIgaT0wO2k8bGVuZ3RoO2krKyl7bm9kZS5jb250ZW50c1twb3NpdGlvbitpXT1idWZmZXJbb2Zmc2V0K2ldfX1ub2RlLnVzZWRCeXRlcz1NYXRoLm1heChub2RlLnVzZWRCeXRlcyxwb3NpdGlvbitsZW5ndGgpO3JldHVybiBsZW5ndGh9LGxsc2VlazpmdW5jdGlvbihzdHJlYW0sb2Zmc2V0LHdoZW5jZSl7dmFyIHBvc2l0aW9uPW9mZnNldDtpZih3aGVuY2U9PT0xKXtwb3NpdGlvbis9c3RyZWFtLnBvc2l0aW9ufWVsc2UgaWYod2hlbmNlPT09Mil7aWYoRlMuaXNGaWxlKHN0cmVhbS5ub2RlLm1vZGUpKXtwb3NpdGlvbis9c3RyZWFtLm5vZGUudXNlZEJ5dGVzfX1pZihwb3NpdGlvbjwwKXt0aHJvdyBuZXcgRlMuRXJybm9FcnJvcigyOCl9cmV0dXJuIHBvc2l0aW9ufSxhbGxvY2F0ZTpmdW5jdGlvbihzdHJlYW0sb2Zmc2V0LGxlbmd0aCl7TUVNRlMuZXhwYW5kRmlsZVN0b3JhZ2Uoc3RyZWFtLm5vZGUsb2Zmc2V0K2xlbmd0aCk7c3RyZWFtLm5vZGUudXNlZEJ5dGVzPU1hdGgubWF4KHN0cmVhbS5ub2RlLnVzZWRCeXRlcyxvZmZzZXQrbGVuZ3RoKX0sbW1hcDpmdW5jdGlvbihzdHJlYW0sYWRkcmVzcyxsZW5ndGgscG9zaXRpb24scHJvdCxmbGFncyl7aWYoYWRkcmVzcyE9PTApe3Rocm93IG5ldyBGUy5FcnJub0Vycm9yKDI4KX1pZighRlMuaXNGaWxlKHN0cmVhbS5ub2RlLm1vZGUpKXt0aHJvdyBuZXcgRlMuRXJybm9FcnJvcig0Myl9dmFyIHB0cjt2YXIgYWxsb2NhdGVkO3ZhciBjb250ZW50cz1zdHJlYW0ubm9kZS5jb250ZW50cztpZighKGZsYWdzJjIpJiZjb250ZW50cy5idWZmZXI9PT1idWZmZXIpe2FsbG9jYXRlZD1mYWxzZTtwdHI9Y29udGVudHMuYnl0ZU9mZnNldH1lbHNle2lmKHBvc2l0aW9uPjB8fHBvc2l0aW9uK2xlbmd0aDxjb250ZW50cy5sZW5ndGgpe2lmKGNvbnRlbnRzLnN1YmFycmF5KXtjb250ZW50cz1jb250ZW50cy5zdWJhcnJheShwb3NpdGlvbixwb3NpdGlvbitsZW5ndGgpfWVsc2V7Y29udGVudHM9QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoY29udGVudHMscG9zaXRpb24scG9zaXRpb24rbGVuZ3RoKX19YWxsb2NhdGVkPXRydWU7cHRyPW1tYXBBbGxvYyhsZW5ndGgpO2lmKCFwdHIpe3Rocm93IG5ldyBGUy5FcnJub0Vycm9yKDQ4KX1IRUFQOC5zZXQoY29udGVudHMscHRyKX1yZXR1cm57cHRyOnB0cixhbGxvY2F0ZWQ6YWxsb2NhdGVkfX0sbXN5bmM6ZnVuY3Rpb24oc3RyZWFtLGJ1ZmZlcixvZmZzZXQsbGVuZ3RoLG1tYXBGbGFncyl7aWYoIUZTLmlzRmlsZShzdHJlYW0ubm9kZS5tb2RlKSl7dGhyb3cgbmV3IEZTLkVycm5vRXJyb3IoNDMpfWlmKG1tYXBGbGFncyYyKXtyZXR1cm4gMH12YXIgYnl0ZXNXcml0dGVuPU1FTUZTLnN0cmVhbV9vcHMud3JpdGUoc3RyZWFtLGJ1ZmZlciwwLGxlbmd0aCxvZmZzZXQsZmFsc2UpO3JldHVybiAwfX19O2Z1bmN0aW9uIGFzeW5jTG9hZCh1cmwsb25sb2FkLG9uZXJyb3Isbm9SdW5EZXApe3ZhciBkZXA9IW5vUnVuRGVwP2dldFVuaXF1ZVJ1bkRlcGVuZGVuY3koImFsICIrdXJsKToiIjtyZWFkQXN5bmModXJsLGZ1bmN0aW9uKGFycmF5QnVmZmVyKXthc3NlcnQoYXJyYXlCdWZmZXIsJ0xvYWRpbmcgZGF0YSBmaWxlICInK3VybCsnIiBmYWlsZWQgKG5vIGFycmF5QnVmZmVyKS4nKTtvbmxvYWQobmV3IFVpbnQ4QXJyYXkoYXJyYXlCdWZmZXIpKTtpZihkZXApcmVtb3ZlUnVuRGVwZW5kZW5jeShkZXApfSxmdW5jdGlvbihldmVudCl7aWYob25lcnJvcil7b25lcnJvcigpfWVsc2V7dGhyb3cnTG9hZGluZyBkYXRhIGZpbGUgIicrdXJsKyciIGZhaWxlZC4nfX0pO2lmKGRlcClhZGRSdW5EZXBlbmRlbmN5KGRlcCl9dmFyIEZTPXtyb290Om51bGwsbW91bnRzOltdLGRldmljZXM6e30sc3RyZWFtczpbXSxuZXh0SW5vZGU6MSxuYW1lVGFibGU6bnVsbCxjdXJyZW50UGF0aDoiLyIsaW5pdGlhbGl6ZWQ6ZmFsc2UsaWdub3JlUGVybWlzc2lvbnM6dHJ1ZSxFcnJub0Vycm9yOm51bGwsZ2VuZXJpY0Vycm9yczp7fSxmaWxlc3lzdGVtczpudWxsLHN5bmNGU1JlcXVlc3RzOjAsbG9va3VwUGF0aDoocGF0aCxvcHRzPXt9KT0+e3BhdGg9UEFUSF9GUy5yZXNvbHZlKEZTLmN3ZCgpLHBhdGgpO2lmKCFwYXRoKXJldHVybntwYXRoOiIiLG5vZGU6bnVsbH07dmFyIGRlZmF1bHRzPXtmb2xsb3dfbW91bnQ6dHJ1ZSxyZWN1cnNlX2NvdW50OjB9O29wdHM9T2JqZWN0LmFzc2lnbihkZWZhdWx0cyxvcHRzKTtpZihvcHRzLnJlY3Vyc2VfY291bnQ+OCl7dGhyb3cgbmV3IEZTLkVycm5vRXJyb3IoMzIpfXZhciBwYXJ0cz1QQVRILm5vcm1hbGl6ZUFycmF5KHBhdGguc3BsaXQoIi8iKS5maWx0ZXIocD0+ISFwKSxmYWxzZSk7dmFyIGN1cnJlbnQ9RlMucm9vdDt2YXIgY3VycmVudF9wYXRoPSIvIjtmb3IodmFyIGk9MDtpPHBhcnRzLmxlbmd0aDtpKyspe3ZhciBpc2xhc3Q9aT09PXBhcnRzLmxlbmd0aC0xO2lmKGlzbGFzdCYmb3B0cy5wYXJlbnQpe2JyZWFrfWN1cnJlbnQ9RlMubG9va3VwTm9kZShjdXJyZW50LHBhcnRzW2ldKTtjdXJyZW50X3BhdGg9UEFUSC5qb2luMihjdXJyZW50X3BhdGgscGFydHNbaV0pO2lmKEZTLmlzTW91bnRwb2ludChjdXJyZW50KSl7aWYoIWlzbGFzdHx8aXNsYXN0JiZvcHRzLmZvbGxvd19tb3VudCl7Y3VycmVudD1jdXJyZW50Lm1vdW50ZWQucm9vdH19aWYoIWlzbGFzdHx8b3B0cy5mb2xsb3cpe3ZhciBjb3VudD0wO3doaWxlKEZTLmlzTGluayhjdXJyZW50Lm1vZGUpKXt2YXIgbGluaz1GUy5yZWFkbGluayhjdXJyZW50X3BhdGgpO2N1cnJlbnRfcGF0aD1QQVRIX0ZTLnJlc29sdmUoUEFUSC5kaXJuYW1lKGN1cnJlbnRfcGF0aCksbGluayk7dmFyIGxvb2t1cD1GUy5sb29rdXBQYXRoKGN1cnJlbnRfcGF0aCx7cmVjdXJzZV9jb3VudDpvcHRzLnJlY3Vyc2VfY291bnQrMX0pO2N1cnJlbnQ9bG9va3VwLm5vZGU7aWYoY291bnQrKz40MCl7dGhyb3cgbmV3IEZTLkVycm5vRXJyb3IoMzIpfX19fXJldHVybntwYXRoOmN1cnJlbnRfcGF0aCxub2RlOmN1cnJlbnR9fSxnZXRQYXRoOm5vZGU9Pnt2YXIgcGF0aDt3aGlsZSh0cnVlKXtpZihGUy5pc1Jvb3Qobm9kZSkpe3ZhciBtb3VudD1ub2RlLm1vdW50Lm1vdW50cG9pbnQ7aWYoIXBhdGgpcmV0dXJuIG1vdW50O3JldHVybiBtb3VudFttb3VudC5sZW5ndGgtMV0hPT0iLyI/bW91bnQrIi8iK3BhdGg6bW91bnQrcGF0aH1wYXRoPXBhdGg/bm9kZS5uYW1lKyIvIitwYXRoOm5vZGUubmFtZTtub2RlPW5vZGUucGFyZW50fX0saGFzaE5hbWU6KHBhcmVudGlkLG5hbWUpPT57dmFyIGhhc2g9MDtmb3IodmFyIGk9MDtpPG5hbWUubGVuZ3RoO2krKyl7aGFzaD0oaGFzaDw8NSktaGFzaCtuYW1lLmNoYXJDb2RlQXQoaSl8MH1yZXR1cm4ocGFyZW50aWQraGFzaD4+PjApJUZTLm5hbWVUYWJsZS5sZW5ndGh9LGhhc2hBZGROb2RlOm5vZGU9Pnt2YXIgaGFzaD1GUy5oYXNoTmFtZShub2RlLnBhcmVudC5pZCxub2RlLm5hbWUpO25vZGUubmFtZV9uZXh0PUZTLm5hbWVUYWJsZVtoYXNoXTtGUy5uYW1lVGFibGVbaGFzaF09bm9kZX0saGFzaFJlbW92ZU5vZGU6bm9kZT0+e3ZhciBoYXNoPUZTLmhhc2hOYW1lKG5vZGUucGFyZW50LmlkLG5vZGUubmFtZSk7aWYoRlMubmFtZVRhYmxlW2hhc2hdPT09bm9kZSl7RlMubmFtZVRhYmxlW2hhc2hdPW5vZGUubmFtZV9uZXh0fWVsc2V7dmFyIGN1cnJlbnQ9RlMubmFtZVRhYmxlW2hhc2hdO3doaWxlKGN1cnJlbnQpe2lmKGN1cnJlbnQubmFtZV9uZXh0PT09bm9kZSl7Y3VycmVudC5uYW1lX25leHQ9bm9kZS5uYW1lX25leHQ7YnJlYWt9Y3VycmVudD1jdXJyZW50Lm5hbWVfbmV4dH19fSxsb29rdXBOb2RlOihwYXJlbnQsbmFtZSk9Pnt2YXIgZXJyQ29kZT1GUy5tYXlMb29rdXAocGFyZW50KTtpZihlcnJDb2RlKXt0aHJvdyBuZXcgRlMuRXJybm9FcnJvcihlcnJDb2RlLHBhcmVudCl9dmFyIGhhc2g9RlMuaGFzaE5hbWUocGFyZW50LmlkLG5hbWUpO2Zvcih2YXIgbm9kZT1GUy5uYW1lVGFibGVbaGFzaF07bm9kZTtub2RlPW5vZGUubmFtZV9uZXh0KXt2YXIgbm9kZU5hbWU9bm9kZS5uYW1lO2lmKG5vZGUucGFyZW50LmlkPT09cGFyZW50LmlkJiZub2RlTmFtZT09PW5hbWUpe3JldHVybiBub2RlfX1yZXR1cm4gRlMubG9va3VwKHBhcmVudCxuYW1lKX0sY3JlYXRlTm9kZToocGFyZW50LG5hbWUsbW9kZSxyZGV2KT0+e3ZhciBub2RlPW5ldyBGUy5GU05vZGUocGFyZW50LG5hbWUsbW9kZSxyZGV2KTtGUy5oYXNoQWRkTm9kZShub2RlKTtyZXR1cm4gbm9kZX0sZGVzdHJveU5vZGU6bm9kZT0+e0ZTLmhhc2hSZW1vdmVOb2RlKG5vZGUpfSxpc1Jvb3Q6bm9kZT0+e3JldHVybiBub2RlPT09bm9kZS5wYXJlbnR9LGlzTW91bnRwb2ludDpub2RlPT57cmV0dXJuISFub2RlLm1vdW50ZWR9LGlzRmlsZTptb2RlPT57cmV0dXJuKG1vZGUmNjE0NDApPT09MzI3Njh9LGlzRGlyOm1vZGU9PntyZXR1cm4obW9kZSY2MTQ0MCk9PT0xNjM4NH0saXNMaW5rOm1vZGU9PntyZXR1cm4obW9kZSY2MTQ0MCk9PT00MDk2MH0saXNDaHJkZXY6bW9kZT0+e3JldHVybihtb2RlJjYxNDQwKT09PTgxOTJ9LGlzQmxrZGV2Om1vZGU9PntyZXR1cm4obW9kZSY2MTQ0MCk9PT0yNDU3Nn0saXNGSUZPOm1vZGU9PntyZXR1cm4obW9kZSY2MTQ0MCk9PT00MDk2fSxpc1NvY2tldDptb2RlPT57cmV0dXJuKG1vZGUmNDkxNTIpPT09NDkxNTJ9LGZsYWdNb2Rlczp7InIiOjAsInIrIjoyLCJ3Ijo1NzcsIncrIjo1NzgsImEiOjEwODksImErIjoxMDkwfSxtb2RlU3RyaW5nVG9GbGFnczpzdHI9Pnt2YXIgZmxhZ3M9RlMuZmxhZ01vZGVzW3N0cl07aWYodHlwZW9mIGZsYWdzPT0idW5kZWZpbmVkIil7dGhyb3cgbmV3IEVycm9yKCJVbmtub3duIGZpbGUgb3BlbiBtb2RlOiAiK3N0cil9cmV0dXJuIGZsYWdzfSxmbGFnc1RvUGVybWlzc2lvblN0cmluZzpmbGFnPT57dmFyIHBlcm1zPVsiciIsInciLCJydyJdW2ZsYWcmM107aWYoZmxhZyY1MTIpe3Blcm1zKz0idyJ9cmV0dXJuIHBlcm1zfSxub2RlUGVybWlzc2lvbnM6KG5vZGUscGVybXMpPT57aWYoRlMuaWdub3JlUGVybWlzc2lvbnMpe3JldHVybiAwfWlmKHBlcm1zLmluY2x1ZGVzKCJyIikmJiEobm9kZS5tb2RlJjI5Mikpe3JldHVybiAyfWVsc2UgaWYocGVybXMuaW5jbHVkZXMoInciKSYmIShub2RlLm1vZGUmMTQ2KSl7cmV0dXJuIDJ9ZWxzZSBpZihwZXJtcy5pbmNsdWRlcygieCIpJiYhKG5vZGUubW9kZSY3Mykpe3JldHVybiAyfXJldHVybiAwfSxtYXlMb29rdXA6ZGlyPT57dmFyIGVyckNvZGU9RlMubm9kZVBlcm1pc3Npb25zKGRpciwieCIpO2lmKGVyckNvZGUpcmV0dXJuIGVyckNvZGU7aWYoIWRpci5ub2RlX29wcy5sb29rdXApcmV0dXJuIDI7cmV0dXJuIDB9LG1heUNyZWF0ZTooZGlyLG5hbWUpPT57dHJ5e3ZhciBub2RlPUZTLmxvb2t1cE5vZGUoZGlyLG5hbWUpO3JldHVybiAyMH1jYXRjaChlKXt9cmV0dXJuIEZTLm5vZGVQZXJtaXNzaW9ucyhkaXIsInd4Iil9LG1heURlbGV0ZTooZGlyLG5hbWUsaXNkaXIpPT57dmFyIG5vZGU7dHJ5e25vZGU9RlMubG9va3VwTm9kZShkaXIsbmFtZSl9Y2F0Y2goZSl7cmV0dXJuIGUuZXJybm99dmFyIGVyckNvZGU9RlMubm9kZVBlcm1pc3Npb25zKGRpciwid3giKTtpZihlcnJDb2RlKXtyZXR1cm4gZXJyQ29kZX1pZihpc2Rpcil7aWYoIUZTLmlzRGlyKG5vZGUubW9kZSkpe3JldHVybiA1NH1pZihGUy5pc1Jvb3Qobm9kZSl8fEZTLmdldFBhdGgobm9kZSk9PT1GUy5jd2QoKSl7cmV0dXJuIDEwfX1lbHNle2lmKEZTLmlzRGlyKG5vZGUubW9kZSkpe3JldHVybiAzMX19cmV0dXJuIDB9LG1heU9wZW46KG5vZGUsZmxhZ3MpPT57aWYoIW5vZGUpe3JldHVybiA0NH1pZihGUy5pc0xpbmsobm9kZS5tb2RlKSl7cmV0dXJuIDMyfWVsc2UgaWYoRlMuaXNEaXIobm9kZS5tb2RlKSl7aWYoRlMuZmxhZ3NUb1Blcm1pc3Npb25TdHJpbmcoZmxhZ3MpIT09InIifHxmbGFncyY1MTIpe3JldHVybiAzMX19cmV0dXJuIEZTLm5vZGVQZXJtaXNzaW9ucyhub2RlLEZTLmZsYWdzVG9QZXJtaXNzaW9uU3RyaW5nKGZsYWdzKSl9LE1BWF9PUEVOX0ZEUzo0MDk2LG5leHRmZDooZmRfc3RhcnQ9MCxmZF9lbmQ9RlMuTUFYX09QRU5fRkRTKT0+e2Zvcih2YXIgZmQ9ZmRfc3RhcnQ7ZmQ8PWZkX2VuZDtmZCsrKXtpZighRlMuc3RyZWFtc1tmZF0pe3JldHVybiBmZH19dGhyb3cgbmV3IEZTLkVycm5vRXJyb3IoMzMpfSxnZXRTdHJlYW06ZmQ9PkZTLnN0cmVhbXNbZmRdLGNyZWF0ZVN0cmVhbTooc3RyZWFtLGZkX3N0YXJ0LGZkX2VuZCk9PntpZighRlMuRlNTdHJlYW0pe0ZTLkZTU3RyZWFtPWZ1bmN0aW9uKCl7dGhpcy5zaGFyZWQ9e319O0ZTLkZTU3RyZWFtLnByb3RvdHlwZT17b2JqZWN0OntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5ub2RlfSxzZXQ6ZnVuY3Rpb24odmFsKXt0aGlzLm5vZGU9dmFsfX0saXNSZWFkOntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4odGhpcy5mbGFncyYyMDk3MTU1KSE9PTF9fSxpc1dyaXRlOntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4odGhpcy5mbGFncyYyMDk3MTU1KSE9PTB9fSxpc0FwcGVuZDp7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZmxhZ3MmMTAyNH19LGZsYWdzOntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zaGFyZWQuZmxhZ3N9LHNldDpmdW5jdGlvbih2YWwpe3RoaXMuc2hhcmVkLmZsYWdzPXZhbH19LHBvc2l0aW9uOntnZXQgZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zaGFyZWQucG9zaXRpb259LHNldDpmdW5jdGlvbih2YWwpe3RoaXMuc2hhcmVkLnBvc2l0aW9uPXZhbH19fX1zdHJlYW09T2JqZWN0LmFzc2lnbihuZXcgRlMuRlNTdHJlYW0sc3RyZWFtKTt2YXIgZmQ9RlMubmV4dGZkKGZkX3N0YXJ0LGZkX2VuZCk7c3RyZWFtLmZkPWZkO0ZTLnN0cmVhbXNbZmRdPXN0cmVhbTtyZXR1cm4gc3RyZWFtfSxjbG9zZVN0cmVhbTpmZD0+e0ZTLnN0cmVhbXNbZmRdPW51bGx9LGNocmRldl9zdHJlYW1fb3BzOntvcGVuOnN0cmVhbT0+e3ZhciBkZXZpY2U9RlMuZ2V0RGV2aWNlKHN0cmVhbS5ub2RlLnJkZXYpO3N0cmVhbS5zdHJlYW1fb3BzPWRldmljZS5zdHJlYW1fb3BzO2lmKHN0cmVhbS5zdHJlYW1fb3BzLm9wZW4pe3N0cmVhbS5zdHJlYW1fb3BzLm9wZW4oc3RyZWFtKX19LGxsc2VlazooKT0+e3Rocm93IG5ldyBGUy5FcnJub0Vycm9yKDcwKX19LG1ham9yOmRldj0+ZGV2Pj44LG1pbm9yOmRldj0+ZGV2JjI1NSxtYWtlZGV2OihtYSxtaSk9Pm1hPDw4fG1pLHJlZ2lzdGVyRGV2aWNlOihkZXYsb3BzKT0+e0ZTLmRldmljZXNbZGV2XT17c3RyZWFtX29wczpvcHN9fSxnZXREZXZpY2U6ZGV2PT5GUy5kZXZpY2VzW2Rldl0sZ2V0TW91bnRzOm1vdW50PT57dmFyIG1vdW50cz1bXTt2YXIgY2hlY2s9W21vdW50XTt3aGlsZShjaGVjay5sZW5ndGgpe3ZhciBtPWNoZWNrLnBvcCgpO21vdW50cy5wdXNoKG0pO2NoZWNrLnB1c2guYXBwbHkoY2hlY2ssbS5tb3VudHMpfXJldHVybiBtb3VudHN9LHN5bmNmczoocG9wdWxhdGUsY2FsbGJhY2spPT57aWYodHlwZW9mIHBvcHVsYXRlPT0iZnVuY3Rpb24iKXtjYWxsYmFjaz1wb3B1bGF0ZTtwb3B1bGF0ZT1mYWxzZX1GUy5zeW5jRlNSZXF1ZXN0cysrO2lmKEZTLnN5bmNGU1JlcXVlc3RzPjEpe2Vycigid2FybmluZzogIitGUy5zeW5jRlNSZXF1ZXN0cysiIEZTLnN5bmNmcyBvcGVyYXRpb25zIGluIGZsaWdodCBhdCBvbmNlLCBwcm9iYWJseSBqdXN0IGRvaW5nIGV4dHJhIHdvcmsiKX12YXIgbW91bnRzPUZTLmdldE1vdW50cyhGUy5yb290Lm1vdW50KTt2YXIgY29tcGxldGVkPTA7ZnVuY3Rpb24gZG9DYWxsYmFjayhlcnJDb2RlKXtGUy5zeW5jRlNSZXF1ZXN0cy0tO3JldHVybiBjYWxsYmFjayhlcnJDb2RlKX1mdW5jdGlvbiBkb25lKGVyckNvZGUpe2lmKGVyckNvZGUpe2lmKCFkb25lLmVycm9yZWQpe2RvbmUuZXJyb3JlZD10cnVlO3JldHVybiBkb0NhbGxiYWNrKGVyckNvZGUpfXJldHVybn1pZigrK2NvbXBsZXRlZD49bW91bnRzLmxlbmd0aCl7ZG9DYWxsYmFjayhudWxsKX19bW91bnRzLmZvckVhY2gobW91bnQ9PntpZighbW91bnQudHlwZS5zeW5jZnMpe3JldHVybiBkb25lKG51bGwpfW1vdW50LnR5cGUuc3luY2ZzKG1vdW50LHBvcHVsYXRlLGRvbmUpfSl9LG1vdW50Oih0eXBlLG9wdHMsbW91bnRwb2ludCk9Pnt2YXIgcm9vdD1tb3VudHBvaW50PT09Ii8iO3ZhciBwc2V1ZG89IW1vdW50cG9pbnQ7dmFyIG5vZGU7aWYocm9vdCYmRlMucm9vdCl7dGhyb3cgbmV3IEZTLkVycm5vRXJyb3IoMTApfWVsc2UgaWYoIXJvb3QmJiFwc2V1ZG8pe3ZhciBsb29rdXA9RlMubG9va3VwUGF0aChtb3VudHBvaW50LHtmb2xsb3dfbW91bnQ6ZmFsc2V9KTttb3VudHBvaW50PWxvb2t1cC5wYXRoO25vZGU9bG9va3VwLm5vZGU7aWYoRlMuaXNNb3VudHBvaW50KG5vZGUpKXt0aHJvdyBuZXcgRlMuRXJybm9FcnJvcigxMCl9aWYoIUZTLmlzRGlyKG5vZGUubW9kZSkpe3Rocm93IG5ldyBGUy5FcnJub0Vycm9yKDU0KX19dmFyIG1vdW50PXt0eXBlOnR5cGUsb3B0czpvcHRzLG1vdW50cG9pbnQ6bW91bnRwb2ludCxtb3VudHM6W119O3ZhciBtb3VudFJvb3Q9dHlwZS5tb3VudChtb3VudCk7bW91bnRSb290Lm1vdW50PW1vdW50O21vdW50LnJvb3Q9bW91bnRSb290O2lmKHJvb3Qpe0ZTLnJvb3Q9bW91bnRSb290fWVsc2UgaWYobm9kZSl7bm9kZS5tb3VudGVkPW1vdW50O2lmKG5vZGUubW91bnQpe25vZGUubW91bnQubW91bnRzLnB1c2gobW91bnQpfX1yZXR1cm4gbW91bnRSb290fSx1bm1vdW50Om1vdW50cG9pbnQ9Pnt2YXIgbG9va3VwPUZTLmxvb2t1cFBhdGgobW91bnRwb2ludCx7Zm9sbG93X21vdW50OmZhbHNlfSk7aWYoIUZTLmlzTW91bnRwb2ludChsb29rdXAubm9kZSkpe3Rocm93IG5ldyBGUy5FcnJub0Vycm9yKDI4KX12YXIgbm9kZT1sb29rdXAubm9kZTt2YXIgbW91bnQ9bm9kZS5tb3VudGVkO3ZhciBtb3VudHM9RlMuZ2V0TW91bnRzKG1vdW50KTtPYmplY3Qua2V5cyhGUy5uYW1lVGFibGUpLmZvckVhY2goaGFzaD0+e3ZhciBjdXJyZW50PUZTLm5hbWVUYWJsZVtoYXNoXTt3aGlsZShjdXJyZW50KXt2YXIgbmV4dD1jdXJyZW50Lm5hbWVfbmV4dDtpZihtb3VudHMuaW5jbHVkZXMoY3VycmVudC5tb3VudCkpe0ZTLmRlc3Ryb3lOb2RlKGN1cnJlbnQpfWN1cnJlbnQ9bmV4dH19KTtub2RlLm1vdW50ZWQ9bnVsbDt2YXIgaWR4PW5vZGUubW91bnQubW91bnRzLmluZGV4T2YobW91bnQpO25vZGUubW91bnQubW91bnRzLnNwbGljZShpZHgsMSl9LGxvb2t1cDoocGFyZW50LG5hbWUpPT57cmV0dXJuIHBhcmVudC5ub2RlX29wcy5sb29rdXAocGFyZW50LG5hbWUpfSxta25vZDoocGF0aCxtb2RlLGRldik9Pnt2YXIgbG9va3VwPUZTLmxvb2t1cFBhdGgocGF0aCx7cGFyZW50OnRydWV9KTt2YXIgcGFyZW50PWxvb2t1cC5ub2RlO3ZhciBuYW1lPVBBVEguYmFzZW5hbWUocGF0aCk7aWYoIW5hbWV8fG5hbWU9PT0iLiJ8fG5hbWU9PT0iLi4iKXt0aHJvdyBuZXcgRlMuRXJybm9FcnJvcigyOCl9dmFyIGVyckNvZGU9RlMubWF5Q3JlYXRlKHBhcmVudCxuYW1lKTtpZihlcnJDb2RlKXt0aHJvdyBuZXcgRlMuRXJybm9FcnJvcihlcnJDb2RlKX1pZighcGFyZW50Lm5vZGVfb3BzLm1rbm9kKXt0aHJvdyBuZXcgRlMuRXJybm9FcnJvcig2Myl9cmV0dXJuIHBhcmVudC5ub2RlX29wcy5ta25vZChwYXJlbnQsbmFtZSxtb2RlLGRldil9LGNyZWF0ZToocGF0aCxtb2RlKT0+e21vZGU9bW9kZSE9PXVuZGVmaW5lZD9tb2RlOjQzODttb2RlJj00MDk1O21vZGV8PTMyNzY4O3JldHVybiBGUy5ta25vZChwYXRoLG1vZGUsMCl9LG1rZGlyOihwYXRoLG1vZGUpPT57bW9kZT1tb2RlIT09dW5kZWZpbmVkP21vZGU6NTExO21vZGUmPTUxMXw1MTI7bW9kZXw9MTYzODQ7cmV0dXJuIEZTLm1rbm9kKHBhdGgsbW9kZSwwKX0sbWtkaXJUcmVlOihwYXRoLG1vZGUpPT57dmFyIGRpcnM9cGF0aC5zcGxpdCgiLyIpO3ZhciBkPSIiO2Zvcih2YXIgaT0wO2k8ZGlycy5sZW5ndGg7KytpKXtpZighZGlyc1tpXSljb250aW51ZTtkKz0iLyIrZGlyc1tpXTt0cnl7RlMubWtkaXIoZCxtb2RlKX1jYXRjaChlKXtpZihlLmVycm5vIT0yMCl0aHJvdyBlfX19LG1rZGV2OihwYXRoLG1vZGUsZGV2KT0+e2lmKHR5cGVvZiBkZXY9PSJ1bmRlZmluZWQiKXtkZXY9bW9kZTttb2RlPTQzOH1tb2RlfD04MTkyO3JldHVybiBGUy5ta25vZChwYXRoLG1vZGUsZGV2KX0sc3ltbGluazoob2xkcGF0aCxuZXdwYXRoKT0+e2lmKCFQQVRIX0ZTLnJlc29sdmUob2xkcGF0aCkpe3Rocm93IG5ldyBGUy5FcnJub0Vycm9yKDQ0KX12YXIgbG9va3VwPUZTLmxvb2t1cFBhdGgobmV3cGF0aCx7cGFyZW50OnRydWV9KTt2YXIgcGFyZW50PWxvb2t1cC5ub2RlO2lmKCFwYXJlbnQpe3Rocm93IG5ldyBGUy5FcnJub0Vycm9yKDQ0KX12YXIgbmV3bmFtZT1QQVRILmJhc2VuYW1lKG5ld3BhdGgpO3ZhciBlcnJDb2RlPUZTLm1heUNyZWF0ZShwYXJlbnQsbmV3bmFtZSk7aWYoZXJyQ29kZSl7dGhyb3cgbmV3IEZTLkVycm5vRXJyb3IoZXJyQ29kZSl9aWYoIXBhcmVudC5ub2RlX29wcy5zeW1saW5rKXt0aHJvdyBuZXcgRlMuRXJybm9FcnJvcig2Myl9cmV0dXJuIHBhcmVudC5ub2RlX29wcy5zeW1saW5rKHBhcmVudCxuZXduYW1lLG9sZHBhdGgpfSxyZW5hbWU6KG9sZF9wYXRoLG5ld19wYXRoKT0+e3ZhciBvbGRfZGlybmFtZT1QQVRILmRpcm5hbWUob2xkX3BhdGgpO3ZhciBuZXdfZGlybmFtZT1QQVRILmRpcm5hbWUobmV3X3BhdGgpO3ZhciBvbGRfbmFtZT1QQVRILmJhc2VuYW1lKG9sZF9wYXRoKTt2YXIgbmV3X25hbWU9UEFUSC5iYXNlbmFtZShuZXdfcGF0aCk7dmFyIGxvb2t1cCxvbGRfZGlyLG5ld19kaXI7bG9va3VwPUZTLmxvb2t1cFBhdGgob2xkX3BhdGgse3BhcmVudDp0cnVlfSk7b2xkX2Rpcj1sb29rdXAubm9kZTtsb29rdXA9RlMubG9va3VwUGF0aChuZXdfcGF0aCx7cGFyZW50OnRydWV9KTtuZXdfZGlyPWxvb2t1cC5ub2RlO2lmKCFvbGRfZGlyfHwhbmV3X2Rpcil0aHJvdyBuZXcgRlMuRXJybm9FcnJvcig0NCk7aWYob2xkX2Rpci5tb3VudCE9PW5ld19kaXIubW91bnQpe3Rocm93IG5ldyBGUy5FcnJub0Vycm9yKDc1KX12YXIgb2xkX25vZGU9RlMubG9va3VwTm9kZShvbGRfZGlyLG9sZF9uYW1lKTt2YXIgcmVsYXRpdmU9UEFUSF9GUy5yZWxhdGl2ZShvbGRfcGF0aCxuZXdfZGlybmFtZSk7aWYocmVsYXRpdmUuY2hhckF0KDApIT09Ii4iKXt0aHJvdyBuZXcgRlMuRXJybm9FcnJvcigyOCl9cmVsYXRpdmU9UEFUSF9GUy5yZWxhdGl2ZShuZXdfcGF0aCxvbGRfZGlybmFtZSk7aWYocmVsYXRpdmUuY2hhckF0KDApIT09Ii4iKXt0aHJvdyBuZXcgRlMuRXJybm9FcnJvcig1NSl9dmFyIG5ld19ub2RlO3RyeXtuZXdfbm9kZT1GUy5sb29rdXBOb2RlKG5ld19kaXIsbmV3X25hbWUpfWNhdGNoKGUpe31pZihvbGRfbm9kZT09PW5ld19ub2RlKXtyZXR1cm59dmFyIGlzZGlyPUZTLmlzRGlyKG9sZF9ub2RlLm1vZGUpO3ZhciBlcnJDb2RlPUZTLm1heURlbGV0ZShvbGRfZGlyLG9sZF9uYW1lLGlzZGlyKTtpZihlcnJDb2RlKXt0aHJvdyBuZXcgRlMuRXJybm9FcnJvcihlcnJDb2RlKX1lcnJDb2RlPW5ld19ub2RlP0ZTLm1heURlbGV0ZShuZXdfZGlyLG5ld19uYW1lLGlzZGlyKTpGUy5tYXlDcmVhdGUobmV3X2RpcixuZXdfbmFtZSk7aWYoZXJyQ29kZSl7dGhyb3cgbmV3IEZTLkVycm5vRXJyb3IoZXJyQ29kZSl9aWYoIW9sZF9kaXIubm9kZV9vcHMucmVuYW1lKXt0aHJvdyBuZXcgRlMuRXJybm9FcnJvcig2Myl9aWYoRlMuaXNNb3VudHBvaW50KG9sZF9ub2RlKXx8bmV3X25vZGUmJkZTLmlzTW91bnRwb2ludChuZXdfbm9kZSkpe3Rocm93IG5ldyBGUy5FcnJub0Vycm9yKDEwKX1pZihuZXdfZGlyIT09b2xkX2Rpcil7ZXJyQ29kZT1GUy5ub2RlUGVybWlzc2lvbnMob2xkX2RpciwidyIpO2lmKGVyckNvZGUpe3Rocm93IG5ldyBGUy5FcnJub0Vycm9yKGVyckNvZGUpfX1GUy5oYXNoUmVtb3ZlTm9kZShvbGRfbm9kZSk7dHJ5e29sZF9kaXIubm9kZV9vcHMucmVuYW1lKG9sZF9ub2RlLG5ld19kaXIsbmV3X25hbWUpfWNhdGNoKGUpe3Rocm93IGV9ZmluYWxseXtGUy5oYXNoQWRkTm9kZShvbGRfbm9kZSl9fSxybWRpcjpwYXRoPT57dmFyIGxvb2t1cD1GUy5sb29rdXBQYXRoKHBhdGgse3BhcmVudDp0cnVlfSk7dmFyIHBhcmVudD1sb29rdXAubm9kZTt2YXIgbmFtZT1QQVRILmJhc2VuYW1lKHBhdGgpO3ZhciBub2RlPUZTLmxvb2t1cE5vZGUocGFyZW50LG5hbWUpO3ZhciBlcnJDb2RlPUZTLm1heURlbGV0ZShwYXJlbnQsbmFtZSx0cnVlKTtpZihlcnJDb2RlKXt0aHJvdyBuZXcgRlMuRXJybm9FcnJvcihlcnJDb2RlKX1pZighcGFyZW50Lm5vZGVfb3BzLnJtZGlyKXt0aHJvdyBuZXcgRlMuRXJybm9FcnJvcig2Myl9aWYoRlMuaXNNb3VudHBvaW50KG5vZGUpKXt0aHJvdyBuZXcgRlMuRXJybm9FcnJvcigxMCl9cGFyZW50Lm5vZGVfb3BzLnJtZGlyKHBhcmVudCxuYW1lKTtGUy5kZXN0cm95Tm9kZShub2RlKX0scmVhZGRpcjpwYXRoPT57dmFyIGxvb2t1cD1GUy5sb29rdXBQYXRoKHBhdGgse2ZvbGxvdzp0cnVlfSk7dmFyIG5vZGU9bG9va3VwLm5vZGU7aWYoIW5vZGUubm9kZV9vcHMucmVhZGRpcil7dGhyb3cgbmV3IEZTLkVycm5vRXJyb3IoNTQpfXJldHVybiBub2RlLm5vZGVfb3BzLnJlYWRkaXIobm9kZSl9LHVubGluazpwYXRoPT57dmFyIGxvb2t1cD1GUy5sb29rdXBQYXRoKHBhdGgse3BhcmVudDp0cnVlfSk7dmFyIHBhcmVudD1sb29rdXAubm9kZTtpZighcGFyZW50KXt0aHJvdyBuZXcgRlMuRXJybm9FcnJvcig0NCl9dmFyIG5hbWU9UEFUSC5iYXNlbmFtZShwYXRoKTt2YXIgbm9kZT1GUy5sb29rdXBOb2RlKHBhcmVudCxuYW1lKTt2YXIgZXJyQ29kZT1GUy5tYXlEZWxldGUocGFyZW50LG5hbWUsZmFsc2UpO2lmKGVyckNvZGUpe3Rocm93IG5ldyBGUy5FcnJub0Vycm9yKGVyckNvZGUpfWlmKCFwYXJlbnQubm9kZV9vcHMudW5saW5rKXt0aHJvdyBuZXcgRlMuRXJybm9FcnJvcig2Myl9aWYoRlMuaXNNb3VudHBvaW50KG5vZGUpKXt0aHJvdyBuZXcgRlMuRXJybm9FcnJvcigxMCl9cGFyZW50Lm5vZGVfb3BzLnVubGluayhwYXJlbnQsbmFtZSk7RlMuZGVzdHJveU5vZGUobm9kZSl9LHJlYWRsaW5rOnBhdGg9Pnt2YXIgbG9va3VwPUZTLmxvb2t1cFBhdGgocGF0aCk7dmFyIGxpbms9bG9va3VwLm5vZGU7aWYoIWxpbmspe3Rocm93IG5ldyBGUy5FcnJub0Vycm9yKDQ0KX1pZighbGluay5ub2RlX29wcy5yZWFkbGluayl7dGhyb3cgbmV3IEZTLkVycm5vRXJyb3IoMjgpfXJldHVybiBQQVRIX0ZTLnJlc29sdmUoRlMuZ2V0UGF0aChsaW5rLnBhcmVudCksbGluay5ub2RlX29wcy5yZWFkbGluayhsaW5rKSl9LHN0YXQ6KHBhdGgsZG9udEZvbGxvdyk9Pnt2YXIgbG9va3VwPUZTLmxvb2t1cFBhdGgocGF0aCx7Zm9sbG93OiFkb250Rm9sbG93fSk7dmFyIG5vZGU9bG9va3VwLm5vZGU7aWYoIW5vZGUpe3Rocm93IG5ldyBGUy5FcnJub0Vycm9yKDQ0KX1pZighbm9kZS5ub2RlX29wcy5nZXRhdHRyKXt0aHJvdyBuZXcgRlMuRXJybm9FcnJvcig2Myl9cmV0dXJuIG5vZGUubm9kZV9vcHMuZ2V0YXR0cihub2RlKX0sbHN0YXQ6cGF0aD0+e3JldHVybiBGUy5zdGF0KHBhdGgsdHJ1ZSl9LGNobW9kOihwYXRoLG1vZGUsZG9udEZvbGxvdyk9Pnt2YXIgbm9kZTtpZih0eXBlb2YgcGF0aD09InN0cmluZyIpe3ZhciBsb29rdXA9RlMubG9va3VwUGF0aChwYXRoLHtmb2xsb3c6IWRvbnRGb2xsb3d9KTtub2RlPWxvb2t1cC5ub2RlfWVsc2V7bm9kZT1wYXRofWlmKCFub2RlLm5vZGVfb3BzLnNldGF0dHIpe3Rocm93IG5ldyBGUy5FcnJub0Vycm9yKDYzKX1ub2RlLm5vZGVfb3BzLnNldGF0dHIobm9kZSx7bW9kZTptb2RlJjQwOTV8bm9kZS5tb2RlJn40MDk1LHRpbWVzdGFtcDpEYXRlLm5vdygpfSl9LGxjaG1vZDoocGF0aCxtb2RlKT0+e0ZTLmNobW9kKHBhdGgsbW9kZSx0cnVlKX0sZmNobW9kOihmZCxtb2RlKT0+e3ZhciBzdHJlYW09RlMuZ2V0U3RyZWFtKGZkKTtpZighc3RyZWFtKXt0aHJvdyBuZXcgRlMuRXJybm9FcnJvcig4KX1GUy5jaG1vZChzdHJlYW0ubm9kZSxtb2RlKX0sY2hvd246KHBhdGgsdWlkLGdpZCxkb250Rm9sbG93KT0+e3ZhciBub2RlO2lmKHR5cGVvZiBwYXRoPT0ic3RyaW5nIil7dmFyIGxvb2t1cD1GUy5sb29rdXBQYXRoKHBhdGgse2ZvbGxvdzohZG9udEZvbGxvd30pO25vZGU9bG9va3VwLm5vZGV9ZWxzZXtub2RlPXBhdGh9aWYoIW5vZGUubm9kZV9vcHMuc2V0YXR0cil7dGhyb3cgbmV3IEZTLkVycm5vRXJyb3IoNjMpfW5vZGUubm9kZV9vcHMuc2V0YXR0cihub2RlLHt0aW1lc3RhbXA6RGF0ZS5ub3coKX0pfSxsY2hvd246KHBhdGgsdWlkLGdpZCk9PntGUy5jaG93bihwYXRoLHVpZCxnaWQsdHJ1ZSl9LGZjaG93bjooZmQsdWlkLGdpZCk9Pnt2YXIgc3RyZWFtPUZTLmdldFN0cmVhbShmZCk7aWYoIXN0cmVhbSl7dGhyb3cgbmV3IEZTLkVycm5vRXJyb3IoOCl9RlMuY2hvd24oc3RyZWFtLm5vZGUsdWlkLGdpZCl9LHRydW5jYXRlOihwYXRoLGxlbik9PntpZihsZW48MCl7dGhyb3cgbmV3IEZTLkVycm5vRXJyb3IoMjgpfXZhciBub2RlO2lmKHR5cGVvZiBwYXRoPT0ic3RyaW5nIil7dmFyIGxvb2t1cD1GUy5sb29rdXBQYXRoKHBhdGgse2ZvbGxvdzp0cnVlfSk7bm9kZT1sb29rdXAubm9kZX1lbHNle25vZGU9cGF0aH1pZighbm9kZS5ub2RlX29wcy5zZXRhdHRyKXt0aHJvdyBuZXcgRlMuRXJybm9FcnJvcig2Myl9aWYoRlMuaXNEaXIobm9kZS5tb2RlKSl7dGhyb3cgbmV3IEZTLkVycm5vRXJyb3IoMzEpfWlmKCFGUy5pc0ZpbGUobm9kZS5tb2RlKSl7dGhyb3cgbmV3IEZTLkVycm5vRXJyb3IoMjgpfXZhciBlcnJDb2RlPUZTLm5vZGVQZXJtaXNzaW9ucyhub2RlLCJ3Iik7aWYoZXJyQ29kZSl7dGhyb3cgbmV3IEZTLkVycm5vRXJyb3IoZXJyQ29kZSl9bm9kZS5ub2RlX29wcy5zZXRhdHRyKG5vZGUse3NpemU6bGVuLHRpbWVzdGFtcDpEYXRlLm5vdygpfSl9LGZ0cnVuY2F0ZTooZmQsbGVuKT0+e3ZhciBzdHJlYW09RlMuZ2V0U3RyZWFtKGZkKTtpZighc3RyZWFtKXt0aHJvdyBuZXcgRlMuRXJybm9FcnJvcig4KX1pZigoc3RyZWFtLmZsYWdzJjIwOTcxNTUpPT09MCl7dGhyb3cgbmV3IEZTLkVycm5vRXJyb3IoMjgpfUZTLnRydW5jYXRlKHN0cmVhbS5ub2RlLGxlbil9LHV0aW1lOihwYXRoLGF0aW1lLG10aW1lKT0+e3ZhciBsb29rdXA9RlMubG9va3VwUGF0aChwYXRoLHtmb2xsb3c6dHJ1ZX0pO3ZhciBub2RlPWxvb2t1cC5ub2RlO25vZGUubm9kZV9vcHMuc2V0YXR0cihub2RlLHt0aW1lc3RhbXA6TWF0aC5tYXgoYXRpbWUsbXRpbWUpfSl9LG9wZW46KHBhdGgsZmxhZ3MsbW9kZSk9PntpZihwYXRoPT09IiIpe3Rocm93IG5ldyBGUy5FcnJub0Vycm9yKDQ0KX1mbGFncz10eXBlb2YgZmxhZ3M9PSJzdHJpbmciP0ZTLm1vZGVTdHJpbmdUb0ZsYWdzKGZsYWdzKTpmbGFnczttb2RlPXR5cGVvZiBtb2RlPT0idW5kZWZpbmVkIj80Mzg6bW9kZTtpZihmbGFncyY2NCl7bW9kZT1tb2RlJjQwOTV8MzI3Njh9ZWxzZXttb2RlPTB9dmFyIG5vZGU7aWYodHlwZW9mIHBhdGg9PSJvYmplY3QiKXtub2RlPXBhdGh9ZWxzZXtwYXRoPVBBVEgubm9ybWFsaXplKHBhdGgpO3RyeXt2YXIgbG9va3VwPUZTLmxvb2t1cFBhdGgocGF0aCx7Zm9sbG93OiEoZmxhZ3MmMTMxMDcyKX0pO25vZGU9bG9va3VwLm5vZGV9Y2F0Y2goZSl7fX12YXIgY3JlYXRlZD1mYWxzZTtpZihmbGFncyY2NCl7aWYobm9kZSl7aWYoZmxhZ3MmMTI4KXt0aHJvdyBuZXcgRlMuRXJybm9FcnJvcigyMCl9fWVsc2V7bm9kZT1GUy5ta25vZChwYXRoLG1vZGUsMCk7Y3JlYXRlZD10cnVlfX1pZighbm9kZSl7dGhyb3cgbmV3IEZTLkVycm5vRXJyb3IoNDQpfWlmKEZTLmlzQ2hyZGV2KG5vZGUubW9kZSkpe2ZsYWdzJj1+NTEyfWlmKGZsYWdzJjY1NTM2JiYhRlMuaXNEaXIobm9kZS5tb2RlKSl7dGhyb3cgbmV3IEZTLkVycm5vRXJyb3IoNTQpfWlmKCFjcmVhdGVkKXt2YXIgZXJyQ29kZT1GUy5tYXlPcGVuKG5vZGUsZmxhZ3MpO2lmKGVyckNvZGUpe3Rocm93IG5ldyBGUy5FcnJub0Vycm9yKGVyckNvZGUpfX1pZihmbGFncyY1MTImJiFjcmVhdGVkKXtGUy50cnVuY2F0ZShub2RlLDApfWZsYWdzJj1+KDEyOHw1MTJ8MTMxMDcyKTt2YXIgc3RyZWFtPUZTLmNyZWF0ZVN0cmVhbSh7bm9kZTpub2RlLHBhdGg6RlMuZ2V0UGF0aChub2RlKSxmbGFnczpmbGFncyxzZWVrYWJsZTp0cnVlLHBvc2l0aW9uOjAsc3RyZWFtX29wczpub2RlLnN0cmVhbV9vcHMsdW5nb3R0ZW46W10sZXJyb3I6ZmFsc2V9KTtpZihzdHJlYW0uc3RyZWFtX29wcy5vcGVuKXtzdHJlYW0uc3RyZWFtX29wcy5vcGVuKHN0cmVhbSl9aWYoTW9kdWxlWyJsb2dSZWFkRmlsZXMiXSYmIShmbGFncyYxKSl7aWYoIUZTLnJlYWRGaWxlcylGUy5yZWFkRmlsZXM9e307aWYoIShwYXRoIGluIEZTLnJlYWRGaWxlcykpe0ZTLnJlYWRGaWxlc1twYXRoXT0xfX1yZXR1cm4gc3RyZWFtfSxjbG9zZTpzdHJlYW09PntpZihGUy5pc0Nsb3NlZChzdHJlYW0pKXt0aHJvdyBuZXcgRlMuRXJybm9FcnJvcig4KX1pZihzdHJlYW0uZ2V0ZGVudHMpc3RyZWFtLmdldGRlbnRzPW51bGw7dHJ5e2lmKHN0cmVhbS5zdHJlYW1fb3BzLmNsb3NlKXtzdHJlYW0uc3RyZWFtX29wcy5jbG9zZShzdHJlYW0pfX1jYXRjaChlKXt0aHJvdyBlfWZpbmFsbHl7RlMuY2xvc2VTdHJlYW0oc3RyZWFtLmZkKX1zdHJlYW0uZmQ9bnVsbH0saXNDbG9zZWQ6c3RyZWFtPT57cmV0dXJuIHN0cmVhbS5mZD09PW51bGx9LGxsc2Vlazooc3RyZWFtLG9mZnNldCx3aGVuY2UpPT57aWYoRlMuaXNDbG9zZWQoc3RyZWFtKSl7dGhyb3cgbmV3IEZTLkVycm5vRXJyb3IoOCl9aWYoIXN0cmVhbS5zZWVrYWJsZXx8IXN0cmVhbS5zdHJlYW1fb3BzLmxsc2Vlayl7dGhyb3cgbmV3IEZTLkVycm5vRXJyb3IoNzApfWlmKHdoZW5jZSE9MCYmd2hlbmNlIT0xJiZ3aGVuY2UhPTIpe3Rocm93IG5ldyBGUy5FcnJub0Vycm9yKDI4KX1zdHJlYW0ucG9zaXRpb249c3RyZWFtLnN0cmVhbV9vcHMubGxzZWVrKHN0cmVhbSxvZmZzZXQsd2hlbmNlKTtzdHJlYW0udW5nb3R0ZW49W107cmV0dXJuIHN0cmVhbS5wb3NpdGlvbn0scmVhZDooc3RyZWFtLGJ1ZmZlcixvZmZzZXQsbGVuZ3RoLHBvc2l0aW9uKT0+e2lmKGxlbmd0aDwwfHxwb3NpdGlvbjwwKXt0aHJvdyBuZXcgRlMuRXJybm9FcnJvcigyOCl9aWYoRlMuaXNDbG9zZWQoc3RyZWFtKSl7dGhyb3cgbmV3IEZTLkVycm5vRXJyb3IoOCl9aWYoKHN0cmVhbS5mbGFncyYyMDk3MTU1KT09PTEpe3Rocm93IG5ldyBGUy5FcnJub0Vycm9yKDgpfWlmKEZTLmlzRGlyKHN0cmVhbS5ub2RlLm1vZGUpKXt0aHJvdyBuZXcgRlMuRXJybm9FcnJvcigzMSl9aWYoIXN0cmVhbS5zdHJlYW1fb3BzLnJlYWQpe3Rocm93IG5ldyBGUy5FcnJub0Vycm9yKDI4KX12YXIgc2Vla2luZz10eXBlb2YgcG9zaXRpb24hPSJ1bmRlZmluZWQiO2lmKCFzZWVraW5nKXtwb3NpdGlvbj1zdHJlYW0ucG9zaXRpb259ZWxzZSBpZighc3RyZWFtLnNlZWthYmxlKXt0aHJvdyBuZXcgRlMuRXJybm9FcnJvcig3MCl9dmFyIGJ5dGVzUmVhZD1zdHJlYW0uc3RyZWFtX29wcy5yZWFkKHN0cmVhbSxidWZmZXIsb2Zmc2V0LGxlbmd0aCxwb3NpdGlvbik7aWYoIXNlZWtpbmcpc3RyZWFtLnBvc2l0aW9uKz1ieXRlc1JlYWQ7cmV0dXJuIGJ5dGVzUmVhZH0sd3JpdGU6KHN0cmVhbSxidWZmZXIsb2Zmc2V0LGxlbmd0aCxwb3NpdGlvbixjYW5Pd24pPT57aWYobGVuZ3RoPDB8fHBvc2l0aW9uPDApe3Rocm93IG5ldyBGUy5FcnJub0Vycm9yKDI4KX1pZihGUy5pc0Nsb3NlZChzdHJlYW0pKXt0aHJvdyBuZXcgRlMuRXJybm9FcnJvcig4KX1pZigoc3RyZWFtLmZsYWdzJjIwOTcxNTUpPT09MCl7dGhyb3cgbmV3IEZTLkVycm5vRXJyb3IoOCl9aWYoRlMuaXNEaXIoc3RyZWFtLm5vZGUubW9kZSkpe3Rocm93IG5ldyBGUy5FcnJub0Vycm9yKDMxKX1pZighc3RyZWFtLnN0cmVhbV9vcHMud3JpdGUpe3Rocm93IG5ldyBGUy5FcnJub0Vycm9yKDI4KX1pZihzdHJlYW0uc2Vla2FibGUmJnN0cmVhbS5mbGFncyYxMDI0KXtGUy5sbHNlZWsoc3RyZWFtLDAsMil9dmFyIHNlZWtpbmc9dHlwZW9mIHBvc2l0aW9uIT0idW5kZWZpbmVkIjtpZighc2Vla2luZyl7cG9zaXRpb249c3RyZWFtLnBvc2l0aW9ufWVsc2UgaWYoIXN0cmVhbS5zZWVrYWJsZSl7dGhyb3cgbmV3IEZTLkVycm5vRXJyb3IoNzApfXZhciBieXRlc1dyaXR0ZW49c3RyZWFtLnN0cmVhbV9vcHMud3JpdGUoc3RyZWFtLGJ1ZmZlcixvZmZzZXQsbGVuZ3RoLHBvc2l0aW9uLGNhbk93bik7aWYoIXNlZWtpbmcpc3RyZWFtLnBvc2l0aW9uKz1ieXRlc1dyaXR0ZW47cmV0dXJuIGJ5dGVzV3JpdHRlbn0sYWxsb2NhdGU6KHN0cmVhbSxvZmZzZXQsbGVuZ3RoKT0+e2lmKEZTLmlzQ2xvc2VkKHN0cmVhbSkpe3Rocm93IG5ldyBGUy5FcnJub0Vycm9yKDgpfWlmKG9mZnNldDwwfHxsZW5ndGg8PTApe3Rocm93IG5ldyBGUy5FcnJub0Vycm9yKDI4KX1pZigoc3RyZWFtLmZsYWdzJjIwOTcxNTUpPT09MCl7dGhyb3cgbmV3IEZTLkVycm5vRXJyb3IoOCl9aWYoIUZTLmlzRmlsZShzdHJlYW0ubm9kZS5tb2RlKSYmIUZTLmlzRGlyKHN0cmVhbS5ub2RlLm1vZGUpKXt0aHJvdyBuZXcgRlMuRXJybm9FcnJvcig0Myl9aWYoIXN0cmVhbS5zdHJlYW1fb3BzLmFsbG9jYXRlKXt0aHJvdyBuZXcgRlMuRXJybm9FcnJvcigxMzgpfXN0cmVhbS5zdHJlYW1fb3BzLmFsbG9jYXRlKHN0cmVhbSxvZmZzZXQsbGVuZ3RoKX0sbW1hcDooc3RyZWFtLGFkZHJlc3MsbGVuZ3RoLHBvc2l0aW9uLHByb3QsZmxhZ3MpPT57aWYoKHByb3QmMikhPT0wJiYoZmxhZ3MmMik9PT0wJiYoc3RyZWFtLmZsYWdzJjIwOTcxNTUpIT09Mil7dGhyb3cgbmV3IEZTLkVycm5vRXJyb3IoMil9aWYoKHN0cmVhbS5mbGFncyYyMDk3MTU1KT09PTEpe3Rocm93IG5ldyBGUy5FcnJub0Vycm9yKDIpfWlmKCFzdHJlYW0uc3RyZWFtX29wcy5tbWFwKXt0aHJvdyBuZXcgRlMuRXJybm9FcnJvcig0Myl9cmV0dXJuIHN0cmVhbS5zdHJlYW1fb3BzLm1tYXAoc3RyZWFtLGFkZHJlc3MsbGVuZ3RoLHBvc2l0aW9uLHByb3QsZmxhZ3MpfSxtc3luYzooc3RyZWFtLGJ1ZmZlcixvZmZzZXQsbGVuZ3RoLG1tYXBGbGFncyk9PntpZighc3RyZWFtfHwhc3RyZWFtLnN0cmVhbV9vcHMubXN5bmMpe3JldHVybiAwfXJldHVybiBzdHJlYW0uc3RyZWFtX29wcy5tc3luYyhzdHJlYW0sYnVmZmVyLG9mZnNldCxsZW5ndGgsbW1hcEZsYWdzKX0sbXVubWFwOnN0cmVhbT0+MCxpb2N0bDooc3RyZWFtLGNtZCxhcmcpPT57aWYoIXN0cmVhbS5zdHJlYW1fb3BzLmlvY3RsKXt0aHJvdyBuZXcgRlMuRXJybm9FcnJvcig1OSl9cmV0dXJuIHN0cmVhbS5zdHJlYW1fb3BzLmlvY3RsKHN0cmVhbSxjbWQsYXJnKX0scmVhZEZpbGU6KHBhdGgsb3B0cz17fSk9PntvcHRzLmZsYWdzPW9wdHMuZmxhZ3N8fDA7b3B0cy5lbmNvZGluZz1vcHRzLmVuY29kaW5nfHwiYmluYXJ5IjtpZihvcHRzLmVuY29kaW5nIT09InV0ZjgiJiZvcHRzLmVuY29kaW5nIT09ImJpbmFyeSIpe3Rocm93IG5ldyBFcnJvcignSW52YWxpZCBlbmNvZGluZyB0eXBlICInK29wdHMuZW5jb2RpbmcrJyInKX12YXIgcmV0O3ZhciBzdHJlYW09RlMub3BlbihwYXRoLG9wdHMuZmxhZ3MpO3ZhciBzdGF0PUZTLnN0YXQocGF0aCk7dmFyIGxlbmd0aD1zdGF0LnNpemU7dmFyIGJ1Zj1uZXcgVWludDhBcnJheShsZW5ndGgpO0ZTLnJlYWQoc3RyZWFtLGJ1ZiwwLGxlbmd0aCwwKTtpZihvcHRzLmVuY29kaW5nPT09InV0ZjgiKXtyZXQ9VVRGOEFycmF5VG9TdHJpbmcoYnVmLDApfWVsc2UgaWYob3B0cy5lbmNvZGluZz09PSJiaW5hcnkiKXtyZXQ9YnVmfUZTLmNsb3NlKHN0cmVhbSk7cmV0dXJuIHJldH0sd3JpdGVGaWxlOihwYXRoLGRhdGEsb3B0cz17fSk9PntvcHRzLmZsYWdzPW9wdHMuZmxhZ3N8fDU3Nzt2YXIgc3RyZWFtPUZTLm9wZW4ocGF0aCxvcHRzLmZsYWdzLG9wdHMubW9kZSk7aWYodHlwZW9mIGRhdGE9PSJzdHJpbmciKXt2YXIgYnVmPW5ldyBVaW50OEFycmF5KGxlbmd0aEJ5dGVzVVRGOChkYXRhKSsxKTt2YXIgYWN0dWFsTnVtQnl0ZXM9c3RyaW5nVG9VVEY4QXJyYXkoZGF0YSxidWYsMCxidWYubGVuZ3RoKTtGUy53cml0ZShzdHJlYW0sYnVmLDAsYWN0dWFsTnVtQnl0ZXMsdW5kZWZpbmVkLG9wdHMuY2FuT3duKX1lbHNlIGlmKEFycmF5QnVmZmVyLmlzVmlldyhkYXRhKSl7RlMud3JpdGUoc3RyZWFtLGRhdGEsMCxkYXRhLmJ5dGVMZW5ndGgsdW5kZWZpbmVkLG9wdHMuY2FuT3duKX1lbHNle3Rocm93IG5ldyBFcnJvcigiVW5zdXBwb3J0ZWQgZGF0YSB0eXBlIil9RlMuY2xvc2Uoc3RyZWFtKX0sY3dkOigpPT5GUy5jdXJyZW50UGF0aCxjaGRpcjpwYXRoPT57dmFyIGxvb2t1cD1GUy5sb29rdXBQYXRoKHBhdGgse2ZvbGxvdzp0cnVlfSk7aWYobG9va3VwLm5vZGU9PT1udWxsKXt0aHJvdyBuZXcgRlMuRXJybm9FcnJvcig0NCl9aWYoIUZTLmlzRGlyKGxvb2t1cC5ub2RlLm1vZGUpKXt0aHJvdyBuZXcgRlMuRXJybm9FcnJvcig1NCl9dmFyIGVyckNvZGU9RlMubm9kZVBlcm1pc3Npb25zKGxvb2t1cC5ub2RlLCJ4Iik7aWYoZXJyQ29kZSl7dGhyb3cgbmV3IEZTLkVycm5vRXJyb3IoZXJyQ29kZSl9RlMuY3VycmVudFBhdGg9bG9va3VwLnBhdGh9LGNyZWF0ZURlZmF1bHREaXJlY3RvcmllczooKT0+e0ZTLm1rZGlyKCIvdG1wIik7RlMubWtkaXIoIi9ob21lIik7RlMubWtkaXIoIi9ob21lL3dlYl91c2VyIil9LGNyZWF0ZURlZmF1bHREZXZpY2VzOigpPT57RlMubWtkaXIoIi9kZXYiKTtGUy5yZWdpc3RlckRldmljZShGUy5tYWtlZGV2KDEsMykse3JlYWQ6KCk9PjAsd3JpdGU6KHN0cmVhbSxidWZmZXIsb2Zmc2V0LGxlbmd0aCxwb3MpPT5sZW5ndGh9KTtGUy5ta2RldigiL2Rldi9udWxsIixGUy5tYWtlZGV2KDEsMykpO1RUWS5yZWdpc3RlcihGUy5tYWtlZGV2KDUsMCksVFRZLmRlZmF1bHRfdHR5X29wcyk7VFRZLnJlZ2lzdGVyKEZTLm1ha2VkZXYoNiwwKSxUVFkuZGVmYXVsdF90dHkxX29wcyk7RlMubWtkZXYoIi9kZXYvdHR5IixGUy5tYWtlZGV2KDUsMCkpO0ZTLm1rZGV2KCIvZGV2L3R0eTEiLEZTLm1ha2VkZXYoNiwwKSk7dmFyIHJhbmRvbV9kZXZpY2U9Z2V0UmFuZG9tRGV2aWNlKCk7RlMuY3JlYXRlRGV2aWNlKCIvZGV2IiwicmFuZG9tIixyYW5kb21fZGV2aWNlKTtGUy5jcmVhdGVEZXZpY2UoIi9kZXYiLCJ1cmFuZG9tIixyYW5kb21fZGV2aWNlKTtGUy5ta2RpcigiL2Rldi9zaG0iKTtGUy5ta2RpcigiL2Rldi9zaG0vdG1wIil9LGNyZWF0ZVNwZWNpYWxEaXJlY3RvcmllczooKT0+e0ZTLm1rZGlyKCIvcHJvYyIpO3ZhciBwcm9jX3NlbGY9RlMubWtkaXIoIi9wcm9jL3NlbGYiKTtGUy5ta2RpcigiL3Byb2Mvc2VsZi9mZCIpO0ZTLm1vdW50KHttb3VudDooKT0+e3ZhciBub2RlPUZTLmNyZWF0ZU5vZGUocHJvY19zZWxmLCJmZCIsMTYzODR8NTExLDczKTtub2RlLm5vZGVfb3BzPXtsb29rdXA6KHBhcmVudCxuYW1lKT0+e3ZhciBmZD0rbmFtZTt2YXIgc3RyZWFtPUZTLmdldFN0cmVhbShmZCk7aWYoIXN0cmVhbSl0aHJvdyBuZXcgRlMuRXJybm9FcnJvcig4KTt2YXIgcmV0PXtwYXJlbnQ6bnVsbCxtb3VudDp7bW91bnRwb2ludDoiZmFrZSJ9LG5vZGVfb3BzOntyZWFkbGluazooKT0+c3RyZWFtLnBhdGh9fTtyZXQucGFyZW50PXJldDtyZXR1cm4gcmV0fX07cmV0dXJuIG5vZGV9fSx7fSwiL3Byb2Mvc2VsZi9mZCIpfSxjcmVhdGVTdGFuZGFyZFN0cmVhbXM6KCk9PntpZihNb2R1bGVbInN0ZGluIl0pe0ZTLmNyZWF0ZURldmljZSgiL2RldiIsInN0ZGluIixNb2R1bGVbInN0ZGluIl0pfWVsc2V7RlMuc3ltbGluaygiL2Rldi90dHkiLCIvZGV2L3N0ZGluIil9aWYoTW9kdWxlWyJzdGRvdXQiXSl7RlMuY3JlYXRlRGV2aWNlKCIvZGV2Iiwic3Rkb3V0IixudWxsLE1vZHVsZVsic3Rkb3V0Il0pfWVsc2V7RlMuc3ltbGluaygiL2Rldi90dHkiLCIvZGV2L3N0ZG91dCIpfWlmKE1vZHVsZVsic3RkZXJyIl0pe0ZTLmNyZWF0ZURldmljZSgiL2RldiIsInN0ZGVyciIsbnVsbCxNb2R1bGVbInN0ZGVyciJdKX1lbHNle0ZTLnN5bWxpbmsoIi9kZXYvdHR5MSIsIi9kZXYvc3RkZXJyIil9dmFyIHN0ZGluPUZTLm9wZW4oIi9kZXYvc3RkaW4iLDApO3ZhciBzdGRvdXQ9RlMub3BlbigiL2Rldi9zdGRvdXQiLDEpO3ZhciBzdGRlcnI9RlMub3BlbigiL2Rldi9zdGRlcnIiLDEpfSxlbnN1cmVFcnJub0Vycm9yOigpPT57aWYoRlMuRXJybm9FcnJvcilyZXR1cm47RlMuRXJybm9FcnJvcj1mdW5jdGlvbiBFcnJub0Vycm9yKGVycm5vLG5vZGUpe3RoaXMubm9kZT1ub2RlO3RoaXMuc2V0RXJybm89ZnVuY3Rpb24oZXJybm8pe3RoaXMuZXJybm89ZXJybm99O3RoaXMuc2V0RXJybm8oZXJybm8pO3RoaXMubWVzc2FnZT0iRlMgZXJyb3IifTtGUy5FcnJub0Vycm9yLnByb3RvdHlwZT1uZXcgRXJyb3I7RlMuRXJybm9FcnJvci5wcm90b3R5cGUuY29uc3RydWN0b3I9RlMuRXJybm9FcnJvcjtbNDRdLmZvckVhY2goY29kZT0+e0ZTLmdlbmVyaWNFcnJvcnNbY29kZV09bmV3IEZTLkVycm5vRXJyb3IoY29kZSk7RlMuZ2VuZXJpY0Vycm9yc1tjb2RlXS5zdGFjaz0iPGdlbmVyaWMgZXJyb3IsIG5vIHN0YWNrPiJ9KX0sc3RhdGljSW5pdDooKT0+e0ZTLmVuc3VyZUVycm5vRXJyb3IoKTtGUy5uYW1lVGFibGU9bmV3IEFycmF5KDQwOTYpO0ZTLm1vdW50KE1FTUZTLHt9LCIvIik7RlMuY3JlYXRlRGVmYXVsdERpcmVjdG9yaWVzKCk7RlMuY3JlYXRlRGVmYXVsdERldmljZXMoKTtGUy5jcmVhdGVTcGVjaWFsRGlyZWN0b3JpZXMoKTtGUy5maWxlc3lzdGVtcz17Ik1FTUZTIjpNRU1GU319LGluaXQ6KGlucHV0LG91dHB1dCxlcnJvcik9PntGUy5pbml0LmluaXRpYWxpemVkPXRydWU7RlMuZW5zdXJlRXJybm9FcnJvcigpO01vZHVsZVsic3RkaW4iXT1pbnB1dHx8TW9kdWxlWyJzdGRpbiJdO01vZHVsZVsic3Rkb3V0Il09b3V0cHV0fHxNb2R1bGVbInN0ZG91dCJdO01vZHVsZVsic3RkZXJyIl09ZXJyb3J8fE1vZHVsZVsic3RkZXJyIl07RlMuY3JlYXRlU3RhbmRhcmRTdHJlYW1zKCl9LHF1aXQ6KCk9PntGUy5pbml0LmluaXRpYWxpemVkPWZhbHNlO19fX3N0ZGlvX2V4aXQoKTtmb3IodmFyIGk9MDtpPEZTLnN0cmVhbXMubGVuZ3RoO2krKyl7dmFyIHN0cmVhbT1GUy5zdHJlYW1zW2ldO2lmKCFzdHJlYW0pe2NvbnRpbnVlfUZTLmNsb3NlKHN0cmVhbSl9fSxnZXRNb2RlOihjYW5SZWFkLGNhbldyaXRlKT0+e3ZhciBtb2RlPTA7aWYoY2FuUmVhZCltb2RlfD0yOTJ8NzM7aWYoY2FuV3JpdGUpbW9kZXw9MTQ2O3JldHVybiBtb2RlfSxmaW5kT2JqZWN0OihwYXRoLGRvbnRSZXNvbHZlTGFzdExpbmspPT57dmFyIHJldD1GUy5hbmFseXplUGF0aChwYXRoLGRvbnRSZXNvbHZlTGFzdExpbmspO2lmKHJldC5leGlzdHMpe3JldHVybiByZXQub2JqZWN0fWVsc2V7cmV0dXJuIG51bGx9fSxhbmFseXplUGF0aDoocGF0aCxkb250UmVzb2x2ZUxhc3RMaW5rKT0+e3RyeXt2YXIgbG9va3VwPUZTLmxvb2t1cFBhdGgocGF0aCx7Zm9sbG93OiFkb250UmVzb2x2ZUxhc3RMaW5rfSk7cGF0aD1sb29rdXAucGF0aH1jYXRjaChlKXt9dmFyIHJldD17aXNSb290OmZhbHNlLGV4aXN0czpmYWxzZSxlcnJvcjowLG5hbWU6bnVsbCxwYXRoOm51bGwsb2JqZWN0Om51bGwscGFyZW50RXhpc3RzOmZhbHNlLHBhcmVudFBhdGg6bnVsbCxwYXJlbnRPYmplY3Q6bnVsbH07dHJ5e3ZhciBsb29rdXA9RlMubG9va3VwUGF0aChwYXRoLHtwYXJlbnQ6dHJ1ZX0pO3JldC5wYXJlbnRFeGlzdHM9dHJ1ZTtyZXQucGFyZW50UGF0aD1sb29rdXAucGF0aDtyZXQucGFyZW50T2JqZWN0PWxvb2t1cC5ub2RlO3JldC5uYW1lPVBBVEguYmFzZW5hbWUocGF0aCk7bG9va3VwPUZTLmxvb2t1cFBhdGgocGF0aCx7Zm9sbG93OiFkb250UmVzb2x2ZUxhc3RMaW5rfSk7cmV0LmV4aXN0cz10cnVlO3JldC5wYXRoPWxvb2t1cC5wYXRoO3JldC5vYmplY3Q9bG9va3VwLm5vZGU7cmV0Lm5hbWU9bG9va3VwLm5vZGUubmFtZTtyZXQuaXNSb290PWxvb2t1cC5wYXRoPT09Ii8ifWNhdGNoKGUpe3JldC5lcnJvcj1lLmVycm5vfXJldHVybiByZXR9LGNyZWF0ZVBhdGg6KHBhcmVudCxwYXRoLGNhblJlYWQsY2FuV3JpdGUpPT57cGFyZW50PXR5cGVvZiBwYXJlbnQ9PSJzdHJpbmciP3BhcmVudDpGUy5nZXRQYXRoKHBhcmVudCk7dmFyIHBhcnRzPXBhdGguc3BsaXQoIi8iKS5yZXZlcnNlKCk7d2hpbGUocGFydHMubGVuZ3RoKXt2YXIgcGFydD1wYXJ0cy5wb3AoKTtpZighcGFydCljb250aW51ZTt2YXIgY3VycmVudD1QQVRILmpvaW4yKHBhcmVudCxwYXJ0KTt0cnl7RlMubWtkaXIoY3VycmVudCl9Y2F0Y2goZSl7fXBhcmVudD1jdXJyZW50fXJldHVybiBjdXJyZW50fSxjcmVhdGVGaWxlOihwYXJlbnQsbmFtZSxwcm9wZXJ0aWVzLGNhblJlYWQsY2FuV3JpdGUpPT57dmFyIHBhdGg9UEFUSC5qb2luMih0eXBlb2YgcGFyZW50PT0ic3RyaW5nIj9wYXJlbnQ6RlMuZ2V0UGF0aChwYXJlbnQpLG5hbWUpO3ZhciBtb2RlPUZTLmdldE1vZGUoY2FuUmVhZCxjYW5Xcml0ZSk7cmV0dXJuIEZTLmNyZWF0ZShwYXRoLG1vZGUpfSxjcmVhdGVEYXRhRmlsZToocGFyZW50LG5hbWUsZGF0YSxjYW5SZWFkLGNhbldyaXRlLGNhbk93bik9Pnt2YXIgcGF0aD1uYW1lO2lmKHBhcmVudCl7cGFyZW50PXR5cGVvZiBwYXJlbnQ9PSJzdHJpbmciP3BhcmVudDpGUy5nZXRQYXRoKHBhcmVudCk7cGF0aD1uYW1lP1BBVEguam9pbjIocGFyZW50LG5hbWUpOnBhcmVudH12YXIgbW9kZT1GUy5nZXRNb2RlKGNhblJlYWQsY2FuV3JpdGUpO3ZhciBub2RlPUZTLmNyZWF0ZShwYXRoLG1vZGUpO2lmKGRhdGEpe2lmKHR5cGVvZiBkYXRhPT0ic3RyaW5nIil7dmFyIGFycj1uZXcgQXJyYXkoZGF0YS5sZW5ndGgpO2Zvcih2YXIgaT0wLGxlbj1kYXRhLmxlbmd0aDtpPGxlbjsrK2kpYXJyW2ldPWRhdGEuY2hhckNvZGVBdChpKTtkYXRhPWFycn1GUy5jaG1vZChub2RlLG1vZGV8MTQ2KTt2YXIgc3RyZWFtPUZTLm9wZW4obm9kZSw1NzcpO0ZTLndyaXRlKHN0cmVhbSxkYXRhLDAsZGF0YS5sZW5ndGgsMCxjYW5Pd24pO0ZTLmNsb3NlKHN0cmVhbSk7RlMuY2htb2Qobm9kZSxtb2RlKX1yZXR1cm4gbm9kZX0sY3JlYXRlRGV2aWNlOihwYXJlbnQsbmFtZSxpbnB1dCxvdXRwdXQpPT57dmFyIHBhdGg9UEFUSC5qb2luMih0eXBlb2YgcGFyZW50PT0ic3RyaW5nIj9wYXJlbnQ6RlMuZ2V0UGF0aChwYXJlbnQpLG5hbWUpO3ZhciBtb2RlPUZTLmdldE1vZGUoISFpbnB1dCwhIW91dHB1dCk7aWYoIUZTLmNyZWF0ZURldmljZS5tYWpvcilGUy5jcmVhdGVEZXZpY2UubWFqb3I9NjQ7dmFyIGRldj1GUy5tYWtlZGV2KEZTLmNyZWF0ZURldmljZS5tYWpvcisrLDApO0ZTLnJlZ2lzdGVyRGV2aWNlKGRldix7b3BlbjpzdHJlYW09PntzdHJlYW0uc2Vla2FibGU9ZmFsc2V9LGNsb3NlOnN0cmVhbT0+e2lmKG91dHB1dCYmb3V0cHV0LmJ1ZmZlciYmb3V0cHV0LmJ1ZmZlci5sZW5ndGgpe291dHB1dCgxMCl9fSxyZWFkOihzdHJlYW0sYnVmZmVyLG9mZnNldCxsZW5ndGgscG9zKT0+e3ZhciBieXRlc1JlYWQ9MDtmb3IodmFyIGk9MDtpPGxlbmd0aDtpKyspe3ZhciByZXN1bHQ7dHJ5e3Jlc3VsdD1pbnB1dCgpfWNhdGNoKGUpe3Rocm93IG5ldyBGUy5FcnJub0Vycm9yKDI5KX1pZihyZXN1bHQ9PT11bmRlZmluZWQmJmJ5dGVzUmVhZD09PTApe3Rocm93IG5ldyBGUy5FcnJub0Vycm9yKDYpfWlmKHJlc3VsdD09PW51bGx8fHJlc3VsdD09PXVuZGVmaW5lZClicmVhaztieXRlc1JlYWQrKztidWZmZXJbb2Zmc2V0K2ldPXJlc3VsdH1pZihieXRlc1JlYWQpe3N0cmVhbS5ub2RlLnRpbWVzdGFtcD1EYXRlLm5vdygpfXJldHVybiBieXRlc1JlYWR9LHdyaXRlOihzdHJlYW0sYnVmZmVyLG9mZnNldCxsZW5ndGgscG9zKT0+e2Zvcih2YXIgaT0wO2k8bGVuZ3RoO2krKyl7dHJ5e291dHB1dChidWZmZXJbb2Zmc2V0K2ldKX1jYXRjaChlKXt0aHJvdyBuZXcgRlMuRXJybm9FcnJvcigyOSl9fWlmKGxlbmd0aCl7c3RyZWFtLm5vZGUudGltZXN0YW1wPURhdGUubm93KCl9cmV0dXJuIGl9fSk7cmV0dXJuIEZTLm1rZGV2KHBhdGgsbW9kZSxkZXYpfSxmb3JjZUxvYWRGaWxlOm9iaj0+e2lmKG9iai5pc0RldmljZXx8b2JqLmlzRm9sZGVyfHxvYmoubGlua3x8b2JqLmNvbnRlbnRzKXJldHVybiB0cnVlO2lmKHR5cGVvZiBYTUxIdHRwUmVxdWVzdCE9InVuZGVmaW5lZCIpe3Rocm93IG5ldyBFcnJvcigiTGF6eSBsb2FkaW5nIHNob3VsZCBoYXZlIGJlZW4gcGVyZm9ybWVkIChjb250ZW50cyBzZXQpIGluIGNyZWF0ZUxhenlGaWxlLCBidXQgaXQgd2FzIG5vdC4gTGF6eSBsb2FkaW5nIG9ubHkgd29ya3MgaW4gd2ViIHdvcmtlcnMuIFVzZSAtLWVtYmVkLWZpbGUgb3IgLS1wcmVsb2FkLWZpbGUgaW4gZW1jYyBvbiB0aGUgbWFpbiB0aHJlYWQuIil9ZWxzZSBpZihyZWFkXyl7dHJ5e29iai5jb250ZW50cz1pbnRBcnJheUZyb21TdHJpbmcocmVhZF8ob2JqLnVybCksdHJ1ZSk7b2JqLnVzZWRCeXRlcz1vYmouY29udGVudHMubGVuZ3RofWNhdGNoKGUpe3Rocm93IG5ldyBGUy5FcnJub0Vycm9yKDI5KX19ZWxzZXt0aHJvdyBuZXcgRXJyb3IoIkNhbm5vdCBsb2FkIHdpdGhvdXQgcmVhZCgpIG9yIFhNTEh0dHBSZXF1ZXN0LiIpfX0sY3JlYXRlTGF6eUZpbGU6KHBhcmVudCxuYW1lLHVybCxjYW5SZWFkLGNhbldyaXRlKT0+e2Z1bmN0aW9uIExhenlVaW50OEFycmF5KCl7dGhpcy5sZW5ndGhLbm93bj1mYWxzZTt0aGlzLmNodW5rcz1bXX1MYXp5VWludDhBcnJheS5wcm90b3R5cGUuZ2V0PWZ1bmN0aW9uIExhenlVaW50OEFycmF5X2dldChpZHgpe2lmKGlkeD50aGlzLmxlbmd0aC0xfHxpZHg8MCl7cmV0dXJuIHVuZGVmaW5lZH12YXIgY2h1bmtPZmZzZXQ9aWR4JXRoaXMuY2h1bmtTaXplO3ZhciBjaHVua051bT1pZHgvdGhpcy5jaHVua1NpemV8MDtyZXR1cm4gdGhpcy5nZXR0ZXIoY2h1bmtOdW0pW2NodW5rT2Zmc2V0XX07TGF6eVVpbnQ4QXJyYXkucHJvdG90eXBlLnNldERhdGFHZXR0ZXI9ZnVuY3Rpb24gTGF6eVVpbnQ4QXJyYXlfc2V0RGF0YUdldHRlcihnZXR0ZXIpe3RoaXMuZ2V0dGVyPWdldHRlcn07TGF6eVVpbnQ4QXJyYXkucHJvdG90eXBlLmNhY2hlTGVuZ3RoPWZ1bmN0aW9uIExhenlVaW50OEFycmF5X2NhY2hlTGVuZ3RoKCl7dmFyIHhocj1uZXcgWE1MSHR0cFJlcXVlc3Q7eGhyLm9wZW4oIkhFQUQiLHVybCxmYWxzZSk7eGhyLnNlbmQobnVsbCk7aWYoISh4aHIuc3RhdHVzPj0yMDAmJnhoci5zdGF0dXM8MzAwfHx4aHIuc3RhdHVzPT09MzA0KSl0aHJvdyBuZXcgRXJyb3IoIkNvdWxkbid0IGxvYWQgIit1cmwrIi4gU3RhdHVzOiAiK3hoci5zdGF0dXMpO3ZhciBkYXRhbGVuZ3RoPU51bWJlcih4aHIuZ2V0UmVzcG9uc2VIZWFkZXIoIkNvbnRlbnQtbGVuZ3RoIikpO3ZhciBoZWFkZXI7dmFyIGhhc0J5dGVTZXJ2aW5nPShoZWFkZXI9eGhyLmdldFJlc3BvbnNlSGVhZGVyKCJBY2NlcHQtUmFuZ2VzIikpJiZoZWFkZXI9PT0iYnl0ZXMiO3ZhciB1c2VzR3ppcD0oaGVhZGVyPXhoci5nZXRSZXNwb25zZUhlYWRlcigiQ29udGVudC1FbmNvZGluZyIpKSYmaGVhZGVyPT09Imd6aXAiO3ZhciBjaHVua1NpemU9MTAyNCoxMDI0O2lmKCFoYXNCeXRlU2VydmluZyljaHVua1NpemU9ZGF0YWxlbmd0aDt2YXIgZG9YSFI9KGZyb20sdG8pPT57aWYoZnJvbT50byl0aHJvdyBuZXcgRXJyb3IoImludmFsaWQgcmFuZ2UgKCIrZnJvbSsiLCAiK3RvKyIpIG9yIG5vIGJ5dGVzIHJlcXVlc3RlZCEiKTtpZih0bz5kYXRhbGVuZ3RoLTEpdGhyb3cgbmV3IEVycm9yKCJvbmx5ICIrZGF0YWxlbmd0aCsiIGJ5dGVzIGF2YWlsYWJsZSEgcHJvZ3JhbW1lciBlcnJvciEiKTt2YXIgeGhyPW5ldyBYTUxIdHRwUmVxdWVzdDt4aHIub3BlbigiR0VUIix1cmwsZmFsc2UpO2lmKGRhdGFsZW5ndGghPT1jaHVua1NpemUpeGhyLnNldFJlcXVlc3RIZWFkZXIoIlJhbmdlIiwiYnl0ZXM9Iitmcm9tKyItIit0byk7eGhyLnJlc3BvbnNlVHlwZT0iYXJyYXlidWZmZXIiO2lmKHhoci5vdmVycmlkZU1pbWVUeXBlKXt4aHIub3ZlcnJpZGVNaW1lVHlwZSgidGV4dC9wbGFpbjsgY2hhcnNldD14LXVzZXItZGVmaW5lZCIpfXhoci5zZW5kKG51bGwpO2lmKCEoeGhyLnN0YXR1cz49MjAwJiZ4aHIuc3RhdHVzPDMwMHx8eGhyLnN0YXR1cz09PTMwNCkpdGhyb3cgbmV3IEVycm9yKCJDb3VsZG4ndCBsb2FkICIrdXJsKyIuIFN0YXR1czogIit4aHIuc3RhdHVzKTtpZih4aHIucmVzcG9uc2UhPT11bmRlZmluZWQpe3JldHVybiBuZXcgVWludDhBcnJheSh4aHIucmVzcG9uc2V8fFtdKX1lbHNle3JldHVybiBpbnRBcnJheUZyb21TdHJpbmcoeGhyLnJlc3BvbnNlVGV4dHx8IiIsdHJ1ZSl9fTt2YXIgbGF6eUFycmF5PXRoaXM7bGF6eUFycmF5LnNldERhdGFHZXR0ZXIoY2h1bmtOdW09Pnt2YXIgc3RhcnQ9Y2h1bmtOdW0qY2h1bmtTaXplO3ZhciBlbmQ9KGNodW5rTnVtKzEpKmNodW5rU2l6ZS0xO2VuZD1NYXRoLm1pbihlbmQsZGF0YWxlbmd0aC0xKTtpZih0eXBlb2YgbGF6eUFycmF5LmNodW5rc1tjaHVua051bV09PSJ1bmRlZmluZWQiKXtsYXp5QXJyYXkuY2h1bmtzW2NodW5rTnVtXT1kb1hIUihzdGFydCxlbmQpfWlmKHR5cGVvZiBsYXp5QXJyYXkuY2h1bmtzW2NodW5rTnVtXT09InVuZGVmaW5lZCIpdGhyb3cgbmV3IEVycm9yKCJkb1hIUiBmYWlsZWQhIik7cmV0dXJuIGxhenlBcnJheS5jaHVua3NbY2h1bmtOdW1dfSk7aWYodXNlc0d6aXB8fCFkYXRhbGVuZ3RoKXtjaHVua1NpemU9ZGF0YWxlbmd0aD0xO2RhdGFsZW5ndGg9dGhpcy5nZXR0ZXIoMCkubGVuZ3RoO2NodW5rU2l6ZT1kYXRhbGVuZ3RoO291dCgiTGF6eUZpbGVzIG9uIGd6aXAgZm9yY2VzIGRvd25sb2FkIG9mIHRoZSB3aG9sZSBmaWxlIHdoZW4gbGVuZ3RoIGlzIGFjY2Vzc2VkIil9dGhpcy5fbGVuZ3RoPWRhdGFsZW5ndGg7dGhpcy5fY2h1bmtTaXplPWNodW5rU2l6ZTt0aGlzLmxlbmd0aEtub3duPXRydWV9O2lmKHR5cGVvZiBYTUxIdHRwUmVxdWVzdCE9InVuZGVmaW5lZCIpe2lmKCFFTlZJUk9OTUVOVF9JU19XT1JLRVIpdGhyb3ciQ2Fubm90IGRvIHN5bmNocm9ub3VzIGJpbmFyeSBYSFJzIG91dHNpZGUgd2Vid29ya2VycyBpbiBtb2Rlcm4gYnJvd3NlcnMuIFVzZSAtLWVtYmVkLWZpbGUgb3IgLS1wcmVsb2FkLWZpbGUgaW4gZW1jYyI7dmFyIGxhenlBcnJheT1uZXcgTGF6eVVpbnQ4QXJyYXk7T2JqZWN0LmRlZmluZVByb3BlcnRpZXMobGF6eUFycmF5LHtsZW5ndGg6e2dldDpmdW5jdGlvbigpe2lmKCF0aGlzLmxlbmd0aEtub3duKXt0aGlzLmNhY2hlTGVuZ3RoKCl9cmV0dXJuIHRoaXMuX2xlbmd0aH19LGNodW5rU2l6ZTp7Z2V0OmZ1bmN0aW9uKCl7aWYoIXRoaXMubGVuZ3RoS25vd24pe3RoaXMuY2FjaGVMZW5ndGgoKX1yZXR1cm4gdGhpcy5fY2h1bmtTaXplfX19KTt2YXIgcHJvcGVydGllcz17aXNEZXZpY2U6ZmFsc2UsY29udGVudHM6bGF6eUFycmF5fX1lbHNle3ZhciBwcm9wZXJ0aWVzPXtpc0RldmljZTpmYWxzZSx1cmw6dXJsfX12YXIgbm9kZT1GUy5jcmVhdGVGaWxlKHBhcmVudCxuYW1lLHByb3BlcnRpZXMsY2FuUmVhZCxjYW5Xcml0ZSk7aWYocHJvcGVydGllcy5jb250ZW50cyl7bm9kZS5jb250ZW50cz1wcm9wZXJ0aWVzLmNvbnRlbnRzfWVsc2UgaWYocHJvcGVydGllcy51cmwpe25vZGUuY29udGVudHM9bnVsbDtub2RlLnVybD1wcm9wZXJ0aWVzLnVybH1PYmplY3QuZGVmaW5lUHJvcGVydGllcyhub2RlLHt1c2VkQnl0ZXM6e2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmNvbnRlbnRzLmxlbmd0aH19fSk7dmFyIHN0cmVhbV9vcHM9e307dmFyIGtleXM9T2JqZWN0LmtleXMobm9kZS5zdHJlYW1fb3BzKTtrZXlzLmZvckVhY2goa2V5PT57dmFyIGZuPW5vZGUuc3RyZWFtX29wc1trZXldO3N0cmVhbV9vcHNba2V5XT1mdW5jdGlvbiBmb3JjZUxvYWRMYXp5RmlsZSgpe0ZTLmZvcmNlTG9hZEZpbGUobm9kZSk7cmV0dXJuIGZuLmFwcGx5KG51bGwsYXJndW1lbnRzKX19KTtzdHJlYW1fb3BzLnJlYWQ9KChzdHJlYW0sYnVmZmVyLG9mZnNldCxsZW5ndGgscG9zaXRpb24pPT57RlMuZm9yY2VMb2FkRmlsZShub2RlKTt2YXIgY29udGVudHM9c3RyZWFtLm5vZGUuY29udGVudHM7aWYocG9zaXRpb24+PWNvbnRlbnRzLmxlbmd0aClyZXR1cm4gMDt2YXIgc2l6ZT1NYXRoLm1pbihjb250ZW50cy5sZW5ndGgtcG9zaXRpb24sbGVuZ3RoKTtpZihjb250ZW50cy5zbGljZSl7Zm9yKHZhciBpPTA7aTxzaXplO2krKyl7YnVmZmVyW29mZnNldCtpXT1jb250ZW50c1twb3NpdGlvbitpXX19ZWxzZXtmb3IodmFyIGk9MDtpPHNpemU7aSsrKXtidWZmZXJbb2Zmc2V0K2ldPWNvbnRlbnRzLmdldChwb3NpdGlvbitpKX19cmV0dXJuIHNpemV9KTtub2RlLnN0cmVhbV9vcHM9c3RyZWFtX29wcztyZXR1cm4gbm9kZX0sY3JlYXRlUHJlbG9hZGVkRmlsZToocGFyZW50LG5hbWUsdXJsLGNhblJlYWQsY2FuV3JpdGUsb25sb2FkLG9uZXJyb3IsZG9udENyZWF0ZUZpbGUsY2FuT3duLHByZUZpbmlzaCk9Pnt2YXIgZnVsbG5hbWU9bmFtZT9QQVRIX0ZTLnJlc29sdmUoUEFUSC5qb2luMihwYXJlbnQsbmFtZSkpOnBhcmVudDt2YXIgZGVwPWdldFVuaXF1ZVJ1bkRlcGVuZGVuY3koImNwICIrZnVsbG5hbWUpO2Z1bmN0aW9uIHByb2Nlc3NEYXRhKGJ5dGVBcnJheSl7ZnVuY3Rpb24gZmluaXNoKGJ5dGVBcnJheSl7aWYocHJlRmluaXNoKXByZUZpbmlzaCgpO2lmKCFkb250Q3JlYXRlRmlsZSl7RlMuY3JlYXRlRGF0YUZpbGUocGFyZW50LG5hbWUsYnl0ZUFycmF5LGNhblJlYWQsY2FuV3JpdGUsY2FuT3duKX1pZihvbmxvYWQpb25sb2FkKCk7cmVtb3ZlUnVuRGVwZW5kZW5jeShkZXApfWlmKEJyb3dzZXIuaGFuZGxlZEJ5UHJlbG9hZFBsdWdpbihieXRlQXJyYXksZnVsbG5hbWUsZmluaXNoLCgpPT57aWYob25lcnJvcilvbmVycm9yKCk7cmVtb3ZlUnVuRGVwZW5kZW5jeShkZXApfSkpe3JldHVybn1maW5pc2goYnl0ZUFycmF5KX1hZGRSdW5EZXBlbmRlbmN5KGRlcCk7aWYodHlwZW9mIHVybD09InN0cmluZyIpe2FzeW5jTG9hZCh1cmwsYnl0ZUFycmF5PT5wcm9jZXNzRGF0YShieXRlQXJyYXkpLG9uZXJyb3IpfWVsc2V7cHJvY2Vzc0RhdGEodXJsKX19LGluZGV4ZWREQjooKT0+e3JldHVybiB3aW5kb3cuaW5kZXhlZERCfHx3aW5kb3cubW96SW5kZXhlZERCfHx3aW5kb3cud2Via2l0SW5kZXhlZERCfHx3aW5kb3cubXNJbmRleGVkREJ9LERCX05BTUU6KCk9PntyZXR1cm4iRU1fRlNfIit3aW5kb3cubG9jYXRpb24ucGF0aG5hbWV9LERCX1ZFUlNJT046MjAsREJfU1RPUkVfTkFNRToiRklMRV9EQVRBIixzYXZlRmlsZXNUb0RCOihwYXRocyxvbmxvYWQsb25lcnJvcik9PntvbmxvYWQ9b25sb2FkfHwoKCk9Pnt9KTtvbmVycm9yPW9uZXJyb3J8fCgoKT0+e30pO3ZhciBpbmRleGVkREI9RlMuaW5kZXhlZERCKCk7dHJ5e3ZhciBvcGVuUmVxdWVzdD1pbmRleGVkREIub3BlbihGUy5EQl9OQU1FKCksRlMuREJfVkVSU0lPTil9Y2F0Y2goZSl7cmV0dXJuIG9uZXJyb3IoZSl9b3BlblJlcXVlc3Qub251cGdyYWRlbmVlZGVkPSgoKT0+e291dCgiY3JlYXRpbmcgZGIiKTt2YXIgZGI9b3BlblJlcXVlc3QucmVzdWx0O2RiLmNyZWF0ZU9iamVjdFN0b3JlKEZTLkRCX1NUT1JFX05BTUUpfSk7b3BlblJlcXVlc3Qub25zdWNjZXNzPSgoKT0+e3ZhciBkYj1vcGVuUmVxdWVzdC5yZXN1bHQ7dmFyIHRyYW5zYWN0aW9uPWRiLnRyYW5zYWN0aW9uKFtGUy5EQl9TVE9SRV9OQU1FXSwicmVhZHdyaXRlIik7dmFyIGZpbGVzPXRyYW5zYWN0aW9uLm9iamVjdFN0b3JlKEZTLkRCX1NUT1JFX05BTUUpO3ZhciBvaz0wLGZhaWw9MCx0b3RhbD1wYXRocy5sZW5ndGg7ZnVuY3Rpb24gZmluaXNoKCl7aWYoZmFpbD09MClvbmxvYWQoKTtlbHNlIG9uZXJyb3IoKX1wYXRocy5mb3JFYWNoKHBhdGg9Pnt2YXIgcHV0UmVxdWVzdD1maWxlcy5wdXQoRlMuYW5hbHl6ZVBhdGgocGF0aCkub2JqZWN0LmNvbnRlbnRzLHBhdGgpO3B1dFJlcXVlc3Qub25zdWNjZXNzPSgoKT0+e29rKys7aWYob2srZmFpbD09dG90YWwpZmluaXNoKCl9KTtwdXRSZXF1ZXN0Lm9uZXJyb3I9KCgpPT57ZmFpbCsrO2lmKG9rK2ZhaWw9PXRvdGFsKWZpbmlzaCgpfSl9KTt0cmFuc2FjdGlvbi5vbmVycm9yPW9uZXJyb3J9KTtvcGVuUmVxdWVzdC5vbmVycm9yPW9uZXJyb3J9LGxvYWRGaWxlc0Zyb21EQjoocGF0aHMsb25sb2FkLG9uZXJyb3IpPT57b25sb2FkPW9ubG9hZHx8KCgpPT57fSk7b25lcnJvcj1vbmVycm9yfHwoKCk9Pnt9KTt2YXIgaW5kZXhlZERCPUZTLmluZGV4ZWREQigpO3RyeXt2YXIgb3BlblJlcXVlc3Q9aW5kZXhlZERCLm9wZW4oRlMuREJfTkFNRSgpLEZTLkRCX1ZFUlNJT04pfWNhdGNoKGUpe3JldHVybiBvbmVycm9yKGUpfW9wZW5SZXF1ZXN0Lm9udXBncmFkZW5lZWRlZD1vbmVycm9yO29wZW5SZXF1ZXN0Lm9uc3VjY2Vzcz0oKCk9Pnt2YXIgZGI9b3BlblJlcXVlc3QucmVzdWx0O3RyeXt2YXIgdHJhbnNhY3Rpb249ZGIudHJhbnNhY3Rpb24oW0ZTLkRCX1NUT1JFX05BTUVdLCJyZWFkb25seSIpfWNhdGNoKGUpe29uZXJyb3IoZSk7cmV0dXJufXZhciBmaWxlcz10cmFuc2FjdGlvbi5vYmplY3RTdG9yZShGUy5EQl9TVE9SRV9OQU1FKTt2YXIgb2s9MCxmYWlsPTAsdG90YWw9cGF0aHMubGVuZ3RoO2Z1bmN0aW9uIGZpbmlzaCgpe2lmKGZhaWw9PTApb25sb2FkKCk7ZWxzZSBvbmVycm9yKCl9cGF0aHMuZm9yRWFjaChwYXRoPT57dmFyIGdldFJlcXVlc3Q9ZmlsZXMuZ2V0KHBhdGgpO2dldFJlcXVlc3Qub25zdWNjZXNzPSgoKT0+e2lmKEZTLmFuYWx5emVQYXRoKHBhdGgpLmV4aXN0cyl7RlMudW5saW5rKHBhdGgpfUZTLmNyZWF0ZURhdGFGaWxlKFBBVEguZGlybmFtZShwYXRoKSxQQVRILmJhc2VuYW1lKHBhdGgpLGdldFJlcXVlc3QucmVzdWx0LHRydWUsdHJ1ZSx0cnVlKTtvaysrO2lmKG9rK2ZhaWw9PXRvdGFsKWZpbmlzaCgpfSk7Z2V0UmVxdWVzdC5vbmVycm9yPSgoKT0+e2ZhaWwrKztpZihvaytmYWlsPT10b3RhbClmaW5pc2goKX0pfSk7dHJhbnNhY3Rpb24ub25lcnJvcj1vbmVycm9yfSk7b3BlblJlcXVlc3Qub25lcnJvcj1vbmVycm9yfX07dmFyIFNZU0NBTExTPXtERUZBVUxUX1BPTExNQVNLOjUsY2FsY3VsYXRlQXQ6ZnVuY3Rpb24oZGlyZmQscGF0aCxhbGxvd0VtcHR5KXtpZihQQVRILmlzQWJzKHBhdGgpKXtyZXR1cm4gcGF0aH12YXIgZGlyO2lmKGRpcmZkPT09LTEwMCl7ZGlyPUZTLmN3ZCgpfWVsc2V7dmFyIGRpcnN0cmVhbT1GUy5nZXRTdHJlYW0oZGlyZmQpO2lmKCFkaXJzdHJlYW0pdGhyb3cgbmV3IEZTLkVycm5vRXJyb3IoOCk7ZGlyPWRpcnN0cmVhbS5wYXRofWlmKHBhdGgubGVuZ3RoPT0wKXtpZighYWxsb3dFbXB0eSl7dGhyb3cgbmV3IEZTLkVycm5vRXJyb3IoNDQpfXJldHVybiBkaXJ9cmV0dXJuIFBBVEguam9pbjIoZGlyLHBhdGgpfSxkb1N0YXQ6ZnVuY3Rpb24oZnVuYyxwYXRoLGJ1Zil7dHJ5e3ZhciBzdGF0PWZ1bmMocGF0aCl9Y2F0Y2goZSl7aWYoZSYmZS5ub2RlJiZQQVRILm5vcm1hbGl6ZShwYXRoKSE9PVBBVEgubm9ybWFsaXplKEZTLmdldFBhdGgoZS5ub2RlKSkpe3JldHVybi01NH10aHJvdyBlfUhFQVAzMltidWY+PjJdPXN0YXQuZGV2O0hFQVAzMltidWYrND4+Ml09MDtIRUFQMzJbYnVmKzg+PjJdPXN0YXQuaW5vO0hFQVAzMltidWYrMTI+PjJdPXN0YXQubW9kZTtIRUFQMzJbYnVmKzE2Pj4yXT1zdGF0Lm5saW5rO0hFQVAzMltidWYrMjA+PjJdPXN0YXQudWlkO0hFQVAzMltidWYrMjQ+PjJdPXN0YXQuZ2lkO0hFQVAzMltidWYrMjg+PjJdPXN0YXQucmRldjtIRUFQMzJbYnVmKzMyPj4yXT0wO3RlbXBJNjQ9W3N0YXQuc2l6ZT4+PjAsKHRlbXBEb3VibGU9c3RhdC5zaXplLCtNYXRoLmFicyh0ZW1wRG91YmxlKT49MT90ZW1wRG91YmxlPjA/KE1hdGgubWluKCtNYXRoLmZsb29yKHRlbXBEb3VibGUvNDI5NDk2NzI5NiksNDI5NDk2NzI5NSl8MCk+Pj4wOn5+K01hdGguY2VpbCgodGVtcERvdWJsZS0rKH5+dGVtcERvdWJsZT4+PjApKS80Mjk0OTY3Mjk2KT4+PjA6MCldLEhFQVAzMltidWYrNDA+PjJdPXRlbXBJNjRbMF0sSEVBUDMyW2J1Zis0ND4+Ml09dGVtcEk2NFsxXTtIRUFQMzJbYnVmKzQ4Pj4yXT00MDk2O0hFQVAzMltidWYrNTI+PjJdPXN0YXQuYmxvY2tzO0hFQVAzMltidWYrNTY+PjJdPXN0YXQuYXRpbWUuZ2V0VGltZSgpLzFlM3wwO0hFQVAzMltidWYrNjA+PjJdPTA7SEVBUDMyW2J1Zis2ND4+Ml09c3RhdC5tdGltZS5nZXRUaW1lKCkvMWUzfDA7SEVBUDMyW2J1Zis2OD4+Ml09MDtIRUFQMzJbYnVmKzcyPj4yXT1zdGF0LmN0aW1lLmdldFRpbWUoKS8xZTN8MDtIRUFQMzJbYnVmKzc2Pj4yXT0wO3RlbXBJNjQ9W3N0YXQuaW5vPj4+MCwodGVtcERvdWJsZT1zdGF0LmlubywrTWF0aC5hYnModGVtcERvdWJsZSk+PTE/dGVtcERvdWJsZT4wPyhNYXRoLm1pbigrTWF0aC5mbG9vcih0ZW1wRG91YmxlLzQyOTQ5NjcyOTYpLDQyOTQ5NjcyOTUpfDApPj4+MDp+fitNYXRoLmNlaWwoKHRlbXBEb3VibGUtKyh+fnRlbXBEb3VibGU+Pj4wKSkvNDI5NDk2NzI5Nik+Pj4wOjApXSxIRUFQMzJbYnVmKzgwPj4yXT10ZW1wSTY0WzBdLEhFQVAzMltidWYrODQ+PjJdPXRlbXBJNjRbMV07cmV0dXJuIDB9LGRvTXN5bmM6ZnVuY3Rpb24oYWRkcixzdHJlYW0sbGVuLGZsYWdzLG9mZnNldCl7dmFyIGJ1ZmZlcj1IRUFQVTguc2xpY2UoYWRkcixhZGRyK2xlbik7RlMubXN5bmMoc3RyZWFtLGJ1ZmZlcixvZmZzZXQsbGVuLGZsYWdzKX0sdmFyYXJnczp1bmRlZmluZWQsZ2V0OmZ1bmN0aW9uKCl7U1lTQ0FMTFMudmFyYXJncys9NDt2YXIgcmV0PUhFQVAzMltTWVNDQUxMUy52YXJhcmdzLTQ+PjJdO3JldHVybiByZXR9LGdldFN0cjpmdW5jdGlvbihwdHIpe3ZhciByZXQ9VVRGOFRvU3RyaW5nKHB0cik7cmV0dXJuIHJldH0sZ2V0U3RyZWFtRnJvbUZEOmZ1bmN0aW9uKGZkKXt2YXIgc3RyZWFtPUZTLmdldFN0cmVhbShmZCk7aWYoIXN0cmVhbSl0aHJvdyBuZXcgRlMuRXJybm9FcnJvcig4KTtyZXR1cm4gc3RyZWFtfX07ZnVuY3Rpb24gX19fc3lzY2FsbF9mc3RhdDY0KGZkLGJ1Zil7dHJ5e3ZhciBzdHJlYW09U1lTQ0FMTFMuZ2V0U3RyZWFtRnJvbUZEKGZkKTtyZXR1cm4gU1lTQ0FMTFMuZG9TdGF0KEZTLnN0YXQsc3RyZWFtLnBhdGgsYnVmKX1jYXRjaChlKXtpZih0eXBlb2YgRlM9PSJ1bmRlZmluZWQifHwhKGUgaW5zdGFuY2VvZiBGUy5FcnJub0Vycm9yKSl0aHJvdyBlO3JldHVybi1lLmVycm5vfX1mdW5jdGlvbiBfX19zeXNjYWxsX2Z0cnVuY2F0ZTY0KGZkLGxlbmd0aF9sb3csbGVuZ3RoX2hpZ2gpe3RyeXt2YXIgbGVuZ3RoPWxlbmd0aF9oaWdoKjQyOTQ5NjcyOTYrKGxlbmd0aF9sb3c+Pj4wKTtGUy5mdHJ1bmNhdGUoZmQsbGVuZ3RoKTtyZXR1cm4gMH1jYXRjaChlKXtpZih0eXBlb2YgRlM9PSJ1bmRlZmluZWQifHwhKGUgaW5zdGFuY2VvZiBGUy5FcnJub0Vycm9yKSl0aHJvdyBlO3JldHVybi1lLmVycm5vfX1mdW5jdGlvbiBfX19zeXNjYWxsX2xzdGF0NjQocGF0aCxidWYpe3RyeXtwYXRoPVNZU0NBTExTLmdldFN0cihwYXRoKTtyZXR1cm4gU1lTQ0FMTFMuZG9TdGF0KEZTLmxzdGF0LHBhdGgsYnVmKX1jYXRjaChlKXtpZih0eXBlb2YgRlM9PSJ1bmRlZmluZWQifHwhKGUgaW5zdGFuY2VvZiBGUy5FcnJub0Vycm9yKSl0aHJvdyBlO3JldHVybi1lLmVycm5vfX1mdW5jdGlvbiBfX19zeXNjYWxsX25ld2ZzdGF0YXQoZGlyZmQscGF0aCxidWYsZmxhZ3Mpe3RyeXtwYXRoPVNZU0NBTExTLmdldFN0cihwYXRoKTt2YXIgbm9mb2xsb3c9ZmxhZ3MmMjU2O3ZhciBhbGxvd0VtcHR5PWZsYWdzJjQwOTY7ZmxhZ3M9ZmxhZ3MmfjQzNTI7cGF0aD1TWVNDQUxMUy5jYWxjdWxhdGVBdChkaXJmZCxwYXRoLGFsbG93RW1wdHkpO3JldHVybiBTWVNDQUxMUy5kb1N0YXQobm9mb2xsb3c/RlMubHN0YXQ6RlMuc3RhdCxwYXRoLGJ1Zil9Y2F0Y2goZSl7aWYodHlwZW9mIEZTPT0idW5kZWZpbmVkInx8IShlIGluc3RhbmNlb2YgRlMuRXJybm9FcnJvcikpdGhyb3cgZTtyZXR1cm4tZS5lcnJub319ZnVuY3Rpb24gX19fc3lzY2FsbF9vcGVuYXQoZGlyZmQscGF0aCxmbGFncyx2YXJhcmdzKXtTWVNDQUxMUy52YXJhcmdzPXZhcmFyZ3M7dHJ5e3BhdGg9U1lTQ0FMTFMuZ2V0U3RyKHBhdGgpO3BhdGg9U1lTQ0FMTFMuY2FsY3VsYXRlQXQoZGlyZmQscGF0aCk7dmFyIG1vZGU9dmFyYXJncz9TWVNDQUxMUy5nZXQoKTowO3JldHVybiBGUy5vcGVuKHBhdGgsZmxhZ3MsbW9kZSkuZmR9Y2F0Y2goZSl7aWYodHlwZW9mIEZTPT0idW5kZWZpbmVkInx8IShlIGluc3RhbmNlb2YgRlMuRXJybm9FcnJvcikpdGhyb3cgZTtyZXR1cm4tZS5lcnJub319ZnVuY3Rpb24gX19fc3lzY2FsbF9yZW5hbWVhdChvbGRkaXJmZCxvbGRwYXRoLG5ld2RpcmZkLG5ld3BhdGgpe3RyeXtvbGRwYXRoPVNZU0NBTExTLmdldFN0cihvbGRwYXRoKTtuZXdwYXRoPVNZU0NBTExTLmdldFN0cihuZXdwYXRoKTtvbGRwYXRoPVNZU0NBTExTLmNhbGN1bGF0ZUF0KG9sZGRpcmZkLG9sZHBhdGgpO25ld3BhdGg9U1lTQ0FMTFMuY2FsY3VsYXRlQXQobmV3ZGlyZmQsbmV3cGF0aCk7RlMucmVuYW1lKG9sZHBhdGgsbmV3cGF0aCk7cmV0dXJuIDB9Y2F0Y2goZSl7aWYodHlwZW9mIEZTPT0idW5kZWZpbmVkInx8IShlIGluc3RhbmNlb2YgRlMuRXJybm9FcnJvcikpdGhyb3cgZTtyZXR1cm4tZS5lcnJub319ZnVuY3Rpb24gX19fc3lzY2FsbF9zdGF0NjQocGF0aCxidWYpe3RyeXtwYXRoPVNZU0NBTExTLmdldFN0cihwYXRoKTtyZXR1cm4gU1lTQ0FMTFMuZG9TdGF0KEZTLnN0YXQscGF0aCxidWYpfWNhdGNoKGUpe2lmKHR5cGVvZiBGUz09InVuZGVmaW5lZCJ8fCEoZSBpbnN0YW5jZW9mIEZTLkVycm5vRXJyb3IpKXRocm93IGU7cmV0dXJuLWUuZXJybm99fWZ1bmN0aW9uIF9fX3N5c2NhbGxfdW5saW5rYXQoZGlyZmQscGF0aCxmbGFncyl7dHJ5e3BhdGg9U1lTQ0FMTFMuZ2V0U3RyKHBhdGgpO3BhdGg9U1lTQ0FMTFMuY2FsY3VsYXRlQXQoZGlyZmQscGF0aCk7aWYoZmxhZ3M9PT0wKXtGUy51bmxpbmsocGF0aCl9ZWxzZSBpZihmbGFncz09PTUxMil7RlMucm1kaXIocGF0aCl9ZWxzZXthYm9ydCgiSW52YWxpZCBmbGFncyBwYXNzZWQgdG8gdW5saW5rYXQiKX1yZXR1cm4gMH1jYXRjaChlKXtpZih0eXBlb2YgRlM9PSJ1bmRlZmluZWQifHwhKGUgaW5zdGFuY2VvZiBGUy5FcnJub0Vycm9yKSl0aHJvdyBlO3JldHVybi1lLmVycm5vfX1mdW5jdGlvbiBfX2RsaW5pdChtYWluX2Rzb19oYW5kbGUpe312YXIgZGxvcGVuTWlzc2luZ0Vycm9yPSJUbyB1c2UgZGxvcGVuLCB5b3UgbmVlZCBlbmFibGUgZHluYW1pYyBsaW5raW5nLCBzZWUgaHR0cHM6Ly9naXRodWIuY29tL2Vtc2NyaXB0ZW4tY29yZS9lbXNjcmlwdGVuL3dpa2kvTGlua2luZyI7ZnVuY3Rpb24gX19kbG9wZW5fanMoZmlsZW5hbWUsZmxhZyl7YWJvcnQoZGxvcGVuTWlzc2luZ0Vycm9yKX1mdW5jdGlvbiBfX2Rsc3ltX2pzKGhhbmRsZSxzeW1ib2wpe2Fib3J0KGRsb3Blbk1pc3NpbmdFcnJvcil9ZnVuY3Rpb24gX19lbWJpbmRfcmVnaXN0ZXJfYmlnaW50KHByaW1pdGl2ZVR5cGUsbmFtZSxzaXplLG1pblJhbmdlLG1heFJhbmdlKXt9ZnVuY3Rpb24gZ2V0U2hpZnRGcm9tU2l6ZShzaXplKXtzd2l0Y2goc2l6ZSl7Y2FzZSAxOnJldHVybiAwO2Nhc2UgMjpyZXR1cm4gMTtjYXNlIDQ6cmV0dXJuIDI7Y2FzZSA4OnJldHVybiAzO2RlZmF1bHQ6dGhyb3cgbmV3IFR5cGVFcnJvcigiVW5rbm93biB0eXBlIHNpemU6ICIrc2l6ZSl9fWZ1bmN0aW9uIGVtYmluZF9pbml0X2NoYXJDb2Rlcygpe3ZhciBjb2Rlcz1uZXcgQXJyYXkoMjU2KTtmb3IodmFyIGk9MDtpPDI1NjsrK2kpe2NvZGVzW2ldPVN0cmluZy5mcm9tQ2hhckNvZGUoaSl9ZW1iaW5kX2NoYXJDb2Rlcz1jb2Rlc312YXIgZW1iaW5kX2NoYXJDb2Rlcz11bmRlZmluZWQ7ZnVuY3Rpb24gcmVhZExhdGluMVN0cmluZyhwdHIpe3ZhciByZXQ9IiI7dmFyIGM9cHRyO3doaWxlKEhFQVBVOFtjXSl7cmV0Kz1lbWJpbmRfY2hhckNvZGVzW0hFQVBVOFtjKytdXX1yZXR1cm4gcmV0fXZhciBhd2FpdGluZ0RlcGVuZGVuY2llcz17fTt2YXIgcmVnaXN0ZXJlZFR5cGVzPXt9O3ZhciB0eXBlRGVwZW5kZW5jaWVzPXt9O3ZhciBjaGFyXzA9NDg7dmFyIGNoYXJfOT01NztmdW5jdGlvbiBtYWtlTGVnYWxGdW5jdGlvbk5hbWUobmFtZSl7aWYodW5kZWZpbmVkPT09bmFtZSl7cmV0dXJuIl91bmtub3duIn1uYW1lPW5hbWUucmVwbGFjZSgvW15hLXpBLVowLTlfXS9nLCIkIik7dmFyIGY9bmFtZS5jaGFyQ29kZUF0KDApO2lmKGY+PWNoYXJfMCYmZjw9Y2hhcl85KXtyZXR1cm4iXyIrbmFtZX1yZXR1cm4gbmFtZX1mdW5jdGlvbiBjcmVhdGVOYW1lZEZ1bmN0aW9uKG5hbWUsYm9keSl7bmFtZT1tYWtlTGVnYWxGdW5jdGlvbk5hbWUobmFtZSk7cmV0dXJuIG5ldyBGdW5jdGlvbigiYm9keSIsInJldHVybiBmdW5jdGlvbiAiK25hbWUrIigpIHtcbiIrJyAgICAidXNlIHN0cmljdCI7JysiICAgIHJldHVybiBib2R5LmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4iKyJ9O1xuIikoYm9keSl9ZnVuY3Rpb24gZXh0ZW5kRXJyb3IoYmFzZUVycm9yVHlwZSxlcnJvck5hbWUpe3ZhciBlcnJvckNsYXNzPWNyZWF0ZU5hbWVkRnVuY3Rpb24oZXJyb3JOYW1lLGZ1bmN0aW9uKG1lc3NhZ2Upe3RoaXMubmFtZT1lcnJvck5hbWU7dGhpcy5tZXNzYWdlPW1lc3NhZ2U7dmFyIHN0YWNrPW5ldyBFcnJvcihtZXNzYWdlKS5zdGFjaztpZihzdGFjayE9PXVuZGVmaW5lZCl7dGhpcy5zdGFjaz10aGlzLnRvU3RyaW5nKCkrIlxuIitzdGFjay5yZXBsYWNlKC9eRXJyb3IoOlteXG5dKik/XG4vLCIiKX19KTtlcnJvckNsYXNzLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKGJhc2VFcnJvclR5cGUucHJvdG90eXBlKTtlcnJvckNsYXNzLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1lcnJvckNsYXNzO2Vycm9yQ2xhc3MucHJvdG90eXBlLnRvU3RyaW5nPWZ1bmN0aW9uKCl7aWYodGhpcy5tZXNzYWdlPT09dW5kZWZpbmVkKXtyZXR1cm4gdGhpcy5uYW1lfWVsc2V7cmV0dXJuIHRoaXMubmFtZSsiOiAiK3RoaXMubWVzc2FnZX19O3JldHVybiBlcnJvckNsYXNzfXZhciBCaW5kaW5nRXJyb3I9dW5kZWZpbmVkO2Z1bmN0aW9uIHRocm93QmluZGluZ0Vycm9yKG1lc3NhZ2Upe3Rocm93IG5ldyBCaW5kaW5nRXJyb3IobWVzc2FnZSl9dmFyIEludGVybmFsRXJyb3I9dW5kZWZpbmVkO2Z1bmN0aW9uIHRocm93SW50ZXJuYWxFcnJvcihtZXNzYWdlKXt0aHJvdyBuZXcgSW50ZXJuYWxFcnJvcihtZXNzYWdlKX1mdW5jdGlvbiB3aGVuRGVwZW5kZW50VHlwZXNBcmVSZXNvbHZlZChteVR5cGVzLGRlcGVuZGVudFR5cGVzLGdldFR5cGVDb252ZXJ0ZXJzKXtteVR5cGVzLmZvckVhY2goZnVuY3Rpb24odHlwZSl7dHlwZURlcGVuZGVuY2llc1t0eXBlXT1kZXBlbmRlbnRUeXBlc30pO2Z1bmN0aW9uIG9uQ29tcGxldGUodHlwZUNvbnZlcnRlcnMpe3ZhciBteVR5cGVDb252ZXJ0ZXJzPWdldFR5cGVDb252ZXJ0ZXJzKHR5cGVDb252ZXJ0ZXJzKTtpZihteVR5cGVDb252ZXJ0ZXJzLmxlbmd0aCE9PW15VHlwZXMubGVuZ3RoKXt0aHJvd0ludGVybmFsRXJyb3IoIk1pc21hdGNoZWQgdHlwZSBjb252ZXJ0ZXIgY291bnQiKX1mb3IodmFyIGk9MDtpPG15VHlwZXMubGVuZ3RoOysraSl7cmVnaXN0ZXJUeXBlKG15VHlwZXNbaV0sbXlUeXBlQ29udmVydGVyc1tpXSl9fXZhciB0eXBlQ29udmVydGVycz1uZXcgQXJyYXkoZGVwZW5kZW50VHlwZXMubGVuZ3RoKTt2YXIgdW5yZWdpc3RlcmVkVHlwZXM9W107dmFyIHJlZ2lzdGVyZWQ9MDtkZXBlbmRlbnRUeXBlcy5mb3JFYWNoKChkdCxpKT0+e2lmKHJlZ2lzdGVyZWRUeXBlcy5oYXNPd25Qcm9wZXJ0eShkdCkpe3R5cGVDb252ZXJ0ZXJzW2ldPXJlZ2lzdGVyZWRUeXBlc1tkdF19ZWxzZXt1bnJlZ2lzdGVyZWRUeXBlcy5wdXNoKGR0KTtpZighYXdhaXRpbmdEZXBlbmRlbmNpZXMuaGFzT3duUHJvcGVydHkoZHQpKXthd2FpdGluZ0RlcGVuZGVuY2llc1tkdF09W119YXdhaXRpbmdEZXBlbmRlbmNpZXNbZHRdLnB1c2goKCk9Pnt0eXBlQ29udmVydGVyc1tpXT1yZWdpc3RlcmVkVHlwZXNbZHRdOysrcmVnaXN0ZXJlZDtpZihyZWdpc3RlcmVkPT09dW5yZWdpc3RlcmVkVHlwZXMubGVuZ3RoKXtvbkNvbXBsZXRlKHR5cGVDb252ZXJ0ZXJzKX19KX19KTtpZigwPT09dW5yZWdpc3RlcmVkVHlwZXMubGVuZ3RoKXtvbkNvbXBsZXRlKHR5cGVDb252ZXJ0ZXJzKX19ZnVuY3Rpb24gcmVnaXN0ZXJUeXBlKHJhd1R5cGUscmVnaXN0ZXJlZEluc3RhbmNlLG9wdGlvbnM9e30pe2lmKCEoImFyZ1BhY2tBZHZhbmNlImluIHJlZ2lzdGVyZWRJbnN0YW5jZSkpe3Rocm93IG5ldyBUeXBlRXJyb3IoInJlZ2lzdGVyVHlwZSByZWdpc3RlcmVkSW5zdGFuY2UgcmVxdWlyZXMgYXJnUGFja0FkdmFuY2UiKX12YXIgbmFtZT1yZWdpc3RlcmVkSW5zdGFuY2UubmFtZTtpZighcmF3VHlwZSl7dGhyb3dCaW5kaW5nRXJyb3IoJ3R5cGUgIicrbmFtZSsnIiBtdXN0IGhhdmUgYSBwb3NpdGl2ZSBpbnRlZ2VyIHR5cGVpZCBwb2ludGVyJyl9aWYocmVnaXN0ZXJlZFR5cGVzLmhhc093blByb3BlcnR5KHJhd1R5cGUpKXtpZihvcHRpb25zLmlnbm9yZUR1cGxpY2F0ZVJlZ2lzdHJhdGlvbnMpe3JldHVybn1lbHNle3Rocm93QmluZGluZ0Vycm9yKCJDYW5ub3QgcmVnaXN0ZXIgdHlwZSAnIituYW1lKyInIHR3aWNlIil9fXJlZ2lzdGVyZWRUeXBlc1tyYXdUeXBlXT1yZWdpc3RlcmVkSW5zdGFuY2U7ZGVsZXRlIHR5cGVEZXBlbmRlbmNpZXNbcmF3VHlwZV07aWYoYXdhaXRpbmdEZXBlbmRlbmNpZXMuaGFzT3duUHJvcGVydHkocmF3VHlwZSkpe3ZhciBjYWxsYmFja3M9YXdhaXRpbmdEZXBlbmRlbmNpZXNbcmF3VHlwZV07ZGVsZXRlIGF3YWl0aW5nRGVwZW5kZW5jaWVzW3Jhd1R5cGVdO2NhbGxiYWNrcy5mb3JFYWNoKGNiPT5jYigpKX19ZnVuY3Rpb24gX19lbWJpbmRfcmVnaXN0ZXJfYm9vbChyYXdUeXBlLG5hbWUsc2l6ZSx0cnVlVmFsdWUsZmFsc2VWYWx1ZSl7dmFyIHNoaWZ0PWdldFNoaWZ0RnJvbVNpemUoc2l6ZSk7bmFtZT1yZWFkTGF0aW4xU3RyaW5nKG5hbWUpO3JlZ2lzdGVyVHlwZShyYXdUeXBlLHtuYW1lOm5hbWUsImZyb21XaXJlVHlwZSI6ZnVuY3Rpb24od3Qpe3JldHVybiEhd3R9LCJ0b1dpcmVUeXBlIjpmdW5jdGlvbihkZXN0cnVjdG9ycyxvKXtyZXR1cm4gbz90cnVlVmFsdWU6ZmFsc2VWYWx1ZX0sImFyZ1BhY2tBZHZhbmNlIjo4LCJyZWFkVmFsdWVGcm9tUG9pbnRlciI6ZnVuY3Rpb24ocG9pbnRlcil7dmFyIGhlYXA7aWYoc2l6ZT09PTEpe2hlYXA9SEVBUDh9ZWxzZSBpZihzaXplPT09Mil7aGVhcD1IRUFQMTZ9ZWxzZSBpZihzaXplPT09NCl7aGVhcD1IRUFQMzJ9ZWxzZXt0aHJvdyBuZXcgVHlwZUVycm9yKCJVbmtub3duIGJvb2xlYW4gdHlwZSBzaXplOiAiK25hbWUpfXJldHVybiB0aGlzWyJmcm9tV2lyZVR5cGUiXShoZWFwW3BvaW50ZXI+PnNoaWZ0XSl9LGRlc3RydWN0b3JGdW5jdGlvbjpudWxsfSl9ZnVuY3Rpb24gQ2xhc3NIYW5kbGVfaXNBbGlhc09mKG90aGVyKXtpZighKHRoaXMgaW5zdGFuY2VvZiBDbGFzc0hhbmRsZSkpe3JldHVybiBmYWxzZX1pZighKG90aGVyIGluc3RhbmNlb2YgQ2xhc3NIYW5kbGUpKXtyZXR1cm4gZmFsc2V9dmFyIGxlZnRDbGFzcz10aGlzLiQkLnB0clR5cGUucmVnaXN0ZXJlZENsYXNzO3ZhciBsZWZ0PXRoaXMuJCQucHRyO3ZhciByaWdodENsYXNzPW90aGVyLiQkLnB0clR5cGUucmVnaXN0ZXJlZENsYXNzO3ZhciByaWdodD1vdGhlci4kJC5wdHI7d2hpbGUobGVmdENsYXNzLmJhc2VDbGFzcyl7bGVmdD1sZWZ0Q2xhc3MudXBjYXN0KGxlZnQpO2xlZnRDbGFzcz1sZWZ0Q2xhc3MuYmFzZUNsYXNzfXdoaWxlKHJpZ2h0Q2xhc3MuYmFzZUNsYXNzKXtyaWdodD1yaWdodENsYXNzLnVwY2FzdChyaWdodCk7cmlnaHRDbGFzcz1yaWdodENsYXNzLmJhc2VDbGFzc31yZXR1cm4gbGVmdENsYXNzPT09cmlnaHRDbGFzcyYmbGVmdD09PXJpZ2h0fWZ1bmN0aW9uIHNoYWxsb3dDb3B5SW50ZXJuYWxQb2ludGVyKG8pe3JldHVybntjb3VudDpvLmNvdW50LGRlbGV0ZVNjaGVkdWxlZDpvLmRlbGV0ZVNjaGVkdWxlZCxwcmVzZXJ2ZVBvaW50ZXJPbkRlbGV0ZTpvLnByZXNlcnZlUG9pbnRlck9uRGVsZXRlLHB0cjpvLnB0cixwdHJUeXBlOm8ucHRyVHlwZSxzbWFydFB0cjpvLnNtYXJ0UHRyLHNtYXJ0UHRyVHlwZTpvLnNtYXJ0UHRyVHlwZX19ZnVuY3Rpb24gdGhyb3dJbnN0YW5jZUFscmVhZHlEZWxldGVkKG9iail7ZnVuY3Rpb24gZ2V0SW5zdGFuY2VUeXBlTmFtZShoYW5kbGUpe3JldHVybiBoYW5kbGUuJCQucHRyVHlwZS5yZWdpc3RlcmVkQ2xhc3MubmFtZX10aHJvd0JpbmRpbmdFcnJvcihnZXRJbnN0YW5jZVR5cGVOYW1lKG9iaikrIiBpbnN0YW5jZSBhbHJlYWR5IGRlbGV0ZWQiKX12YXIgZmluYWxpemF0aW9uUmVnaXN0cnk9ZmFsc2U7ZnVuY3Rpb24gZGV0YWNoRmluYWxpemVyKGhhbmRsZSl7fWZ1bmN0aW9uIHJ1bkRlc3RydWN0b3IoJCQpe2lmKCQkLnNtYXJ0UHRyKXskJC5zbWFydFB0clR5cGUucmF3RGVzdHJ1Y3RvcigkJC5zbWFydFB0cil9ZWxzZXskJC5wdHJUeXBlLnJlZ2lzdGVyZWRDbGFzcy5yYXdEZXN0cnVjdG9yKCQkLnB0cil9fWZ1bmN0aW9uIHJlbGVhc2VDbGFzc0hhbmRsZSgkJCl7JCQuY291bnQudmFsdWUtPTE7dmFyIHRvRGVsZXRlPTA9PT0kJC5jb3VudC52YWx1ZTtpZih0b0RlbGV0ZSl7cnVuRGVzdHJ1Y3RvcigkJCl9fWZ1bmN0aW9uIGRvd25jYXN0UG9pbnRlcihwdHIscHRyQ2xhc3MsZGVzaXJlZENsYXNzKXtpZihwdHJDbGFzcz09PWRlc2lyZWRDbGFzcyl7cmV0dXJuIHB0cn1pZih1bmRlZmluZWQ9PT1kZXNpcmVkQ2xhc3MuYmFzZUNsYXNzKXtyZXR1cm4gbnVsbH12YXIgcnY9ZG93bmNhc3RQb2ludGVyKHB0cixwdHJDbGFzcyxkZXNpcmVkQ2xhc3MuYmFzZUNsYXNzKTtpZihydj09PW51bGwpe3JldHVybiBudWxsfXJldHVybiBkZXNpcmVkQ2xhc3MuZG93bmNhc3QocnYpfXZhciByZWdpc3RlcmVkUG9pbnRlcnM9e307ZnVuY3Rpb24gZ2V0SW5oZXJpdGVkSW5zdGFuY2VDb3VudCgpe3JldHVybiBPYmplY3Qua2V5cyhyZWdpc3RlcmVkSW5zdGFuY2VzKS5sZW5ndGh9ZnVuY3Rpb24gZ2V0TGl2ZUluaGVyaXRlZEluc3RhbmNlcygpe3ZhciBydj1bXTtmb3IodmFyIGsgaW4gcmVnaXN0ZXJlZEluc3RhbmNlcyl7aWYocmVnaXN0ZXJlZEluc3RhbmNlcy5oYXNPd25Qcm9wZXJ0eShrKSl7cnYucHVzaChyZWdpc3RlcmVkSW5zdGFuY2VzW2tdKX19cmV0dXJuIHJ2fXZhciBkZWxldGlvblF1ZXVlPVtdO2Z1bmN0aW9uIGZsdXNoUGVuZGluZ0RlbGV0ZXMoKXt3aGlsZShkZWxldGlvblF1ZXVlLmxlbmd0aCl7dmFyIG9iaj1kZWxldGlvblF1ZXVlLnBvcCgpO29iai4kJC5kZWxldGVTY2hlZHVsZWQ9ZmFsc2U7b2JqWyJkZWxldGUiXSgpfX12YXIgZGVsYXlGdW5jdGlvbj11bmRlZmluZWQ7ZnVuY3Rpb24gc2V0RGVsYXlGdW5jdGlvbihmbil7ZGVsYXlGdW5jdGlvbj1mbjtpZihkZWxldGlvblF1ZXVlLmxlbmd0aCYmZGVsYXlGdW5jdGlvbil7ZGVsYXlGdW5jdGlvbihmbHVzaFBlbmRpbmdEZWxldGVzKX19ZnVuY3Rpb24gaW5pdF9lbWJpbmQoKXtNb2R1bGVbImdldEluaGVyaXRlZEluc3RhbmNlQ291bnQiXT1nZXRJbmhlcml0ZWRJbnN0YW5jZUNvdW50O01vZHVsZVsiZ2V0TGl2ZUluaGVyaXRlZEluc3RhbmNlcyJdPWdldExpdmVJbmhlcml0ZWRJbnN0YW5jZXM7TW9kdWxlWyJmbHVzaFBlbmRpbmdEZWxldGVzIl09Zmx1c2hQZW5kaW5nRGVsZXRlcztNb2R1bGVbInNldERlbGF5RnVuY3Rpb24iXT1zZXREZWxheUZ1bmN0aW9ufXZhciByZWdpc3RlcmVkSW5zdGFuY2VzPXt9O2Z1bmN0aW9uIGdldEJhc2VzdFBvaW50ZXIoY2xhc3NfLHB0cil7aWYocHRyPT09dW5kZWZpbmVkKXt0aHJvd0JpbmRpbmdFcnJvcigicHRyIHNob3VsZCBub3QgYmUgdW5kZWZpbmVkIil9d2hpbGUoY2xhc3NfLmJhc2VDbGFzcyl7cHRyPWNsYXNzXy51cGNhc3QocHRyKTtjbGFzc189Y2xhc3NfLmJhc2VDbGFzc31yZXR1cm4gcHRyfWZ1bmN0aW9uIGdldEluaGVyaXRlZEluc3RhbmNlKGNsYXNzXyxwdHIpe3B0cj1nZXRCYXNlc3RQb2ludGVyKGNsYXNzXyxwdHIpO3JldHVybiByZWdpc3RlcmVkSW5zdGFuY2VzW3B0cl19ZnVuY3Rpb24gbWFrZUNsYXNzSGFuZGxlKHByb3RvdHlwZSxyZWNvcmQpe2lmKCFyZWNvcmQucHRyVHlwZXx8IXJlY29yZC5wdHIpe3Rocm93SW50ZXJuYWxFcnJvcigibWFrZUNsYXNzSGFuZGxlIHJlcXVpcmVzIHB0ciBhbmQgcHRyVHlwZSIpfXZhciBoYXNTbWFydFB0clR5cGU9ISFyZWNvcmQuc21hcnRQdHJUeXBlO3ZhciBoYXNTbWFydFB0cj0hIXJlY29yZC5zbWFydFB0cjtpZihoYXNTbWFydFB0clR5cGUhPT1oYXNTbWFydFB0cil7dGhyb3dJbnRlcm5hbEVycm9yKCJCb3RoIHNtYXJ0UHRyVHlwZSBhbmQgc21hcnRQdHIgbXVzdCBiZSBzcGVjaWZpZWQiKX1yZWNvcmQuY291bnQ9e3ZhbHVlOjF9O3JldHVybiBhdHRhY2hGaW5hbGl6ZXIoT2JqZWN0LmNyZWF0ZShwcm90b3R5cGUseyQkOnt2YWx1ZTpyZWNvcmR9fSkpfWZ1bmN0aW9uIFJlZ2lzdGVyZWRQb2ludGVyX2Zyb21XaXJlVHlwZShwdHIpe3ZhciByYXdQb2ludGVyPXRoaXMuZ2V0UG9pbnRlZShwdHIpO2lmKCFyYXdQb2ludGVyKXt0aGlzLmRlc3RydWN0b3IocHRyKTtyZXR1cm4gbnVsbH12YXIgcmVnaXN0ZXJlZEluc3RhbmNlPWdldEluaGVyaXRlZEluc3RhbmNlKHRoaXMucmVnaXN0ZXJlZENsYXNzLHJhd1BvaW50ZXIpO2lmKHVuZGVmaW5lZCE9PXJlZ2lzdGVyZWRJbnN0YW5jZSl7aWYoMD09PXJlZ2lzdGVyZWRJbnN0YW5jZS4kJC5jb3VudC52YWx1ZSl7cmVnaXN0ZXJlZEluc3RhbmNlLiQkLnB0cj1yYXdQb2ludGVyO3JlZ2lzdGVyZWRJbnN0YW5jZS4kJC5zbWFydFB0cj1wdHI7cmV0dXJuIHJlZ2lzdGVyZWRJbnN0YW5jZVsiY2xvbmUiXSgpfWVsc2V7dmFyIHJ2PXJlZ2lzdGVyZWRJbnN0YW5jZVsiY2xvbmUiXSgpO3RoaXMuZGVzdHJ1Y3RvcihwdHIpO3JldHVybiBydn19ZnVuY3Rpb24gbWFrZURlZmF1bHRIYW5kbGUoKXtpZih0aGlzLmlzU21hcnRQb2ludGVyKXtyZXR1cm4gbWFrZUNsYXNzSGFuZGxlKHRoaXMucmVnaXN0ZXJlZENsYXNzLmluc3RhbmNlUHJvdG90eXBlLHtwdHJUeXBlOnRoaXMucG9pbnRlZVR5cGUscHRyOnJhd1BvaW50ZXIsc21hcnRQdHJUeXBlOnRoaXMsc21hcnRQdHI6cHRyfSl9ZWxzZXtyZXR1cm4gbWFrZUNsYXNzSGFuZGxlKHRoaXMucmVnaXN0ZXJlZENsYXNzLmluc3RhbmNlUHJvdG90eXBlLHtwdHJUeXBlOnRoaXMscHRyOnB0cn0pfX12YXIgYWN0dWFsVHlwZT10aGlzLnJlZ2lzdGVyZWRDbGFzcy5nZXRBY3R1YWxUeXBlKHJhd1BvaW50ZXIpO3ZhciByZWdpc3RlcmVkUG9pbnRlclJlY29yZD1yZWdpc3RlcmVkUG9pbnRlcnNbYWN0dWFsVHlwZV07aWYoIXJlZ2lzdGVyZWRQb2ludGVyUmVjb3JkKXtyZXR1cm4gbWFrZURlZmF1bHRIYW5kbGUuY2FsbCh0aGlzKX12YXIgdG9UeXBlO2lmKHRoaXMuaXNDb25zdCl7dG9UeXBlPXJlZ2lzdGVyZWRQb2ludGVyUmVjb3JkLmNvbnN0UG9pbnRlclR5cGV9ZWxzZXt0b1R5cGU9cmVnaXN0ZXJlZFBvaW50ZXJSZWNvcmQucG9pbnRlclR5cGV9dmFyIGRwPWRvd25jYXN0UG9pbnRlcihyYXdQb2ludGVyLHRoaXMucmVnaXN0ZXJlZENsYXNzLHRvVHlwZS5yZWdpc3RlcmVkQ2xhc3MpO2lmKGRwPT09bnVsbCl7cmV0dXJuIG1ha2VEZWZhdWx0SGFuZGxlLmNhbGwodGhpcyl9aWYodGhpcy5pc1NtYXJ0UG9pbnRlcil7cmV0dXJuIG1ha2VDbGFzc0hhbmRsZSh0b1R5cGUucmVnaXN0ZXJlZENsYXNzLmluc3RhbmNlUHJvdG90eXBlLHtwdHJUeXBlOnRvVHlwZSxwdHI6ZHAsc21hcnRQdHJUeXBlOnRoaXMsc21hcnRQdHI6cHRyfSl9ZWxzZXtyZXR1cm4gbWFrZUNsYXNzSGFuZGxlKHRvVHlwZS5yZWdpc3RlcmVkQ2xhc3MuaW5zdGFuY2VQcm90b3R5cGUse3B0clR5cGU6dG9UeXBlLHB0cjpkcH0pfX1mdW5jdGlvbiBhdHRhY2hGaW5hbGl6ZXIoaGFuZGxlKXtpZigidW5kZWZpbmVkIj09PXR5cGVvZiBGaW5hbGl6YXRpb25SZWdpc3RyeSl7YXR0YWNoRmluYWxpemVyPShoYW5kbGU9PmhhbmRsZSk7cmV0dXJuIGhhbmRsZX1maW5hbGl6YXRpb25SZWdpc3RyeT1uZXcgRmluYWxpemF0aW9uUmVnaXN0cnkoaW5mbz0+e3JlbGVhc2VDbGFzc0hhbmRsZShpbmZvLiQkKX0pO2F0dGFjaEZpbmFsaXplcj0oaGFuZGxlPT57dmFyICQkPWhhbmRsZS4kJDt2YXIgaGFzU21hcnRQdHI9ISEkJC5zbWFydFB0cjtpZihoYXNTbWFydFB0cil7dmFyIGluZm89eyQkOiQkfTtmaW5hbGl6YXRpb25SZWdpc3RyeS5yZWdpc3RlcihoYW5kbGUsaW5mbyxoYW5kbGUpfXJldHVybiBoYW5kbGV9KTtkZXRhY2hGaW5hbGl6ZXI9KGhhbmRsZT0+ZmluYWxpemF0aW9uUmVnaXN0cnkudW5yZWdpc3RlcihoYW5kbGUpKTtyZXR1cm4gYXR0YWNoRmluYWxpemVyKGhhbmRsZSl9ZnVuY3Rpb24gQ2xhc3NIYW5kbGVfY2xvbmUoKXtpZighdGhpcy4kJC5wdHIpe3Rocm93SW5zdGFuY2VBbHJlYWR5RGVsZXRlZCh0aGlzKX1pZih0aGlzLiQkLnByZXNlcnZlUG9pbnRlck9uRGVsZXRlKXt0aGlzLiQkLmNvdW50LnZhbHVlKz0xO3JldHVybiB0aGlzfWVsc2V7dmFyIGNsb25lPWF0dGFjaEZpbmFsaXplcihPYmplY3QuY3JlYXRlKE9iamVjdC5nZXRQcm90b3R5cGVPZih0aGlzKSx7JCQ6e3ZhbHVlOnNoYWxsb3dDb3B5SW50ZXJuYWxQb2ludGVyKHRoaXMuJCQpfX0pKTtjbG9uZS4kJC5jb3VudC52YWx1ZSs9MTtjbG9uZS4kJC5kZWxldGVTY2hlZHVsZWQ9ZmFsc2U7cmV0dXJuIGNsb25lfX1mdW5jdGlvbiBDbGFzc0hhbmRsZV9kZWxldGUoKXtpZighdGhpcy4kJC5wdHIpe3Rocm93SW5zdGFuY2VBbHJlYWR5RGVsZXRlZCh0aGlzKX1pZih0aGlzLiQkLmRlbGV0ZVNjaGVkdWxlZCYmIXRoaXMuJCQucHJlc2VydmVQb2ludGVyT25EZWxldGUpe3Rocm93QmluZGluZ0Vycm9yKCJPYmplY3QgYWxyZWFkeSBzY2hlZHVsZWQgZm9yIGRlbGV0aW9uIil9ZGV0YWNoRmluYWxpemVyKHRoaXMpO3JlbGVhc2VDbGFzc0hhbmRsZSh0aGlzLiQkKTtpZighdGhpcy4kJC5wcmVzZXJ2ZVBvaW50ZXJPbkRlbGV0ZSl7dGhpcy4kJC5zbWFydFB0cj11bmRlZmluZWQ7dGhpcy4kJC5wdHI9dW5kZWZpbmVkfX1mdW5jdGlvbiBDbGFzc0hhbmRsZV9pc0RlbGV0ZWQoKXtyZXR1cm4hdGhpcy4kJC5wdHJ9ZnVuY3Rpb24gQ2xhc3NIYW5kbGVfZGVsZXRlTGF0ZXIoKXtpZighdGhpcy4kJC5wdHIpe3Rocm93SW5zdGFuY2VBbHJlYWR5RGVsZXRlZCh0aGlzKX1pZih0aGlzLiQkLmRlbGV0ZVNjaGVkdWxlZCYmIXRoaXMuJCQucHJlc2VydmVQb2ludGVyT25EZWxldGUpe3Rocm93QmluZGluZ0Vycm9yKCJPYmplY3QgYWxyZWFkeSBzY2hlZHVsZWQgZm9yIGRlbGV0aW9uIil9ZGVsZXRpb25RdWV1ZS5wdXNoKHRoaXMpO2lmKGRlbGV0aW9uUXVldWUubGVuZ3RoPT09MSYmZGVsYXlGdW5jdGlvbil7ZGVsYXlGdW5jdGlvbihmbHVzaFBlbmRpbmdEZWxldGVzKX10aGlzLiQkLmRlbGV0ZVNjaGVkdWxlZD10cnVlO3JldHVybiB0aGlzfWZ1bmN0aW9uIGluaXRfQ2xhc3NIYW5kbGUoKXtDbGFzc0hhbmRsZS5wcm90b3R5cGVbImlzQWxpYXNPZiJdPUNsYXNzSGFuZGxlX2lzQWxpYXNPZjtDbGFzc0hhbmRsZS5wcm90b3R5cGVbImNsb25lIl09Q2xhc3NIYW5kbGVfY2xvbmU7Q2xhc3NIYW5kbGUucHJvdG90eXBlWyJkZWxldGUiXT1DbGFzc0hhbmRsZV9kZWxldGU7Q2xhc3NIYW5kbGUucHJvdG90eXBlWyJpc0RlbGV0ZWQiXT1DbGFzc0hhbmRsZV9pc0RlbGV0ZWQ7Q2xhc3NIYW5kbGUucHJvdG90eXBlWyJkZWxldGVMYXRlciJdPUNsYXNzSGFuZGxlX2RlbGV0ZUxhdGVyfWZ1bmN0aW9uIENsYXNzSGFuZGxlKCl7fWZ1bmN0aW9uIGVuc3VyZU92ZXJsb2FkVGFibGUocHJvdG8sbWV0aG9kTmFtZSxodW1hbk5hbWUpe2lmKHVuZGVmaW5lZD09PXByb3RvW21ldGhvZE5hbWVdLm92ZXJsb2FkVGFibGUpe3ZhciBwcmV2RnVuYz1wcm90b1ttZXRob2ROYW1lXTtwcm90b1ttZXRob2ROYW1lXT1mdW5jdGlvbigpe2lmKCFwcm90b1ttZXRob2ROYW1lXS5vdmVybG9hZFRhYmxlLmhhc093blByb3BlcnR5KGFyZ3VtZW50cy5sZW5ndGgpKXt0aHJvd0JpbmRpbmdFcnJvcigiRnVuY3Rpb24gJyIraHVtYW5OYW1lKyInIGNhbGxlZCB3aXRoIGFuIGludmFsaWQgbnVtYmVyIG9mIGFyZ3VtZW50cyAoIithcmd1bWVudHMubGVuZ3RoKyIpIC0gZXhwZWN0cyBvbmUgb2YgKCIrcHJvdG9bbWV0aG9kTmFtZV0ub3ZlcmxvYWRUYWJsZSsiKSEiKX1yZXR1cm4gcHJvdG9bbWV0aG9kTmFtZV0ub3ZlcmxvYWRUYWJsZVthcmd1bWVudHMubGVuZ3RoXS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9O3Byb3RvW21ldGhvZE5hbWVdLm92ZXJsb2FkVGFibGU9W107cHJvdG9bbWV0aG9kTmFtZV0ub3ZlcmxvYWRUYWJsZVtwcmV2RnVuYy5hcmdDb3VudF09cHJldkZ1bmN9fWZ1bmN0aW9uIGV4cG9zZVB1YmxpY1N5bWJvbChuYW1lLHZhbHVlLG51bUFyZ3VtZW50cyl7aWYoTW9kdWxlLmhhc093blByb3BlcnR5KG5hbWUpKXtpZih1bmRlZmluZWQ9PT1udW1Bcmd1bWVudHN8fHVuZGVmaW5lZCE9PU1vZHVsZVtuYW1lXS5vdmVybG9hZFRhYmxlJiZ1bmRlZmluZWQhPT1Nb2R1bGVbbmFtZV0ub3ZlcmxvYWRUYWJsZVtudW1Bcmd1bWVudHNdKXt0aHJvd0JpbmRpbmdFcnJvcigiQ2Fubm90IHJlZ2lzdGVyIHB1YmxpYyBuYW1lICciK25hbWUrIicgdHdpY2UiKX1lbnN1cmVPdmVybG9hZFRhYmxlKE1vZHVsZSxuYW1lLG5hbWUpO2lmKE1vZHVsZS5oYXNPd25Qcm9wZXJ0eShudW1Bcmd1bWVudHMpKXt0aHJvd0JpbmRpbmdFcnJvcigiQ2Fubm90IHJlZ2lzdGVyIG11bHRpcGxlIG92ZXJsb2FkcyBvZiBhIGZ1bmN0aW9uIHdpdGggdGhlIHNhbWUgbnVtYmVyIG9mIGFyZ3VtZW50cyAoIitudW1Bcmd1bWVudHMrIikhIil9TW9kdWxlW25hbWVdLm92ZXJsb2FkVGFibGVbbnVtQXJndW1lbnRzXT12YWx1ZX1lbHNle01vZHVsZVtuYW1lXT12YWx1ZTtpZih1bmRlZmluZWQhPT1udW1Bcmd1bWVudHMpe01vZHVsZVtuYW1lXS5udW1Bcmd1bWVudHM9bnVtQXJndW1lbnRzfX19ZnVuY3Rpb24gUmVnaXN0ZXJlZENsYXNzKG5hbWUsY29uc3RydWN0b3IsaW5zdGFuY2VQcm90b3R5cGUscmF3RGVzdHJ1Y3RvcixiYXNlQ2xhc3MsZ2V0QWN0dWFsVHlwZSx1cGNhc3QsZG93bmNhc3Qpe3RoaXMubmFtZT1uYW1lO3RoaXMuY29uc3RydWN0b3I9Y29uc3RydWN0b3I7dGhpcy5pbnN0YW5jZVByb3RvdHlwZT1pbnN0YW5jZVByb3RvdHlwZTt0aGlzLnJhd0Rlc3RydWN0b3I9cmF3RGVzdHJ1Y3Rvcjt0aGlzLmJhc2VDbGFzcz1iYXNlQ2xhc3M7dGhpcy5nZXRBY3R1YWxUeXBlPWdldEFjdHVhbFR5cGU7dGhpcy51cGNhc3Q9dXBjYXN0O3RoaXMuZG93bmNhc3Q9ZG93bmNhc3Q7dGhpcy5wdXJlVmlydHVhbEZ1bmN0aW9ucz1bXX1mdW5jdGlvbiB1cGNhc3RQb2ludGVyKHB0cixwdHJDbGFzcyxkZXNpcmVkQ2xhc3Mpe3doaWxlKHB0ckNsYXNzIT09ZGVzaXJlZENsYXNzKXtpZighcHRyQ2xhc3MudXBjYXN0KXt0aHJvd0JpbmRpbmdFcnJvcigiRXhwZWN0ZWQgbnVsbCBvciBpbnN0YW5jZSBvZiAiK2Rlc2lyZWRDbGFzcy5uYW1lKyIsIGdvdCBhbiBpbnN0YW5jZSBvZiAiK3B0ckNsYXNzLm5hbWUpfXB0cj1wdHJDbGFzcy51cGNhc3QocHRyKTtwdHJDbGFzcz1wdHJDbGFzcy5iYXNlQ2xhc3N9cmV0dXJuIHB0cn1mdW5jdGlvbiBjb25zdE5vU21hcnRQdHJSYXdQb2ludGVyVG9XaXJlVHlwZShkZXN0cnVjdG9ycyxoYW5kbGUpe2lmKGhhbmRsZT09PW51bGwpe2lmKHRoaXMuaXNSZWZlcmVuY2Upe3Rocm93QmluZGluZ0Vycm9yKCJudWxsIGlzIG5vdCBhIHZhbGlkICIrdGhpcy5uYW1lKX1yZXR1cm4gMH1pZighaGFuZGxlLiQkKXt0aHJvd0JpbmRpbmdFcnJvcignQ2Fubm90IHBhc3MgIicrX2VtYmluZF9yZXByKGhhbmRsZSkrJyIgYXMgYSAnK3RoaXMubmFtZSl9aWYoIWhhbmRsZS4kJC5wdHIpe3Rocm93QmluZGluZ0Vycm9yKCJDYW5ub3QgcGFzcyBkZWxldGVkIG9iamVjdCBhcyBhIHBvaW50ZXIgb2YgdHlwZSAiK3RoaXMubmFtZSl9dmFyIGhhbmRsZUNsYXNzPWhhbmRsZS4kJC5wdHJUeXBlLnJlZ2lzdGVyZWRDbGFzczt2YXIgcHRyPXVwY2FzdFBvaW50ZXIoaGFuZGxlLiQkLnB0cixoYW5kbGVDbGFzcyx0aGlzLnJlZ2lzdGVyZWRDbGFzcyk7cmV0dXJuIHB0cn1mdW5jdGlvbiBnZW5lcmljUG9pbnRlclRvV2lyZVR5cGUoZGVzdHJ1Y3RvcnMsaGFuZGxlKXt2YXIgcHRyO2lmKGhhbmRsZT09PW51bGwpe2lmKHRoaXMuaXNSZWZlcmVuY2Upe3Rocm93QmluZGluZ0Vycm9yKCJudWxsIGlzIG5vdCBhIHZhbGlkICIrdGhpcy5uYW1lKX1pZih0aGlzLmlzU21hcnRQb2ludGVyKXtwdHI9dGhpcy5yYXdDb25zdHJ1Y3RvcigpO2lmKGRlc3RydWN0b3JzIT09bnVsbCl7ZGVzdHJ1Y3RvcnMucHVzaCh0aGlzLnJhd0Rlc3RydWN0b3IscHRyKX1yZXR1cm4gcHRyfWVsc2V7cmV0dXJuIDB9fWlmKCFoYW5kbGUuJCQpe3Rocm93QmluZGluZ0Vycm9yKCdDYW5ub3QgcGFzcyAiJytfZW1iaW5kX3JlcHIoaGFuZGxlKSsnIiBhcyBhICcrdGhpcy5uYW1lKX1pZighaGFuZGxlLiQkLnB0cil7dGhyb3dCaW5kaW5nRXJyb3IoIkNhbm5vdCBwYXNzIGRlbGV0ZWQgb2JqZWN0IGFzIGEgcG9pbnRlciBvZiB0eXBlICIrdGhpcy5uYW1lKX1pZighdGhpcy5pc0NvbnN0JiZoYW5kbGUuJCQucHRyVHlwZS5pc0NvbnN0KXt0aHJvd0JpbmRpbmdFcnJvcigiQ2Fubm90IGNvbnZlcnQgYXJndW1lbnQgb2YgdHlwZSAiKyhoYW5kbGUuJCQuc21hcnRQdHJUeXBlP2hhbmRsZS4kJC5zbWFydFB0clR5cGUubmFtZTpoYW5kbGUuJCQucHRyVHlwZS5uYW1lKSsiIHRvIHBhcmFtZXRlciB0eXBlICIrdGhpcy5uYW1lKX12YXIgaGFuZGxlQ2xhc3M9aGFuZGxlLiQkLnB0clR5cGUucmVnaXN0ZXJlZENsYXNzO3B0cj11cGNhc3RQb2ludGVyKGhhbmRsZS4kJC5wdHIsaGFuZGxlQ2xhc3MsdGhpcy5yZWdpc3RlcmVkQ2xhc3MpO2lmKHRoaXMuaXNTbWFydFBvaW50ZXIpe2lmKHVuZGVmaW5lZD09PWhhbmRsZS4kJC5zbWFydFB0cil7dGhyb3dCaW5kaW5nRXJyb3IoIlBhc3NpbmcgcmF3IHBvaW50ZXIgdG8gc21hcnQgcG9pbnRlciBpcyBpbGxlZ2FsIil9c3dpdGNoKHRoaXMuc2hhcmluZ1BvbGljeSl7Y2FzZSAwOmlmKGhhbmRsZS4kJC5zbWFydFB0clR5cGU9PT10aGlzKXtwdHI9aGFuZGxlLiQkLnNtYXJ0UHRyfWVsc2V7dGhyb3dCaW5kaW5nRXJyb3IoIkNhbm5vdCBjb252ZXJ0IGFyZ3VtZW50IG9mIHR5cGUgIisoaGFuZGxlLiQkLnNtYXJ0UHRyVHlwZT9oYW5kbGUuJCQuc21hcnRQdHJUeXBlLm5hbWU6aGFuZGxlLiQkLnB0clR5cGUubmFtZSkrIiB0byBwYXJhbWV0ZXIgdHlwZSAiK3RoaXMubmFtZSl9YnJlYWs7Y2FzZSAxOnB0cj1oYW5kbGUuJCQuc21hcnRQdHI7YnJlYWs7Y2FzZSAyOmlmKGhhbmRsZS4kJC5zbWFydFB0clR5cGU9PT10aGlzKXtwdHI9aGFuZGxlLiQkLnNtYXJ0UHRyfWVsc2V7dmFyIGNsb25lZEhhbmRsZT1oYW5kbGVbImNsb25lIl0oKTtwdHI9dGhpcy5yYXdTaGFyZShwdHIsRW12YWwudG9IYW5kbGUoZnVuY3Rpb24oKXtjbG9uZWRIYW5kbGVbImRlbGV0ZSJdKCl9KSk7aWYoZGVzdHJ1Y3RvcnMhPT1udWxsKXtkZXN0cnVjdG9ycy5wdXNoKHRoaXMucmF3RGVzdHJ1Y3RvcixwdHIpfX1icmVhaztkZWZhdWx0OnRocm93QmluZGluZ0Vycm9yKCJVbnN1cHBvcnRpbmcgc2hhcmluZyBwb2xpY3kiKX19cmV0dXJuIHB0cn1mdW5jdGlvbiBub25Db25zdE5vU21hcnRQdHJSYXdQb2ludGVyVG9XaXJlVHlwZShkZXN0cnVjdG9ycyxoYW5kbGUpe2lmKGhhbmRsZT09PW51bGwpe2lmKHRoaXMuaXNSZWZlcmVuY2Upe3Rocm93QmluZGluZ0Vycm9yKCJudWxsIGlzIG5vdCBhIHZhbGlkICIrdGhpcy5uYW1lKX1yZXR1cm4gMH1pZighaGFuZGxlLiQkKXt0aHJvd0JpbmRpbmdFcnJvcignQ2Fubm90IHBhc3MgIicrX2VtYmluZF9yZXByKGhhbmRsZSkrJyIgYXMgYSAnK3RoaXMubmFtZSl9aWYoIWhhbmRsZS4kJC5wdHIpe3Rocm93QmluZGluZ0Vycm9yKCJDYW5ub3QgcGFzcyBkZWxldGVkIG9iamVjdCBhcyBhIHBvaW50ZXIgb2YgdHlwZSAiK3RoaXMubmFtZSl9aWYoaGFuZGxlLiQkLnB0clR5cGUuaXNDb25zdCl7dGhyb3dCaW5kaW5nRXJyb3IoIkNhbm5vdCBjb252ZXJ0IGFyZ3VtZW50IG9mIHR5cGUgIitoYW5kbGUuJCQucHRyVHlwZS5uYW1lKyIgdG8gcGFyYW1ldGVyIHR5cGUgIit0aGlzLm5hbWUpfXZhciBoYW5kbGVDbGFzcz1oYW5kbGUuJCQucHRyVHlwZS5yZWdpc3RlcmVkQ2xhc3M7dmFyIHB0cj11cGNhc3RQb2ludGVyKGhhbmRsZS4kJC5wdHIsaGFuZGxlQ2xhc3MsdGhpcy5yZWdpc3RlcmVkQ2xhc3MpO3JldHVybiBwdHJ9ZnVuY3Rpb24gc2ltcGxlUmVhZFZhbHVlRnJvbVBvaW50ZXIocG9pbnRlcil7cmV0dXJuIHRoaXNbImZyb21XaXJlVHlwZSJdKEhFQVBVMzJbcG9pbnRlcj4+Ml0pfWZ1bmN0aW9uIFJlZ2lzdGVyZWRQb2ludGVyX2dldFBvaW50ZWUocHRyKXtpZih0aGlzLnJhd0dldFBvaW50ZWUpe3B0cj10aGlzLnJhd0dldFBvaW50ZWUocHRyKX1yZXR1cm4gcHRyfWZ1bmN0aW9uIFJlZ2lzdGVyZWRQb2ludGVyX2Rlc3RydWN0b3IocHRyKXtpZih0aGlzLnJhd0Rlc3RydWN0b3Ipe3RoaXMucmF3RGVzdHJ1Y3RvcihwdHIpfX1mdW5jdGlvbiBSZWdpc3RlcmVkUG9pbnRlcl9kZWxldGVPYmplY3QoaGFuZGxlKXtpZihoYW5kbGUhPT1udWxsKXtoYW5kbGVbImRlbGV0ZSJdKCl9fWZ1bmN0aW9uIGluaXRfUmVnaXN0ZXJlZFBvaW50ZXIoKXtSZWdpc3RlcmVkUG9pbnRlci5wcm90b3R5cGUuZ2V0UG9pbnRlZT1SZWdpc3RlcmVkUG9pbnRlcl9nZXRQb2ludGVlO1JlZ2lzdGVyZWRQb2ludGVyLnByb3RvdHlwZS5kZXN0cnVjdG9yPVJlZ2lzdGVyZWRQb2ludGVyX2Rlc3RydWN0b3I7UmVnaXN0ZXJlZFBvaW50ZXIucHJvdG90eXBlWyJhcmdQYWNrQWR2YW5jZSJdPTg7UmVnaXN0ZXJlZFBvaW50ZXIucHJvdG90eXBlWyJyZWFkVmFsdWVGcm9tUG9pbnRlciJdPXNpbXBsZVJlYWRWYWx1ZUZyb21Qb2ludGVyO1JlZ2lzdGVyZWRQb2ludGVyLnByb3RvdHlwZVsiZGVsZXRlT2JqZWN0Il09UmVnaXN0ZXJlZFBvaW50ZXJfZGVsZXRlT2JqZWN0O1JlZ2lzdGVyZWRQb2ludGVyLnByb3RvdHlwZVsiZnJvbVdpcmVUeXBlIl09UmVnaXN0ZXJlZFBvaW50ZXJfZnJvbVdpcmVUeXBlfWZ1bmN0aW9uIFJlZ2lzdGVyZWRQb2ludGVyKG5hbWUscmVnaXN0ZXJlZENsYXNzLGlzUmVmZXJlbmNlLGlzQ29uc3QsaXNTbWFydFBvaW50ZXIscG9pbnRlZVR5cGUsc2hhcmluZ1BvbGljeSxyYXdHZXRQb2ludGVlLHJhd0NvbnN0cnVjdG9yLHJhd1NoYXJlLHJhd0Rlc3RydWN0b3Ipe3RoaXMubmFtZT1uYW1lO3RoaXMucmVnaXN0ZXJlZENsYXNzPXJlZ2lzdGVyZWRDbGFzczt0aGlzLmlzUmVmZXJlbmNlPWlzUmVmZXJlbmNlO3RoaXMuaXNDb25zdD1pc0NvbnN0O3RoaXMuaXNTbWFydFBvaW50ZXI9aXNTbWFydFBvaW50ZXI7dGhpcy5wb2ludGVlVHlwZT1wb2ludGVlVHlwZTt0aGlzLnNoYXJpbmdQb2xpY3k9c2hhcmluZ1BvbGljeTt0aGlzLnJhd0dldFBvaW50ZWU9cmF3R2V0UG9pbnRlZTt0aGlzLnJhd0NvbnN0cnVjdG9yPXJhd0NvbnN0cnVjdG9yO3RoaXMucmF3U2hhcmU9cmF3U2hhcmU7dGhpcy5yYXdEZXN0cnVjdG9yPXJhd0Rlc3RydWN0b3I7aWYoIWlzU21hcnRQb2ludGVyJiZyZWdpc3RlcmVkQ2xhc3MuYmFzZUNsYXNzPT09dW5kZWZpbmVkKXtpZihpc0NvbnN0KXt0aGlzWyJ0b1dpcmVUeXBlIl09Y29uc3ROb1NtYXJ0UHRyUmF3UG9pbnRlclRvV2lyZVR5cGU7dGhpcy5kZXN0cnVjdG9yRnVuY3Rpb249bnVsbH1lbHNle3RoaXNbInRvV2lyZVR5cGUiXT1ub25Db25zdE5vU21hcnRQdHJSYXdQb2ludGVyVG9XaXJlVHlwZTt0aGlzLmRlc3RydWN0b3JGdW5jdGlvbj1udWxsfX1lbHNle3RoaXNbInRvV2lyZVR5cGUiXT1nZW5lcmljUG9pbnRlclRvV2lyZVR5cGV9fWZ1bmN0aW9uIHJlcGxhY2VQdWJsaWNTeW1ib2wobmFtZSx2YWx1ZSxudW1Bcmd1bWVudHMpe2lmKCFNb2R1bGUuaGFzT3duUHJvcGVydHkobmFtZSkpe3Rocm93SW50ZXJuYWxFcnJvcigiUmVwbGFjaW5nIG5vbmV4aXN0YW50IHB1YmxpYyBzeW1ib2wiKX1pZih1bmRlZmluZWQhPT1Nb2R1bGVbbmFtZV0ub3ZlcmxvYWRUYWJsZSYmdW5kZWZpbmVkIT09bnVtQXJndW1lbnRzKXtNb2R1bGVbbmFtZV0ub3ZlcmxvYWRUYWJsZVtudW1Bcmd1bWVudHNdPXZhbHVlfWVsc2V7TW9kdWxlW25hbWVdPXZhbHVlO01vZHVsZVtuYW1lXS5hcmdDb3VudD1udW1Bcmd1bWVudHN9fWZ1bmN0aW9uIGR5bkNhbGxMZWdhY3koc2lnLHB0cixhcmdzKXt2YXIgZj1Nb2R1bGVbImR5bkNhbGxfIitzaWddO3JldHVybiBhcmdzJiZhcmdzLmxlbmd0aD9mLmFwcGx5KG51bGwsW3B0cl0uY29uY2F0KGFyZ3MpKTpmLmNhbGwobnVsbCxwdHIpfWZ1bmN0aW9uIGR5bkNhbGwoc2lnLHB0cixhcmdzKXtpZihzaWcuaW5jbHVkZXMoImoiKSl7cmV0dXJuIGR5bkNhbGxMZWdhY3koc2lnLHB0cixhcmdzKX1yZXR1cm4gZ2V0V2FzbVRhYmxlRW50cnkocHRyKS5hcHBseShudWxsLGFyZ3MpfWZ1bmN0aW9uIGdldER5bkNhbGxlcihzaWcscHRyKXt2YXIgYXJnQ2FjaGU9W107cmV0dXJuIGZ1bmN0aW9uKCl7YXJnQ2FjaGUubGVuZ3RoPTA7T2JqZWN0LmFzc2lnbihhcmdDYWNoZSxhcmd1bWVudHMpO3JldHVybiBkeW5DYWxsKHNpZyxwdHIsYXJnQ2FjaGUpfX1mdW5jdGlvbiBlbWJpbmRfX3JlcXVpcmVGdW5jdGlvbihzaWduYXR1cmUscmF3RnVuY3Rpb24pe3NpZ25hdHVyZT1yZWFkTGF0aW4xU3RyaW5nKHNpZ25hdHVyZSk7ZnVuY3Rpb24gbWFrZUR5bkNhbGxlcigpe2lmKHNpZ25hdHVyZS5pbmNsdWRlcygiaiIpKXtyZXR1cm4gZ2V0RHluQ2FsbGVyKHNpZ25hdHVyZSxyYXdGdW5jdGlvbil9cmV0dXJuIGdldFdhc21UYWJsZUVudHJ5KHJhd0Z1bmN0aW9uKX12YXIgZnA9bWFrZUR5bkNhbGxlcigpO2lmKHR5cGVvZiBmcCE9ImZ1bmN0aW9uIil7dGhyb3dCaW5kaW5nRXJyb3IoInVua25vd24gZnVuY3Rpb24gcG9pbnRlciB3aXRoIHNpZ25hdHVyZSAiK3NpZ25hdHVyZSsiOiAiK3Jhd0Z1bmN0aW9uKX1yZXR1cm4gZnB9dmFyIFVuYm91bmRUeXBlRXJyb3I9dW5kZWZpbmVkO2Z1bmN0aW9uIGdldFR5cGVOYW1lKHR5cGUpe3ZhciBwdHI9X19fZ2V0VHlwZU5hbWUodHlwZSk7dmFyIHJ2PXJlYWRMYXRpbjFTdHJpbmcocHRyKTtfZnJlZShwdHIpO3JldHVybiBydn1mdW5jdGlvbiB0aHJvd1VuYm91bmRUeXBlRXJyb3IobWVzc2FnZSx0eXBlcyl7dmFyIHVuYm91bmRUeXBlcz1bXTt2YXIgc2Vlbj17fTtmdW5jdGlvbiB2aXNpdCh0eXBlKXtpZihzZWVuW3R5cGVdKXtyZXR1cm59aWYocmVnaXN0ZXJlZFR5cGVzW3R5cGVdKXtyZXR1cm59aWYodHlwZURlcGVuZGVuY2llc1t0eXBlXSl7dHlwZURlcGVuZGVuY2llc1t0eXBlXS5mb3JFYWNoKHZpc2l0KTtyZXR1cm59dW5ib3VuZFR5cGVzLnB1c2godHlwZSk7c2Vlblt0eXBlXT10cnVlfXR5cGVzLmZvckVhY2godmlzaXQpO3Rocm93IG5ldyBVbmJvdW5kVHlwZUVycm9yKG1lc3NhZ2UrIjogIit1bmJvdW5kVHlwZXMubWFwKGdldFR5cGVOYW1lKS5qb2luKFsiLCAiXSkpfWZ1bmN0aW9uIF9fZW1iaW5kX3JlZ2lzdGVyX2NsYXNzKHJhd1R5cGUscmF3UG9pbnRlclR5cGUscmF3Q29uc3RQb2ludGVyVHlwZSxiYXNlQ2xhc3NSYXdUeXBlLGdldEFjdHVhbFR5cGVTaWduYXR1cmUsZ2V0QWN0dWFsVHlwZSx1cGNhc3RTaWduYXR1cmUsdXBjYXN0LGRvd25jYXN0U2lnbmF0dXJlLGRvd25jYXN0LG5hbWUsZGVzdHJ1Y3RvclNpZ25hdHVyZSxyYXdEZXN0cnVjdG9yKXtuYW1lPXJlYWRMYXRpbjFTdHJpbmcobmFtZSk7Z2V0QWN0dWFsVHlwZT1lbWJpbmRfX3JlcXVpcmVGdW5jdGlvbihnZXRBY3R1YWxUeXBlU2lnbmF0dXJlLGdldEFjdHVhbFR5cGUpO2lmKHVwY2FzdCl7dXBjYXN0PWVtYmluZF9fcmVxdWlyZUZ1bmN0aW9uKHVwY2FzdFNpZ25hdHVyZSx1cGNhc3QpfWlmKGRvd25jYXN0KXtkb3duY2FzdD1lbWJpbmRfX3JlcXVpcmVGdW5jdGlvbihkb3duY2FzdFNpZ25hdHVyZSxkb3duY2FzdCl9cmF3RGVzdHJ1Y3Rvcj1lbWJpbmRfX3JlcXVpcmVGdW5jdGlvbihkZXN0cnVjdG9yU2lnbmF0dXJlLHJhd0Rlc3RydWN0b3IpO3ZhciBsZWdhbEZ1bmN0aW9uTmFtZT1tYWtlTGVnYWxGdW5jdGlvbk5hbWUobmFtZSk7ZXhwb3NlUHVibGljU3ltYm9sKGxlZ2FsRnVuY3Rpb25OYW1lLGZ1bmN0aW9uKCl7dGhyb3dVbmJvdW5kVHlwZUVycm9yKCJDYW5ub3QgY29uc3RydWN0ICIrbmFtZSsiIGR1ZSB0byB1bmJvdW5kIHR5cGVzIixbYmFzZUNsYXNzUmF3VHlwZV0pfSk7d2hlbkRlcGVuZGVudFR5cGVzQXJlUmVzb2x2ZWQoW3Jhd1R5cGUscmF3UG9pbnRlclR5cGUscmF3Q29uc3RQb2ludGVyVHlwZV0sYmFzZUNsYXNzUmF3VHlwZT9bYmFzZUNsYXNzUmF3VHlwZV06W10sZnVuY3Rpb24oYmFzZSl7YmFzZT1iYXNlWzBdO3ZhciBiYXNlQ2xhc3M7dmFyIGJhc2VQcm90b3R5cGU7aWYoYmFzZUNsYXNzUmF3VHlwZSl7YmFzZUNsYXNzPWJhc2UucmVnaXN0ZXJlZENsYXNzO2Jhc2VQcm90b3R5cGU9YmFzZUNsYXNzLmluc3RhbmNlUHJvdG90eXBlfWVsc2V7YmFzZVByb3RvdHlwZT1DbGFzc0hhbmRsZS5wcm90b3R5cGV9dmFyIGNvbnN0cnVjdG9yPWNyZWF0ZU5hbWVkRnVuY3Rpb24obGVnYWxGdW5jdGlvbk5hbWUsZnVuY3Rpb24oKXtpZihPYmplY3QuZ2V0UHJvdG90eXBlT2YodGhpcykhPT1pbnN0YW5jZVByb3RvdHlwZSl7dGhyb3cgbmV3IEJpbmRpbmdFcnJvcigiVXNlICduZXcnIHRvIGNvbnN0cnVjdCAiK25hbWUpfWlmKHVuZGVmaW5lZD09PXJlZ2lzdGVyZWRDbGFzcy5jb25zdHJ1Y3Rvcl9ib2R5KXt0aHJvdyBuZXcgQmluZGluZ0Vycm9yKG5hbWUrIiBoYXMgbm8gYWNjZXNzaWJsZSBjb25zdHJ1Y3RvciIpfXZhciBib2R5PXJlZ2lzdGVyZWRDbGFzcy5jb25zdHJ1Y3Rvcl9ib2R5W2FyZ3VtZW50cy5sZW5ndGhdO2lmKHVuZGVmaW5lZD09PWJvZHkpe3Rocm93IG5ldyBCaW5kaW5nRXJyb3IoIlRyaWVkIHRvIGludm9rZSBjdG9yIG9mICIrbmFtZSsiIHdpdGggaW52YWxpZCBudW1iZXIgb2YgcGFyYW1ldGVycyAoIithcmd1bWVudHMubGVuZ3RoKyIpIC0gZXhwZWN0ZWQgKCIrT2JqZWN0LmtleXMocmVnaXN0ZXJlZENsYXNzLmNvbnN0cnVjdG9yX2JvZHkpLnRvU3RyaW5nKCkrIikgcGFyYW1ldGVycyBpbnN0ZWFkISIpfXJldHVybiBib2R5LmFwcGx5KHRoaXMsYXJndW1lbnRzKX0pO3ZhciBpbnN0YW5jZVByb3RvdHlwZT1PYmplY3QuY3JlYXRlKGJhc2VQcm90b3R5cGUse2NvbnN0cnVjdG9yOnt2YWx1ZTpjb25zdHJ1Y3Rvcn19KTtjb25zdHJ1Y3Rvci5wcm90b3R5cGU9aW5zdGFuY2VQcm90b3R5cGU7dmFyIHJlZ2lzdGVyZWRDbGFzcz1uZXcgUmVnaXN0ZXJlZENsYXNzKG5hbWUsY29uc3RydWN0b3IsaW5zdGFuY2VQcm90b3R5cGUscmF3RGVzdHJ1Y3RvcixiYXNlQ2xhc3MsZ2V0QWN0dWFsVHlwZSx1cGNhc3QsZG93bmNhc3QpO3ZhciByZWZlcmVuY2VDb252ZXJ0ZXI9bmV3IFJlZ2lzdGVyZWRQb2ludGVyKG5hbWUscmVnaXN0ZXJlZENsYXNzLHRydWUsZmFsc2UsZmFsc2UpO3ZhciBwb2ludGVyQ29udmVydGVyPW5ldyBSZWdpc3RlcmVkUG9pbnRlcihuYW1lKyIqIixyZWdpc3RlcmVkQ2xhc3MsZmFsc2UsZmFsc2UsZmFsc2UpO3ZhciBjb25zdFBvaW50ZXJDb252ZXJ0ZXI9bmV3IFJlZ2lzdGVyZWRQb2ludGVyKG5hbWUrIiBjb25zdCoiLHJlZ2lzdGVyZWRDbGFzcyxmYWxzZSx0cnVlLGZhbHNlKTtyZWdpc3RlcmVkUG9pbnRlcnNbcmF3VHlwZV09e3BvaW50ZXJUeXBlOnBvaW50ZXJDb252ZXJ0ZXIsY29uc3RQb2ludGVyVHlwZTpjb25zdFBvaW50ZXJDb252ZXJ0ZXJ9O3JlcGxhY2VQdWJsaWNTeW1ib2wobGVnYWxGdW5jdGlvbk5hbWUsY29uc3RydWN0b3IpO3JldHVybltyZWZlcmVuY2VDb252ZXJ0ZXIscG9pbnRlckNvbnZlcnRlcixjb25zdFBvaW50ZXJDb252ZXJ0ZXJdfSl9ZnVuY3Rpb24gaGVhcDMyVmVjdG9yVG9BcnJheShjb3VudCxmaXJzdEVsZW1lbnQpe3ZhciBhcnJheT1bXTtmb3IodmFyIGk9MDtpPGNvdW50O2krKyl7YXJyYXkucHVzaChIRUFQMzJbKGZpcnN0RWxlbWVudD4+MikraV0pfXJldHVybiBhcnJheX1mdW5jdGlvbiBydW5EZXN0cnVjdG9ycyhkZXN0cnVjdG9ycyl7d2hpbGUoZGVzdHJ1Y3RvcnMubGVuZ3RoKXt2YXIgcHRyPWRlc3RydWN0b3JzLnBvcCgpO3ZhciBkZWw9ZGVzdHJ1Y3RvcnMucG9wKCk7ZGVsKHB0cil9fWZ1bmN0aW9uIF9fZW1iaW5kX3JlZ2lzdGVyX2NsYXNzX2NvbnN0cnVjdG9yKHJhd0NsYXNzVHlwZSxhcmdDb3VudCxyYXdBcmdUeXBlc0FkZHIsaW52b2tlclNpZ25hdHVyZSxpbnZva2VyLHJhd0NvbnN0cnVjdG9yKXthc3NlcnQoYXJnQ291bnQ+MCk7dmFyIHJhd0FyZ1R5cGVzPWhlYXAzMlZlY3RvclRvQXJyYXkoYXJnQ291bnQscmF3QXJnVHlwZXNBZGRyKTtpbnZva2VyPWVtYmluZF9fcmVxdWlyZUZ1bmN0aW9uKGludm9rZXJTaWduYXR1cmUsaW52b2tlcik7d2hlbkRlcGVuZGVudFR5cGVzQXJlUmVzb2x2ZWQoW10sW3Jhd0NsYXNzVHlwZV0sZnVuY3Rpb24oY2xhc3NUeXBlKXtjbGFzc1R5cGU9Y2xhc3NUeXBlWzBdO3ZhciBodW1hbk5hbWU9ImNvbnN0cnVjdG9yICIrY2xhc3NUeXBlLm5hbWU7aWYodW5kZWZpbmVkPT09Y2xhc3NUeXBlLnJlZ2lzdGVyZWRDbGFzcy5jb25zdHJ1Y3Rvcl9ib2R5KXtjbGFzc1R5cGUucmVnaXN0ZXJlZENsYXNzLmNvbnN0cnVjdG9yX2JvZHk9W119aWYodW5kZWZpbmVkIT09Y2xhc3NUeXBlLnJlZ2lzdGVyZWRDbGFzcy5jb25zdHJ1Y3Rvcl9ib2R5W2FyZ0NvdW50LTFdKXt0aHJvdyBuZXcgQmluZGluZ0Vycm9yKCJDYW5ub3QgcmVnaXN0ZXIgbXVsdGlwbGUgY29uc3RydWN0b3JzIHdpdGggaWRlbnRpY2FsIG51bWJlciBvZiBwYXJhbWV0ZXJzICgiKyhhcmdDb3VudC0xKSsiKSBmb3IgY2xhc3MgJyIrY2xhc3NUeXBlLm5hbWUrIichIE92ZXJsb2FkIHJlc29sdXRpb24gaXMgY3VycmVudGx5IG9ubHkgcGVyZm9ybWVkIHVzaW5nIHRoZSBwYXJhbWV0ZXIgY291bnQsIG5vdCBhY3R1YWwgdHlwZSBpbmZvISIpfWNsYXNzVHlwZS5yZWdpc3RlcmVkQ2xhc3MuY29uc3RydWN0b3JfYm9keVthcmdDb3VudC0xXT0oKCk9Pnt0aHJvd1VuYm91bmRUeXBlRXJyb3IoIkNhbm5vdCBjb25zdHJ1Y3QgIitjbGFzc1R5cGUubmFtZSsiIGR1ZSB0byB1bmJvdW5kIHR5cGVzIixyYXdBcmdUeXBlcyl9KTt3aGVuRGVwZW5kZW50VHlwZXNBcmVSZXNvbHZlZChbXSxyYXdBcmdUeXBlcyxmdW5jdGlvbihhcmdUeXBlcyl7YXJnVHlwZXMuc3BsaWNlKDEsMCxudWxsKTtjbGFzc1R5cGUucmVnaXN0ZXJlZENsYXNzLmNvbnN0cnVjdG9yX2JvZHlbYXJnQ291bnQtMV09Y3JhZnRJbnZva2VyRnVuY3Rpb24oaHVtYW5OYW1lLGFyZ1R5cGVzLG51bGwsaW52b2tlcixyYXdDb25zdHJ1Y3Rvcik7cmV0dXJuW119KTtyZXR1cm5bXX0pfWZ1bmN0aW9uIG5ld18oY29uc3RydWN0b3IsYXJndW1lbnRMaXN0KXtpZighKGNvbnN0cnVjdG9yIGluc3RhbmNlb2YgRnVuY3Rpb24pKXt0aHJvdyBuZXcgVHlwZUVycm9yKCJuZXdfIGNhbGxlZCB3aXRoIGNvbnN0cnVjdG9yIHR5cGUgIit0eXBlb2YgY29uc3RydWN0b3IrIiB3aGljaCBpcyBub3QgYSBmdW5jdGlvbiIpfXZhciBkdW1teT1jcmVhdGVOYW1lZEZ1bmN0aW9uKGNvbnN0cnVjdG9yLm5hbWV8fCJ1bmtub3duRnVuY3Rpb25OYW1lIixmdW5jdGlvbigpe30pO2R1bW15LnByb3RvdHlwZT1jb25zdHJ1Y3Rvci5wcm90b3R5cGU7dmFyIG9iaj1uZXcgZHVtbXk7dmFyIHI9Y29uc3RydWN0b3IuYXBwbHkob2JqLGFyZ3VtZW50TGlzdCk7cmV0dXJuIHIgaW5zdGFuY2VvZiBPYmplY3Q/cjpvYmp9ZnVuY3Rpb24gY3JhZnRJbnZva2VyRnVuY3Rpb24oaHVtYW5OYW1lLGFyZ1R5cGVzLGNsYXNzVHlwZSxjcHBJbnZva2VyRnVuYyxjcHBUYXJnZXRGdW5jKXt2YXIgYXJnQ291bnQ9YXJnVHlwZXMubGVuZ3RoO2lmKGFyZ0NvdW50PDIpe3Rocm93QmluZGluZ0Vycm9yKCJhcmdUeXBlcyBhcnJheSBzaXplIG1pc21hdGNoISBNdXN0IGF0IGxlYXN0IGdldCByZXR1cm4gdmFsdWUgYW5kICd0aGlzJyB0eXBlcyEiKX12YXIgaXNDbGFzc01ldGhvZEZ1bmM9YXJnVHlwZXNbMV0hPT1udWxsJiZjbGFzc1R5cGUhPT1udWxsO3ZhciBuZWVkc0Rlc3RydWN0b3JTdGFjaz1mYWxzZTtmb3IodmFyIGk9MTtpPGFyZ1R5cGVzLmxlbmd0aDsrK2kpe2lmKGFyZ1R5cGVzW2ldIT09bnVsbCYmYXJnVHlwZXNbaV0uZGVzdHJ1Y3RvckZ1bmN0aW9uPT09dW5kZWZpbmVkKXtuZWVkc0Rlc3RydWN0b3JTdGFjaz10cnVlO2JyZWFrfX12YXIgcmV0dXJucz1hcmdUeXBlc1swXS5uYW1lIT09InZvaWQiO3ZhciBhcmdzTGlzdD0iIjt2YXIgYXJnc0xpc3RXaXJlZD0iIjtmb3IodmFyIGk9MDtpPGFyZ0NvdW50LTI7KytpKXthcmdzTGlzdCs9KGkhPT0wPyIsICI6IiIpKyJhcmciK2k7YXJnc0xpc3RXaXJlZCs9KGkhPT0wPyIsICI6IiIpKyJhcmciK2krIldpcmVkIn12YXIgaW52b2tlckZuQm9keT0icmV0dXJuIGZ1bmN0aW9uICIrbWFrZUxlZ2FsRnVuY3Rpb25OYW1lKGh1bWFuTmFtZSkrIigiK2FyZ3NMaXN0KyIpIHtcbiIrImlmIChhcmd1bWVudHMubGVuZ3RoICE9PSAiKyhhcmdDb3VudC0yKSsiKSB7XG4iKyJ0aHJvd0JpbmRpbmdFcnJvcignZnVuY3Rpb24gIitodW1hbk5hbWUrIiBjYWxsZWQgd2l0aCAnICsgYXJndW1lbnRzLmxlbmd0aCArICcgYXJndW1lbnRzLCBleHBlY3RlZCAiKyhhcmdDb3VudC0yKSsiIGFyZ3MhJyk7XG4iKyJ9XG4iO2lmKG5lZWRzRGVzdHJ1Y3RvclN0YWNrKXtpbnZva2VyRm5Cb2R5Kz0idmFyIGRlc3RydWN0b3JzID0gW107XG4ifXZhciBkdG9yU3RhY2s9bmVlZHNEZXN0cnVjdG9yU3RhY2s/ImRlc3RydWN0b3JzIjoibnVsbCI7dmFyIGFyZ3MxPVsidGhyb3dCaW5kaW5nRXJyb3IiLCJpbnZva2VyIiwiZm4iLCJydW5EZXN0cnVjdG9ycyIsInJldFR5cGUiLCJjbGFzc1BhcmFtIl07dmFyIGFyZ3MyPVt0aHJvd0JpbmRpbmdFcnJvcixjcHBJbnZva2VyRnVuYyxjcHBUYXJnZXRGdW5jLHJ1bkRlc3RydWN0b3JzLGFyZ1R5cGVzWzBdLGFyZ1R5cGVzWzFdXTtpZihpc0NsYXNzTWV0aG9kRnVuYyl7aW52b2tlckZuQm9keSs9InZhciB0aGlzV2lyZWQgPSBjbGFzc1BhcmFtLnRvV2lyZVR5cGUoIitkdG9yU3RhY2srIiwgdGhpcyk7XG4ifWZvcih2YXIgaT0wO2k8YXJnQ291bnQtMjsrK2kpe2ludm9rZXJGbkJvZHkrPSJ2YXIgYXJnIitpKyJXaXJlZCA9IGFyZ1R5cGUiK2krIi50b1dpcmVUeXBlKCIrZHRvclN0YWNrKyIsIGFyZyIraSsiKTsgLy8gIithcmdUeXBlc1tpKzJdLm5hbWUrIlxuIjthcmdzMS5wdXNoKCJhcmdUeXBlIitpKTthcmdzMi5wdXNoKGFyZ1R5cGVzW2krMl0pfWlmKGlzQ2xhc3NNZXRob2RGdW5jKXthcmdzTGlzdFdpcmVkPSJ0aGlzV2lyZWQiKyhhcmdzTGlzdFdpcmVkLmxlbmd0aD4wPyIsICI6IiIpK2FyZ3NMaXN0V2lyZWR9aW52b2tlckZuQm9keSs9KHJldHVybnM/InZhciBydiA9ICI6IiIpKyJpbnZva2VyKGZuIisoYXJnc0xpc3RXaXJlZC5sZW5ndGg+MD8iLCAiOiIiKSthcmdzTGlzdFdpcmVkKyIpO1xuIjtpZihuZWVkc0Rlc3RydWN0b3JTdGFjayl7aW52b2tlckZuQm9keSs9InJ1bkRlc3RydWN0b3JzKGRlc3RydWN0b3JzKTtcbiJ9ZWxzZXtmb3IodmFyIGk9aXNDbGFzc01ldGhvZEZ1bmM/MToyO2k8YXJnVHlwZXMubGVuZ3RoOysraSl7dmFyIHBhcmFtTmFtZT1pPT09MT8idGhpc1dpcmVkIjoiYXJnIisoaS0yKSsiV2lyZWQiO2lmKGFyZ1R5cGVzW2ldLmRlc3RydWN0b3JGdW5jdGlvbiE9PW51bGwpe2ludm9rZXJGbkJvZHkrPXBhcmFtTmFtZSsiX2R0b3IoIitwYXJhbU5hbWUrIik7IC8vICIrYXJnVHlwZXNbaV0ubmFtZSsiXG4iO2FyZ3MxLnB1c2gocGFyYW1OYW1lKyJfZHRvciIpO2FyZ3MyLnB1c2goYXJnVHlwZXNbaV0uZGVzdHJ1Y3RvckZ1bmN0aW9uKX19fWlmKHJldHVybnMpe2ludm9rZXJGbkJvZHkrPSJ2YXIgcmV0ID0gcmV0VHlwZS5mcm9tV2lyZVR5cGUocnYpO1xuIisicmV0dXJuIHJldDtcbiJ9ZWxzZXt9aW52b2tlckZuQm9keSs9In1cbiI7YXJnczEucHVzaChpbnZva2VyRm5Cb2R5KTt2YXIgaW52b2tlckZ1bmN0aW9uPW5ld18oRnVuY3Rpb24sYXJnczEpLmFwcGx5KG51bGwsYXJnczIpO3JldHVybiBpbnZva2VyRnVuY3Rpb259ZnVuY3Rpb24gX19lbWJpbmRfcmVnaXN0ZXJfY2xhc3NfZnVuY3Rpb24ocmF3Q2xhc3NUeXBlLG1ldGhvZE5hbWUsYXJnQ291bnQscmF3QXJnVHlwZXNBZGRyLGludm9rZXJTaWduYXR1cmUscmF3SW52b2tlcixjb250ZXh0LGlzUHVyZVZpcnR1YWwpe3ZhciByYXdBcmdUeXBlcz1oZWFwMzJWZWN0b3JUb0FycmF5KGFyZ0NvdW50LHJhd0FyZ1R5cGVzQWRkcik7bWV0aG9kTmFtZT1yZWFkTGF0aW4xU3RyaW5nKG1ldGhvZE5hbWUpO3Jhd0ludm9rZXI9ZW1iaW5kX19yZXF1aXJlRnVuY3Rpb24oaW52b2tlclNpZ25hdHVyZSxyYXdJbnZva2VyKTt3aGVuRGVwZW5kZW50VHlwZXNBcmVSZXNvbHZlZChbXSxbcmF3Q2xhc3NUeXBlXSxmdW5jdGlvbihjbGFzc1R5cGUpe2NsYXNzVHlwZT1jbGFzc1R5cGVbMF07dmFyIGh1bWFuTmFtZT1jbGFzc1R5cGUubmFtZSsiLiIrbWV0aG9kTmFtZTtpZihtZXRob2ROYW1lLnN0YXJ0c1dpdGgoIkBAIikpe21ldGhvZE5hbWU9U3ltYm9sW21ldGhvZE5hbWUuc3Vic3RyaW5nKDIpXX1pZihpc1B1cmVWaXJ0dWFsKXtjbGFzc1R5cGUucmVnaXN0ZXJlZENsYXNzLnB1cmVWaXJ0dWFsRnVuY3Rpb25zLnB1c2gobWV0aG9kTmFtZSl9ZnVuY3Rpb24gdW5ib3VuZFR5cGVzSGFuZGxlcigpe3Rocm93VW5ib3VuZFR5cGVFcnJvcigiQ2Fubm90IGNhbGwgIitodW1hbk5hbWUrIiBkdWUgdG8gdW5ib3VuZCB0eXBlcyIscmF3QXJnVHlwZXMpfXZhciBwcm90bz1jbGFzc1R5cGUucmVnaXN0ZXJlZENsYXNzLmluc3RhbmNlUHJvdG90eXBlO3ZhciBtZXRob2Q9cHJvdG9bbWV0aG9kTmFtZV07aWYodW5kZWZpbmVkPT09bWV0aG9kfHx1bmRlZmluZWQ9PT1tZXRob2Qub3ZlcmxvYWRUYWJsZSYmbWV0aG9kLmNsYXNzTmFtZSE9PWNsYXNzVHlwZS5uYW1lJiZtZXRob2QuYXJnQ291bnQ9PT1hcmdDb3VudC0yKXt1bmJvdW5kVHlwZXNIYW5kbGVyLmFyZ0NvdW50PWFyZ0NvdW50LTI7dW5ib3VuZFR5cGVzSGFuZGxlci5jbGFzc05hbWU9Y2xhc3NUeXBlLm5hbWU7cHJvdG9bbWV0aG9kTmFtZV09dW5ib3VuZFR5cGVzSGFuZGxlcn1lbHNle2Vuc3VyZU92ZXJsb2FkVGFibGUocHJvdG8sbWV0aG9kTmFtZSxodW1hbk5hbWUpO3Byb3RvW21ldGhvZE5hbWVdLm92ZXJsb2FkVGFibGVbYXJnQ291bnQtMl09dW5ib3VuZFR5cGVzSGFuZGxlcn13aGVuRGVwZW5kZW50VHlwZXNBcmVSZXNvbHZlZChbXSxyYXdBcmdUeXBlcyxmdW5jdGlvbihhcmdUeXBlcyl7dmFyIG1lbWJlckZ1bmN0aW9uPWNyYWZ0SW52b2tlckZ1bmN0aW9uKGh1bWFuTmFtZSxhcmdUeXBlcyxjbGFzc1R5cGUscmF3SW52b2tlcixjb250ZXh0KTtpZih1bmRlZmluZWQ9PT1wcm90b1ttZXRob2ROYW1lXS5vdmVybG9hZFRhYmxlKXttZW1iZXJGdW5jdGlvbi5hcmdDb3VudD1hcmdDb3VudC0yO3Byb3RvW21ldGhvZE5hbWVdPW1lbWJlckZ1bmN0aW9ufWVsc2V7cHJvdG9bbWV0aG9kTmFtZV0ub3ZlcmxvYWRUYWJsZVthcmdDb3VudC0yXT1tZW1iZXJGdW5jdGlvbn1yZXR1cm5bXX0pO3JldHVybltdfSl9dmFyIGVtdmFsX2ZyZWVfbGlzdD1bXTt2YXIgZW12YWxfaGFuZGxlX2FycmF5PVt7fSx7dmFsdWU6dW5kZWZpbmVkfSx7dmFsdWU6bnVsbH0se3ZhbHVlOnRydWV9LHt2YWx1ZTpmYWxzZX1dO2Z1bmN0aW9uIF9fZW12YWxfZGVjcmVmKGhhbmRsZSl7aWYoaGFuZGxlPjQmJjA9PT0tLWVtdmFsX2hhbmRsZV9hcnJheVtoYW5kbGVdLnJlZmNvdW50KXtlbXZhbF9oYW5kbGVfYXJyYXlbaGFuZGxlXT11bmRlZmluZWQ7ZW12YWxfZnJlZV9saXN0LnB1c2goaGFuZGxlKX19ZnVuY3Rpb24gY291bnRfZW12YWxfaGFuZGxlcygpe3ZhciBjb3VudD0wO2Zvcih2YXIgaT01O2k8ZW12YWxfaGFuZGxlX2FycmF5Lmxlbmd0aDsrK2kpe2lmKGVtdmFsX2hhbmRsZV9hcnJheVtpXSE9PXVuZGVmaW5lZCl7Kytjb3VudH19cmV0dXJuIGNvdW50fWZ1bmN0aW9uIGdldF9maXJzdF9lbXZhbCgpe2Zvcih2YXIgaT01O2k8ZW12YWxfaGFuZGxlX2FycmF5Lmxlbmd0aDsrK2kpe2lmKGVtdmFsX2hhbmRsZV9hcnJheVtpXSE9PXVuZGVmaW5lZCl7cmV0dXJuIGVtdmFsX2hhbmRsZV9hcnJheVtpXX19cmV0dXJuIG51bGx9ZnVuY3Rpb24gaW5pdF9lbXZhbCgpe01vZHVsZVsiY291bnRfZW12YWxfaGFuZGxlcyJdPWNvdW50X2VtdmFsX2hhbmRsZXM7TW9kdWxlWyJnZXRfZmlyc3RfZW12YWwiXT1nZXRfZmlyc3RfZW12YWx9dmFyIEVtdmFsPXt0b1ZhbHVlOmhhbmRsZT0+e2lmKCFoYW5kbGUpe3Rocm93QmluZGluZ0Vycm9yKCJDYW5ub3QgdXNlIGRlbGV0ZWQgdmFsLiBoYW5kbGUgPSAiK2hhbmRsZSl9cmV0dXJuIGVtdmFsX2hhbmRsZV9hcnJheVtoYW5kbGVdLnZhbHVlfSx0b0hhbmRsZTp2YWx1ZT0+e3N3aXRjaCh2YWx1ZSl7Y2FzZSB1bmRlZmluZWQ6cmV0dXJuIDE7Y2FzZSBudWxsOnJldHVybiAyO2Nhc2UgdHJ1ZTpyZXR1cm4gMztjYXNlIGZhbHNlOnJldHVybiA0O2RlZmF1bHQ6e3ZhciBoYW5kbGU9ZW12YWxfZnJlZV9saXN0Lmxlbmd0aD9lbXZhbF9mcmVlX2xpc3QucG9wKCk6ZW12YWxfaGFuZGxlX2FycmF5Lmxlbmd0aDtlbXZhbF9oYW5kbGVfYXJyYXlbaGFuZGxlXT17cmVmY291bnQ6MSx2YWx1ZTp2YWx1ZX07cmV0dXJuIGhhbmRsZX19fX07ZnVuY3Rpb24gX19lbWJpbmRfcmVnaXN0ZXJfZW12YWwocmF3VHlwZSxuYW1lKXtuYW1lPXJlYWRMYXRpbjFTdHJpbmcobmFtZSk7cmVnaXN0ZXJUeXBlKHJhd1R5cGUse25hbWU6bmFtZSwiZnJvbVdpcmVUeXBlIjpmdW5jdGlvbihoYW5kbGUpe3ZhciBydj1FbXZhbC50b1ZhbHVlKGhhbmRsZSk7X19lbXZhbF9kZWNyZWYoaGFuZGxlKTtyZXR1cm4gcnZ9LCJ0b1dpcmVUeXBlIjpmdW5jdGlvbihkZXN0cnVjdG9ycyx2YWx1ZSl7cmV0dXJuIEVtdmFsLnRvSGFuZGxlKHZhbHVlKX0sImFyZ1BhY2tBZHZhbmNlIjo4LCJyZWFkVmFsdWVGcm9tUG9pbnRlciI6c2ltcGxlUmVhZFZhbHVlRnJvbVBvaW50ZXIsZGVzdHJ1Y3RvckZ1bmN0aW9uOm51bGx9KX1mdW5jdGlvbiBfZW1iaW5kX3JlcHIodil7aWYodj09PW51bGwpe3JldHVybiJudWxsIn12YXIgdD10eXBlb2YgdjtpZih0PT09Im9iamVjdCJ8fHQ9PT0iYXJyYXkifHx0PT09ImZ1bmN0aW9uIil7cmV0dXJuIHYudG9TdHJpbmcoKX1lbHNle3JldHVybiIiK3Z9fWZ1bmN0aW9uIGZsb2F0UmVhZFZhbHVlRnJvbVBvaW50ZXIobmFtZSxzaGlmdCl7c3dpdGNoKHNoaWZ0KXtjYXNlIDI6cmV0dXJuIGZ1bmN0aW9uKHBvaW50ZXIpe3JldHVybiB0aGlzWyJmcm9tV2lyZVR5cGUiXShIRUFQRjMyW3BvaW50ZXI+PjJdKX07Y2FzZSAzOnJldHVybiBmdW5jdGlvbihwb2ludGVyKXtyZXR1cm4gdGhpc1siZnJvbVdpcmVUeXBlIl0oSEVBUEY2NFtwb2ludGVyPj4zXSl9O2RlZmF1bHQ6dGhyb3cgbmV3IFR5cGVFcnJvcigiVW5rbm93biBmbG9hdCB0eXBlOiAiK25hbWUpfX1mdW5jdGlvbiBfX2VtYmluZF9yZWdpc3Rlcl9mbG9hdChyYXdUeXBlLG5hbWUsc2l6ZSl7dmFyIHNoaWZ0PWdldFNoaWZ0RnJvbVNpemUoc2l6ZSk7bmFtZT1yZWFkTGF0aW4xU3RyaW5nKG5hbWUpO3JlZ2lzdGVyVHlwZShyYXdUeXBlLHtuYW1lOm5hbWUsImZyb21XaXJlVHlwZSI6ZnVuY3Rpb24odmFsdWUpe3JldHVybiB2YWx1ZX0sInRvV2lyZVR5cGUiOmZ1bmN0aW9uKGRlc3RydWN0b3JzLHZhbHVlKXtyZXR1cm4gdmFsdWV9LCJhcmdQYWNrQWR2YW5jZSI6OCwicmVhZFZhbHVlRnJvbVBvaW50ZXIiOmZsb2F0UmVhZFZhbHVlRnJvbVBvaW50ZXIobmFtZSxzaGlmdCksZGVzdHJ1Y3RvckZ1bmN0aW9uOm51bGx9KX1mdW5jdGlvbiBpbnRlZ2VyUmVhZFZhbHVlRnJvbVBvaW50ZXIobmFtZSxzaGlmdCxzaWduZWQpe3N3aXRjaChzaGlmdCl7Y2FzZSAwOnJldHVybiBzaWduZWQ/ZnVuY3Rpb24gcmVhZFM4RnJvbVBvaW50ZXIocG9pbnRlcil7cmV0dXJuIEhFQVA4W3BvaW50ZXJdfTpmdW5jdGlvbiByZWFkVThGcm9tUG9pbnRlcihwb2ludGVyKXtyZXR1cm4gSEVBUFU4W3BvaW50ZXJdfTtjYXNlIDE6cmV0dXJuIHNpZ25lZD9mdW5jdGlvbiByZWFkUzE2RnJvbVBvaW50ZXIocG9pbnRlcil7cmV0dXJuIEhFQVAxNltwb2ludGVyPj4xXX06ZnVuY3Rpb24gcmVhZFUxNkZyb21Qb2ludGVyKHBvaW50ZXIpe3JldHVybiBIRUFQVTE2W3BvaW50ZXI+PjFdfTtjYXNlIDI6cmV0dXJuIHNpZ25lZD9mdW5jdGlvbiByZWFkUzMyRnJvbVBvaW50ZXIocG9pbnRlcil7cmV0dXJuIEhFQVAzMltwb2ludGVyPj4yXX06ZnVuY3Rpb24gcmVhZFUzMkZyb21Qb2ludGVyKHBvaW50ZXIpe3JldHVybiBIRUFQVTMyW3BvaW50ZXI+PjJdfTtkZWZhdWx0OnRocm93IG5ldyBUeXBlRXJyb3IoIlVua25vd24gaW50ZWdlciB0eXBlOiAiK25hbWUpfX1mdW5jdGlvbiBfX2VtYmluZF9yZWdpc3Rlcl9pbnRlZ2VyKHByaW1pdGl2ZVR5cGUsbmFtZSxzaXplLG1pblJhbmdlLG1heFJhbmdlKXtuYW1lPXJlYWRMYXRpbjFTdHJpbmcobmFtZSk7aWYobWF4UmFuZ2U9PT0tMSl7bWF4UmFuZ2U9NDI5NDk2NzI5NX12YXIgc2hpZnQ9Z2V0U2hpZnRGcm9tU2l6ZShzaXplKTt2YXIgZnJvbVdpcmVUeXBlPXZhbHVlPT52YWx1ZTtpZihtaW5SYW5nZT09PTApe3ZhciBiaXRzaGlmdD0zMi04KnNpemU7ZnJvbVdpcmVUeXBlPSh2YWx1ZT0+dmFsdWU8PGJpdHNoaWZ0Pj4+Yml0c2hpZnQpfXZhciBpc1Vuc2lnbmVkVHlwZT1uYW1lLmluY2x1ZGVzKCJ1bnNpZ25lZCIpO3ZhciBjaGVja0Fzc2VydGlvbnM9KHZhbHVlLHRvVHlwZU5hbWUpPT57fTt2YXIgdG9XaXJlVHlwZTtpZihpc1Vuc2lnbmVkVHlwZSl7dG9XaXJlVHlwZT1mdW5jdGlvbihkZXN0cnVjdG9ycyx2YWx1ZSl7Y2hlY2tBc3NlcnRpb25zKHZhbHVlLHRoaXMubmFtZSk7cmV0dXJuIHZhbHVlPj4+MH19ZWxzZXt0b1dpcmVUeXBlPWZ1bmN0aW9uKGRlc3RydWN0b3JzLHZhbHVlKXtjaGVja0Fzc2VydGlvbnModmFsdWUsdGhpcy5uYW1lKTtyZXR1cm4gdmFsdWV9fXJlZ2lzdGVyVHlwZShwcmltaXRpdmVUeXBlLHtuYW1lOm5hbWUsImZyb21XaXJlVHlwZSI6ZnJvbVdpcmVUeXBlLCJ0b1dpcmVUeXBlIjp0b1dpcmVUeXBlLCJhcmdQYWNrQWR2YW5jZSI6OCwicmVhZFZhbHVlRnJvbVBvaW50ZXIiOmludGVnZXJSZWFkVmFsdWVGcm9tUG9pbnRlcihuYW1lLHNoaWZ0LG1pblJhbmdlIT09MCksZGVzdHJ1Y3RvckZ1bmN0aW9uOm51bGx9KX1mdW5jdGlvbiBfX2VtYmluZF9yZWdpc3Rlcl9tZW1vcnlfdmlldyhyYXdUeXBlLGRhdGFUeXBlSW5kZXgsbmFtZSl7dmFyIHR5cGVNYXBwaW5nPVtJbnQ4QXJyYXksVWludDhBcnJheSxJbnQxNkFycmF5LFVpbnQxNkFycmF5LEludDMyQXJyYXksVWludDMyQXJyYXksRmxvYXQzMkFycmF5LEZsb2F0NjRBcnJheV07dmFyIFRBPXR5cGVNYXBwaW5nW2RhdGFUeXBlSW5kZXhdO2Z1bmN0aW9uIGRlY29kZU1lbW9yeVZpZXcoaGFuZGxlKXtoYW5kbGU9aGFuZGxlPj4yO3ZhciBoZWFwPUhFQVBVMzI7dmFyIHNpemU9aGVhcFtoYW5kbGVdO3ZhciBkYXRhPWhlYXBbaGFuZGxlKzFdO3JldHVybiBuZXcgVEEoYnVmZmVyLGRhdGEsc2l6ZSl9bmFtZT1yZWFkTGF0aW4xU3RyaW5nKG5hbWUpO3JlZ2lzdGVyVHlwZShyYXdUeXBlLHtuYW1lOm5hbWUsImZyb21XaXJlVHlwZSI6ZGVjb2RlTWVtb3J5VmlldywiYXJnUGFja0FkdmFuY2UiOjgsInJlYWRWYWx1ZUZyb21Qb2ludGVyIjpkZWNvZGVNZW1vcnlWaWV3fSx7aWdub3JlRHVwbGljYXRlUmVnaXN0cmF0aW9uczp0cnVlfSl9ZnVuY3Rpb24gX19lbWJpbmRfcmVnaXN0ZXJfc3RkX3N0cmluZyhyYXdUeXBlLG5hbWUpe25hbWU9cmVhZExhdGluMVN0cmluZyhuYW1lKTt2YXIgc3RkU3RyaW5nSXNVVEY4PW5hbWU9PT0ic3RkOjpzdHJpbmciO3JlZ2lzdGVyVHlwZShyYXdUeXBlLHtuYW1lOm5hbWUsImZyb21XaXJlVHlwZSI6ZnVuY3Rpb24odmFsdWUpe3ZhciBsZW5ndGg9SEVBUFUzMlt2YWx1ZT4+Ml07dmFyIHN0cjtpZihzdGRTdHJpbmdJc1VURjgpe3ZhciBkZWNvZGVTdGFydFB0cj12YWx1ZSs0O2Zvcih2YXIgaT0wO2k8PWxlbmd0aDsrK2kpe3ZhciBjdXJyZW50Qnl0ZVB0cj12YWx1ZSs0K2k7aWYoaT09bGVuZ3RofHxIRUFQVThbY3VycmVudEJ5dGVQdHJdPT0wKXt2YXIgbWF4UmVhZD1jdXJyZW50Qnl0ZVB0ci1kZWNvZGVTdGFydFB0cjt2YXIgc3RyaW5nU2VnbWVudD1VVEY4VG9TdHJpbmcoZGVjb2RlU3RhcnRQdHIsbWF4UmVhZCk7aWYoc3RyPT09dW5kZWZpbmVkKXtzdHI9c3RyaW5nU2VnbWVudH1lbHNle3N0cis9U3RyaW5nLmZyb21DaGFyQ29kZSgwKTtzdHIrPXN0cmluZ1NlZ21lbnR9ZGVjb2RlU3RhcnRQdHI9Y3VycmVudEJ5dGVQdHIrMX19fWVsc2V7dmFyIGE9bmV3IEFycmF5KGxlbmd0aCk7Zm9yKHZhciBpPTA7aTxsZW5ndGg7KytpKXthW2ldPVN0cmluZy5mcm9tQ2hhckNvZGUoSEVBUFU4W3ZhbHVlKzQraV0pfXN0cj1hLmpvaW4oIiIpfV9mcmVlKHZhbHVlKTtyZXR1cm4gc3RyfSwidG9XaXJlVHlwZSI6ZnVuY3Rpb24oZGVzdHJ1Y3RvcnMsdmFsdWUpe2lmKHZhbHVlIGluc3RhbmNlb2YgQXJyYXlCdWZmZXIpe3ZhbHVlPW5ldyBVaW50OEFycmF5KHZhbHVlKX12YXIgZ2V0TGVuZ3RoO3ZhciB2YWx1ZUlzT2ZUeXBlU3RyaW5nPXR5cGVvZiB2YWx1ZT09InN0cmluZyI7aWYoISh2YWx1ZUlzT2ZUeXBlU3RyaW5nfHx2YWx1ZSBpbnN0YW5jZW9mIFVpbnQ4QXJyYXl8fHZhbHVlIGluc3RhbmNlb2YgVWludDhDbGFtcGVkQXJyYXl8fHZhbHVlIGluc3RhbmNlb2YgSW50OEFycmF5KSl7dGhyb3dCaW5kaW5nRXJyb3IoIkNhbm5vdCBwYXNzIG5vbi1zdHJpbmcgdG8gc3RkOjpzdHJpbmciKX1pZihzdGRTdHJpbmdJc1VURjgmJnZhbHVlSXNPZlR5cGVTdHJpbmcpe2dldExlbmd0aD0oKCk9Pmxlbmd0aEJ5dGVzVVRGOCh2YWx1ZSkpfWVsc2V7Z2V0TGVuZ3RoPSgoKT0+dmFsdWUubGVuZ3RoKX12YXIgbGVuZ3RoPWdldExlbmd0aCgpO3ZhciBwdHI9X21hbGxvYyg0K2xlbmd0aCsxKTtIRUFQVTMyW3B0cj4+Ml09bGVuZ3RoO2lmKHN0ZFN0cmluZ0lzVVRGOCYmdmFsdWVJc09mVHlwZVN0cmluZyl7c3RyaW5nVG9VVEY4KHZhbHVlLHB0cis0LGxlbmd0aCsxKX1lbHNle2lmKHZhbHVlSXNPZlR5cGVTdHJpbmcpe2Zvcih2YXIgaT0wO2k8bGVuZ3RoOysraSl7dmFyIGNoYXJDb2RlPXZhbHVlLmNoYXJDb2RlQXQoaSk7aWYoY2hhckNvZGU+MjU1KXtfZnJlZShwdHIpO3Rocm93QmluZGluZ0Vycm9yKCJTdHJpbmcgaGFzIFVURi0xNiBjb2RlIHVuaXRzIHRoYXQgZG8gbm90IGZpdCBpbiA4IGJpdHMiKX1IRUFQVThbcHRyKzQraV09Y2hhckNvZGV9fWVsc2V7Zm9yKHZhciBpPTA7aTxsZW5ndGg7KytpKXtIRUFQVThbcHRyKzQraV09dmFsdWVbaV19fX1pZihkZXN0cnVjdG9ycyE9PW51bGwpe2Rlc3RydWN0b3JzLnB1c2goX2ZyZWUscHRyKX1yZXR1cm4gcHRyfSwiYXJnUGFja0FkdmFuY2UiOjgsInJlYWRWYWx1ZUZyb21Qb2ludGVyIjpzaW1wbGVSZWFkVmFsdWVGcm9tUG9pbnRlcixkZXN0cnVjdG9yRnVuY3Rpb246ZnVuY3Rpb24ocHRyKXtfZnJlZShwdHIpfX0pfWZ1bmN0aW9uIF9fZW1iaW5kX3JlZ2lzdGVyX3N0ZF93c3RyaW5nKHJhd1R5cGUsY2hhclNpemUsbmFtZSl7bmFtZT1yZWFkTGF0aW4xU3RyaW5nKG5hbWUpO3ZhciBkZWNvZGVTdHJpbmcsZW5jb2RlU3RyaW5nLGdldEhlYXAsbGVuZ3RoQnl0ZXNVVEYsc2hpZnQ7aWYoY2hhclNpemU9PT0yKXtkZWNvZGVTdHJpbmc9VVRGMTZUb1N0cmluZztlbmNvZGVTdHJpbmc9c3RyaW5nVG9VVEYxNjtsZW5ndGhCeXRlc1VURj1sZW5ndGhCeXRlc1VURjE2O2dldEhlYXA9KCgpPT5IRUFQVTE2KTtzaGlmdD0xfWVsc2UgaWYoY2hhclNpemU9PT00KXtkZWNvZGVTdHJpbmc9VVRGMzJUb1N0cmluZztlbmNvZGVTdHJpbmc9c3RyaW5nVG9VVEYzMjtsZW5ndGhCeXRlc1VURj1sZW5ndGhCeXRlc1VURjMyO2dldEhlYXA9KCgpPT5IRUFQVTMyKTtzaGlmdD0yfXJlZ2lzdGVyVHlwZShyYXdUeXBlLHtuYW1lOm5hbWUsImZyb21XaXJlVHlwZSI6ZnVuY3Rpb24odmFsdWUpe3ZhciBsZW5ndGg9SEVBUFUzMlt2YWx1ZT4+Ml07dmFyIEhFQVA9Z2V0SGVhcCgpO3ZhciBzdHI7dmFyIGRlY29kZVN0YXJ0UHRyPXZhbHVlKzQ7Zm9yKHZhciBpPTA7aTw9bGVuZ3RoOysraSl7dmFyIGN1cnJlbnRCeXRlUHRyPXZhbHVlKzQraSpjaGFyU2l6ZTtpZihpPT1sZW5ndGh8fEhFQVBbY3VycmVudEJ5dGVQdHI+PnNoaWZ0XT09MCl7dmFyIG1heFJlYWRCeXRlcz1jdXJyZW50Qnl0ZVB0ci1kZWNvZGVTdGFydFB0cjt2YXIgc3RyaW5nU2VnbWVudD1kZWNvZGVTdHJpbmcoZGVjb2RlU3RhcnRQdHIsbWF4UmVhZEJ5dGVzKTtpZihzdHI9PT11bmRlZmluZWQpe3N0cj1zdHJpbmdTZWdtZW50fWVsc2V7c3RyKz1TdHJpbmcuZnJvbUNoYXJDb2RlKDApO3N0cis9c3RyaW5nU2VnbWVudH1kZWNvZGVTdGFydFB0cj1jdXJyZW50Qnl0ZVB0citjaGFyU2l6ZX19X2ZyZWUodmFsdWUpO3JldHVybiBzdHJ9LCJ0b1dpcmVUeXBlIjpmdW5jdGlvbihkZXN0cnVjdG9ycyx2YWx1ZSl7aWYoISh0eXBlb2YgdmFsdWU9PSJzdHJpbmciKSl7dGhyb3dCaW5kaW5nRXJyb3IoIkNhbm5vdCBwYXNzIG5vbi1zdHJpbmcgdG8gQysrIHN0cmluZyB0eXBlICIrbmFtZSl9dmFyIGxlbmd0aD1sZW5ndGhCeXRlc1VURih2YWx1ZSk7dmFyIHB0cj1fbWFsbG9jKDQrbGVuZ3RoK2NoYXJTaXplKTtIRUFQVTMyW3B0cj4+Ml09bGVuZ3RoPj5zaGlmdDtlbmNvZGVTdHJpbmcodmFsdWUscHRyKzQsbGVuZ3RoK2NoYXJTaXplKTtpZihkZXN0cnVjdG9ycyE9PW51bGwpe2Rlc3RydWN0b3JzLnB1c2goX2ZyZWUscHRyKX1yZXR1cm4gcHRyfSwiYXJnUGFja0FkdmFuY2UiOjgsInJlYWRWYWx1ZUZyb21Qb2ludGVyIjpzaW1wbGVSZWFkVmFsdWVGcm9tUG9pbnRlcixkZXN0cnVjdG9yRnVuY3Rpb246ZnVuY3Rpb24ocHRyKXtfZnJlZShwdHIpfX0pfWZ1bmN0aW9uIF9fZW1iaW5kX3JlZ2lzdGVyX3ZvaWQocmF3VHlwZSxuYW1lKXtuYW1lPXJlYWRMYXRpbjFTdHJpbmcobmFtZSk7cmVnaXN0ZXJUeXBlKHJhd1R5cGUse2lzVm9pZDp0cnVlLG5hbWU6bmFtZSwiYXJnUGFja0FkdmFuY2UiOjAsImZyb21XaXJlVHlwZSI6ZnVuY3Rpb24oKXtyZXR1cm4gdW5kZWZpbmVkfSwidG9XaXJlVHlwZSI6ZnVuY3Rpb24oZGVzdHJ1Y3RvcnMsbyl7cmV0dXJuIHVuZGVmaW5lZH19KX1mdW5jdGlvbiBfX2Vtc2NyaXB0ZW5fZGF0ZV9ub3coKXtyZXR1cm4gRGF0ZS5ub3coKX12YXIgbm93SXNNb25vdG9uaWM9dHJ1ZTtmdW5jdGlvbiBfX2Vtc2NyaXB0ZW5fZ2V0X25vd19pc19tb25vdG9uaWMoKXtyZXR1cm4gbm93SXNNb25vdG9uaWN9ZnVuY3Rpb24gX19lbXZhbF9pbmNyZWYoaGFuZGxlKXtpZihoYW5kbGU+NCl7ZW12YWxfaGFuZGxlX2FycmF5W2hhbmRsZV0ucmVmY291bnQrPTF9fWZ1bmN0aW9uIHJlcXVpcmVSZWdpc3RlcmVkVHlwZShyYXdUeXBlLGh1bWFuTmFtZSl7dmFyIGltcGw9cmVnaXN0ZXJlZFR5cGVzW3Jhd1R5cGVdO2lmKHVuZGVmaW5lZD09PWltcGwpe3Rocm93QmluZGluZ0Vycm9yKGh1bWFuTmFtZSsiIGhhcyB1bmtub3duIHR5cGUgIitnZXRUeXBlTmFtZShyYXdUeXBlKSl9cmV0dXJuIGltcGx9ZnVuY3Rpb24gX19lbXZhbF90YWtlX3ZhbHVlKHR5cGUsYXJndil7dHlwZT1yZXF1aXJlUmVnaXN0ZXJlZFR5cGUodHlwZSwiX2VtdmFsX3Rha2VfdmFsdWUiKTt2YXIgdj10eXBlWyJyZWFkVmFsdWVGcm9tUG9pbnRlciJdKGFyZ3YpO3JldHVybiBFbXZhbC50b0hhbmRsZSh2KX1mdW5jdGlvbiBfX21tYXBfanMoYWRkcixsZW4scHJvdCxmbGFncyxmZCxvZmYsYWxsb2NhdGVkLGJ1aWx0aW4pe3RyeXt2YXIgaW5mbz1GUy5nZXRTdHJlYW0oZmQpO2lmKCFpbmZvKXJldHVybi04O3ZhciByZXM9RlMubW1hcChpbmZvLGFkZHIsbGVuLG9mZixwcm90LGZsYWdzKTt2YXIgcHRyPXJlcy5wdHI7SEVBUDMyW2FsbG9jYXRlZD4+Ml09cmVzLmFsbG9jYXRlZDtyZXR1cm4gcHRyfWNhdGNoKGUpe2lmKHR5cGVvZiBGUz09InVuZGVmaW5lZCJ8fCEoZSBpbnN0YW5jZW9mIEZTLkVycm5vRXJyb3IpKXRocm93IGU7cmV0dXJuLWUuZXJybm99fWZ1bmN0aW9uIF9fbXVubWFwX2pzKGFkZHIsbGVuLHByb3QsZmxhZ3MsZmQsb2Zmc2V0KXt0cnl7dmFyIHN0cmVhbT1GUy5nZXRTdHJlYW0oZmQpO2lmKHN0cmVhbSl7aWYocHJvdCYyKXtTWVNDQUxMUy5kb01zeW5jKGFkZHIsc3RyZWFtLGxlbixmbGFncyxvZmZzZXQpfUZTLm11bm1hcChzdHJlYW0pfX1jYXRjaChlKXtpZih0eXBlb2YgRlM9PSJ1bmRlZmluZWQifHwhKGUgaW5zdGFuY2VvZiBGUy5FcnJub0Vycm9yKSl0aHJvdyBlO3JldHVybi1lLmVycm5vfX1mdW5jdGlvbiBfYWJvcnQoKXthYm9ydCgiIil9ZnVuY3Rpb24gX2Vtc2NyaXB0ZW5fZ2V0X2hlYXBfbWF4KCl7cmV0dXJuIDIxNDc0ODM2NDh9dmFyIF9lbXNjcmlwdGVuX2dldF9ub3c7X2Vtc2NyaXB0ZW5fZ2V0X25vdz0oKCk9PnBlcmZvcm1hbmNlLm5vdygpKTtmdW5jdGlvbiBfZW1zY3JpcHRlbl9tZW1jcHlfYmlnKGRlc3Qsc3JjLG51bSl7SEVBUFU4LmNvcHlXaXRoaW4oZGVzdCxzcmMsc3JjK251bSl9ZnVuY3Rpb24gZW1zY3JpcHRlbl9yZWFsbG9jX2J1ZmZlcihzaXplKXt0cnl7d2FzbU1lbW9yeS5ncm93KHNpemUtYnVmZmVyLmJ5dGVMZW5ndGgrNjU1MzU+Pj4xNik7dXBkYXRlR2xvYmFsQnVmZmVyQW5kVmlld3Mod2FzbU1lbW9yeS5idWZmZXIpO3JldHVybiAxfWNhdGNoKGUpe319ZnVuY3Rpb24gX2Vtc2NyaXB0ZW5fcmVzaXplX2hlYXAocmVxdWVzdGVkU2l6ZSl7dmFyIG9sZFNpemU9SEVBUFU4Lmxlbmd0aDtyZXF1ZXN0ZWRTaXplPXJlcXVlc3RlZFNpemU+Pj4wO3ZhciBtYXhIZWFwU2l6ZT1fZW1zY3JpcHRlbl9nZXRfaGVhcF9tYXgoKTtpZihyZXF1ZXN0ZWRTaXplPm1heEhlYXBTaXplKXtyZXR1cm4gZmFsc2V9bGV0IGFsaWduVXA9KHgsbXVsdGlwbGUpPT54KyhtdWx0aXBsZS14JW11bHRpcGxlKSVtdWx0aXBsZTtmb3IodmFyIGN1dERvd249MTtjdXREb3duPD00O2N1dERvd24qPTIpe3ZhciBvdmVyR3Jvd25IZWFwU2l6ZT1vbGRTaXplKigxKy4yL2N1dERvd24pO292ZXJHcm93bkhlYXBTaXplPU1hdGgubWluKG92ZXJHcm93bkhlYXBTaXplLHJlcXVlc3RlZFNpemUrMTAwNjYzMjk2KTt2YXIgbmV3U2l6ZT1NYXRoLm1pbihtYXhIZWFwU2l6ZSxhbGlnblVwKE1hdGgubWF4KHJlcXVlc3RlZFNpemUsb3Zlckdyb3duSGVhcFNpemUpLDY1NTM2KSk7dmFyIHJlcGxhY2VtZW50PWVtc2NyaXB0ZW5fcmVhbGxvY19idWZmZXIobmV3U2l6ZSk7aWYocmVwbGFjZW1lbnQpe3JldHVybiB0cnVlfX1yZXR1cm4gZmFsc2V9dmFyIEVOVj17fTtmdW5jdGlvbiBnZXRFeGVjdXRhYmxlTmFtZSgpe3JldHVybiB0aGlzUHJvZ3JhbXx8Ii4vdGhpcy5wcm9ncmFtIn1mdW5jdGlvbiBnZXRFbnZTdHJpbmdzKCl7aWYoIWdldEVudlN0cmluZ3Muc3RyaW5ncyl7dmFyIGxhbmc9KHR5cGVvZiBuYXZpZ2F0b3I9PSJvYmplY3QiJiZuYXZpZ2F0b3IubGFuZ3VhZ2VzJiZuYXZpZ2F0b3IubGFuZ3VhZ2VzWzBdfHwiQyIpLnJlcGxhY2UoIi0iLCJfIikrIi5VVEYtOCI7dmFyIGVudj17IlVTRVIiOiJ3ZWJfdXNlciIsIkxPR05BTUUiOiJ3ZWJfdXNlciIsIlBBVEgiOiIvIiwiUFdEIjoiLyIsIkhPTUUiOiIvaG9tZS93ZWJfdXNlciIsIkxBTkciOmxhbmcsIl8iOmdldEV4ZWN1dGFibGVOYW1lKCl9O2Zvcih2YXIgeCBpbiBFTlYpe2lmKEVOVlt4XT09PXVuZGVmaW5lZClkZWxldGUgZW52W3hdO2Vsc2UgZW52W3hdPUVOVlt4XX12YXIgc3RyaW5ncz1bXTtmb3IodmFyIHggaW4gZW52KXtzdHJpbmdzLnB1c2goeCsiPSIrZW52W3hdKX1nZXRFbnZTdHJpbmdzLnN0cmluZ3M9c3RyaW5nc31yZXR1cm4gZ2V0RW52U3RyaW5ncy5zdHJpbmdzfWZ1bmN0aW9uIF9lbnZpcm9uX2dldChfX2Vudmlyb24sZW52aXJvbl9idWYpe3ZhciBidWZTaXplPTA7Z2V0RW52U3RyaW5ncygpLmZvckVhY2goZnVuY3Rpb24oc3RyaW5nLGkpe3ZhciBwdHI9ZW52aXJvbl9idWYrYnVmU2l6ZTtIRUFQMzJbX19lbnZpcm9uK2kqND4+Ml09cHRyO3dyaXRlQXNjaWlUb01lbW9yeShzdHJpbmcscHRyKTtidWZTaXplKz1zdHJpbmcubGVuZ3RoKzF9KTtyZXR1cm4gMH1mdW5jdGlvbiBfZW52aXJvbl9zaXplc19nZXQocGVudmlyb25fY291bnQscGVudmlyb25fYnVmX3NpemUpe3ZhciBzdHJpbmdzPWdldEVudlN0cmluZ3MoKTtIRUFQMzJbcGVudmlyb25fY291bnQ+PjJdPXN0cmluZ3MubGVuZ3RoO3ZhciBidWZTaXplPTA7c3RyaW5ncy5mb3JFYWNoKGZ1bmN0aW9uKHN0cmluZyl7YnVmU2l6ZSs9c3RyaW5nLmxlbmd0aCsxfSk7SEVBUDMyW3BlbnZpcm9uX2J1Zl9zaXplPj4yXT1idWZTaXplO3JldHVybiAwfWZ1bmN0aW9uIF9leGl0KHN0YXR1cyl7ZXhpdChzdGF0dXMpfWZ1bmN0aW9uIF9mZF9jbG9zZShmZCl7dHJ5e3ZhciBzdHJlYW09U1lTQ0FMTFMuZ2V0U3RyZWFtRnJvbUZEKGZkKTtGUy5jbG9zZShzdHJlYW0pO3JldHVybiAwfWNhdGNoKGUpe2lmKHR5cGVvZiBGUz09InVuZGVmaW5lZCJ8fCEoZSBpbnN0YW5jZW9mIEZTLkVycm5vRXJyb3IpKXRocm93IGU7cmV0dXJuIGUuZXJybm99fWZ1bmN0aW9uIGRvUmVhZHYoc3RyZWFtLGlvdixpb3ZjbnQsb2Zmc2V0KXt2YXIgcmV0PTA7Zm9yKHZhciBpPTA7aTxpb3ZjbnQ7aSsrKXt2YXIgcHRyPUhFQVBVMzJbaW92Pj4yXTt2YXIgbGVuPUhFQVBVMzJbaW92KzQ+PjJdO2lvdis9ODt2YXIgY3Vycj1GUy5yZWFkKHN0cmVhbSxIRUFQOCxwdHIsbGVuLG9mZnNldCk7aWYoY3VycjwwKXJldHVybi0xO3JldCs9Y3VycjtpZihjdXJyPGxlbilicmVha31yZXR1cm4gcmV0fWZ1bmN0aW9uIF9mZF9yZWFkKGZkLGlvdixpb3ZjbnQscG51bSl7dHJ5e3ZhciBzdHJlYW09U1lTQ0FMTFMuZ2V0U3RyZWFtRnJvbUZEKGZkKTt2YXIgbnVtPWRvUmVhZHYoc3RyZWFtLGlvdixpb3ZjbnQpO0hFQVAzMltwbnVtPj4yXT1udW07cmV0dXJuIDB9Y2F0Y2goZSl7aWYodHlwZW9mIEZTPT0idW5kZWZpbmVkInx8IShlIGluc3RhbmNlb2YgRlMuRXJybm9FcnJvcikpdGhyb3cgZTtyZXR1cm4gZS5lcnJub319ZnVuY3Rpb24gX2ZkX3NlZWsoZmQsb2Zmc2V0X2xvdyxvZmZzZXRfaGlnaCx3aGVuY2UsbmV3T2Zmc2V0KXt0cnl7dmFyIHN0cmVhbT1TWVNDQUxMUy5nZXRTdHJlYW1Gcm9tRkQoZmQpO3ZhciBISUdIX09GRlNFVD00Mjk0OTY3Mjk2O3ZhciBvZmZzZXQ9b2Zmc2V0X2hpZ2gqSElHSF9PRkZTRVQrKG9mZnNldF9sb3c+Pj4wKTt2YXIgRE9VQkxFX0xJTUlUPTkwMDcxOTkyNTQ3NDA5OTI7aWYob2Zmc2V0PD0tRE9VQkxFX0xJTUlUfHxvZmZzZXQ+PURPVUJMRV9MSU1JVCl7cmV0dXJuIDYxfUZTLmxsc2VlayhzdHJlYW0sb2Zmc2V0LHdoZW5jZSk7dGVtcEk2ND1bc3RyZWFtLnBvc2l0aW9uPj4+MCwodGVtcERvdWJsZT1zdHJlYW0ucG9zaXRpb24sK01hdGguYWJzKHRlbXBEb3VibGUpPj0xP3RlbXBEb3VibGU+MD8oTWF0aC5taW4oK01hdGguZmxvb3IodGVtcERvdWJsZS80Mjk0OTY3Mjk2KSw0Mjk0OTY3Mjk1KXwwKT4+PjA6fn4rTWF0aC5jZWlsKCh0ZW1wRG91YmxlLSsofn50ZW1wRG91YmxlPj4+MCkpLzQyOTQ5NjcyOTYpPj4+MDowKV0sSEVBUDMyW25ld09mZnNldD4+Ml09dGVtcEk2NFswXSxIRUFQMzJbbmV3T2Zmc2V0KzQ+PjJdPXRlbXBJNjRbMV07aWYoc3RyZWFtLmdldGRlbnRzJiZvZmZzZXQ9PT0wJiZ3aGVuY2U9PT0wKXN0cmVhbS5nZXRkZW50cz1udWxsO3JldHVybiAwfWNhdGNoKGUpe2lmKHR5cGVvZiBGUz09InVuZGVmaW5lZCJ8fCEoZSBpbnN0YW5jZW9mIEZTLkVycm5vRXJyb3IpKXRocm93IGU7cmV0dXJuIGUuZXJybm99fWZ1bmN0aW9uIF9mZF9zeW5jKGZkKXt0cnl7dmFyIHN0cmVhbT1TWVNDQUxMUy5nZXRTdHJlYW1Gcm9tRkQoZmQpO2lmKHN0cmVhbS5zdHJlYW1fb3BzJiZzdHJlYW0uc3RyZWFtX29wcy5mc3luYyl7cmV0dXJuLXN0cmVhbS5zdHJlYW1fb3BzLmZzeW5jKHN0cmVhbSl9cmV0dXJuIDB9Y2F0Y2goZSl7aWYodHlwZW9mIEZTPT0idW5kZWZpbmVkInx8IShlIGluc3RhbmNlb2YgRlMuRXJybm9FcnJvcikpdGhyb3cgZTtyZXR1cm4gZS5lcnJub319ZnVuY3Rpb24gZG9Xcml0ZXYoc3RyZWFtLGlvdixpb3ZjbnQsb2Zmc2V0KXt2YXIgcmV0PTA7Zm9yKHZhciBpPTA7aTxpb3ZjbnQ7aSsrKXt2YXIgcHRyPUhFQVBVMzJbaW92Pj4yXTt2YXIgbGVuPUhFQVBVMzJbaW92KzQ+PjJdO2lvdis9ODt2YXIgY3Vycj1GUy53cml0ZShzdHJlYW0sSEVBUDgscHRyLGxlbixvZmZzZXQpO2lmKGN1cnI8MClyZXR1cm4tMTtyZXQrPWN1cnJ9cmV0dXJuIHJldH1mdW5jdGlvbiBfZmRfd3JpdGUoZmQsaW92LGlvdmNudCxwbnVtKXt0cnl7dmFyIHN0cmVhbT1TWVNDQUxMUy5nZXRTdHJlYW1Gcm9tRkQoZmQpO3ZhciBudW09ZG9Xcml0ZXYoc3RyZWFtLGlvdixpb3ZjbnQpO0hFQVAzMltwbnVtPj4yXT1udW07cmV0dXJuIDB9Y2F0Y2goZSl7aWYodHlwZW9mIEZTPT0idW5kZWZpbmVkInx8IShlIGluc3RhbmNlb2YgRlMuRXJybm9FcnJvcikpdGhyb3cgZTtyZXR1cm4gZS5lcnJub319ZnVuY3Rpb24gX2dldFRlbXBSZXQwKCl7cmV0dXJuIGdldFRlbXBSZXQwKCl9ZnVuY3Rpb24gX2dldGVudHJvcHkoYnVmZmVyLHNpemUpe2lmKCFfZ2V0ZW50cm9weS5yYW5kb21EZXZpY2Upe19nZXRlbnRyb3B5LnJhbmRvbURldmljZT1nZXRSYW5kb21EZXZpY2UoKX1mb3IodmFyIGk9MDtpPHNpemU7aSsrKXtIRUFQOFtidWZmZXIraT4+MF09X2dldGVudHJvcHkucmFuZG9tRGV2aWNlKCl9cmV0dXJuIDB9ZnVuY3Rpb24gX3NldFRlbXBSZXQwKHZhbCl7c2V0VGVtcFJldDAodmFsKX1mdW5jdGlvbiBfX2lzTGVhcFllYXIoeWVhcil7cmV0dXJuIHllYXIlND09PTAmJih5ZWFyJTEwMCE9PTB8fHllYXIlNDAwPT09MCl9ZnVuY3Rpb24gX19hcnJheVN1bShhcnJheSxpbmRleCl7dmFyIHN1bT0wO2Zvcih2YXIgaT0wO2k8PWluZGV4O3N1bSs9YXJyYXlbaSsrXSl7fXJldHVybiBzdW19dmFyIF9fTU9OVEhfREFZU19MRUFQPVszMSwyOSwzMSwzMCwzMSwzMCwzMSwzMSwzMCwzMSwzMCwzMV07dmFyIF9fTU9OVEhfREFZU19SRUdVTEFSPVszMSwyOCwzMSwzMCwzMSwzMCwzMSwzMSwzMCwzMSwzMCwzMV07ZnVuY3Rpb24gX19hZGREYXlzKGRhdGUsZGF5cyl7dmFyIG5ld0RhdGU9bmV3IERhdGUoZGF0ZS5nZXRUaW1lKCkpO3doaWxlKGRheXM+MCl7dmFyIGxlYXA9X19pc0xlYXBZZWFyKG5ld0RhdGUuZ2V0RnVsbFllYXIoKSk7dmFyIGN1cnJlbnRNb250aD1uZXdEYXRlLmdldE1vbnRoKCk7dmFyIGRheXNJbkN1cnJlbnRNb250aD0obGVhcD9fX01PTlRIX0RBWVNfTEVBUDpfX01PTlRIX0RBWVNfUkVHVUxBUilbY3VycmVudE1vbnRoXTtpZihkYXlzPmRheXNJbkN1cnJlbnRNb250aC1uZXdEYXRlLmdldERhdGUoKSl7ZGF5cy09ZGF5c0luQ3VycmVudE1vbnRoLW5ld0RhdGUuZ2V0RGF0ZSgpKzE7bmV3RGF0ZS5zZXREYXRlKDEpO2lmKGN1cnJlbnRNb250aDwxMSl7bmV3RGF0ZS5zZXRNb250aChjdXJyZW50TW9udGgrMSl9ZWxzZXtuZXdEYXRlLnNldE1vbnRoKDApO25ld0RhdGUuc2V0RnVsbFllYXIobmV3RGF0ZS5nZXRGdWxsWWVhcigpKzEpfX1lbHNle25ld0RhdGUuc2V0RGF0ZShuZXdEYXRlLmdldERhdGUoKStkYXlzKTtyZXR1cm4gbmV3RGF0ZX19cmV0dXJuIG5ld0RhdGV9ZnVuY3Rpb24gX3N0cmZ0aW1lKHMsbWF4c2l6ZSxmb3JtYXQsdG0pe3ZhciB0bV96b25lPUhFQVAzMlt0bSs0MD4+Ml07dmFyIGRhdGU9e3RtX3NlYzpIRUFQMzJbdG0+PjJdLHRtX21pbjpIRUFQMzJbdG0rND4+Ml0sdG1faG91cjpIRUFQMzJbdG0rOD4+Ml0sdG1fbWRheTpIRUFQMzJbdG0rMTI+PjJdLHRtX21vbjpIRUFQMzJbdG0rMTY+PjJdLHRtX3llYXI6SEVBUDMyW3RtKzIwPj4yXSx0bV93ZGF5OkhFQVAzMlt0bSsyND4+Ml0sdG1feWRheTpIRUFQMzJbdG0rMjg+PjJdLHRtX2lzZHN0OkhFQVAzMlt0bSszMj4+Ml0sdG1fZ210b2ZmOkhFQVAzMlt0bSszNj4+Ml0sdG1fem9uZTp0bV96b25lP1VURjhUb1N0cmluZyh0bV96b25lKToiIn07dmFyIHBhdHRlcm49VVRGOFRvU3RyaW5nKGZvcm1hdCk7dmFyIEVYUEFOU0lPTl9SVUxFU18xPXsiJWMiOiIlYSAlYiAlZCAlSDolTTolUyAlWSIsIiVEIjoiJW0vJWQvJXkiLCIlRiI6IiVZLSVtLSVkIiwiJWgiOiIlYiIsIiVyIjoiJUk6JU06JVMgJXAiLCIlUiI6IiVIOiVNIiwiJVQiOiIlSDolTTolUyIsIiV4IjoiJW0vJWQvJXkiLCIlWCI6IiVIOiVNOiVTIiwiJUVjIjoiJWMiLCIlRUMiOiIlQyIsIiVFeCI6IiVtLyVkLyV5IiwiJUVYIjoiJUg6JU06JVMiLCIlRXkiOiIleSIsIiVFWSI6IiVZIiwiJU9kIjoiJWQiLCIlT2UiOiIlZSIsIiVPSCI6IiVIIiwiJU9JIjoiJUkiLCIlT20iOiIlbSIsIiVPTSI6IiVNIiwiJU9TIjoiJVMiLCIlT3UiOiIldSIsIiVPVSI6IiVVIiwiJU9WIjoiJVYiLCIlT3ciOiIldyIsIiVPVyI6IiVXIiwiJU95IjoiJXkifTtmb3IodmFyIHJ1bGUgaW4gRVhQQU5TSU9OX1JVTEVTXzEpe3BhdHRlcm49cGF0dGVybi5yZXBsYWNlKG5ldyBSZWdFeHAocnVsZSwiZyIpLEVYUEFOU0lPTl9SVUxFU18xW3J1bGVdKX12YXIgV0VFS0RBWVM9WyJTdW5kYXkiLCJNb25kYXkiLCJUdWVzZGF5IiwiV2VkbmVzZGF5IiwiVGh1cnNkYXkiLCJGcmlkYXkiLCJTYXR1cmRheSJdO3ZhciBNT05USFM9WyJKYW51YXJ5IiwiRmVicnVhcnkiLCJNYXJjaCIsIkFwcmlsIiwiTWF5IiwiSnVuZSIsIkp1bHkiLCJBdWd1c3QiLCJTZXB0ZW1iZXIiLCJPY3RvYmVyIiwiTm92ZW1iZXIiLCJEZWNlbWJlciJdO2Z1bmN0aW9uIGxlYWRpbmdTb21ldGhpbmcodmFsdWUsZGlnaXRzLGNoYXJhY3Rlcil7dmFyIHN0cj10eXBlb2YgdmFsdWU9PSJudW1iZXIiP3ZhbHVlLnRvU3RyaW5nKCk6dmFsdWV8fCIiO3doaWxlKHN0ci5sZW5ndGg8ZGlnaXRzKXtzdHI9Y2hhcmFjdGVyWzBdK3N0cn1yZXR1cm4gc3RyfWZ1bmN0aW9uIGxlYWRpbmdOdWxscyh2YWx1ZSxkaWdpdHMpe3JldHVybiBsZWFkaW5nU29tZXRoaW5nKHZhbHVlLGRpZ2l0cywiMCIpfWZ1bmN0aW9uIGNvbXBhcmVCeURheShkYXRlMSxkYXRlMil7ZnVuY3Rpb24gc2duKHZhbHVlKXtyZXR1cm4gdmFsdWU8MD8tMTp2YWx1ZT4wPzE6MH12YXIgY29tcGFyZTtpZigoY29tcGFyZT1zZ24oZGF0ZTEuZ2V0RnVsbFllYXIoKS1kYXRlMi5nZXRGdWxsWWVhcigpKSk9PT0wKXtpZigoY29tcGFyZT1zZ24oZGF0ZTEuZ2V0TW9udGgoKS1kYXRlMi5nZXRNb250aCgpKSk9PT0wKXtjb21wYXJlPXNnbihkYXRlMS5nZXREYXRlKCktZGF0ZTIuZ2V0RGF0ZSgpKX19cmV0dXJuIGNvbXBhcmV9ZnVuY3Rpb24gZ2V0Rmlyc3RXZWVrU3RhcnREYXRlKGphbkZvdXJ0aCl7c3dpdGNoKGphbkZvdXJ0aC5nZXREYXkoKSl7Y2FzZSAwOnJldHVybiBuZXcgRGF0ZShqYW5Gb3VydGguZ2V0RnVsbFllYXIoKS0xLDExLDI5KTtjYXNlIDE6cmV0dXJuIGphbkZvdXJ0aDtjYXNlIDI6cmV0dXJuIG5ldyBEYXRlKGphbkZvdXJ0aC5nZXRGdWxsWWVhcigpLDAsMyk7Y2FzZSAzOnJldHVybiBuZXcgRGF0ZShqYW5Gb3VydGguZ2V0RnVsbFllYXIoKSwwLDIpO2Nhc2UgNDpyZXR1cm4gbmV3IERhdGUoamFuRm91cnRoLmdldEZ1bGxZZWFyKCksMCwxKTtjYXNlIDU6cmV0dXJuIG5ldyBEYXRlKGphbkZvdXJ0aC5nZXRGdWxsWWVhcigpLTEsMTEsMzEpO2Nhc2UgNjpyZXR1cm4gbmV3IERhdGUoamFuRm91cnRoLmdldEZ1bGxZZWFyKCktMSwxMSwzMCl9fWZ1bmN0aW9uIGdldFdlZWtCYXNlZFllYXIoZGF0ZSl7dmFyIHRoaXNEYXRlPV9fYWRkRGF5cyhuZXcgRGF0ZShkYXRlLnRtX3llYXIrMTkwMCwwLDEpLGRhdGUudG1feWRheSk7dmFyIGphbkZvdXJ0aFRoaXNZZWFyPW5ldyBEYXRlKHRoaXNEYXRlLmdldEZ1bGxZZWFyKCksMCw0KTt2YXIgamFuRm91cnRoTmV4dFllYXI9bmV3IERhdGUodGhpc0RhdGUuZ2V0RnVsbFllYXIoKSsxLDAsNCk7dmFyIGZpcnN0V2Vla1N0YXJ0VGhpc1llYXI9Z2V0Rmlyc3RXZWVrU3RhcnREYXRlKGphbkZvdXJ0aFRoaXNZZWFyKTt2YXIgZmlyc3RXZWVrU3RhcnROZXh0WWVhcj1nZXRGaXJzdFdlZWtTdGFydERhdGUoamFuRm91cnRoTmV4dFllYXIpO2lmKGNvbXBhcmVCeURheShmaXJzdFdlZWtTdGFydFRoaXNZZWFyLHRoaXNEYXRlKTw9MCl7aWYoY29tcGFyZUJ5RGF5KGZpcnN0V2Vla1N0YXJ0TmV4dFllYXIsdGhpc0RhdGUpPD0wKXtyZXR1cm4gdGhpc0RhdGUuZ2V0RnVsbFllYXIoKSsxfWVsc2V7cmV0dXJuIHRoaXNEYXRlLmdldEZ1bGxZZWFyKCl9fWVsc2V7cmV0dXJuIHRoaXNEYXRlLmdldEZ1bGxZZWFyKCktMX19dmFyIEVYUEFOU0lPTl9SVUxFU18yPXsiJWEiOmZ1bmN0aW9uKGRhdGUpe3JldHVybiBXRUVLREFZU1tkYXRlLnRtX3dkYXldLnN1YnN0cmluZygwLDMpfSwiJUEiOmZ1bmN0aW9uKGRhdGUpe3JldHVybiBXRUVLREFZU1tkYXRlLnRtX3dkYXldfSwiJWIiOmZ1bmN0aW9uKGRhdGUpe3JldHVybiBNT05USFNbZGF0ZS50bV9tb25dLnN1YnN0cmluZygwLDMpfSwiJUIiOmZ1bmN0aW9uKGRhdGUpe3JldHVybiBNT05USFNbZGF0ZS50bV9tb25dfSwiJUMiOmZ1bmN0aW9uKGRhdGUpe3ZhciB5ZWFyPWRhdGUudG1feWVhcisxOTAwO3JldHVybiBsZWFkaW5nTnVsbHMoeWVhci8xMDB8MCwyKX0sIiVkIjpmdW5jdGlvbihkYXRlKXtyZXR1cm4gbGVhZGluZ051bGxzKGRhdGUudG1fbWRheSwyKX0sIiVlIjpmdW5jdGlvbihkYXRlKXtyZXR1cm4gbGVhZGluZ1NvbWV0aGluZyhkYXRlLnRtX21kYXksMiwiICIpfSwiJWciOmZ1bmN0aW9uKGRhdGUpe3JldHVybiBnZXRXZWVrQmFzZWRZZWFyKGRhdGUpLnRvU3RyaW5nKCkuc3Vic3RyaW5nKDIpfSwiJUciOmZ1bmN0aW9uKGRhdGUpe3JldHVybiBnZXRXZWVrQmFzZWRZZWFyKGRhdGUpfSwiJUgiOmZ1bmN0aW9uKGRhdGUpe3JldHVybiBsZWFkaW5nTnVsbHMoZGF0ZS50bV9ob3VyLDIpfSwiJUkiOmZ1bmN0aW9uKGRhdGUpe3ZhciB0d2VsdmVIb3VyPWRhdGUudG1faG91cjtpZih0d2VsdmVIb3VyPT0wKXR3ZWx2ZUhvdXI9MTI7ZWxzZSBpZih0d2VsdmVIb3VyPjEyKXR3ZWx2ZUhvdXItPTEyO3JldHVybiBsZWFkaW5nTnVsbHModHdlbHZlSG91ciwyKX0sIiVqIjpmdW5jdGlvbihkYXRlKXtyZXR1cm4gbGVhZGluZ051bGxzKGRhdGUudG1fbWRheStfX2FycmF5U3VtKF9faXNMZWFwWWVhcihkYXRlLnRtX3llYXIrMTkwMCk/X19NT05USF9EQVlTX0xFQVA6X19NT05USF9EQVlTX1JFR1VMQVIsZGF0ZS50bV9tb24tMSksMyl9LCIlbSI6ZnVuY3Rpb24oZGF0ZSl7cmV0dXJuIGxlYWRpbmdOdWxscyhkYXRlLnRtX21vbisxLDIpfSwiJU0iOmZ1bmN0aW9uKGRhdGUpe3JldHVybiBsZWFkaW5nTnVsbHMoZGF0ZS50bV9taW4sMil9LCIlbiI6ZnVuY3Rpb24oKXtyZXR1cm4iXG4ifSwiJXAiOmZ1bmN0aW9uKGRhdGUpe2lmKGRhdGUudG1faG91cj49MCYmZGF0ZS50bV9ob3VyPDEyKXtyZXR1cm4iQU0ifWVsc2V7cmV0dXJuIlBNIn19LCIlUyI6ZnVuY3Rpb24oZGF0ZSl7cmV0dXJuIGxlYWRpbmdOdWxscyhkYXRlLnRtX3NlYywyKX0sIiV0IjpmdW5jdGlvbigpe3JldHVybiJcdCJ9LCIldSI6ZnVuY3Rpb24oZGF0ZSl7cmV0dXJuIGRhdGUudG1fd2RheXx8N30sIiVVIjpmdW5jdGlvbihkYXRlKXt2YXIgZGF5cz1kYXRlLnRtX3lkYXkrNy1kYXRlLnRtX3dkYXk7cmV0dXJuIGxlYWRpbmdOdWxscyhNYXRoLmZsb29yKGRheXMvNyksMil9LCIlViI6ZnVuY3Rpb24oZGF0ZSl7dmFyIHZhbD1NYXRoLmZsb29yKChkYXRlLnRtX3lkYXkrNy0oZGF0ZS50bV93ZGF5KzYpJTcpLzcpO2lmKChkYXRlLnRtX3dkYXkrMzcxLWRhdGUudG1feWRheS0yKSU3PD0yKXt2YWwrK31pZighdmFsKXt2YWw9NTI7dmFyIGRlYzMxPShkYXRlLnRtX3dkYXkrNy1kYXRlLnRtX3lkYXktMSklNztpZihkZWMzMT09NHx8ZGVjMzE9PTUmJl9faXNMZWFwWWVhcihkYXRlLnRtX3llYXIlNDAwLTEpKXt2YWwrK319ZWxzZSBpZih2YWw9PTUzKXt2YXIgamFuMT0oZGF0ZS50bV93ZGF5KzM3MS1kYXRlLnRtX3lkYXkpJTc7aWYoamFuMSE9NCYmKGphbjEhPTN8fCFfX2lzTGVhcFllYXIoZGF0ZS50bV95ZWFyKSkpdmFsPTF9cmV0dXJuIGxlYWRpbmdOdWxscyh2YWwsMil9LCIldyI6ZnVuY3Rpb24oZGF0ZSl7cmV0dXJuIGRhdGUudG1fd2RheX0sIiVXIjpmdW5jdGlvbihkYXRlKXt2YXIgZGF5cz1kYXRlLnRtX3lkYXkrNy0oZGF0ZS50bV93ZGF5KzYpJTc7cmV0dXJuIGxlYWRpbmdOdWxscyhNYXRoLmZsb29yKGRheXMvNyksMil9LCIleSI6ZnVuY3Rpb24oZGF0ZSl7cmV0dXJuKGRhdGUudG1feWVhcisxOTAwKS50b1N0cmluZygpLnN1YnN0cmluZygyKX0sIiVZIjpmdW5jdGlvbihkYXRlKXtyZXR1cm4gZGF0ZS50bV95ZWFyKzE5MDB9LCIleiI6ZnVuY3Rpb24oZGF0ZSl7dmFyIG9mZj1kYXRlLnRtX2dtdG9mZjt2YXIgYWhlYWQ9b2ZmPj0wO29mZj1NYXRoLmFicyhvZmYpLzYwO29mZj1vZmYvNjAqMTAwK29mZiU2MDtyZXR1cm4oYWhlYWQ/IisiOiItIikrU3RyaW5nKCIwMDAwIitvZmYpLnNsaWNlKC00KX0sIiVaIjpmdW5jdGlvbihkYXRlKXtyZXR1cm4gZGF0ZS50bV96b25lfSwiJSUiOmZ1bmN0aW9uKCl7cmV0dXJuIiUifX07cGF0dGVybj1wYXR0ZXJuLnJlcGxhY2UoLyUlL2csIlwwXDAiKTtmb3IodmFyIHJ1bGUgaW4gRVhQQU5TSU9OX1JVTEVTXzIpe2lmKHBhdHRlcm4uaW5jbHVkZXMocnVsZSkpe3BhdHRlcm49cGF0dGVybi5yZXBsYWNlKG5ldyBSZWdFeHAocnVsZSwiZyIpLEVYUEFOU0lPTl9SVUxFU18yW3J1bGVdKGRhdGUpKX19cGF0dGVybj1wYXR0ZXJuLnJlcGxhY2UoL1wwXDAvZywiJSIpO3ZhciBieXRlcz1pbnRBcnJheUZyb21TdHJpbmcocGF0dGVybixmYWxzZSk7aWYoYnl0ZXMubGVuZ3RoPm1heHNpemUpe3JldHVybiAwfXdyaXRlQXJyYXlUb01lbW9yeShieXRlcyxzKTtyZXR1cm4gYnl0ZXMubGVuZ3RoLTF9ZnVuY3Rpb24gX3N0cmZ0aW1lX2wocyxtYXhzaXplLGZvcm1hdCx0bSl7cmV0dXJuIF9zdHJmdGltZShzLG1heHNpemUsZm9ybWF0LHRtKX12YXIgRlNOb2RlPWZ1bmN0aW9uKHBhcmVudCxuYW1lLG1vZGUscmRldil7aWYoIXBhcmVudCl7cGFyZW50PXRoaXN9dGhpcy5wYXJlbnQ9cGFyZW50O3RoaXMubW91bnQ9cGFyZW50Lm1vdW50O3RoaXMubW91bnRlZD1udWxsO3RoaXMuaWQ9RlMubmV4dElub2RlKys7dGhpcy5uYW1lPW5hbWU7dGhpcy5tb2RlPW1vZGU7dGhpcy5ub2RlX29wcz17fTt0aGlzLnN0cmVhbV9vcHM9e307dGhpcy5yZGV2PXJkZXZ9O3ZhciByZWFkTW9kZT0yOTJ8NzM7dmFyIHdyaXRlTW9kZT0xNDY7T2JqZWN0LmRlZmluZVByb3BlcnRpZXMoRlNOb2RlLnByb3RvdHlwZSx7cmVhZDp7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuKHRoaXMubW9kZSZyZWFkTW9kZSk9PT1yZWFkTW9kZX0sc2V0OmZ1bmN0aW9uKHZhbCl7dmFsP3RoaXMubW9kZXw9cmVhZE1vZGU6dGhpcy5tb2RlJj1+cmVhZE1vZGV9fSx3cml0ZTp7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuKHRoaXMubW9kZSZ3cml0ZU1vZGUpPT09d3JpdGVNb2RlfSxzZXQ6ZnVuY3Rpb24odmFsKXt2YWw/dGhpcy5tb2RlfD13cml0ZU1vZGU6dGhpcy5tb2RlJj1+d3JpdGVNb2RlfX0saXNGb2xkZXI6e2dldDpmdW5jdGlvbigpe3JldHVybiBGUy5pc0Rpcih0aGlzLm1vZGUpfX0saXNEZXZpY2U6e2dldDpmdW5jdGlvbigpe3JldHVybiBGUy5pc0NocmRldih0aGlzLm1vZGUpfX19KTtGUy5GU05vZGU9RlNOb2RlO0ZTLnN0YXRpY0luaXQoKTtlbWJpbmRfaW5pdF9jaGFyQ29kZXMoKTtCaW5kaW5nRXJyb3I9TW9kdWxlWyJCaW5kaW5nRXJyb3IiXT1leHRlbmRFcnJvcihFcnJvciwiQmluZGluZ0Vycm9yIik7SW50ZXJuYWxFcnJvcj1Nb2R1bGVbIkludGVybmFsRXJyb3IiXT1leHRlbmRFcnJvcihFcnJvciwiSW50ZXJuYWxFcnJvciIpO2luaXRfQ2xhc3NIYW5kbGUoKTtpbml0X2VtYmluZCgpO2luaXRfUmVnaXN0ZXJlZFBvaW50ZXIoKTtVbmJvdW5kVHlwZUVycm9yPU1vZHVsZVsiVW5ib3VuZFR5cGVFcnJvciJdPWV4dGVuZEVycm9yKEVycm9yLCJVbmJvdW5kVHlwZUVycm9yIik7aW5pdF9lbXZhbCgpO2Z1bmN0aW9uIGludEFycmF5RnJvbVN0cmluZyhzdHJpbmd5LGRvbnRBZGROdWxsLGxlbmd0aCl7dmFyIGxlbj1sZW5ndGg+MD9sZW5ndGg6bGVuZ3RoQnl0ZXNVVEY4KHN0cmluZ3kpKzE7dmFyIHU4YXJyYXk9bmV3IEFycmF5KGxlbik7dmFyIG51bUJ5dGVzV3JpdHRlbj1zdHJpbmdUb1VURjhBcnJheShzdHJpbmd5LHU4YXJyYXksMCx1OGFycmF5Lmxlbmd0aCk7aWYoZG9udEFkZE51bGwpdThhcnJheS5sZW5ndGg9bnVtQnl0ZXNXcml0dGVuO3JldHVybiB1OGFycmF5fXZhciBhc21MaWJyYXJ5QXJnPXsiYSI6X19fYXNzZXJ0X2ZhaWwsImsiOl9fX2N4YV9hbGxvY2F0ZV9leGNlcHRpb24sInQiOl9fX2N4YV9iZWdpbl9jYXRjaCwiaWEiOl9fX2N4YV9jdXJyZW50X3ByaW1hcnlfZXhjZXB0aW9uLCJSIjpfX19jeGFfZGVjcmVtZW50X2V4Y2VwdGlvbl9yZWZjb3VudCwidiI6X19fY3hhX2VuZF9jYXRjaCwiZCI6X19fY3hhX2ZpbmRfbWF0Y2hpbmdfY2F0Y2hfMiwiaSI6X19fY3hhX2ZpbmRfbWF0Y2hpbmdfY2F0Y2hfMywiciI6X19fY3hhX2ZyZWVfZXhjZXB0aW9uLCJRIjpfX19jeGFfaW5jcmVtZW50X2V4Y2VwdGlvbl9yZWZjb3VudCwiWCI6X19fY3hhX3JldGhyb3csImhhIjpfX19jeGFfcmV0aHJvd19wcmltYXJ5X2V4Y2VwdGlvbiwicCI6X19fY3hhX3Rocm93LCJqYSI6X19fY3hhX3VuY2F1Z2h0X2V4Y2VwdGlvbnMsImciOl9fX3Jlc3VtZUV4Y2VwdGlvbiwid2EiOl9fX3N5c2NhbGxfZnN0YXQ2NCwiY2EiOl9fX3N5c2NhbGxfZnRydW5jYXRlNjQsInRhIjpfX19zeXNjYWxsX2xzdGF0NjQsInVhIjpfX19zeXNjYWxsX25ld2ZzdGF0YXQsInhhIjpfX19zeXNjYWxsX29wZW5hdCwibmEiOl9fX3N5c2NhbGxfcmVuYW1lYXQsInZhIjpfX19zeXNjYWxsX3N0YXQ2NCwibGEiOl9fX3N5c2NhbGxfdW5saW5rYXQsIkFhIjpfX2RsaW5pdCwiQ2EiOl9fZGxvcGVuX2pzLCJCYSI6X19kbHN5bV9qcywiZGEiOl9fZW1iaW5kX3JlZ2lzdGVyX2JpZ2ludCwiRWEiOl9fZW1iaW5kX3JlZ2lzdGVyX2Jvb2wsIk1hIjpfX2VtYmluZF9yZWdpc3Rlcl9jbGFzcywiTGEiOl9fZW1iaW5kX3JlZ2lzdGVyX2NsYXNzX2NvbnN0cnVjdG9yLCJ3IjpfX2VtYmluZF9yZWdpc3Rlcl9jbGFzc19mdW5jdGlvbiwiRGEiOl9fZW1iaW5kX3JlZ2lzdGVyX2VtdmFsLCJXIjpfX2VtYmluZF9yZWdpc3Rlcl9mbG9hdCwieSI6X19lbWJpbmRfcmVnaXN0ZXJfaW50ZWdlciwicyI6X19lbWJpbmRfcmVnaXN0ZXJfbWVtb3J5X3ZpZXcsIlYiOl9fZW1iaW5kX3JlZ2lzdGVyX3N0ZF9zdHJpbmcsIkwiOl9fZW1iaW5kX3JlZ2lzdGVyX3N0ZF93c3RyaW5nLCJGYSI6X19lbWJpbmRfcmVnaXN0ZXJfdm9pZCwiVCI6X19lbXNjcmlwdGVuX2RhdGVfbm93LCJ5YSI6X19lbXNjcmlwdGVuX2dldF9ub3dfaXNfbW9ub3RvbmljLCJLYSI6X19lbXZhbF9kZWNyZWYsImJhIjpfX2VtdmFsX2luY3JlZiwiRyI6X19lbXZhbF90YWtlX3ZhbHVlLCJvYSI6X19tbWFwX2pzLCJwYSI6X19tdW5tYXBfanMsImIiOl9hYm9ydCwibWEiOl9lbXNjcmlwdGVuX2dldF9oZWFwX21heCwiSyI6X2Vtc2NyaXB0ZW5fZ2V0X25vdywiemEiOl9lbXNjcmlwdGVuX21lbWNweV9iaWcsImthIjpfZW1zY3JpcHRlbl9yZXNpemVfaGVhcCwicWEiOl9lbnZpcm9uX2dldCwicmEiOl9lbnZpcm9uX3NpemVzX2dldCwiR2EiOl9leGl0LCJVIjpfZmRfY2xvc2UsIlMiOl9mZF9yZWFkLCJhYSI6X2ZkX3NlZWssInNhIjpfZmRfc3luYywiSiI6X2ZkX3dyaXRlLCJjIjpfZ2V0VGVtcFJldDAsImVhIjpfZ2V0ZW50cm9weSwiTiI6aW52b2tlX2RpaWksIkphIjppbnZva2VfZmksIk8iOmludm9rZV9maWlpLCJxIjppbnZva2VfaSwiZiI6aW52b2tlX2lpLCJIYSI6aW52b2tlX2lpZGlpLCJlIjppbnZva2VfaWlpLCJsIjppbnZva2VfaWlpaSwibSI6aW52b2tlX2lpaWlpLCJnYSI6aW52b2tlX2lpaWlpZCwiQyI6aW52b2tlX2lpaWlpaSwieCI6aW52b2tlX2lpaWlpaWksIlAiOmludm9rZV9paWlpaWlpaSwiRiI6aW52b2tlX2lpaWlpaWlpaWlpaSwiJCI6aW52b2tlX2osIl8iOmludm9rZV9qaWlpaSwibiI6aW52b2tlX3YsImoiOmludm9rZV92aSwiaCI6aW52b2tlX3ZpaSwiQSI6aW52b2tlX3ZpaWQsIk0iOmludm9rZV92aWlkaSwibyI6aW52b2tlX3ZpaWksIklhIjppbnZva2VfdmlpaWRpaWksIkgiOmludm9rZV92aWlpaSwiWSI6aW52b2tlX3ZpaWlpZGksIloiOmludm9rZV92aWlpaWksInUiOmludm9rZV92aWlpaWlpaSwiRCI6aW52b2tlX3ZpaWlpaWlpZGksIkkiOmludm9rZV92aWlpaWlpaWksIkIiOmludm9rZV92aWlpaWlpaWlpaSwiRSI6aW52b2tlX3ZpaWlpaWlpaWlpaWlpaWksInoiOl9zZXRUZW1wUmV0MCwiZmEiOl9zdHJmdGltZV9sfTt2YXIgYXNtPWNyZWF0ZVdhc20oKTt2YXIgX19fd2FzbV9jYWxsX2N0b3JzPU1vZHVsZVsiX19fd2FzbV9jYWxsX2N0b3JzIl09ZnVuY3Rpb24oKXtyZXR1cm4oX19fd2FzbV9jYWxsX2N0b3JzPU1vZHVsZVsiX19fd2FzbV9jYWxsX2N0b3JzIl09TW9kdWxlWyJhc20iXVsiT2EiXSkuYXBwbHkobnVsbCxhcmd1bWVudHMpfTt2YXIgX21hbGxvYz1Nb2R1bGVbIl9tYWxsb2MiXT1mdW5jdGlvbigpe3JldHVybihfbWFsbG9jPU1vZHVsZVsiX21hbGxvYyJdPU1vZHVsZVsiYXNtIl1bIlFhIl0pLmFwcGx5KG51bGwsYXJndW1lbnRzKX07dmFyIF9mcmVlPU1vZHVsZVsiX2ZyZWUiXT1mdW5jdGlvbigpe3JldHVybihfZnJlZT1Nb2R1bGVbIl9mcmVlIl09TW9kdWxlWyJhc20iXVsiUmEiXSkuYXBwbHkobnVsbCxhcmd1bWVudHMpfTt2YXIgX19fZ2V0VHlwZU5hbWU9TW9kdWxlWyJfX19nZXRUeXBlTmFtZSJdPWZ1bmN0aW9uKCl7cmV0dXJuKF9fX2dldFR5cGVOYW1lPU1vZHVsZVsiX19fZ2V0VHlwZU5hbWUiXT1Nb2R1bGVbImFzbSJdWyJTYSJdKS5hcHBseShudWxsLGFyZ3VtZW50cyl9O3ZhciBfX19lbWJpbmRfcmVnaXN0ZXJfbmF0aXZlX2FuZF9idWlsdGluX3R5cGVzPU1vZHVsZVsiX19fZW1iaW5kX3JlZ2lzdGVyX25hdGl2ZV9hbmRfYnVpbHRpbl90eXBlcyJdPWZ1bmN0aW9uKCl7cmV0dXJuKF9fX2VtYmluZF9yZWdpc3Rlcl9uYXRpdmVfYW5kX2J1aWx0aW5fdHlwZXM9TW9kdWxlWyJfX19lbWJpbmRfcmVnaXN0ZXJfbmF0aXZlX2FuZF9idWlsdGluX3R5cGVzIl09TW9kdWxlWyJhc20iXVsiVGEiXSkuYXBwbHkobnVsbCxhcmd1bWVudHMpfTt2YXIgX19fc3RkaW9fZXhpdD1Nb2R1bGVbIl9fX3N0ZGlvX2V4aXQiXT1mdW5jdGlvbigpe3JldHVybihfX19zdGRpb19leGl0PU1vZHVsZVsiX19fc3RkaW9fZXhpdCJdPU1vZHVsZVsiYXNtIl1bIlVhIl0pLmFwcGx5KG51bGwsYXJndW1lbnRzKX07dmFyIF9fX2Z1bmNzX29uX2V4aXQ9TW9kdWxlWyJfX19mdW5jc19vbl9leGl0Il09ZnVuY3Rpb24oKXtyZXR1cm4oX19fZnVuY3Nfb25fZXhpdD1Nb2R1bGVbIl9fX2Z1bmNzX29uX2V4aXQiXT1Nb2R1bGVbImFzbSJdWyJWYSJdKS5hcHBseShudWxsLGFyZ3VtZW50cyl9O3ZhciBfZW1zY3JpcHRlbl9idWlsdGluX21lbWFsaWduPU1vZHVsZVsiX2Vtc2NyaXB0ZW5fYnVpbHRpbl9tZW1hbGlnbiJdPWZ1bmN0aW9uKCl7cmV0dXJuKF9lbXNjcmlwdGVuX2J1aWx0aW5fbWVtYWxpZ249TW9kdWxlWyJfZW1zY3JpcHRlbl9idWlsdGluX21lbWFsaWduIl09TW9kdWxlWyJhc20iXVsiV2EiXSkuYXBwbHkobnVsbCxhcmd1bWVudHMpfTt2YXIgX3NldFRocmV3PU1vZHVsZVsiX3NldFRocmV3Il09ZnVuY3Rpb24oKXtyZXR1cm4oX3NldFRocmV3PU1vZHVsZVsiX3NldFRocmV3Il09TW9kdWxlWyJhc20iXVsiWGEiXSkuYXBwbHkobnVsbCxhcmd1bWVudHMpfTt2YXIgc3RhY2tTYXZlPU1vZHVsZVsic3RhY2tTYXZlIl09ZnVuY3Rpb24oKXtyZXR1cm4oc3RhY2tTYXZlPU1vZHVsZVsic3RhY2tTYXZlIl09TW9kdWxlWyJhc20iXVsiWWEiXSkuYXBwbHkobnVsbCxhcmd1bWVudHMpfTt2YXIgc3RhY2tSZXN0b3JlPU1vZHVsZVsic3RhY2tSZXN0b3JlIl09ZnVuY3Rpb24oKXtyZXR1cm4oc3RhY2tSZXN0b3JlPU1vZHVsZVsic3RhY2tSZXN0b3JlIl09TW9kdWxlWyJhc20iXVsiWmEiXSkuYXBwbHkobnVsbCxhcmd1bWVudHMpfTt2YXIgX19fY3hhX2Nhbl9jYXRjaD1Nb2R1bGVbIl9fX2N4YV9jYW5fY2F0Y2giXT1mdW5jdGlvbigpe3JldHVybihfX19jeGFfY2FuX2NhdGNoPU1vZHVsZVsiX19fY3hhX2Nhbl9jYXRjaCJdPU1vZHVsZVsiYXNtIl1bIl9hIl0pLmFwcGx5KG51bGwsYXJndW1lbnRzKX07dmFyIF9fX2N4YV9pc19wb2ludGVyX3R5cGU9TW9kdWxlWyJfX19jeGFfaXNfcG9pbnRlcl90eXBlIl09ZnVuY3Rpb24oKXtyZXR1cm4oX19fY3hhX2lzX3BvaW50ZXJfdHlwZT1Nb2R1bGVbIl9fX2N4YV9pc19wb2ludGVyX3R5cGUiXT1Nb2R1bGVbImFzbSJdWyIkYSJdKS5hcHBseShudWxsLGFyZ3VtZW50cyl9O3ZhciBkeW5DYWxsX2lpaWlqPU1vZHVsZVsiZHluQ2FsbF9paWlpaiJdPWZ1bmN0aW9uKCl7cmV0dXJuKGR5bkNhbGxfaWlpaWo9TW9kdWxlWyJkeW5DYWxsX2lpaWlqIl09TW9kdWxlWyJhc20iXVsiYWIiXSkuYXBwbHkobnVsbCxhcmd1bWVudHMpfTt2YXIgZHluQ2FsbF9qaWk9TW9kdWxlWyJkeW5DYWxsX2ppaSJdPWZ1bmN0aW9uKCl7cmV0dXJuKGR5bkNhbGxfamlpPU1vZHVsZVsiZHluQ2FsbF9qaWkiXT1Nb2R1bGVbImFzbSJdWyJiYiJdKS5hcHBseShudWxsLGFyZ3VtZW50cyl9O3ZhciBkeW5DYWxsX2pqaj1Nb2R1bGVbImR5bkNhbGxfampqIl09ZnVuY3Rpb24oKXtyZXR1cm4oZHluQ2FsbF9qamo9TW9kdWxlWyJkeW5DYWxsX2pqaiJdPU1vZHVsZVsiYXNtIl1bImNiIl0pLmFwcGx5KG51bGwsYXJndW1lbnRzKX07dmFyIGR5bkNhbGxfamppPU1vZHVsZVsiZHluQ2FsbF9qamkiXT1mdW5jdGlvbigpe3JldHVybihkeW5DYWxsX2pqaT1Nb2R1bGVbImR5bkNhbGxfamppIl09TW9kdWxlWyJhc20iXVsiZGIiXSkuYXBwbHkobnVsbCxhcmd1bWVudHMpfTt2YXIgZHluQ2FsbF9qaWlpPU1vZHVsZVsiZHluQ2FsbF9qaWlpIl09ZnVuY3Rpb24oKXtyZXR1cm4oZHluQ2FsbF9qaWlpPU1vZHVsZVsiZHluQ2FsbF9qaWlpIl09TW9kdWxlWyJhc20iXVsiZWIiXSkuYXBwbHkobnVsbCxhcmd1bWVudHMpfTt2YXIgZHluQ2FsbF9paWlpamo9TW9kdWxlWyJkeW5DYWxsX2lpaWlqaiJdPWZ1bmN0aW9uKCl7cmV0dXJuKGR5bkNhbGxfaWlpaWpqPU1vZHVsZVsiZHluQ2FsbF9paWlpamoiXT1Nb2R1bGVbImFzbSJdWyJmYiJdKS5hcHBseShudWxsLGFyZ3VtZW50cyl9O3ZhciBkeW5DYWxsX3ZpaWpqPU1vZHVsZVsiZHluQ2FsbF92aWlqaiJdPWZ1bmN0aW9uKCl7cmV0dXJuKGR5bkNhbGxfdmlpamo9TW9kdWxlWyJkeW5DYWxsX3ZpaWpqIl09TW9kdWxlWyJhc20iXVsiZ2IiXSkuYXBwbHkobnVsbCxhcmd1bWVudHMpfTt2YXIgZHluQ2FsbF92aWlpampqaj1Nb2R1bGVbImR5bkNhbGxfdmlpaWpqamoiXT1mdW5jdGlvbigpe3JldHVybihkeW5DYWxsX3ZpaWlqampqPU1vZHVsZVsiZHluQ2FsbF92aWlpampqaiJdPU1vZHVsZVsiYXNtIl1bImhiIl0pLmFwcGx5KG51bGwsYXJndW1lbnRzKX07dmFyIGR5bkNhbGxfaWlqamlpaWk9TW9kdWxlWyJkeW5DYWxsX2lpamppaWlpIl09ZnVuY3Rpb24oKXtyZXR1cm4oZHluQ2FsbF9paWpqaWlpaT1Nb2R1bGVbImR5bkNhbGxfaWlqamlpaWkiXT1Nb2R1bGVbImFzbSJdWyJpYiJdKS5hcHBseShudWxsLGFyZ3VtZW50cyl9O3ZhciBkeW5DYWxsX2ppamk9TW9kdWxlWyJkeW5DYWxsX2ppamkiXT1mdW5jdGlvbigpe3JldHVybihkeW5DYWxsX2ppamk9TW9kdWxlWyJkeW5DYWxsX2ppamkiXT1Nb2R1bGVbImFzbSJdWyJqYiJdKS5hcHBseShudWxsLGFyZ3VtZW50cyl9O3ZhciBkeW5DYWxsX2o9TW9kdWxlWyJkeW5DYWxsX2oiXT1mdW5jdGlvbigpe3JldHVybihkeW5DYWxsX2o9TW9kdWxlWyJkeW5DYWxsX2oiXT1Nb2R1bGVbImFzbSJdWyJrYiJdKS5hcHBseShudWxsLGFyZ3VtZW50cyl9O3ZhciBkeW5DYWxsX3ZpaWppaT1Nb2R1bGVbImR5bkNhbGxfdmlpamlpIl09ZnVuY3Rpb24oKXtyZXR1cm4oZHluQ2FsbF92aWlqaWk9TW9kdWxlWyJkeW5DYWxsX3ZpaWppaSJdPU1vZHVsZVsiYXNtIl1bImxiIl0pLmFwcGx5KG51bGwsYXJndW1lbnRzKX07dmFyIGR5bkNhbGxfamlpaWk9TW9kdWxlWyJkeW5DYWxsX2ppaWlpIl09ZnVuY3Rpb24oKXtyZXR1cm4oZHluQ2FsbF9qaWlpaT1Nb2R1bGVbImR5bkNhbGxfamlpaWkiXT1Nb2R1bGVbImFzbSJdWyJtYiJdKS5hcHBseShudWxsLGFyZ3VtZW50cyl9O3ZhciBkeW5DYWxsX2lpaWlpaj1Nb2R1bGVbImR5bkNhbGxfaWlpaWlqIl09ZnVuY3Rpb24oKXtyZXR1cm4oZHluQ2FsbF9paWlpaWo9TW9kdWxlWyJkeW5DYWxsX2lpaWlpaiJdPU1vZHVsZVsiYXNtIl1bIm5iIl0pLmFwcGx5KG51bGwsYXJndW1lbnRzKX07dmFyIGR5bkNhbGxfaWlpaWlqaj1Nb2R1bGVbImR5bkNhbGxfaWlpaWlqaiJdPWZ1bmN0aW9uKCl7cmV0dXJuKGR5bkNhbGxfaWlpaWlqaj1Nb2R1bGVbImR5bkNhbGxfaWlpaWlqaiJdPU1vZHVsZVsiYXNtIl1bIm9iIl0pLmFwcGx5KG51bGwsYXJndW1lbnRzKX07dmFyIGR5bkNhbGxfaWlpaWlpamo9TW9kdWxlWyJkeW5DYWxsX2lpaWlpaWpqIl09ZnVuY3Rpb24oKXtyZXR1cm4oZHluQ2FsbF9paWlpaWlqaj1Nb2R1bGVbImR5bkNhbGxfaWlpaWlpamoiXT1Nb2R1bGVbImFzbSJdWyJwYiJdKS5hcHBseShudWxsLGFyZ3VtZW50cyl9O2Z1bmN0aW9uIGludm9rZV9paShpbmRleCxhMSl7dmFyIHNwPXN0YWNrU2F2ZSgpO3RyeXtyZXR1cm4gZ2V0V2FzbVRhYmxlRW50cnkoaW5kZXgpKGExKX1jYXRjaChlKXtzdGFja1Jlc3RvcmUoc3ApO2lmKGUhPT1lKzApdGhyb3cgZTtfc2V0VGhyZXcoMSwwKX19ZnVuY3Rpb24gaW52b2tlX2lpaShpbmRleCxhMSxhMil7dmFyIHNwPXN0YWNrU2F2ZSgpO3RyeXtyZXR1cm4gZ2V0V2FzbVRhYmxlRW50cnkoaW5kZXgpKGExLGEyKX1jYXRjaChlKXtzdGFja1Jlc3RvcmUoc3ApO2lmKGUhPT1lKzApdGhyb3cgZTtfc2V0VGhyZXcoMSwwKX19ZnVuY3Rpb24gaW52b2tlX3ZpKGluZGV4LGExKXt2YXIgc3A9c3RhY2tTYXZlKCk7dHJ5e2dldFdhc21UYWJsZUVudHJ5KGluZGV4KShhMSl9Y2F0Y2goZSl7c3RhY2tSZXN0b3JlKHNwKTtpZihlIT09ZSswKXRocm93IGU7X3NldFRocmV3KDEsMCl9fWZ1bmN0aW9uIGludm9rZV9paWlpKGluZGV4LGExLGEyLGEzKXt2YXIgc3A9c3RhY2tTYXZlKCk7dHJ5e3JldHVybiBnZXRXYXNtVGFibGVFbnRyeShpbmRleCkoYTEsYTIsYTMpfWNhdGNoKGUpe3N0YWNrUmVzdG9yZShzcCk7aWYoZSE9PWUrMCl0aHJvdyBlO19zZXRUaHJldygxLDApfX1mdW5jdGlvbiBpbnZva2VfdmlpKGluZGV4LGExLGEyKXt2YXIgc3A9c3RhY2tTYXZlKCk7dHJ5e2dldFdhc21UYWJsZUVudHJ5KGluZGV4KShhMSxhMil9Y2F0Y2goZSl7c3RhY2tSZXN0b3JlKHNwKTtpZihlIT09ZSswKXRocm93IGU7X3NldFRocmV3KDEsMCl9fWZ1bmN0aW9uIGludm9rZV9pKGluZGV4KXt2YXIgc3A9c3RhY2tTYXZlKCk7dHJ5e3JldHVybiBnZXRXYXNtVGFibGVFbnRyeShpbmRleCkoKX1jYXRjaChlKXtzdGFja1Jlc3RvcmUoc3ApO2lmKGUhPT1lKzApdGhyb3cgZTtfc2V0VGhyZXcoMSwwKX19ZnVuY3Rpb24gaW52b2tlX3ZpaWkoaW5kZXgsYTEsYTIsYTMpe3ZhciBzcD1zdGFja1NhdmUoKTt0cnl7Z2V0V2FzbVRhYmxlRW50cnkoaW5kZXgpKGExLGEyLGEzKX1jYXRjaChlKXtzdGFja1Jlc3RvcmUoc3ApO2lmKGUhPT1lKzApdGhyb3cgZTtfc2V0VGhyZXcoMSwwKX19ZnVuY3Rpb24gaW52b2tlX2ZpKGluZGV4LGExKXt2YXIgc3A9c3RhY2tTYXZlKCk7dHJ5e3JldHVybiBnZXRXYXNtVGFibGVFbnRyeShpbmRleCkoYTEpfWNhdGNoKGUpe3N0YWNrUmVzdG9yZShzcCk7aWYoZSE9PWUrMCl0aHJvdyBlO19zZXRUaHJldygxLDApfX1mdW5jdGlvbiBpbnZva2VfaWlpaWlpaShpbmRleCxhMSxhMixhMyxhNCxhNSxhNil7dmFyIHNwPXN0YWNrU2F2ZSgpO3RyeXtyZXR1cm4gZ2V0V2FzbVRhYmxlRW50cnkoaW5kZXgpKGExLGEyLGEzLGE0LGE1LGE2KX1jYXRjaChlKXtzdGFja1Jlc3RvcmUoc3ApO2lmKGUhPT1lKzApdGhyb3cgZTtfc2V0VGhyZXcoMSwwKX19ZnVuY3Rpb24gaW52b2tlX3ZpaWlpaShpbmRleCxhMSxhMixhMyxhNCxhNSl7dmFyIHNwPXN0YWNrU2F2ZSgpO3RyeXtnZXRXYXNtVGFibGVFbnRyeShpbmRleCkoYTEsYTIsYTMsYTQsYTUpfWNhdGNoKGUpe3N0YWNrUmVzdG9yZShzcCk7aWYoZSE9PWUrMCl0aHJvdyBlO19zZXRUaHJldygxLDApfX1mdW5jdGlvbiBpbnZva2VfdmlpaWlpaWlkaShpbmRleCxhMSxhMixhMyxhNCxhNSxhNixhNyxhOCxhOSl7dmFyIHNwPXN0YWNrU2F2ZSgpO3RyeXtnZXRXYXNtVGFibGVFbnRyeShpbmRleCkoYTEsYTIsYTMsYTQsYTUsYTYsYTcsYTgsYTkpfWNhdGNoKGUpe3N0YWNrUmVzdG9yZShzcCk7aWYoZSE9PWUrMCl0aHJvdyBlO19zZXRUaHJldygxLDApfX1mdW5jdGlvbiBpbnZva2VfaWlpaWlpKGluZGV4LGExLGEyLGEzLGE0LGE1KXt2YXIgc3A9c3RhY2tTYXZlKCk7dHJ5e3JldHVybiBnZXRXYXNtVGFibGVFbnRyeShpbmRleCkoYTEsYTIsYTMsYTQsYTUpfWNhdGNoKGUpe3N0YWNrUmVzdG9yZShzcCk7aWYoZSE9PWUrMCl0aHJvdyBlO19zZXRUaHJldygxLDApfX1mdW5jdGlvbiBpbnZva2VfdihpbmRleCl7dmFyIHNwPXN0YWNrU2F2ZSgpO3RyeXtnZXRXYXNtVGFibGVFbnRyeShpbmRleCkoKX1jYXRjaChlKXtzdGFja1Jlc3RvcmUoc3ApO2lmKGUhPT1lKzApdGhyb3cgZTtfc2V0VGhyZXcoMSwwKX19ZnVuY3Rpb24gaW52b2tlX3ZpaWlpZGkoaW5kZXgsYTEsYTIsYTMsYTQsYTUsYTYpe3ZhciBzcD1zdGFja1NhdmUoKTt0cnl7Z2V0V2FzbVRhYmxlRW50cnkoaW5kZXgpKGExLGEyLGEzLGE0LGE1LGE2KX1jYXRjaChlKXtzdGFja1Jlc3RvcmUoc3ApO2lmKGUhPT1lKzApdGhyb3cgZTtfc2V0VGhyZXcoMSwwKX19ZnVuY3Rpb24gaW52b2tlX3ZpaWlkaWlpKGluZGV4LGExLGEyLGEzLGE0LGE1LGE2LGE3KXt2YXIgc3A9c3RhY2tTYXZlKCk7dHJ5e2dldFdhc21UYWJsZUVudHJ5KGluZGV4KShhMSxhMixhMyxhNCxhNSxhNixhNyl9Y2F0Y2goZSl7c3RhY2tSZXN0b3JlKHNwKTtpZihlIT09ZSswKXRocm93IGU7X3NldFRocmV3KDEsMCl9fWZ1bmN0aW9uIGludm9rZV92aWlkKGluZGV4LGExLGEyLGEzKXt2YXIgc3A9c3RhY2tTYXZlKCk7dHJ5e2dldFdhc21UYWJsZUVudHJ5KGluZGV4KShhMSxhMixhMyl9Y2F0Y2goZSl7c3RhY2tSZXN0b3JlKHNwKTtpZihlIT09ZSswKXRocm93IGU7X3NldFRocmV3KDEsMCl9fWZ1bmN0aW9uIGludm9rZV92aWlpaWlpaWkoaW5kZXgsYTEsYTIsYTMsYTQsYTUsYTYsYTcsYTgpe3ZhciBzcD1zdGFja1NhdmUoKTt0cnl7Z2V0V2FzbVRhYmxlRW50cnkoaW5kZXgpKGExLGEyLGEzLGE0LGE1LGE2LGE3LGE4KX1jYXRjaChlKXtzdGFja1Jlc3RvcmUoc3ApO2lmKGUhPT1lKzApdGhyb3cgZTtfc2V0VGhyZXcoMSwwKX19ZnVuY3Rpb24gaW52b2tlX2lpaWlpKGluZGV4LGExLGEyLGEzLGE0KXt2YXIgc3A9c3RhY2tTYXZlKCk7dHJ5e3JldHVybiBnZXRXYXNtVGFibGVFbnRyeShpbmRleCkoYTEsYTIsYTMsYTQpfWNhdGNoKGUpe3N0YWNrUmVzdG9yZShzcCk7aWYoZSE9PWUrMCl0aHJvdyBlO19zZXRUaHJldygxLDApfX1mdW5jdGlvbiBpbnZva2VfdmlpZGkoaW5kZXgsYTEsYTIsYTMsYTQpe3ZhciBzcD1zdGFja1NhdmUoKTt0cnl7Z2V0V2FzbVRhYmxlRW50cnkoaW5kZXgpKGExLGEyLGEzLGE0KX1jYXRjaChlKXtzdGFja1Jlc3RvcmUoc3ApO2lmKGUhPT1lKzApdGhyb3cgZTtfc2V0VGhyZXcoMSwwKX19ZnVuY3Rpb24gaW52b2tlX3ZpaWlpKGluZGV4LGExLGEyLGEzLGE0KXt2YXIgc3A9c3RhY2tTYXZlKCk7dHJ5e2dldFdhc21UYWJsZUVudHJ5KGluZGV4KShhMSxhMixhMyxhNCl9Y2F0Y2goZSl7c3RhY2tSZXN0b3JlKHNwKTtpZihlIT09ZSswKXRocm93IGU7X3NldFRocmV3KDEsMCl9fWZ1bmN0aW9uIGludm9rZV9paWRpaShpbmRleCxhMSxhMixhMyxhNCl7dmFyIHNwPXN0YWNrU2F2ZSgpO3RyeXtyZXR1cm4gZ2V0V2FzbVRhYmxlRW50cnkoaW5kZXgpKGExLGEyLGEzLGE0KX1jYXRjaChlKXtzdGFja1Jlc3RvcmUoc3ApO2lmKGUhPT1lKzApdGhyb3cgZTtfc2V0VGhyZXcoMSwwKX19ZnVuY3Rpb24gaW52b2tlX2lpaWlpZChpbmRleCxhMSxhMixhMyxhNCxhNSl7dmFyIHNwPXN0YWNrU2F2ZSgpO3RyeXtyZXR1cm4gZ2V0V2FzbVRhYmxlRW50cnkoaW5kZXgpKGExLGEyLGEzLGE0LGE1KX1jYXRjaChlKXtzdGFja1Jlc3RvcmUoc3ApO2lmKGUhPT1lKzApdGhyb3cgZTtfc2V0VGhyZXcoMSwwKX19ZnVuY3Rpb24gaW52b2tlX2lpaWlpaWlpKGluZGV4LGExLGEyLGEzLGE0LGE1LGE2LGE3KXt2YXIgc3A9c3RhY2tTYXZlKCk7dHJ5e3JldHVybiBnZXRXYXNtVGFibGVFbnRyeShpbmRleCkoYTEsYTIsYTMsYTQsYTUsYTYsYTcpfWNhdGNoKGUpe3N0YWNrUmVzdG9yZShzcCk7aWYoZSE9PWUrMCl0aHJvdyBlO19zZXRUaHJldygxLDApfX1mdW5jdGlvbiBpbnZva2VfZmlpaShpbmRleCxhMSxhMixhMyl7dmFyIHNwPXN0YWNrU2F2ZSgpO3RyeXtyZXR1cm4gZ2V0V2FzbVRhYmxlRW50cnkoaW5kZXgpKGExLGEyLGEzKX1jYXRjaChlKXtzdGFja1Jlc3RvcmUoc3ApO2lmKGUhPT1lKzApdGhyb3cgZTtfc2V0VGhyZXcoMSwwKX19ZnVuY3Rpb24gaW52b2tlX2RpaWkoaW5kZXgsYTEsYTIsYTMpe3ZhciBzcD1zdGFja1NhdmUoKTt0cnl7cmV0dXJuIGdldFdhc21UYWJsZUVudHJ5KGluZGV4KShhMSxhMixhMyl9Y2F0Y2goZSl7c3RhY2tSZXN0b3JlKHNwKTtpZihlIT09ZSswKXRocm93IGU7X3NldFRocmV3KDEsMCl9fWZ1bmN0aW9uIGludm9rZV92aWlpaWlpaShpbmRleCxhMSxhMixhMyxhNCxhNSxhNixhNyl7dmFyIHNwPXN0YWNrU2F2ZSgpO3RyeXtnZXRXYXNtVGFibGVFbnRyeShpbmRleCkoYTEsYTIsYTMsYTQsYTUsYTYsYTcpfWNhdGNoKGUpe3N0YWNrUmVzdG9yZShzcCk7aWYoZSE9PWUrMCl0aHJvdyBlO19zZXRUaHJldygxLDApfX1mdW5jdGlvbiBpbnZva2VfaWlpaWlpaWlpaWlpKGluZGV4LGExLGEyLGEzLGE0LGE1LGE2LGE3LGE4LGE5LGExMCxhMTEpe3ZhciBzcD1zdGFja1NhdmUoKTt0cnl7cmV0dXJuIGdldFdhc21UYWJsZUVudHJ5KGluZGV4KShhMSxhMixhMyxhNCxhNSxhNixhNyxhOCxhOSxhMTAsYTExKX1jYXRjaChlKXtzdGFja1Jlc3RvcmUoc3ApO2lmKGUhPT1lKzApdGhyb3cgZTtfc2V0VGhyZXcoMSwwKX19ZnVuY3Rpb24gaW52b2tlX3ZpaWlpaWlpaWlpKGluZGV4LGExLGEyLGEzLGE0LGE1LGE2LGE3LGE4LGE5LGExMCl7dmFyIHNwPXN0YWNrU2F2ZSgpO3RyeXtnZXRXYXNtVGFibGVFbnRyeShpbmRleCkoYTEsYTIsYTMsYTQsYTUsYTYsYTcsYTgsYTksYTEwKX1jYXRjaChlKXtzdGFja1Jlc3RvcmUoc3ApO2lmKGUhPT1lKzApdGhyb3cgZTtfc2V0VGhyZXcoMSwwKX19ZnVuY3Rpb24gaW52b2tlX3ZpaWlpaWlpaWlpaWlpaWkoaW5kZXgsYTEsYTIsYTMsYTQsYTUsYTYsYTcsYTgsYTksYTEwLGExMSxhMTIsYTEzLGExNCxhMTUpe3ZhciBzcD1zdGFja1NhdmUoKTt0cnl7Z2V0V2FzbVRhYmxlRW50cnkoaW5kZXgpKGExLGEyLGEzLGE0LGE1LGE2LGE3LGE4LGE5LGExMCxhMTEsYTEyLGExMyxhMTQsYTE1KX1jYXRjaChlKXtzdGFja1Jlc3RvcmUoc3ApO2lmKGUhPT1lKzApdGhyb3cgZTtfc2V0VGhyZXcoMSwwKX19ZnVuY3Rpb24gaW52b2tlX2ooaW5kZXgpe3ZhciBzcD1zdGFja1NhdmUoKTt0cnl7cmV0dXJuIGR5bkNhbGxfaihpbmRleCl9Y2F0Y2goZSl7c3RhY2tSZXN0b3JlKHNwKTtpZihlIT09ZSswKXRocm93IGU7X3NldFRocmV3KDEsMCl9fWZ1bmN0aW9uIGludm9rZV9qaWlpaShpbmRleCxhMSxhMixhMyxhNCl7dmFyIHNwPXN0YWNrU2F2ZSgpO3RyeXtyZXR1cm4gZHluQ2FsbF9qaWlpaShpbmRleCxhMSxhMixhMyxhNCl9Y2F0Y2goZSl7c3RhY2tSZXN0b3JlKHNwKTtpZihlIT09ZSswKXRocm93IGU7X3NldFRocmV3KDEsMCl9fXZhciBjYWxsZWRSdW47ZnVuY3Rpb24gRXhpdFN0YXR1cyhzdGF0dXMpe3RoaXMubmFtZT0iRXhpdFN0YXR1cyI7dGhpcy5tZXNzYWdlPSJQcm9ncmFtIHRlcm1pbmF0ZWQgd2l0aCBleGl0KCIrc3RhdHVzKyIpIjt0aGlzLnN0YXR1cz1zdGF0dXN9ZGVwZW5kZW5jaWVzRnVsZmlsbGVkPWZ1bmN0aW9uIHJ1bkNhbGxlcigpe2lmKCFjYWxsZWRSdW4pcnVuKCk7aWYoIWNhbGxlZFJ1bilkZXBlbmRlbmNpZXNGdWxmaWxsZWQ9cnVuQ2FsbGVyfTtmdW5jdGlvbiBydW4oYXJncyl7YXJncz1hcmdzfHxhcmd1bWVudHNfO2lmKHJ1bkRlcGVuZGVuY2llcz4wKXtyZXR1cm59cHJlUnVuKCk7aWYocnVuRGVwZW5kZW5jaWVzPjApe3JldHVybn1mdW5jdGlvbiBkb1J1bigpe2lmKGNhbGxlZFJ1bilyZXR1cm47Y2FsbGVkUnVuPXRydWU7TW9kdWxlWyJjYWxsZWRSdW4iXT10cnVlO2lmKEFCT1JUKXJldHVybjtpbml0UnVudGltZSgpO3JlYWR5UHJvbWlzZVJlc29sdmUoTW9kdWxlKTtpZihNb2R1bGVbIm9uUnVudGltZUluaXRpYWxpemVkIl0pTW9kdWxlWyJvblJ1bnRpbWVJbml0aWFsaXplZCJdKCk7cG9zdFJ1bigpfWlmKE1vZHVsZVsic2V0U3RhdHVzIl0pe01vZHVsZVsic2V0U3RhdHVzIl0oIlJ1bm5pbmcuLi4iKTtzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7c2V0VGltZW91dChmdW5jdGlvbigpe01vZHVsZVsic2V0U3RhdHVzIl0oIiIpfSwxKTtkb1J1bigpfSwxKX1lbHNle2RvUnVuKCl9fU1vZHVsZVsicnVuIl09cnVuO2Z1bmN0aW9uIGV4aXQoc3RhdHVzLGltcGxpY2l0KXtFWElUU1RBVFVTPXN0YXR1cztpZigha2VlcFJ1bnRpbWVBbGl2ZSgpKXtleGl0UnVudGltZSgpfXByb2NFeGl0KHN0YXR1cyl9ZnVuY3Rpb24gcHJvY0V4aXQoY29kZSl7RVhJVFNUQVRVUz1jb2RlO2lmKCFrZWVwUnVudGltZUFsaXZlKCkpe2lmKE1vZHVsZVsib25FeGl0Il0pTW9kdWxlWyJvbkV4aXQiXShjb2RlKTtBQk9SVD10cnVlfXF1aXRfKGNvZGUsbmV3IEV4aXRTdGF0dXMoY29kZSkpfWlmKE1vZHVsZVsicHJlSW5pdCJdKXtpZih0eXBlb2YgTW9kdWxlWyJwcmVJbml0Il09PSJmdW5jdGlvbiIpTW9kdWxlWyJwcmVJbml0Il09W01vZHVsZVsicHJlSW5pdCJdXTt3aGlsZShNb2R1bGVbInByZUluaXQiXS5sZW5ndGg+MCl7TW9kdWxlWyJwcmVJbml0Il0ucG9wKCkoKX19cnVuKCk7CgoKICByZXR1cm4gTW9kdWxlLnJlYWR5Cn0KKTsKfSkoKTsKY3JlYXRlV2FzbU1vbm9JbnN0YW5jZSA9IE1vZHVsZTsgfSAgICAKICAgIAogICAgICAgICAgICBsZXQgY3JlYXRlV2FzbU11bHRpSW5zdGFuY2U7IHsKCnZhciBNb2R1bGUgPSAoKCkgPT4gewogIHZhciBfc2NyaXB0RGlyID0gbG9jYXRpb24uaHJlZjsKICAKICByZXR1cm4gKApmdW5jdGlvbihNb2R1bGUpIHsKICBNb2R1bGUgPSBNb2R1bGUgfHwge307CgpmdW5jdGlvbiBHUk9XQUJMRV9IRUFQX0k4KCl7aWYod2FzbU1lbW9yeS5idWZmZXIhPWJ1ZmZlcil7dXBkYXRlR2xvYmFsQnVmZmVyQW5kVmlld3Mod2FzbU1lbW9yeS5idWZmZXIpfXJldHVybiBIRUFQOH1mdW5jdGlvbiBHUk9XQUJMRV9IRUFQX1U4KCl7aWYod2FzbU1lbW9yeS5idWZmZXIhPWJ1ZmZlcil7dXBkYXRlR2xvYmFsQnVmZmVyQW5kVmlld3Mod2FzbU1lbW9yeS5idWZmZXIpfXJldHVybiBIRUFQVTh9ZnVuY3Rpb24gR1JPV0FCTEVfSEVBUF9JMTYoKXtpZih3YXNtTWVtb3J5LmJ1ZmZlciE9YnVmZmVyKXt1cGRhdGVHbG9iYWxCdWZmZXJBbmRWaWV3cyh3YXNtTWVtb3J5LmJ1ZmZlcil9cmV0dXJuIEhFQVAxNn1mdW5jdGlvbiBHUk9XQUJMRV9IRUFQX1UxNigpe2lmKHdhc21NZW1vcnkuYnVmZmVyIT1idWZmZXIpe3VwZGF0ZUdsb2JhbEJ1ZmZlckFuZFZpZXdzKHdhc21NZW1vcnkuYnVmZmVyKX1yZXR1cm4gSEVBUFUxNn1mdW5jdGlvbiBHUk9XQUJMRV9IRUFQX0kzMigpe2lmKHdhc21NZW1vcnkuYnVmZmVyIT1idWZmZXIpe3VwZGF0ZUdsb2JhbEJ1ZmZlckFuZFZpZXdzKHdhc21NZW1vcnkuYnVmZmVyKX1yZXR1cm4gSEVBUDMyfWZ1bmN0aW9uIEdST1dBQkxFX0hFQVBfVTMyKCl7aWYod2FzbU1lbW9yeS5idWZmZXIhPWJ1ZmZlcil7dXBkYXRlR2xvYmFsQnVmZmVyQW5kVmlld3Mod2FzbU1lbW9yeS5idWZmZXIpfXJldHVybiBIRUFQVTMyfWZ1bmN0aW9uIEdST1dBQkxFX0hFQVBfRjMyKCl7aWYod2FzbU1lbW9yeS5idWZmZXIhPWJ1ZmZlcil7dXBkYXRlR2xvYmFsQnVmZmVyQW5kVmlld3Mod2FzbU1lbW9yeS5idWZmZXIpfXJldHVybiBIRUFQRjMyfWZ1bmN0aW9uIEdST1dBQkxFX0hFQVBfRjY0KCl7aWYod2FzbU1lbW9yeS5idWZmZXIhPWJ1ZmZlcil7dXBkYXRlR2xvYmFsQnVmZmVyQW5kVmlld3Mod2FzbU1lbW9yeS5idWZmZXIpfXJldHVybiBIRUFQRjY0fXZhciBNb2R1bGU9dHlwZW9mIE1vZHVsZSE9InVuZGVmaW5lZCI/TW9kdWxlOnt9O3ZhciByZWFkeVByb21pc2VSZXNvbHZlLHJlYWR5UHJvbWlzZVJlamVjdDtNb2R1bGVbInJlYWR5Il09bmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSxyZWplY3Qpe3JlYWR5UHJvbWlzZVJlc29sdmU9cmVzb2x2ZTtyZWFkeVByb21pc2VSZWplY3Q9cmVqZWN0fSk7dmFyIG1vZHVsZU92ZXJyaWRlcz1PYmplY3QuYXNzaWduKHt9LE1vZHVsZSk7dmFyIGFyZ3VtZW50c189W107dmFyIHRoaXNQcm9ncmFtPSIuL3RoaXMucHJvZ3JhbSI7dmFyIHF1aXRfPShzdGF0dXMsdG9UaHJvdyk9Pnt0aHJvdyB0b1Rocm93fTt2YXIgRU5WSVJPTk1FTlRfSVNfV0VCPXR5cGVvZiB3aW5kb3c9PSJvYmplY3QiO3ZhciBFTlZJUk9OTUVOVF9JU19XT1JLRVI9dHlwZW9mIGltcG9ydFNjcmlwdHM9PSJmdW5jdGlvbiI7dmFyIEVOVklST05NRU5UX0lTX05PREU9dHlwZW9mIHByb2Nlc3M9PSJvYmplY3QiJiZ0eXBlb2YgcHJvY2Vzcy52ZXJzaW9ucz09Im9iamVjdCImJnR5cGVvZiBwcm9jZXNzLnZlcnNpb25zLm5vZGU9PSJzdHJpbmciO3ZhciBFTlZJUk9OTUVOVF9JU19QVEhSRUFEPU1vZHVsZVsiRU5WSVJPTk1FTlRfSVNfUFRIUkVBRCJdfHxmYWxzZTt2YXIgc2NyaXB0RGlyZWN0b3J5PSIiO2Z1bmN0aW9uIGxvY2F0ZUZpbGUocGF0aCl7aWYoTW9kdWxlWyJsb2NhdGVGaWxlIl0pe3JldHVybiBNb2R1bGVbImxvY2F0ZUZpbGUiXShwYXRoLHNjcmlwdERpcmVjdG9yeSl9cmV0dXJuIHNjcmlwdERpcmVjdG9yeStwYXRofXZhciByZWFkXyxyZWFkQXN5bmMscmVhZEJpbmFyeSxzZXRXaW5kb3dUaXRsZTtpZihFTlZJUk9OTUVOVF9JU19XRUJ8fEVOVklST05NRU5UX0lTX1dPUktFUil7aWYoRU5WSVJPTk1FTlRfSVNfV09SS0VSKXtzY3JpcHREaXJlY3Rvcnk9c2VsZi5sb2NhdGlvbi5ocmVmfWVsc2UgaWYodHlwZW9mIGRvY3VtZW50IT0idW5kZWZpbmVkIiYmZG9jdW1lbnQuY3VycmVudFNjcmlwdCl7c2NyaXB0RGlyZWN0b3J5PWRvY3VtZW50LmN1cnJlbnRTY3JpcHQuc3JjfWlmKF9zY3JpcHREaXIpe3NjcmlwdERpcmVjdG9yeT1fc2NyaXB0RGlyfWlmKHNjcmlwdERpcmVjdG9yeS5pbmRleE9mKCJibG9iOiIpIT09MCl7c2NyaXB0RGlyZWN0b3J5PXNjcmlwdERpcmVjdG9yeS5zdWJzdHIoMCxzY3JpcHREaXJlY3RvcnkucmVwbGFjZSgvWz8jXS4qLywiIikubGFzdEluZGV4T2YoIi8iKSsxKX1lbHNle3NjcmlwdERpcmVjdG9yeT0iIn17cmVhZF89KHVybD0+e3ZhciB4aHI9bmV3IFhNTEh0dHBSZXF1ZXN0O3hoci5vcGVuKCJHRVQiLHVybCxmYWxzZSk7eGhyLnNlbmQobnVsbCk7cmV0dXJuIHhoci5yZXNwb25zZVRleHR9KTtpZihFTlZJUk9OTUVOVF9JU19XT1JLRVIpe3JlYWRCaW5hcnk9KHVybD0+e3ZhciB4aHI9bmV3IFhNTEh0dHBSZXF1ZXN0O3hoci5vcGVuKCJHRVQiLHVybCxmYWxzZSk7eGhyLnJlc3BvbnNlVHlwZT0iYXJyYXlidWZmZXIiO3hoci5zZW5kKG51bGwpO3JldHVybiBuZXcgVWludDhBcnJheSh4aHIucmVzcG9uc2UpfSl9cmVhZEFzeW5jPSgodXJsLG9ubG9hZCxvbmVycm9yKT0+e3ZhciB4aHI9bmV3IFhNTEh0dHBSZXF1ZXN0O3hoci5vcGVuKCJHRVQiLHVybCx0cnVlKTt4aHIucmVzcG9uc2VUeXBlPSJhcnJheWJ1ZmZlciI7eGhyLm9ubG9hZD0oKCk9PntpZih4aHIuc3RhdHVzPT0yMDB8fHhoci5zdGF0dXM9PTAmJnhoci5yZXNwb25zZSl7b25sb2FkKHhoci5yZXNwb25zZSk7cmV0dXJufW9uZXJyb3IoKX0pO3hoci5vbmVycm9yPW9uZXJyb3I7eGhyLnNlbmQobnVsbCl9KX1zZXRXaW5kb3dUaXRsZT0odGl0bGU9PmRvY3VtZW50LnRpdGxlPXRpdGxlKX1lbHNle312YXIgb3V0PU1vZHVsZVsicHJpbnQiXXx8Y29uc29sZS5sb2cuYmluZChjb25zb2xlKTt2YXIgZXJyPU1vZHVsZVsicHJpbnRFcnIiXXx8Y29uc29sZS53YXJuLmJpbmQoY29uc29sZSk7T2JqZWN0LmFzc2lnbihNb2R1bGUsbW9kdWxlT3ZlcnJpZGVzKTttb2R1bGVPdmVycmlkZXM9bnVsbDtpZihNb2R1bGVbImFyZ3VtZW50cyJdKWFyZ3VtZW50c189TW9kdWxlWyJhcmd1bWVudHMiXTtpZihNb2R1bGVbInRoaXNQcm9ncmFtIl0pdGhpc1Byb2dyYW09TW9kdWxlWyJ0aGlzUHJvZ3JhbSJdO2lmKE1vZHVsZVsicXVpdCJdKXF1aXRfPU1vZHVsZVsicXVpdCJdO2Z1bmN0aW9uIHdhcm5PbmNlKHRleHQpe2lmKCF3YXJuT25jZS5zaG93bil3YXJuT25jZS5zaG93bj17fTtpZighd2Fybk9uY2Uuc2hvd25bdGV4dF0pe3dhcm5PbmNlLnNob3duW3RleHRdPTE7ZXJyKHRleHQpfX12YXIgdGVtcFJldDA9MDt2YXIgc2V0VGVtcFJldDA9dmFsdWU9Pnt0ZW1wUmV0MD12YWx1ZX07dmFyIGdldFRlbXBSZXQwPSgpPT50ZW1wUmV0MDt2YXIgQXRvbWljc19sb2FkPUF0b21pY3MubG9hZDt2YXIgQXRvbWljc19zdG9yZT1BdG9taWNzLnN0b3JlO3ZhciBBdG9taWNzX2NvbXBhcmVFeGNoYW5nZT1BdG9taWNzLmNvbXBhcmVFeGNoYW5nZTt2YXIgd2FzbUJpbmFyeTtpZihNb2R1bGVbIndhc21CaW5hcnkiXSl3YXNtQmluYXJ5PU1vZHVsZVsid2FzbUJpbmFyeSJdO3ZhciBub0V4aXRSdW50aW1lPU1vZHVsZVsibm9FeGl0UnVudGltZSJdfHxmYWxzZTtpZih0eXBlb2YgV2ViQXNzZW1ibHkhPSJvYmplY3QiKXthYm9ydCgibm8gbmF0aXZlIHdhc20gc3VwcG9ydCBkZXRlY3RlZCIpfXZhciB3YXNtTWVtb3J5O3ZhciB3YXNtTW9kdWxlO3ZhciBBQk9SVD1mYWxzZTt2YXIgRVhJVFNUQVRVUztmdW5jdGlvbiBhc3NlcnQoY29uZGl0aW9uLHRleHQpe2lmKCFjb25kaXRpb24pe2Fib3J0KHRleHQpfX12YXIgVVRGOERlY29kZXI9dHlwZW9mIFRleHREZWNvZGVyIT0idW5kZWZpbmVkIj9uZXcgVGV4dERlY29kZXIoInV0ZjgiKTp1bmRlZmluZWQ7ZnVuY3Rpb24gVVRGOEFycmF5VG9TdHJpbmcoaGVhcE9yQXJyYXksaWR4LG1heEJ5dGVzVG9SZWFkKXt2YXIgZW5kSWR4PWlkeCttYXhCeXRlc1RvUmVhZDt2YXIgZW5kUHRyPWlkeDt3aGlsZShoZWFwT3JBcnJheVtlbmRQdHJdJiYhKGVuZFB0cj49ZW5kSWR4KSkrK2VuZFB0cjtpZihlbmRQdHItaWR4PjE2JiZoZWFwT3JBcnJheS5idWZmZXImJlVURjhEZWNvZGVyKXtyZXR1cm4gVVRGOERlY29kZXIuZGVjb2RlKGhlYXBPckFycmF5LmJ1ZmZlciBpbnN0YW5jZW9mIFNoYXJlZEFycmF5QnVmZmVyP2hlYXBPckFycmF5LnNsaWNlKGlkeCxlbmRQdHIpOmhlYXBPckFycmF5LnN1YmFycmF5KGlkeCxlbmRQdHIpKX1lbHNle3ZhciBzdHI9IiI7d2hpbGUoaWR4PGVuZFB0cil7dmFyIHUwPWhlYXBPckFycmF5W2lkeCsrXTtpZighKHUwJjEyOCkpe3N0cis9U3RyaW5nLmZyb21DaGFyQ29kZSh1MCk7Y29udGludWV9dmFyIHUxPWhlYXBPckFycmF5W2lkeCsrXSY2MztpZigodTAmMjI0KT09MTkyKXtzdHIrPVN0cmluZy5mcm9tQ2hhckNvZGUoKHUwJjMxKTw8Nnx1MSk7Y29udGludWV9dmFyIHUyPWhlYXBPckFycmF5W2lkeCsrXSY2MztpZigodTAmMjQwKT09MjI0KXt1MD0odTAmMTUpPDwxMnx1MTw8Nnx1Mn1lbHNle3UwPSh1MCY3KTw8MTh8dTE8PDEyfHUyPDw2fGhlYXBPckFycmF5W2lkeCsrXSY2M31pZih1MDw2NTUzNil7c3RyKz1TdHJpbmcuZnJvbUNoYXJDb2RlKHUwKX1lbHNle3ZhciBjaD11MC02NTUzNjtzdHIrPVN0cmluZy5mcm9tQ2hhckNvZGUoNTUyOTZ8Y2g+PjEwLDU2MzIwfGNoJjEwMjMpfX19cmV0dXJuIHN0cn1mdW5jdGlvbiBVVEY4VG9TdHJpbmcocHRyLG1heEJ5dGVzVG9SZWFkKXtyZXR1cm4gcHRyP1VURjhBcnJheVRvU3RyaW5nKEdST1dBQkxFX0hFQVBfVTgoKSxwdHIsbWF4Qnl0ZXNUb1JlYWQpOiIifWZ1bmN0aW9uIHN0cmluZ1RvVVRGOEFycmF5KHN0cixoZWFwLG91dElkeCxtYXhCeXRlc1RvV3JpdGUpe2lmKCEobWF4Qnl0ZXNUb1dyaXRlPjApKXJldHVybiAwO3ZhciBzdGFydElkeD1vdXRJZHg7dmFyIGVuZElkeD1vdXRJZHgrbWF4Qnl0ZXNUb1dyaXRlLTE7Zm9yKHZhciBpPTA7aTxzdHIubGVuZ3RoOysraSl7dmFyIHU9c3RyLmNoYXJDb2RlQXQoaSk7aWYodT49NTUyOTYmJnU8PTU3MzQzKXt2YXIgdTE9c3RyLmNoYXJDb2RlQXQoKytpKTt1PTY1NTM2KygodSYxMDIzKTw8MTApfHUxJjEwMjN9aWYodTw9MTI3KXtpZihvdXRJZHg+PWVuZElkeClicmVhaztoZWFwW291dElkeCsrXT11fWVsc2UgaWYodTw9MjA0Nyl7aWYob3V0SWR4KzE+PWVuZElkeClicmVhaztoZWFwW291dElkeCsrXT0xOTJ8dT4+NjtoZWFwW291dElkeCsrXT0xMjh8dSY2M31lbHNlIGlmKHU8PTY1NTM1KXtpZihvdXRJZHgrMj49ZW5kSWR4KWJyZWFrO2hlYXBbb3V0SWR4KytdPTIyNHx1Pj4xMjtoZWFwW291dElkeCsrXT0xMjh8dT4+NiY2MztoZWFwW291dElkeCsrXT0xMjh8dSY2M31lbHNle2lmKG91dElkeCszPj1lbmRJZHgpYnJlYWs7aGVhcFtvdXRJZHgrK109MjQwfHU+PjE4O2hlYXBbb3V0SWR4KytdPTEyOHx1Pj4xMiY2MztoZWFwW291dElkeCsrXT0xMjh8dT4+NiY2MztoZWFwW291dElkeCsrXT0xMjh8dSY2M319aGVhcFtvdXRJZHhdPTA7cmV0dXJuIG91dElkeC1zdGFydElkeH1mdW5jdGlvbiBzdHJpbmdUb1VURjgoc3RyLG91dFB0cixtYXhCeXRlc1RvV3JpdGUpe3JldHVybiBzdHJpbmdUb1VURjhBcnJheShzdHIsR1JPV0FCTEVfSEVBUF9VOCgpLG91dFB0cixtYXhCeXRlc1RvV3JpdGUpfWZ1bmN0aW9uIGxlbmd0aEJ5dGVzVVRGOChzdHIpe3ZhciBsZW49MDtmb3IodmFyIGk9MDtpPHN0ci5sZW5ndGg7KytpKXt2YXIgdT1zdHIuY2hhckNvZGVBdChpKTtpZih1Pj01NTI5NiYmdTw9NTczNDMpdT02NTUzNisoKHUmMTAyMyk8PDEwKXxzdHIuY2hhckNvZGVBdCgrK2kpJjEwMjM7aWYodTw9MTI3KSsrbGVuO2Vsc2UgaWYodTw9MjA0NylsZW4rPTI7ZWxzZSBpZih1PD02NTUzNSlsZW4rPTM7ZWxzZSBsZW4rPTR9cmV0dXJuIGxlbn12YXIgVVRGMTZEZWNvZGVyPXR5cGVvZiBUZXh0RGVjb2RlciE9InVuZGVmaW5lZCI/bmV3IFRleHREZWNvZGVyKCJ1dGYtMTZsZSIpOnVuZGVmaW5lZDtmdW5jdGlvbiBVVEYxNlRvU3RyaW5nKHB0cixtYXhCeXRlc1RvUmVhZCl7dmFyIGVuZFB0cj1wdHI7dmFyIGlkeD1lbmRQdHI+PjE7dmFyIG1heElkeD1pZHgrbWF4Qnl0ZXNUb1JlYWQvMjt3aGlsZSghKGlkeD49bWF4SWR4KSYmR1JPV0FCTEVfSEVBUF9VMTYoKVtpZHhdKSsraWR4O2VuZFB0cj1pZHg8PDE7aWYoZW5kUHRyLXB0cj4zMiYmVVRGMTZEZWNvZGVyKXtyZXR1cm4gVVRGMTZEZWNvZGVyLmRlY29kZShHUk9XQUJMRV9IRUFQX1U4KCkuc2xpY2UocHRyLGVuZFB0cikpfWVsc2V7dmFyIHN0cj0iIjtmb3IodmFyIGk9MDshKGk+PW1heEJ5dGVzVG9SZWFkLzIpOysraSl7dmFyIGNvZGVVbml0PUdST1dBQkxFX0hFQVBfSTE2KClbcHRyK2kqMj4+MV07aWYoY29kZVVuaXQ9PTApYnJlYWs7c3RyKz1TdHJpbmcuZnJvbUNoYXJDb2RlKGNvZGVVbml0KX1yZXR1cm4gc3RyfX1mdW5jdGlvbiBzdHJpbmdUb1VURjE2KHN0cixvdXRQdHIsbWF4Qnl0ZXNUb1dyaXRlKXtpZihtYXhCeXRlc1RvV3JpdGU9PT11bmRlZmluZWQpe21heEJ5dGVzVG9Xcml0ZT0yMTQ3NDgzNjQ3fWlmKG1heEJ5dGVzVG9Xcml0ZTwyKXJldHVybiAwO21heEJ5dGVzVG9Xcml0ZS09Mjt2YXIgc3RhcnRQdHI9b3V0UHRyO3ZhciBudW1DaGFyc1RvV3JpdGU9bWF4Qnl0ZXNUb1dyaXRlPHN0ci5sZW5ndGgqMj9tYXhCeXRlc1RvV3JpdGUvMjpzdHIubGVuZ3RoO2Zvcih2YXIgaT0wO2k8bnVtQ2hhcnNUb1dyaXRlOysraSl7dmFyIGNvZGVVbml0PXN0ci5jaGFyQ29kZUF0KGkpO0dST1dBQkxFX0hFQVBfSTE2KClbb3V0UHRyPj4xXT1jb2RlVW5pdDtvdXRQdHIrPTJ9R1JPV0FCTEVfSEVBUF9JMTYoKVtvdXRQdHI+PjFdPTA7cmV0dXJuIG91dFB0ci1zdGFydFB0cn1mdW5jdGlvbiBsZW5ndGhCeXRlc1VURjE2KHN0cil7cmV0dXJuIHN0ci5sZW5ndGgqMn1mdW5jdGlvbiBVVEYzMlRvU3RyaW5nKHB0cixtYXhCeXRlc1RvUmVhZCl7dmFyIGk9MDt2YXIgc3RyPSIiO3doaWxlKCEoaT49bWF4Qnl0ZXNUb1JlYWQvNCkpe3ZhciB1dGYzMj1HUk9XQUJMRV9IRUFQX0kzMigpW3B0citpKjQ+PjJdO2lmKHV0ZjMyPT0wKWJyZWFrOysraTtpZih1dGYzMj49NjU1MzYpe3ZhciBjaD11dGYzMi02NTUzNjtzdHIrPVN0cmluZy5mcm9tQ2hhckNvZGUoNTUyOTZ8Y2g+PjEwLDU2MzIwfGNoJjEwMjMpfWVsc2V7c3RyKz1TdHJpbmcuZnJvbUNoYXJDb2RlKHV0ZjMyKX19cmV0dXJuIHN0cn1mdW5jdGlvbiBzdHJpbmdUb1VURjMyKHN0cixvdXRQdHIsbWF4Qnl0ZXNUb1dyaXRlKXtpZihtYXhCeXRlc1RvV3JpdGU9PT11bmRlZmluZWQpe21heEJ5dGVzVG9Xcml0ZT0yMTQ3NDgzNjQ3fWlmKG1heEJ5dGVzVG9Xcml0ZTw0KXJldHVybiAwO3ZhciBzdGFydFB0cj1vdXRQdHI7dmFyIGVuZFB0cj1zdGFydFB0cittYXhCeXRlc1RvV3JpdGUtNDtmb3IodmFyIGk9MDtpPHN0ci5sZW5ndGg7KytpKXt2YXIgY29kZVVuaXQ9c3RyLmNoYXJDb2RlQXQoaSk7aWYoY29kZVVuaXQ+PTU1Mjk2JiZjb2RlVW5pdDw9NTczNDMpe3ZhciB0cmFpbFN1cnJvZ2F0ZT1zdHIuY2hhckNvZGVBdCgrK2kpO2NvZGVVbml0PTY1NTM2KygoY29kZVVuaXQmMTAyMyk8PDEwKXx0cmFpbFN1cnJvZ2F0ZSYxMDIzfUdST1dBQkxFX0hFQVBfSTMyKClbb3V0UHRyPj4yXT1jb2RlVW5pdDtvdXRQdHIrPTQ7aWYob3V0UHRyKzQ+ZW5kUHRyKWJyZWFrfUdST1dBQkxFX0hFQVBfSTMyKClbb3V0UHRyPj4yXT0wO3JldHVybiBvdXRQdHItc3RhcnRQdHJ9ZnVuY3Rpb24gbGVuZ3RoQnl0ZXNVVEYzMihzdHIpe3ZhciBsZW49MDtmb3IodmFyIGk9MDtpPHN0ci5sZW5ndGg7KytpKXt2YXIgY29kZVVuaXQ9c3RyLmNoYXJDb2RlQXQoaSk7aWYoY29kZVVuaXQ+PTU1Mjk2JiZjb2RlVW5pdDw9NTczNDMpKytpO2xlbis9NH1yZXR1cm4gbGVufWZ1bmN0aW9uIHdyaXRlQXJyYXlUb01lbW9yeShhcnJheSxidWZmZXIpe0dST1dBQkxFX0hFQVBfSTgoKS5zZXQoYXJyYXksYnVmZmVyKX1mdW5jdGlvbiB3cml0ZUFzY2lpVG9NZW1vcnkoc3RyLGJ1ZmZlcixkb250QWRkTnVsbCl7Zm9yKHZhciBpPTA7aTxzdHIubGVuZ3RoOysraSl7R1JPV0FCTEVfSEVBUF9JOCgpW2J1ZmZlcisrPj4wXT1zdHIuY2hhckNvZGVBdChpKX1pZighZG9udEFkZE51bGwpR1JPV0FCTEVfSEVBUF9JOCgpW2J1ZmZlcj4+MF09MH12YXIgYnVmZmVyLEhFQVA4LEhFQVBVOCxIRUFQMTYsSEVBUFUxNixIRUFQMzIsSEVBUFUzMixIRUFQRjMyLEhFQVBGNjQ7aWYoRU5WSVJPTk1FTlRfSVNfUFRIUkVBRCl7YnVmZmVyPU1vZHVsZVsiYnVmZmVyIl19ZnVuY3Rpb24gdXBkYXRlR2xvYmFsQnVmZmVyQW5kVmlld3MoYnVmKXtidWZmZXI9YnVmO01vZHVsZVsiSEVBUDgiXT1IRUFQOD1uZXcgSW50OEFycmF5KGJ1Zik7TW9kdWxlWyJIRUFQMTYiXT1IRUFQMTY9bmV3IEludDE2QXJyYXkoYnVmKTtNb2R1bGVbIkhFQVAzMiJdPUhFQVAzMj1uZXcgSW50MzJBcnJheShidWYpO01vZHVsZVsiSEVBUFU4Il09SEVBUFU4PW5ldyBVaW50OEFycmF5KGJ1Zik7TW9kdWxlWyJIRUFQVTE2Il09SEVBUFUxNj1uZXcgVWludDE2QXJyYXkoYnVmKTtNb2R1bGVbIkhFQVBVMzIiXT1IRUFQVTMyPW5ldyBVaW50MzJBcnJheShidWYpO01vZHVsZVsiSEVBUEYzMiJdPUhFQVBGMzI9bmV3IEZsb2F0MzJBcnJheShidWYpO01vZHVsZVsiSEVBUEY2NCJdPUhFQVBGNjQ9bmV3IEZsb2F0NjRBcnJheShidWYpfXZhciBJTklUSUFMX01FTU9SWT1Nb2R1bGVbIklOSVRJQUxfTUVNT1JZIl18fDE2Nzc3MjE2O2lmKEVOVklST05NRU5UX0lTX1BUSFJFQUQpe3dhc21NZW1vcnk9TW9kdWxlWyJ3YXNtTWVtb3J5Il07YnVmZmVyPU1vZHVsZVsiYnVmZmVyIl19ZWxzZXtpZihNb2R1bGVbIndhc21NZW1vcnkiXSl7d2FzbU1lbW9yeT1Nb2R1bGVbIndhc21NZW1vcnkiXX1lbHNle3dhc21NZW1vcnk9bmV3IFdlYkFzc2VtYmx5Lk1lbW9yeSh7ImluaXRpYWwiOklOSVRJQUxfTUVNT1JZLzY1NTM2LCJtYXhpbXVtIjoyMTQ3NDgzNjQ4LzY1NTM2LCJzaGFyZWQiOnRydWV9KTtpZighKHdhc21NZW1vcnkuYnVmZmVyIGluc3RhbmNlb2YgU2hhcmVkQXJyYXlCdWZmZXIpKXtlcnIoInJlcXVlc3RlZCBhIHNoYXJlZCBXZWJBc3NlbWJseS5NZW1vcnkgYnV0IHRoZSByZXR1cm5lZCBidWZmZXIgaXMgbm90IGEgU2hhcmVkQXJyYXlCdWZmZXIsIGluZGljYXRpbmcgdGhhdCB3aGlsZSB0aGUgYnJvd3NlciBoYXMgU2hhcmVkQXJyYXlCdWZmZXIgaXQgZG9lcyBub3QgaGF2ZSBXZWJBc3NlbWJseSB0aHJlYWRzIHN1cHBvcnQgLSB5b3UgbWF5IG5lZWQgdG8gc2V0IGEgZmxhZyIpO2lmKEVOVklST05NRU5UX0lTX05PREUpe2NvbnNvbGUubG9nKCIob24gbm9kZSB5b3UgbWF5IG5lZWQ6IC0tZXhwZXJpbWVudGFsLXdhc20tdGhyZWFkcyAtLWV4cGVyaW1lbnRhbC13YXNtLWJ1bGstbWVtb3J5IGFuZCBhbHNvIHVzZSBhIHJlY2VudCB2ZXJzaW9uKSIpfXRocm93IEVycm9yKCJiYWQgbWVtb3J5Iil9fX1pZih3YXNtTWVtb3J5KXtidWZmZXI9d2FzbU1lbW9yeS5idWZmZXJ9SU5JVElBTF9NRU1PUlk9YnVmZmVyLmJ5dGVMZW5ndGg7dXBkYXRlR2xvYmFsQnVmZmVyQW5kVmlld3MoYnVmZmVyKTt2YXIgd2FzbVRhYmxlO3ZhciBfX0FUUFJFUlVOX189W107dmFyIF9fQVRJTklUX189W107dmFyIF9fQVRFWElUX189W107dmFyIF9fQVRQT1NUUlVOX189W107dmFyIHJ1bnRpbWVJbml0aWFsaXplZD1mYWxzZTt2YXIgcnVudGltZUV4aXRlZD1mYWxzZTt2YXIgcnVudGltZUtlZXBhbGl2ZUNvdW50ZXI9MDtmdW5jdGlvbiBrZWVwUnVudGltZUFsaXZlKCl7cmV0dXJuIG5vRXhpdFJ1bnRpbWV8fHJ1bnRpbWVLZWVwYWxpdmVDb3VudGVyPjB9ZnVuY3Rpb24gcHJlUnVuKCl7aWYoTW9kdWxlWyJwcmVSdW4iXSl7aWYodHlwZW9mIE1vZHVsZVsicHJlUnVuIl09PSJmdW5jdGlvbiIpTW9kdWxlWyJwcmVSdW4iXT1bTW9kdWxlWyJwcmVSdW4iXV07d2hpbGUoTW9kdWxlWyJwcmVSdW4iXS5sZW5ndGgpe2FkZE9uUHJlUnVuKE1vZHVsZVsicHJlUnVuIl0uc2hpZnQoKSl9fWNhbGxSdW50aW1lQ2FsbGJhY2tzKF9fQVRQUkVSVU5fXyl9ZnVuY3Rpb24gaW5pdFJ1bnRpbWUoKXtydW50aW1lSW5pdGlhbGl6ZWQ9dHJ1ZTtpZihFTlZJUk9OTUVOVF9JU19QVEhSRUFEKXJldHVybjtpZighTW9kdWxlWyJub0ZTSW5pdCJdJiYhRlMuaW5pdC5pbml0aWFsaXplZClGUy5pbml0KCk7RlMuaWdub3JlUGVybWlzc2lvbnM9ZmFsc2U7VFRZLmluaXQoKTtjYWxsUnVudGltZUNhbGxiYWNrcyhfX0FUSU5JVF9fKX1mdW5jdGlvbiBleGl0UnVudGltZSgpe2lmKEVOVklST05NRU5UX0lTX1BUSFJFQUQpcmV0dXJuO19fX2Z1bmNzX29uX2V4aXQoKTtjYWxsUnVudGltZUNhbGxiYWNrcyhfX0FURVhJVF9fKTtGUy5xdWl0KCk7VFRZLnNodXRkb3duKCk7UFRocmVhZC50ZXJtaW5hdGVBbGxUaHJlYWRzKCk7cnVudGltZUV4aXRlZD10cnVlfWZ1bmN0aW9uIHBvc3RSdW4oKXtpZihFTlZJUk9OTUVOVF9JU19QVEhSRUFEKXJldHVybjtpZihNb2R1bGVbInBvc3RSdW4iXSl7aWYodHlwZW9mIE1vZHVsZVsicG9zdFJ1biJdPT0iZnVuY3Rpb24iKU1vZHVsZVsicG9zdFJ1biJdPVtNb2R1bGVbInBvc3RSdW4iXV07d2hpbGUoTW9kdWxlWyJwb3N0UnVuIl0ubGVuZ3RoKXthZGRPblBvc3RSdW4oTW9kdWxlWyJwb3N0UnVuIl0uc2hpZnQoKSl9fWNhbGxSdW50aW1lQ2FsbGJhY2tzKF9fQVRQT1NUUlVOX18pfWZ1bmN0aW9uIGFkZE9uUHJlUnVuKGNiKXtfX0FUUFJFUlVOX18udW5zaGlmdChjYil9ZnVuY3Rpb24gYWRkT25Jbml0KGNiKXtfX0FUSU5JVF9fLnVuc2hpZnQoY2IpfWZ1bmN0aW9uIGFkZE9uUG9zdFJ1bihjYil7X19BVFBPU1RSVU5fXy51bnNoaWZ0KGNiKX12YXIgcnVuRGVwZW5kZW5jaWVzPTA7dmFyIHJ1bkRlcGVuZGVuY3lXYXRjaGVyPW51bGw7dmFyIGRlcGVuZGVuY2llc0Z1bGZpbGxlZD1udWxsO2Z1bmN0aW9uIGdldFVuaXF1ZVJ1bkRlcGVuZGVuY3koaWQpe3JldHVybiBpZH1mdW5jdGlvbiBhZGRSdW5EZXBlbmRlbmN5KGlkKXtydW5EZXBlbmRlbmNpZXMrKztpZihNb2R1bGVbIm1vbml0b3JSdW5EZXBlbmRlbmNpZXMiXSl7TW9kdWxlWyJtb25pdG9yUnVuRGVwZW5kZW5jaWVzIl0ocnVuRGVwZW5kZW5jaWVzKX19ZnVuY3Rpb24gcmVtb3ZlUnVuRGVwZW5kZW5jeShpZCl7cnVuRGVwZW5kZW5jaWVzLS07aWYoTW9kdWxlWyJtb25pdG9yUnVuRGVwZW5kZW5jaWVzIl0pe01vZHVsZVsibW9uaXRvclJ1bkRlcGVuZGVuY2llcyJdKHJ1bkRlcGVuZGVuY2llcyl9aWYocnVuRGVwZW5kZW5jaWVzPT0wKXtpZihydW5EZXBlbmRlbmN5V2F0Y2hlciE9PW51bGwpe2NsZWFySW50ZXJ2YWwocnVuRGVwZW5kZW5jeVdhdGNoZXIpO3J1bkRlcGVuZGVuY3lXYXRjaGVyPW51bGx9aWYoZGVwZW5kZW5jaWVzRnVsZmlsbGVkKXt2YXIgY2FsbGJhY2s9ZGVwZW5kZW5jaWVzRnVsZmlsbGVkO2RlcGVuZGVuY2llc0Z1bGZpbGxlZD1udWxsO2NhbGxiYWNrKCl9fX1mdW5jdGlvbiBhYm9ydCh3aGF0KXtpZihFTlZJUk9OTUVOVF9JU19QVEhSRUFEKXtwb3N0TWVzc2FnZSh7ImNtZCI6Im9uQWJvcnQiLCJhcmciOndoYXR9KX1lbHNle2lmKE1vZHVsZVsib25BYm9ydCJdKXtNb2R1bGVbIm9uQWJvcnQiXSh3aGF0KX19d2hhdD0iQWJvcnRlZCgiK3doYXQrIikiO2Vycih3aGF0KTtBQk9SVD10cnVlO0VYSVRTVEFUVVM9MTt3aGF0Kz0iLiBCdWlsZCB3aXRoIC1zQVNTRVJUSU9OUyBmb3IgbW9yZSBpbmZvLiI7dmFyIGU9bmV3IFdlYkFzc2VtYmx5LlJ1bnRpbWVFcnJvcih3aGF0KTtyZWFkeVByb21pc2VSZWplY3QoZSk7dGhyb3cgZX12YXIgZGF0YVVSSVByZWZpeD0iZGF0YTphcHBsaWNhdGlvbi9vY3RldC1zdHJlYW07YmFzZTY0LCI7ZnVuY3Rpb24gaXNEYXRhVVJJKGZpbGVuYW1lKXtyZXR1cm4gZmlsZW5hbWUuc3RhcnRzV2l0aChkYXRhVVJJUHJlZml4KX12YXIgd2FzbUJpbmFyeUZpbGU7aWYoTW9kdWxlWyJsb2NhdGVGaWxlIl0pe3dhc21CaW5hcnlGaWxlPSJtYWluLWJpbi1tdWx0aS53YXNtIjtpZighaXNEYXRhVVJJKHdhc21CaW5hcnlGaWxlKSl7d2FzbUJpbmFyeUZpbGU9bG9jYXRlRmlsZSh3YXNtQmluYXJ5RmlsZSl9fWVsc2V7d2FzbUJpbmFyeUZpbGU9bmV3IFVSTCgibWFpbi1iaW4tbXVsdGkud2FzbSIsbG9jYXRpb24uaHJlZikudG9TdHJpbmcoKX1mdW5jdGlvbiBnZXRCaW5hcnkoZmlsZSl7dHJ5e2lmKGZpbGU9PXdhc21CaW5hcnlGaWxlJiZ3YXNtQmluYXJ5KXtyZXR1cm4gbmV3IFVpbnQ4QXJyYXkod2FzbUJpbmFyeSl9aWYocmVhZEJpbmFyeSl7cmV0dXJuIHJlYWRCaW5hcnkoZmlsZSl9ZWxzZXt0aHJvdyJib3RoIGFzeW5jIGFuZCBzeW5jIGZldGNoaW5nIG9mIHRoZSB3YXNtIGZhaWxlZCJ9fWNhdGNoKGVycil7YWJvcnQoZXJyKX19ZnVuY3Rpb24gZ2V0QmluYXJ5UHJvbWlzZSgpe2lmKCF3YXNtQmluYXJ5JiYoRU5WSVJPTk1FTlRfSVNfV0VCfHxFTlZJUk9OTUVOVF9JU19XT1JLRVIpKXtpZih0eXBlb2YgZmV0Y2g9PSJmdW5jdGlvbiIpe3JldHVybiBmZXRjaCh3YXNtQmluYXJ5RmlsZSx7Y3JlZGVudGlhbHM6InNhbWUtb3JpZ2luIn0pLnRoZW4oZnVuY3Rpb24ocmVzcG9uc2Upe2lmKCFyZXNwb25zZVsib2siXSl7dGhyb3ciZmFpbGVkIHRvIGxvYWQgd2FzbSBiaW5hcnkgZmlsZSBhdCAnIit3YXNtQmluYXJ5RmlsZSsiJyJ9cmV0dXJuIHJlc3BvbnNlWyJhcnJheUJ1ZmZlciJdKCl9KS5jYXRjaChmdW5jdGlvbigpe3JldHVybiBnZXRCaW5hcnkod2FzbUJpbmFyeUZpbGUpfSl9fXJldHVybiBQcm9taXNlLnJlc29sdmUoKS50aGVuKGZ1bmN0aW9uKCl7cmV0dXJuIGdldEJpbmFyeSh3YXNtQmluYXJ5RmlsZSl9KX1mdW5jdGlvbiBjcmVhdGVXYXNtKCl7dmFyIGluZm89eyJhIjphc21MaWJyYXJ5QXJnfTtmdW5jdGlvbiByZWNlaXZlSW5zdGFuY2UoaW5zdGFuY2UsbW9kdWxlKXt2YXIgZXhwb3J0cz1pbnN0YW5jZS5leHBvcnRzO01vZHVsZVsiYXNtIl09ZXhwb3J0cztyZWdpc3RlclRsc0luaXQoTW9kdWxlWyJhc20iXVsiY2IiXSk7d2FzbVRhYmxlPU1vZHVsZVsiYXNtIl1bIlphIl07YWRkT25Jbml0KE1vZHVsZVsiYXNtIl1bIllhIl0pO3dhc21Nb2R1bGU9bW9kdWxlO2lmKCFFTlZJUk9OTUVOVF9JU19QVEhSRUFEKXt2YXIgbnVtV29ya2Vyc1RvTG9hZD1QVGhyZWFkLnVudXNlZFdvcmtlcnMubGVuZ3RoO1BUaHJlYWQudW51c2VkV29ya2Vycy5mb3JFYWNoKGZ1bmN0aW9uKHcpe1BUaHJlYWQubG9hZFdhc21Nb2R1bGVUb1dvcmtlcih3LGZ1bmN0aW9uKCl7aWYoIS0tbnVtV29ya2Vyc1RvTG9hZClyZW1vdmVSdW5EZXBlbmRlbmN5KCJ3YXNtLWluc3RhbnRpYXRlIil9KX0pfX1pZighRU5WSVJPTk1FTlRfSVNfUFRIUkVBRCl7YWRkUnVuRGVwZW5kZW5jeSgid2FzbS1pbnN0YW50aWF0ZSIpfWZ1bmN0aW9uIHJlY2VpdmVJbnN0YW50aWF0aW9uUmVzdWx0KHJlc3VsdCl7cmVjZWl2ZUluc3RhbmNlKHJlc3VsdFsiaW5zdGFuY2UiXSxyZXN1bHRbIm1vZHVsZSJdKX1mdW5jdGlvbiBpbnN0YW50aWF0ZUFycmF5QnVmZmVyKHJlY2VpdmVyKXtyZXR1cm4gZ2V0QmluYXJ5UHJvbWlzZSgpLnRoZW4oZnVuY3Rpb24oYmluYXJ5KXtyZXR1cm4gV2ViQXNzZW1ibHkuaW5zdGFudGlhdGUoYmluYXJ5LGluZm8pfSkudGhlbihmdW5jdGlvbihpbnN0YW5jZSl7cmV0dXJuIGluc3RhbmNlfSkudGhlbihyZWNlaXZlcixmdW5jdGlvbihyZWFzb24pe2VycigiZmFpbGVkIHRvIGFzeW5jaHJvbm91c2x5IHByZXBhcmUgd2FzbTogIityZWFzb24pO2Fib3J0KHJlYXNvbil9KX1mdW5jdGlvbiBpbnN0YW50aWF0ZUFzeW5jKCl7aWYoIXdhc21CaW5hcnkmJnR5cGVvZiBXZWJBc3NlbWJseS5pbnN0YW50aWF0ZVN0cmVhbWluZz09ImZ1bmN0aW9uIiYmIWlzRGF0YVVSSSh3YXNtQmluYXJ5RmlsZSkmJnR5cGVvZiBmZXRjaD09ImZ1bmN0aW9uIil7cmV0dXJuIGZldGNoKHdhc21CaW5hcnlGaWxlLHtjcmVkZW50aWFsczoic2FtZS1vcmlnaW4ifSkudGhlbihmdW5jdGlvbihyZXNwb25zZSl7dmFyIHJlc3VsdD1XZWJBc3NlbWJseS5pbnN0YW50aWF0ZVN0cmVhbWluZyhyZXNwb25zZSxpbmZvKTtyZXR1cm4gcmVzdWx0LnRoZW4ocmVjZWl2ZUluc3RhbnRpYXRpb25SZXN1bHQsZnVuY3Rpb24ocmVhc29uKXtlcnIoIndhc20gc3RyZWFtaW5nIGNvbXBpbGUgZmFpbGVkOiAiK3JlYXNvbik7ZXJyKCJmYWxsaW5nIGJhY2sgdG8gQXJyYXlCdWZmZXIgaW5zdGFudGlhdGlvbiIpO3JldHVybiBpbnN0YW50aWF0ZUFycmF5QnVmZmVyKHJlY2VpdmVJbnN0YW50aWF0aW9uUmVzdWx0KX0pfSl9ZWxzZXtyZXR1cm4gaW5zdGFudGlhdGVBcnJheUJ1ZmZlcihyZWNlaXZlSW5zdGFudGlhdGlvblJlc3VsdCl9fWlmKE1vZHVsZVsiaW5zdGFudGlhdGVXYXNtIl0pe3RyeXt2YXIgZXhwb3J0cz1Nb2R1bGVbImluc3RhbnRpYXRlV2FzbSJdKGluZm8scmVjZWl2ZUluc3RhbmNlKTtyZXR1cm4gZXhwb3J0c31jYXRjaChlKXtlcnIoIk1vZHVsZS5pbnN0YW50aWF0ZVdhc20gY2FsbGJhY2sgZmFpbGVkIHdpdGggZXJyb3I6ICIrZSk7cmV0dXJuIGZhbHNlfX1pbnN0YW50aWF0ZUFzeW5jKCkuY2F0Y2gocmVhZHlQcm9taXNlUmVqZWN0KTtyZXR1cm57fX12YXIgdGVtcERvdWJsZTt2YXIgdGVtcEk2NDt2YXIgQVNNX0NPTlNUUz17fTtmdW5jdGlvbiBraWxsVGhyZWFkKHB0aHJlYWRfcHRyKXtHUk9XQUJMRV9IRUFQX0kzMigpW3B0aHJlYWRfcHRyPj4yXT0wO3ZhciBwdGhyZWFkPVBUaHJlYWQucHRocmVhZHNbcHRocmVhZF9wdHJdO2RlbGV0ZSBQVGhyZWFkLnB0aHJlYWRzW3B0aHJlYWRfcHRyXTtwdGhyZWFkLndvcmtlci50ZXJtaW5hdGUoKTtfX2Vtc2NyaXB0ZW5fdGhyZWFkX2ZyZWVfZGF0YShwdGhyZWFkX3B0cik7UFRocmVhZC5ydW5uaW5nV29ya2Vycy5zcGxpY2UoUFRocmVhZC5ydW5uaW5nV29ya2Vycy5pbmRleE9mKHB0aHJlYWQud29ya2VyKSwxKTtwdGhyZWFkLndvcmtlci5wdGhyZWFkPXVuZGVmaW5lZH1mdW5jdGlvbiBjYW5jZWxUaHJlYWQocHRocmVhZF9wdHIpe3ZhciBwdGhyZWFkPVBUaHJlYWQucHRocmVhZHNbcHRocmVhZF9wdHJdO3B0aHJlYWQud29ya2VyLnBvc3RNZXNzYWdlKHsiY21kIjoiY2FuY2VsIn0pfWZ1bmN0aW9uIGNsZWFudXBUaHJlYWQocHRocmVhZF9wdHIpe3ZhciBwdGhyZWFkPVBUaHJlYWQucHRocmVhZHNbcHRocmVhZF9wdHJdO2lmKHB0aHJlYWQpe0dST1dBQkxFX0hFQVBfSTMyKClbcHRocmVhZF9wdHI+PjJdPTA7dmFyIHdvcmtlcj1wdGhyZWFkLndvcmtlcjtQVGhyZWFkLnJldHVybldvcmtlclRvUG9vbCh3b3JrZXIpfX1mdW5jdGlvbiB6ZXJvTWVtb3J5KGFkZHJlc3Msc2l6ZSl7R1JPV0FCTEVfSEVBUF9VOCgpLmZpbGwoMCxhZGRyZXNzLGFkZHJlc3Mrc2l6ZSl9ZnVuY3Rpb24gc3Bhd25UaHJlYWQodGhyZWFkUGFyYW1zKXt2YXIgd29ya2VyPVBUaHJlYWQuZ2V0TmV3V29ya2VyKCk7aWYoIXdvcmtlcil7cmV0dXJuIDZ9UFRocmVhZC5ydW5uaW5nV29ya2Vycy5wdXNoKHdvcmtlcik7dmFyIHB0aHJlYWQ9UFRocmVhZC5wdGhyZWFkc1t0aHJlYWRQYXJhbXMucHRocmVhZF9wdHJdPXt3b3JrZXI6d29ya2VyLHRocmVhZEluZm9TdHJ1Y3Q6dGhyZWFkUGFyYW1zLnB0aHJlYWRfcHRyfTt3b3JrZXIucHRocmVhZD1wdGhyZWFkO3ZhciBtc2c9eyJjbWQiOiJydW4iLCJzdGFydF9yb3V0aW5lIjp0aHJlYWRQYXJhbXMuc3RhcnRSb3V0aW5lLCJhcmciOnRocmVhZFBhcmFtcy5hcmcsInRocmVhZEluZm9TdHJ1Y3QiOnRocmVhZFBhcmFtcy5wdGhyZWFkX3B0cn07d29ya2VyLnJ1blB0aHJlYWQ9KCgpPT57bXNnLnRpbWU9cGVyZm9ybWFuY2Uubm93KCk7d29ya2VyLnBvc3RNZXNzYWdlKG1zZyx0aHJlYWRQYXJhbXMudHJhbnNmZXJMaXN0KX0pO2lmKHdvcmtlci5sb2FkZWQpe3dvcmtlci5ydW5QdGhyZWFkKCk7ZGVsZXRlIHdvcmtlci5ydW5QdGhyZWFkfXJldHVybiAwfWZ1bmN0aW9uIF9leGl0KHN0YXR1cyl7ZXhpdChzdGF0dXMpfWZ1bmN0aW9uIGhhbmRsZUV4Y2VwdGlvbihlKXtpZihlIGluc3RhbmNlb2YgRXhpdFN0YXR1c3x8ZT09InVud2luZCIpe3JldHVybiBFWElUU1RBVFVTfXF1aXRfKDEsZSl9dmFyIFBUaHJlYWQ9e3VudXNlZFdvcmtlcnM6W10scnVubmluZ1dvcmtlcnM6W10sdGxzSW5pdEZ1bmN0aW9uczpbXSxpbml0OmZ1bmN0aW9uKCl7aWYoRU5WSVJPTk1FTlRfSVNfUFRIUkVBRCl7UFRocmVhZC5pbml0V29ya2VyKCl9ZWxzZXtQVGhyZWFkLmluaXRNYWluVGhyZWFkKCl9fSxpbml0TWFpblRocmVhZDpmdW5jdGlvbigpe3ZhciBwdGhyZWFkUG9vbFNpemU9Njtmb3IodmFyIGk9MDtpPHB0aHJlYWRQb29sU2l6ZTsrK2kpe1BUaHJlYWQuYWxsb2NhdGVVbnVzZWRXb3JrZXIoKX19LGluaXRXb3JrZXI6ZnVuY3Rpb24oKXtub0V4aXRSdW50aW1lPWZhbHNlfSxwdGhyZWFkczp7fSxzZXRFeGl0U3RhdHVzOmZ1bmN0aW9uKHN0YXR1cyl7RVhJVFNUQVRVUz1zdGF0dXN9LHRlcm1pbmF0ZUFsbFRocmVhZHM6ZnVuY3Rpb24oKXtmb3IodmFyIHQgaW4gUFRocmVhZC5wdGhyZWFkcyl7dmFyIHB0aHJlYWQ9UFRocmVhZC5wdGhyZWFkc1t0XTtpZihwdGhyZWFkJiZwdGhyZWFkLndvcmtlcil7UFRocmVhZC5yZXR1cm5Xb3JrZXJUb1Bvb2wocHRocmVhZC53b3JrZXIpfX1mb3IodmFyIGk9MDtpPFBUaHJlYWQudW51c2VkV29ya2Vycy5sZW5ndGg7KytpKXt2YXIgd29ya2VyPVBUaHJlYWQudW51c2VkV29ya2Vyc1tpXTt3b3JrZXIudGVybWluYXRlKCl9UFRocmVhZC51bnVzZWRXb3JrZXJzPVtdfSxyZXR1cm5Xb3JrZXJUb1Bvb2w6ZnVuY3Rpb24od29ya2VyKXtQVGhyZWFkLnJ1bldpdGhvdXRNYWluVGhyZWFkUXVldWVkQ2FsbHMoZnVuY3Rpb24oKXtkZWxldGUgUFRocmVhZC5wdGhyZWFkc1t3b3JrZXIucHRocmVhZC50aHJlYWRJbmZvU3RydWN0XTtQVGhyZWFkLnVudXNlZFdvcmtlcnMucHVzaCh3b3JrZXIpO1BUaHJlYWQucnVubmluZ1dvcmtlcnMuc3BsaWNlKFBUaHJlYWQucnVubmluZ1dvcmtlcnMuaW5kZXhPZih3b3JrZXIpLDEpO19fZW1zY3JpcHRlbl90aHJlYWRfZnJlZV9kYXRhKHdvcmtlci5wdGhyZWFkLnRocmVhZEluZm9TdHJ1Y3QpO3dvcmtlci5wdGhyZWFkPXVuZGVmaW5lZH0pfSxydW5XaXRob3V0TWFpblRocmVhZFF1ZXVlZENhbGxzOmZ1bmN0aW9uKGZ1bmMpe0dST1dBQkxFX0hFQVBfSTMyKClbX19lbXNjcmlwdGVuX2FsbG93X21haW5fcnVudGltZV9xdWV1ZWRfY2FsbHM+PjJdPTA7dHJ5e2Z1bmMoKX1maW5hbGx5e0dST1dBQkxFX0hFQVBfSTMyKClbX19lbXNjcmlwdGVuX2FsbG93X21haW5fcnVudGltZV9xdWV1ZWRfY2FsbHM+PjJdPTF9fSxyZWNlaXZlT2JqZWN0VHJhbnNmZXI6ZnVuY3Rpb24oZGF0YSl7fSx0aHJlYWRJbml0OmZ1bmN0aW9uKCl7Zm9yKHZhciBpIGluIFBUaHJlYWQudGxzSW5pdEZ1bmN0aW9ucyl7aWYoUFRocmVhZC50bHNJbml0RnVuY3Rpb25zLmhhc093blByb3BlcnR5KGkpKVBUaHJlYWQudGxzSW5pdEZ1bmN0aW9uc1tpXSgpfX0sbG9hZFdhc21Nb2R1bGVUb1dvcmtlcjpmdW5jdGlvbih3b3JrZXIsb25GaW5pc2hlZExvYWRpbmcpe3dvcmtlci5vbm1lc3NhZ2U9KGU9Pnt2YXIgZD1lWyJkYXRhIl07dmFyIGNtZD1kWyJjbWQiXTtpZih3b3JrZXIucHRocmVhZClQVGhyZWFkLmN1cnJlbnRQcm94aWVkT3BlcmF0aW9uQ2FsbGVyVGhyZWFkPXdvcmtlci5wdGhyZWFkLnRocmVhZEluZm9TdHJ1Y3Q7aWYoZFsidGFyZ2V0VGhyZWFkIl0mJmRbInRhcmdldFRocmVhZCJdIT1fcHRocmVhZF9zZWxmKCkpe3ZhciB0aHJlYWQ9UFRocmVhZC5wdGhyZWFkc1tkLnRhcmdldFRocmVhZF07aWYodGhyZWFkKXt0aHJlYWQud29ya2VyLnBvc3RNZXNzYWdlKGQsZFsidHJhbnNmZXJMaXN0Il0pfWVsc2V7ZXJyKCdJbnRlcm5hbCBlcnJvciEgV29ya2VyIHNlbnQgYSBtZXNzYWdlICInK2NtZCsnIiB0byB0YXJnZXQgcHRocmVhZCAnK2RbInRhcmdldFRocmVhZCJdKyIsIGJ1dCB0aGF0IHRocmVhZCBubyBsb25nZXIgZXhpc3RzISIpfVBUaHJlYWQuY3VycmVudFByb3hpZWRPcGVyYXRpb25DYWxsZXJUaHJlYWQ9dW5kZWZpbmVkO3JldHVybn1pZihjbWQ9PT0icHJvY2Vzc1Byb3h5aW5nUXVldWUiKXtleGVjdXRlTm90aWZpZWRQcm94eWluZ1F1ZXVlKGRbInF1ZXVlIl0pfWVsc2UgaWYoY21kPT09InNwYXduVGhyZWFkIil7c3Bhd25UaHJlYWQoZCl9ZWxzZSBpZihjbWQ9PT0iY2xlYW51cFRocmVhZCIpe2NsZWFudXBUaHJlYWQoZFsidGhyZWFkIl0pfWVsc2UgaWYoY21kPT09ImtpbGxUaHJlYWQiKXtraWxsVGhyZWFkKGRbInRocmVhZCJdKX1lbHNlIGlmKGNtZD09PSJjYW5jZWxUaHJlYWQiKXtjYW5jZWxUaHJlYWQoZFsidGhyZWFkIl0pfWVsc2UgaWYoY21kPT09ImxvYWRlZCIpe3dvcmtlci5sb2FkZWQ9dHJ1ZTtpZihvbkZpbmlzaGVkTG9hZGluZylvbkZpbmlzaGVkTG9hZGluZyh3b3JrZXIpO2lmKHdvcmtlci5ydW5QdGhyZWFkKXt3b3JrZXIucnVuUHRocmVhZCgpO2RlbGV0ZSB3b3JrZXIucnVuUHRocmVhZH19ZWxzZSBpZihjbWQ9PT0icHJpbnQiKXtvdXQoIlRocmVhZCAiK2RbInRocmVhZElkIl0rIjogIitkWyJ0ZXh0Il0pfWVsc2UgaWYoY21kPT09InByaW50RXJyIil7ZXJyKCJUaHJlYWQgIitkWyJ0aHJlYWRJZCJdKyI6ICIrZFsidGV4dCJdKX1lbHNlIGlmKGNtZD09PSJhbGVydCIpe2FsZXJ0KCJUaHJlYWQgIitkWyJ0aHJlYWRJZCJdKyI6ICIrZFsidGV4dCJdKX1lbHNlIGlmKGQudGFyZ2V0PT09InNldGltbWVkaWF0ZSIpe3dvcmtlci5wb3N0TWVzc2FnZShkKX1lbHNlIGlmKGNtZD09PSJvbkFib3J0Iil7aWYoTW9kdWxlWyJvbkFib3J0Il0pe01vZHVsZVsib25BYm9ydCJdKGRbImFyZyJdKX19ZWxzZSBpZihjbWQpe2Vycigid29ya2VyIHNlbnQgYW4gdW5rbm93biBjb21tYW5kICIrY21kKX1QVGhyZWFkLmN1cnJlbnRQcm94aWVkT3BlcmF0aW9uQ2FsbGVyVGhyZWFkPXVuZGVmaW5lZH0pO3dvcmtlci5vbmVycm9yPShlPT57dmFyIG1lc3NhZ2U9IndvcmtlciBzZW50IGFuIGVycm9yISI7ZXJyKG1lc3NhZ2UrIiAiK2UuZmlsZW5hbWUrIjoiK2UubGluZW5vKyI6ICIrZS5tZXNzYWdlKTt0aHJvdyBlfSk7d29ya2VyLnBvc3RNZXNzYWdlKHsiY21kIjoibG9hZCIsInVybE9yQmxvYiI6TW9kdWxlWyJtYWluU2NyaXB0VXJsT3JCbG9iIl0sIndhc21NZW1vcnkiOndhc21NZW1vcnksIndhc21Nb2R1bGUiOndhc21Nb2R1bGV9KX0sYWxsb2NhdGVVbnVzZWRXb3JrZXI6ZnVuY3Rpb24oKXtpZighTW9kdWxlWyJsb2NhdGVGaWxlIl0pe1BUaHJlYWQudW51c2VkV29ya2Vycy5wdXNoKG5ldyBXb3JrZXIobmV3IFVSTCgibWFpbi1iaW4tbXVsdGkud29ya2VyLmpzIixsb2NhdGlvbi5ocmVmKSkpO3JldHVybn12YXIgcHRocmVhZE1haW5Kcz1sb2NhdGVGaWxlKCJtYWluLWJpbi1tdWx0aS53b3JrZXIuanMiKTtQVGhyZWFkLnVudXNlZFdvcmtlcnMucHVzaChuZXcgV29ya2VyKHB0aHJlYWRNYWluSnMsIHsgdHlwZTogIm1vZHVsZSIgfSkpfSxnZXROZXdXb3JrZXI6ZnVuY3Rpb24oKXtpZihQVGhyZWFkLnVudXNlZFdvcmtlcnMubGVuZ3RoPT0wKXtQVGhyZWFkLmFsbG9jYXRlVW51c2VkV29ya2VyKCk7UFRocmVhZC5sb2FkV2FzbU1vZHVsZVRvV29ya2VyKFBUaHJlYWQudW51c2VkV29ya2Vyc1swXSl9cmV0dXJuIFBUaHJlYWQudW51c2VkV29ya2Vycy5wb3AoKX19O01vZHVsZVsiUFRocmVhZCJdPVBUaHJlYWQ7ZnVuY3Rpb24gY2FsbFJ1bnRpbWVDYWxsYmFja3MoY2FsbGJhY2tzKXt3aGlsZShjYWxsYmFja3MubGVuZ3RoPjApe3ZhciBjYWxsYmFjaz1jYWxsYmFja3Muc2hpZnQoKTtpZih0eXBlb2YgY2FsbGJhY2s9PSJmdW5jdGlvbiIpe2NhbGxiYWNrKE1vZHVsZSk7Y29udGludWV9dmFyIGZ1bmM9Y2FsbGJhY2suZnVuYztpZih0eXBlb2YgZnVuYz09Im51bWJlciIpe2lmKGNhbGxiYWNrLmFyZz09PXVuZGVmaW5lZCl7Z2V0V2FzbVRhYmxlRW50cnkoZnVuYykoKX1lbHNle2dldFdhc21UYWJsZUVudHJ5KGZ1bmMpKGNhbGxiYWNrLmFyZyl9fWVsc2V7ZnVuYyhjYWxsYmFjay5hcmc9PT11bmRlZmluZWQ/bnVsbDpjYWxsYmFjay5hcmcpfX19ZnVuY3Rpb24gd2l0aFN0YWNrU2F2ZShmKXt2YXIgc3RhY2s9c3RhY2tTYXZlKCk7dmFyIHJldD1mKCk7c3RhY2tSZXN0b3JlKHN0YWNrKTtyZXR1cm4gcmV0fWZ1bmN0aW9uIGVzdGFibGlzaFN0YWNrU3BhY2UoKXt2YXIgcHRocmVhZF9wdHI9X3B0aHJlYWRfc2VsZigpO3ZhciBzdGFja1RvcD1HUk9XQUJMRV9IRUFQX0kzMigpW3B0aHJlYWRfcHRyKzQ0Pj4yXTt2YXIgc3RhY2tTaXplPUdST1dBQkxFX0hFQVBfSTMyKClbcHRocmVhZF9wdHIrNDg+PjJdO3ZhciBzdGFja01heD1zdGFja1RvcC1zdGFja1NpemU7X2Vtc2NyaXB0ZW5fc3RhY2tfc2V0X2xpbWl0cyhzdGFja1RvcCxzdGFja01heCk7c3RhY2tSZXN0b3JlKHN0YWNrVG9wKX1Nb2R1bGVbImVzdGFibGlzaFN0YWNrU3BhY2UiXT1lc3RhYmxpc2hTdGFja1NwYWNlO2Z1bmN0aW9uIGV4aXRPbk1haW5UaHJlYWQocmV0dXJuQ29kZSl7aWYoRU5WSVJPTk1FTlRfSVNfUFRIUkVBRClyZXR1cm4gX2Vtc2NyaXB0ZW5fcHJveHlfdG9fbWFpbl90aHJlYWRfanMoMSwwLHJldHVybkNvZGUpO3RyeXtfZXhpdChyZXR1cm5Db2RlKX1jYXRjaChlKXtoYW5kbGVFeGNlcHRpb24oZSl9fXZhciB3YXNtVGFibGVNaXJyb3I9W107ZnVuY3Rpb24gZ2V0V2FzbVRhYmxlRW50cnkoZnVuY1B0cil7dmFyIGZ1bmM9d2FzbVRhYmxlTWlycm9yW2Z1bmNQdHJdO2lmKCFmdW5jKXtpZihmdW5jUHRyPj13YXNtVGFibGVNaXJyb3IubGVuZ3RoKXdhc21UYWJsZU1pcnJvci5sZW5ndGg9ZnVuY1B0cisxO3dhc21UYWJsZU1pcnJvcltmdW5jUHRyXT1mdW5jPXdhc21UYWJsZS5nZXQoZnVuY1B0cil9cmV0dXJuIGZ1bmN9ZnVuY3Rpb24gaW52b2tlRW50cnlQb2ludChwdHIsYXJnKXtyZXR1cm4gZ2V0V2FzbVRhYmxlRW50cnkocHRyKShhcmcpfU1vZHVsZVsiaW52b2tlRW50cnlQb2ludCJdPWludm9rZUVudHJ5UG9pbnQ7ZnVuY3Rpb24gcmVnaXN0ZXJUbHNJbml0KHRsc0luaXRGdW5jKXtQVGhyZWFkLnRsc0luaXRGdW5jdGlvbnMucHVzaCh0bHNJbml0RnVuYyl9ZnVuY3Rpb24gX19fYXNzZXJ0X2ZhaWwoY29uZGl0aW9uLGZpbGVuYW1lLGxpbmUsZnVuYyl7YWJvcnQoIkFzc2VydGlvbiBmYWlsZWQ6ICIrVVRGOFRvU3RyaW5nKGNvbmRpdGlvbikrIiwgYXQ6ICIrW2ZpbGVuYW1lP1VURjhUb1N0cmluZyhmaWxlbmFtZSk6InVua25vd24gZmlsZW5hbWUiLGxpbmUsZnVuYz9VVEY4VG9TdHJpbmcoZnVuYyk6InVua25vd24gZnVuY3Rpb24iXSl9ZnVuY3Rpb24gX19fY3hhX2FsbG9jYXRlX2V4Y2VwdGlvbihzaXplKXtyZXR1cm4gX21hbGxvYyhzaXplKzI0KSsyNH12YXIgZXhjZXB0aW9uQ2F1Z2h0PVtdO2Z1bmN0aW9uIGV4Y2VwdGlvbl9hZGRSZWYoaW5mbyl7aW5mby5hZGRfcmVmKCl9dmFyIHVuY2F1Z2h0RXhjZXB0aW9uQ291bnQ9MDtmdW5jdGlvbiBfX19jeGFfYmVnaW5fY2F0Y2gocHRyKXt2YXIgaW5mbz1uZXcgRXhjZXB0aW9uSW5mbyhwdHIpO2lmKCFpbmZvLmdldF9jYXVnaHQoKSl7aW5mby5zZXRfY2F1Z2h0KHRydWUpO3VuY2F1Z2h0RXhjZXB0aW9uQ291bnQtLX1pbmZvLnNldF9yZXRocm93bihmYWxzZSk7ZXhjZXB0aW9uQ2F1Z2h0LnB1c2goaW5mbyk7ZXhjZXB0aW9uX2FkZFJlZihpbmZvKTtyZXR1cm4gaW5mby5nZXRfZXhjZXB0aW9uX3B0cigpfWZ1bmN0aW9uIF9fX2N4YV9jdXJyZW50X3ByaW1hcnlfZXhjZXB0aW9uKCl7aWYoIWV4Y2VwdGlvbkNhdWdodC5sZW5ndGgpe3JldHVybiAwfXZhciBpbmZvPWV4Y2VwdGlvbkNhdWdodFtleGNlcHRpb25DYXVnaHQubGVuZ3RoLTFdO2V4Y2VwdGlvbl9hZGRSZWYoaW5mbyk7cmV0dXJuIGluZm8uZXhjUHRyfWZ1bmN0aW9uIEV4Y2VwdGlvbkluZm8oZXhjUHRyKXt0aGlzLmV4Y1B0cj1leGNQdHI7dGhpcy5wdHI9ZXhjUHRyLTI0O3RoaXMuc2V0X3R5cGU9ZnVuY3Rpb24odHlwZSl7R1JPV0FCTEVfSEVBUF9VMzIoKVt0aGlzLnB0cis0Pj4yXT10eXBlfTt0aGlzLmdldF90eXBlPWZ1bmN0aW9uKCl7cmV0dXJuIEdST1dBQkxFX0hFQVBfVTMyKClbdGhpcy5wdHIrND4+Ml19O3RoaXMuc2V0X2Rlc3RydWN0b3I9ZnVuY3Rpb24oZGVzdHJ1Y3Rvcil7R1JPV0FCTEVfSEVBUF9VMzIoKVt0aGlzLnB0cis4Pj4yXT1kZXN0cnVjdG9yfTt0aGlzLmdldF9kZXN0cnVjdG9yPWZ1bmN0aW9uKCl7cmV0dXJuIEdST1dBQkxFX0hFQVBfVTMyKClbdGhpcy5wdHIrOD4+Ml19O3RoaXMuc2V0X3JlZmNvdW50PWZ1bmN0aW9uKHJlZmNvdW50KXtHUk9XQUJMRV9IRUFQX0kzMigpW3RoaXMucHRyPj4yXT1yZWZjb3VudH07dGhpcy5zZXRfY2F1Z2h0PWZ1bmN0aW9uKGNhdWdodCl7Y2F1Z2h0PWNhdWdodD8xOjA7R1JPV0FCTEVfSEVBUF9JOCgpW3RoaXMucHRyKzEyPj4wXT1jYXVnaHR9O3RoaXMuZ2V0X2NhdWdodD1mdW5jdGlvbigpe3JldHVybiBHUk9XQUJMRV9IRUFQX0k4KClbdGhpcy5wdHIrMTI+PjBdIT0wfTt0aGlzLnNldF9yZXRocm93bj1mdW5jdGlvbihyZXRocm93bil7cmV0aHJvd249cmV0aHJvd24/MTowO0dST1dBQkxFX0hFQVBfSTgoKVt0aGlzLnB0cisxMz4+MF09cmV0aHJvd259O3RoaXMuZ2V0X3JldGhyb3duPWZ1bmN0aW9uKCl7cmV0dXJuIEdST1dBQkxFX0hFQVBfSTgoKVt0aGlzLnB0cisxMz4+MF0hPTB9O3RoaXMuaW5pdD1mdW5jdGlvbih0eXBlLGRlc3RydWN0b3Ipe3RoaXMuc2V0X2FkanVzdGVkX3B0cigwKTt0aGlzLnNldF90eXBlKHR5cGUpO3RoaXMuc2V0X2Rlc3RydWN0b3IoZGVzdHJ1Y3Rvcik7dGhpcy5zZXRfcmVmY291bnQoMCk7dGhpcy5zZXRfY2F1Z2h0KGZhbHNlKTt0aGlzLnNldF9yZXRocm93bihmYWxzZSl9O3RoaXMuYWRkX3JlZj1mdW5jdGlvbigpe0F0b21pY3MuYWRkKEdST1dBQkxFX0hFQVBfSTMyKCksdGhpcy5wdHIrMD4+MiwxKX07dGhpcy5yZWxlYXNlX3JlZj1mdW5jdGlvbigpe3ZhciBwcmV2PUF0b21pY3Muc3ViKEdST1dBQkxFX0hFQVBfSTMyKCksdGhpcy5wdHIrMD4+MiwxKTtyZXR1cm4gcHJldj09PTF9O3RoaXMuc2V0X2FkanVzdGVkX3B0cj1mdW5jdGlvbihhZGp1c3RlZFB0cil7R1JPV0FCTEVfSEVBUF9VMzIoKVt0aGlzLnB0cisxNj4+Ml09YWRqdXN0ZWRQdHJ9O3RoaXMuZ2V0X2FkanVzdGVkX3B0cj1mdW5jdGlvbigpe3JldHVybiBHUk9XQUJMRV9IRUFQX1UzMigpW3RoaXMucHRyKzE2Pj4yXX07dGhpcy5nZXRfZXhjZXB0aW9uX3B0cj1mdW5jdGlvbigpe3ZhciBpc1BvaW50ZXI9X19fY3hhX2lzX3BvaW50ZXJfdHlwZSh0aGlzLmdldF90eXBlKCkpO2lmKGlzUG9pbnRlcil7cmV0dXJuIEdST1dBQkxFX0hFQVBfVTMyKClbdGhpcy5leGNQdHI+PjJdfXZhciBhZGp1c3RlZD10aGlzLmdldF9hZGp1c3RlZF9wdHIoKTtpZihhZGp1c3RlZCE9PTApcmV0dXJuIGFkanVzdGVkO3JldHVybiB0aGlzLmV4Y1B0cn19ZnVuY3Rpb24gX19fY3hhX2ZyZWVfZXhjZXB0aW9uKHB0cil7cmV0dXJuIF9mcmVlKG5ldyBFeGNlcHRpb25JbmZvKHB0cikucHRyKX1mdW5jdGlvbiBleGNlcHRpb25fZGVjUmVmKGluZm8pe2lmKGluZm8ucmVsZWFzZV9yZWYoKSYmIWluZm8uZ2V0X3JldGhyb3duKCkpe3ZhciBkZXN0cnVjdG9yPWluZm8uZ2V0X2Rlc3RydWN0b3IoKTtpZihkZXN0cnVjdG9yKXtnZXRXYXNtVGFibGVFbnRyeShkZXN0cnVjdG9yKShpbmZvLmV4Y1B0cil9X19fY3hhX2ZyZWVfZXhjZXB0aW9uKGluZm8uZXhjUHRyKX19ZnVuY3Rpb24gX19fY3hhX2RlY3JlbWVudF9leGNlcHRpb25fcmVmY291bnQocHRyKXtpZighcHRyKXJldHVybjtleGNlcHRpb25fZGVjUmVmKG5ldyBFeGNlcHRpb25JbmZvKHB0cikpfXZhciBleGNlcHRpb25MYXN0PTA7ZnVuY3Rpb24gX19fY3hhX2VuZF9jYXRjaCgpe19zZXRUaHJldygwKTt2YXIgaW5mbz1leGNlcHRpb25DYXVnaHQucG9wKCk7ZXhjZXB0aW9uX2RlY1JlZihpbmZvKTtleGNlcHRpb25MYXN0PTB9ZnVuY3Rpb24gX19fcmVzdW1lRXhjZXB0aW9uKHB0cil7aWYoIWV4Y2VwdGlvbkxhc3Qpe2V4Y2VwdGlvbkxhc3Q9cHRyfXRocm93IHB0cn1mdW5jdGlvbiBfX19jeGFfZmluZF9tYXRjaGluZ19jYXRjaF8yKCl7dmFyIHRocm93bj1leGNlcHRpb25MYXN0O2lmKCF0aHJvd24pe3NldFRlbXBSZXQwKDApO3JldHVybiAwfXZhciBpbmZvPW5ldyBFeGNlcHRpb25JbmZvKHRocm93bik7aW5mby5zZXRfYWRqdXN0ZWRfcHRyKHRocm93bik7dmFyIHRocm93blR5cGU9aW5mby5nZXRfdHlwZSgpO2lmKCF0aHJvd25UeXBlKXtzZXRUZW1wUmV0MCgwKTtyZXR1cm4gdGhyb3dufXZhciB0eXBlQXJyYXk9QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzKTtmb3IodmFyIGk9MDtpPHR5cGVBcnJheS5sZW5ndGg7aSsrKXt2YXIgY2F1Z2h0VHlwZT10eXBlQXJyYXlbaV07aWYoY2F1Z2h0VHlwZT09PTB8fGNhdWdodFR5cGU9PT10aHJvd25UeXBlKXticmVha312YXIgYWRqdXN0ZWRfcHRyX2FkZHI9aW5mby5wdHIrMTY7aWYoX19fY3hhX2Nhbl9jYXRjaChjYXVnaHRUeXBlLHRocm93blR5cGUsYWRqdXN0ZWRfcHRyX2FkZHIpKXtzZXRUZW1wUmV0MChjYXVnaHRUeXBlKTtyZXR1cm4gdGhyb3dufX1zZXRUZW1wUmV0MCh0aHJvd25UeXBlKTtyZXR1cm4gdGhyb3dufWZ1bmN0aW9uIF9fX2N4YV9maW5kX21hdGNoaW5nX2NhdGNoXzMoKXt2YXIgdGhyb3duPWV4Y2VwdGlvbkxhc3Q7aWYoIXRocm93bil7c2V0VGVtcFJldDAoMCk7cmV0dXJuIDB9dmFyIGluZm89bmV3IEV4Y2VwdGlvbkluZm8odGhyb3duKTtpbmZvLnNldF9hZGp1c3RlZF9wdHIodGhyb3duKTt2YXIgdGhyb3duVHlwZT1pbmZvLmdldF90eXBlKCk7aWYoIXRocm93blR5cGUpe3NldFRlbXBSZXQwKDApO3JldHVybiB0aHJvd259dmFyIHR5cGVBcnJheT1BcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMpO2Zvcih2YXIgaT0wO2k8dHlwZUFycmF5Lmxlbmd0aDtpKyspe3ZhciBjYXVnaHRUeXBlPXR5cGVBcnJheVtpXTtpZihjYXVnaHRUeXBlPT09MHx8Y2F1Z2h0VHlwZT09PXRocm93blR5cGUpe2JyZWFrfXZhciBhZGp1c3RlZF9wdHJfYWRkcj1pbmZvLnB0cisxNjtpZihfX19jeGFfY2FuX2NhdGNoKGNhdWdodFR5cGUsdGhyb3duVHlwZSxhZGp1c3RlZF9wdHJfYWRkcikpe3NldFRlbXBSZXQwKGNhdWdodFR5cGUpO3JldHVybiB0aHJvd259fXNldFRlbXBSZXQwKHRocm93blR5cGUpO3JldHVybiB0aHJvd259ZnVuY3Rpb24gX19fY3hhX2luY3JlbWVudF9leGNlcHRpb25fcmVmY291bnQocHRyKXtpZighcHRyKXJldHVybjtleGNlcHRpb25fYWRkUmVmKG5ldyBFeGNlcHRpb25JbmZvKHB0cikpfWZ1bmN0aW9uIF9fX2N4YV9yZXRocm93KCl7dmFyIGluZm89ZXhjZXB0aW9uQ2F1Z2h0LnBvcCgpO2lmKCFpbmZvKXthYm9ydCgibm8gZXhjZXB0aW9uIHRvIHRocm93Iil9dmFyIHB0cj1pbmZvLmV4Y1B0cjtpZighaW5mby5nZXRfcmV0aHJvd24oKSl7ZXhjZXB0aW9uQ2F1Z2h0LnB1c2goaW5mbyk7aW5mby5zZXRfcmV0aHJvd24odHJ1ZSk7aW5mby5zZXRfY2F1Z2h0KGZhbHNlKTt1bmNhdWdodEV4Y2VwdGlvbkNvdW50Kyt9ZXhjZXB0aW9uTGFzdD1wdHI7dGhyb3cgcHRyfWZ1bmN0aW9uIF9fX2N4YV9yZXRocm93X3ByaW1hcnlfZXhjZXB0aW9uKHB0cil7aWYoIXB0cilyZXR1cm47dmFyIGluZm89bmV3IEV4Y2VwdGlvbkluZm8ocHRyKTtleGNlcHRpb25DYXVnaHQucHVzaChpbmZvKTtpbmZvLnNldF9yZXRocm93bih0cnVlKTtfX19jeGFfcmV0aHJvdygpfWZ1bmN0aW9uIF9fX2N4YV90aHJvdyhwdHIsdHlwZSxkZXN0cnVjdG9yKXt2YXIgaW5mbz1uZXcgRXhjZXB0aW9uSW5mbyhwdHIpO2luZm8uaW5pdCh0eXBlLGRlc3RydWN0b3IpO2V4Y2VwdGlvbkxhc3Q9cHRyO3VuY2F1Z2h0RXhjZXB0aW9uQ291bnQrKzt0aHJvdyBwdHJ9ZnVuY3Rpb24gX19fY3hhX3VuY2F1Z2h0X2V4Y2VwdGlvbnMoKXtyZXR1cm4gdW5jYXVnaHRFeGNlcHRpb25Db3VudH1mdW5jdGlvbiBfX19lbXNjcmlwdGVuX2luaXRfbWFpbl90aHJlYWRfanModGIpe19fZW1zY3JpcHRlbl90aHJlYWRfaW5pdCh0YiwhRU5WSVJPTk1FTlRfSVNfV09SS0VSLDEsIUVOVklST05NRU5UX0lTX1dFQik7UFRocmVhZC50aHJlYWRJbml0KCl9ZnVuY3Rpb24gX19fZW1zY3JpcHRlbl90aHJlYWRfY2xlYW51cCh0aHJlYWQpe2lmKCFFTlZJUk9OTUVOVF9JU19QVEhSRUFEKWNsZWFudXBUaHJlYWQodGhyZWFkKTtlbHNlIHBvc3RNZXNzYWdlKHsiY21kIjoiY2xlYW51cFRocmVhZCIsInRocmVhZCI6dGhyZWFkfSl9ZnVuY3Rpb24gcHRocmVhZENyZWF0ZVByb3hpZWQocHRocmVhZF9wdHIsYXR0cixzdGFydF9yb3V0aW5lLGFyZyl7aWYoRU5WSVJPTk1FTlRfSVNfUFRIUkVBRClyZXR1cm4gX2Vtc2NyaXB0ZW5fcHJveHlfdG9fbWFpbl90aHJlYWRfanMoMiwxLHB0aHJlYWRfcHRyLGF0dHIsc3RhcnRfcm91dGluZSxhcmcpO3JldHVybiBfX19wdGhyZWFkX2NyZWF0ZV9qcyhwdGhyZWFkX3B0cixhdHRyLHN0YXJ0X3JvdXRpbmUsYXJnKX1mdW5jdGlvbiBfX19wdGhyZWFkX2NyZWF0ZV9qcyhwdGhyZWFkX3B0cixhdHRyLHN0YXJ0X3JvdXRpbmUsYXJnKXtpZih0eXBlb2YgU2hhcmVkQXJyYXlCdWZmZXI9PSJ1bmRlZmluZWQiKXtlcnIoIkN1cnJlbnQgZW52aXJvbm1lbnQgZG9lcyBub3Qgc3VwcG9ydCBTaGFyZWRBcnJheUJ1ZmZlciwgcHRocmVhZHMgYXJlIG5vdCBhdmFpbGFibGUhIik7cmV0dXJuIDZ9dmFyIHRyYW5zZmVyTGlzdD1bXTt2YXIgZXJyb3I9MDtpZihFTlZJUk9OTUVOVF9JU19QVEhSRUFEJiYodHJhbnNmZXJMaXN0Lmxlbmd0aD09PTB8fGVycm9yKSl7cmV0dXJuIHB0aHJlYWRDcmVhdGVQcm94aWVkKHB0aHJlYWRfcHRyLGF0dHIsc3RhcnRfcm91dGluZSxhcmcpfWlmKGVycm9yKXJldHVybiBlcnJvcjt2YXIgdGhyZWFkUGFyYW1zPXtzdGFydFJvdXRpbmU6c3RhcnRfcm91dGluZSxwdGhyZWFkX3B0cjpwdGhyZWFkX3B0cixhcmc6YXJnLHRyYW5zZmVyTGlzdDp0cmFuc2Zlckxpc3R9O2lmKEVOVklST05NRU5UX0lTX1BUSFJFQUQpe3RocmVhZFBhcmFtcy5jbWQ9InNwYXduVGhyZWFkIjtwb3N0TWVzc2FnZSh0aHJlYWRQYXJhbXMsdHJhbnNmZXJMaXN0KTtyZXR1cm4gMH1yZXR1cm4gc3Bhd25UaHJlYWQodGhyZWFkUGFyYW1zKX1mdW5jdGlvbiBzZXRFcnJObyh2YWx1ZSl7R1JPV0FCTEVfSEVBUF9JMzIoKVtfX19lcnJub19sb2NhdGlvbigpPj4yXT12YWx1ZTtyZXR1cm4gdmFsdWV9dmFyIFBBVEg9e2lzQWJzOnBhdGg9PnBhdGguY2hhckF0KDApPT09Ii8iLHNwbGl0UGF0aDpmaWxlbmFtZT0+e3ZhciBzcGxpdFBhdGhSZT0vXihcLz98KShbXHNcU10qPykoKD86XC57MSwyfXxbXlwvXSs/fCkoXC5bXi5cL10qfCkpKD86W1wvXSopJC87cmV0dXJuIHNwbGl0UGF0aFJlLmV4ZWMoZmlsZW5hbWUpLnNsaWNlKDEpfSxub3JtYWxpemVBcnJheToocGFydHMsYWxsb3dBYm92ZVJvb3QpPT57dmFyIHVwPTA7Zm9yKHZhciBpPXBhcnRzLmxlbmd0aC0xO2k+PTA7aS0tKXt2YXIgbGFzdD1wYXJ0c1tpXTtpZihsYXN0PT09Ii4iKXtwYXJ0cy5zcGxpY2UoaSwxKX1lbHNlIGlmKGxhc3Q9PT0iLi4iKXtwYXJ0cy5zcGxpY2UoaSwxKTt1cCsrfWVsc2UgaWYodXApe3BhcnRzLnNwbGljZShpLDEpO3VwLS19fWlmKGFsbG93QWJvdmVSb290KXtmb3IoO3VwO3VwLS0pe3BhcnRzLnVuc2hpZnQoIi4uIil9fXJldHVybiBwYXJ0c30sbm9ybWFsaXplOnBhdGg9Pnt2YXIgaXNBYnNvbHV0ZT1QQVRILmlzQWJzKHBhdGgpLHRyYWlsaW5nU2xhc2g9cGF0aC5zdWJzdHIoLTEpPT09Ii8iO3BhdGg9UEFUSC5ub3JtYWxpemVBcnJheShwYXRoLnNwbGl0KCIvIikuZmlsdGVyKHA9PiEhcCksIWlzQWJzb2x1dGUpLmpvaW4oIi8iKTtpZighcGF0aCYmIWlzQWJzb2x1dGUpe3BhdGg9Ii4ifWlmKHBhdGgmJnRyYWlsaW5nU2xhc2gpe3BhdGgrPSIvIn1yZXR1cm4oaXNBYnNvbHV0ZT8iLyI6IiIpK3BhdGh9LGRpcm5hbWU6cGF0aD0+e3ZhciByZXN1bHQ9UEFUSC5zcGxpdFBhdGgocGF0aCkscm9vdD1yZXN1bHRbMF0sZGlyPXJlc3VsdFsxXTtpZighcm9vdCYmIWRpcil7cmV0dXJuIi4ifWlmKGRpcil7ZGlyPWRpci5zdWJzdHIoMCxkaXIubGVuZ3RoLTEpfXJldHVybiByb290K2Rpcn0sYmFzZW5hbWU6cGF0aD0+e2lmKHBhdGg9PT0iLyIpcmV0dXJuIi8iO3BhdGg9UEFUSC5ub3JtYWxpemUocGF0aCk7cGF0aD1wYXRoLnJlcGxhY2UoL1wvJC8sIiIpO3ZhciBsYXN0U2xhc2g9cGF0aC5sYXN0SW5kZXhPZigiLyIpO2lmKGxhc3RTbGFzaD09PS0xKXJldHVybiBwYXRoO3JldHVybiBwYXRoLnN1YnN0cihsYXN0U2xhc2grMSl9LGpvaW46ZnVuY3Rpb24oKXt2YXIgcGF0aHM9QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLDApO3JldHVybiBQQVRILm5vcm1hbGl6ZShwYXRocy5qb2luKCIvIikpfSxqb2luMjoobCxyKT0+e3JldHVybiBQQVRILm5vcm1hbGl6ZShsKyIvIityKX19O2Z1bmN0aW9uIGdldFJhbmRvbURldmljZSgpe2lmKHR5cGVvZiBjcnlwdG89PSJvYmplY3QiJiZ0eXBlb2YgY3J5cHRvWyJnZXRSYW5kb21WYWx1ZXMiXT09ImZ1bmN0aW9uIil7dmFyIHJhbmRvbUJ1ZmZlcj1uZXcgVWludDhBcnJheSgxKTtyZXR1cm4gZnVuY3Rpb24oKXtjcnlwdG8uZ2V0UmFuZG9tVmFsdWVzKHJhbmRvbUJ1ZmZlcik7cmV0dXJuIHJhbmRvbUJ1ZmZlclswXX19ZWxzZSByZXR1cm4gZnVuY3Rpb24oKXthYm9ydCgicmFuZG9tRGV2aWNlIil9fXZhciBQQVRIX0ZTPXtyZXNvbHZlOmZ1bmN0aW9uKCl7dmFyIHJlc29sdmVkUGF0aD0iIixyZXNvbHZlZEFic29sdXRlPWZhbHNlO2Zvcih2YXIgaT1hcmd1bWVudHMubGVuZ3RoLTE7aT49LTEmJiFyZXNvbHZlZEFic29sdXRlO2ktLSl7dmFyIHBhdGg9aT49MD9hcmd1bWVudHNbaV06RlMuY3dkKCk7aWYodHlwZW9mIHBhdGghPSJzdHJpbmciKXt0aHJvdyBuZXcgVHlwZUVycm9yKCJBcmd1bWVudHMgdG8gcGF0aC5yZXNvbHZlIG11c3QgYmUgc3RyaW5ncyIpfWVsc2UgaWYoIXBhdGgpe3JldHVybiIifXJlc29sdmVkUGF0aD1wYXRoKyIvIityZXNvbHZlZFBhdGg7cmVzb2x2ZWRBYnNvbHV0ZT1QQVRILmlzQWJzKHBhdGgpfXJlc29sdmVkUGF0aD1QQVRILm5vcm1hbGl6ZUFycmF5KHJlc29sdmVkUGF0aC5zcGxpdCgiLyIpLmZpbHRlcihwPT4hIXApLCFyZXNvbHZlZEFic29sdXRlKS5qb2luKCIvIik7cmV0dXJuKHJlc29sdmVkQWJzb2x1dGU/Ii8iOiIiKStyZXNvbHZlZFBhdGh8fCIuIn0scmVsYXRpdmU6KGZyb20sdG8pPT57ZnJvbT1QQVRIX0ZTLnJlc29sdmUoZnJvbSkuc3Vic3RyKDEpO3RvPVBBVEhfRlMucmVzb2x2ZSh0bykuc3Vic3RyKDEpO2Z1bmN0aW9uIHRyaW0oYXJyKXt2YXIgc3RhcnQ9MDtmb3IoO3N0YXJ0PGFyci5sZW5ndGg7c3RhcnQrKyl7aWYoYXJyW3N0YXJ0XSE9PSIiKWJyZWFrfXZhciBlbmQ9YXJyLmxlbmd0aC0xO2Zvcig7ZW5kPj0wO2VuZC0tKXtpZihhcnJbZW5kXSE9PSIiKWJyZWFrfWlmKHN0YXJ0PmVuZClyZXR1cm5bXTtyZXR1cm4gYXJyLnNsaWNlKHN0YXJ0LGVuZC1zdGFydCsxKX12YXIgZnJvbVBhcnRzPXRyaW0oZnJvbS5zcGxpdCgiLyIpKTt2YXIgdG9QYXJ0cz10cmltKHRvLnNwbGl0KCIvIikpO3ZhciBsZW5ndGg9TWF0aC5taW4oZnJvbVBhcnRzLmxlbmd0aCx0b1BhcnRzLmxlbmd0aCk7dmFyIHNhbWVQYXJ0c0xlbmd0aD1sZW5ndGg7Zm9yKHZhciBpPTA7aTxsZW5ndGg7aSsrKXtpZihmcm9tUGFydHNbaV0hPT10b1BhcnRzW2ldKXtzYW1lUGFydHNMZW5ndGg9aTticmVha319dmFyIG91dHB1dFBhcnRzPVtdO2Zvcih2YXIgaT1zYW1lUGFydHNMZW5ndGg7aTxmcm9tUGFydHMubGVuZ3RoO2krKyl7b3V0cHV0UGFydHMucHVzaCgiLi4iKX1vdXRwdXRQYXJ0cz1vdXRwdXRQYXJ0cy5jb25jYXQodG9QYXJ0cy5zbGljZShzYW1lUGFydHNMZW5ndGgpKTtyZXR1cm4gb3V0cHV0UGFydHMuam9pbigiLyIpfX07dmFyIFRUWT17dHR5czpbXSxpbml0OmZ1bmN0aW9uKCl7fSxzaHV0ZG93bjpmdW5jdGlvbigpe30scmVnaXN0ZXI6ZnVuY3Rpb24oZGV2LG9wcyl7VFRZLnR0eXNbZGV2XT17aW5wdXQ6W10sb3V0cHV0OltdLG9wczpvcHN9O0ZTLnJlZ2lzdGVyRGV2aWNlKGRldixUVFkuc3RyZWFtX29wcyl9LHN0cmVhbV9vcHM6e29wZW46ZnVuY3Rpb24oc3RyZWFtKXt2YXIgdHR5PVRUWS50dHlzW3N0cmVhbS5ub2RlLnJkZXZdO2lmKCF0dHkpe3Rocm93IG5ldyBGUy5FcnJub0Vycm9yKDQzKX1zdHJlYW0udHR5PXR0eTtzdHJlYW0uc2Vla2FibGU9ZmFsc2V9LGNsb3NlOmZ1bmN0aW9uKHN0cmVhbSl7c3RyZWFtLnR0eS5vcHMuZmx1c2goc3RyZWFtLnR0eSl9LGZsdXNoOmZ1bmN0aW9uKHN0cmVhbSl7c3RyZWFtLnR0eS5vcHMuZmx1c2goc3RyZWFtLnR0eSl9LHJlYWQ6ZnVuY3Rpb24oc3RyZWFtLGJ1ZmZlcixvZmZzZXQsbGVuZ3RoLHBvcyl7aWYoIXN0cmVhbS50dHl8fCFzdHJlYW0udHR5Lm9wcy5nZXRfY2hhcil7dGhyb3cgbmV3IEZTLkVycm5vRXJyb3IoNjApfXZhciBieXRlc1JlYWQ9MDtmb3IodmFyIGk9MDtpPGxlbmd0aDtpKyspe3ZhciByZXN1bHQ7dHJ5e3Jlc3VsdD1zdHJlYW0udHR5Lm9wcy5nZXRfY2hhcihzdHJlYW0udHR5KX1jYXRjaChlKXt0aHJvdyBuZXcgRlMuRXJybm9FcnJvcigyOSl9aWYocmVzdWx0PT09dW5kZWZpbmVkJiZieXRlc1JlYWQ9PT0wKXt0aHJvdyBuZXcgRlMuRXJybm9FcnJvcig2KX1pZihyZXN1bHQ9PT1udWxsfHxyZXN1bHQ9PT11bmRlZmluZWQpYnJlYWs7Ynl0ZXNSZWFkKys7YnVmZmVyW29mZnNldCtpXT1yZXN1bHR9aWYoYnl0ZXNSZWFkKXtzdHJlYW0ubm9kZS50aW1lc3RhbXA9RGF0ZS5ub3coKX1yZXR1cm4gYnl0ZXNSZWFkfSx3cml0ZTpmdW5jdGlvbihzdHJlYW0sYnVmZmVyLG9mZnNldCxsZW5ndGgscG9zKXtpZighc3RyZWFtLnR0eXx8IXN0cmVhbS50dHkub3BzLnB1dF9jaGFyKXt0aHJvdyBuZXcgRlMuRXJybm9FcnJvcig2MCl9dHJ5e2Zvcih2YXIgaT0wO2k8bGVuZ3RoO2krKyl7c3RyZWFtLnR0eS5vcHMucHV0X2NoYXIoc3RyZWFtLnR0eSxidWZmZXJbb2Zmc2V0K2ldKX19Y2F0Y2goZSl7dGhyb3cgbmV3IEZTLkVycm5vRXJyb3IoMjkpfWlmKGxlbmd0aCl7c3RyZWFtLm5vZGUudGltZXN0YW1wPURhdGUubm93KCl9cmV0dXJuIGl9fSxkZWZhdWx0X3R0eV9vcHM6e2dldF9jaGFyOmZ1bmN0aW9uKHR0eSl7aWYoIXR0eS5pbnB1dC5sZW5ndGgpe3ZhciByZXN1bHQ9bnVsbDtpZih0eXBlb2Ygd2luZG93IT0idW5kZWZpbmVkIiYmdHlwZW9mIHdpbmRvdy5wcm9tcHQ9PSJmdW5jdGlvbiIpe3Jlc3VsdD13aW5kb3cucHJvbXB0KCJJbnB1dDogIik7aWYocmVzdWx0IT09bnVsbCl7cmVzdWx0Kz0iXG4ifX1lbHNlIGlmKHR5cGVvZiByZWFkbGluZT09ImZ1bmN0aW9uIil7cmVzdWx0PXJlYWRsaW5lKCk7aWYocmVzdWx0IT09bnVsbCl7cmVzdWx0Kz0iXG4ifX1pZighcmVzdWx0KXtyZXR1cm4gbnVsbH10dHkuaW5wdXQ9aW50QXJyYXlGcm9tU3RyaW5nKHJlc3VsdCx0cnVlKX1yZXR1cm4gdHR5LmlucHV0LnNoaWZ0KCl9LHB1dF9jaGFyOmZ1bmN0aW9uKHR0eSx2YWwpe2lmKHZhbD09PW51bGx8fHZhbD09PTEwKXtvdXQoVVRGOEFycmF5VG9TdHJpbmcodHR5Lm91dHB1dCwwKSk7dHR5Lm91dHB1dD1bXX1lbHNle2lmKHZhbCE9MCl0dHkub3V0cHV0LnB1c2godmFsKX19LGZsdXNoOmZ1bmN0aW9uKHR0eSl7aWYodHR5Lm91dHB1dCYmdHR5Lm91dHB1dC5sZW5ndGg+MCl7b3V0KFVURjhBcnJheVRvU3RyaW5nKHR0eS5vdXRwdXQsMCkpO3R0eS5vdXRwdXQ9W119fX0sZGVmYXVsdF90dHkxX29wczp7cHV0X2NoYXI6ZnVuY3Rpb24odHR5LHZhbCl7aWYodmFsPT09bnVsbHx8dmFsPT09MTApe2VycihVVEY4QXJyYXlUb1N0cmluZyh0dHkub3V0cHV0LDApKTt0dHkub3V0cHV0PVtdfWVsc2V7aWYodmFsIT0wKXR0eS5vdXRwdXQucHVzaCh2YWwpfX0sZmx1c2g6ZnVuY3Rpb24odHR5KXtpZih0dHkub3V0cHV0JiZ0dHkub3V0cHV0Lmxlbmd0aD4wKXtlcnIoVVRGOEFycmF5VG9TdHJpbmcodHR5Lm91dHB1dCwwKSk7dHR5Lm91dHB1dD1bXX19fX07ZnVuY3Rpb24gYWxpZ25NZW1vcnkoc2l6ZSxhbGlnbm1lbnQpe3JldHVybiBNYXRoLmNlaWwoc2l6ZS9hbGlnbm1lbnQpKmFsaWdubWVudH1mdW5jdGlvbiBtbWFwQWxsb2Moc2l6ZSl7c2l6ZT1hbGlnbk1lbW9yeShzaXplLDY1NTM2KTt2YXIgcHRyPV9lbXNjcmlwdGVuX2J1aWx0aW5fbWVtYWxpZ24oNjU1MzYsc2l6ZSk7aWYoIXB0cilyZXR1cm4gMDt6ZXJvTWVtb3J5KHB0cixzaXplKTtyZXR1cm4gcHRyfXZhciBNRU1GUz17b3BzX3RhYmxlOm51bGwsbW91bnQ6ZnVuY3Rpb24obW91bnQpe3JldHVybiBNRU1GUy5jcmVhdGVOb2RlKG51bGwsIi8iLDE2Mzg0fDUxMSwwKX0sY3JlYXRlTm9kZTpmdW5jdGlvbihwYXJlbnQsbmFtZSxtb2RlLGRldil7aWYoRlMuaXNCbGtkZXYobW9kZSl8fEZTLmlzRklGTyhtb2RlKSl7dGhyb3cgbmV3IEZTLkVycm5vRXJyb3IoNjMpfWlmKCFNRU1GUy5vcHNfdGFibGUpe01FTUZTLm9wc190YWJsZT17ZGlyOntub2RlOntnZXRhdHRyOk1FTUZTLm5vZGVfb3BzLmdldGF0dHIsc2V0YXR0cjpNRU1GUy5ub2RlX29wcy5zZXRhdHRyLGxvb2t1cDpNRU1GUy5ub2RlX29wcy5sb29rdXAsbWtub2Q6TUVNRlMubm9kZV9vcHMubWtub2QscmVuYW1lOk1FTUZTLm5vZGVfb3BzLnJlbmFtZSx1bmxpbms6TUVNRlMubm9kZV9vcHMudW5saW5rLHJtZGlyOk1FTUZTLm5vZGVfb3BzLnJtZGlyLHJlYWRkaXI6TUVNRlMubm9kZV9vcHMucmVhZGRpcixzeW1saW5rOk1FTUZTLm5vZGVfb3BzLnN5bWxpbmt9LHN0cmVhbTp7bGxzZWVrOk1FTUZTLnN0cmVhbV9vcHMubGxzZWVrfX0sZmlsZTp7bm9kZTp7Z2V0YXR0cjpNRU1GUy5ub2RlX29wcy5nZXRhdHRyLHNldGF0dHI6TUVNRlMubm9kZV9vcHMuc2V0YXR0cn0sc3RyZWFtOntsbHNlZWs6TUVNRlMuc3RyZWFtX29wcy5sbHNlZWsscmVhZDpNRU1GUy5zdHJlYW1fb3BzLnJlYWQsd3JpdGU6TUVNRlMuc3RyZWFtX29wcy53cml0ZSxhbGxvY2F0ZTpNRU1GUy5zdHJlYW1fb3BzLmFsbG9jYXRlLG1tYXA6TUVNRlMuc3RyZWFtX29wcy5tbWFwLG1zeW5jOk1FTUZTLnN0cmVhbV9vcHMubXN5bmN9fSxsaW5rOntub2RlOntnZXRhdHRyOk1FTUZTLm5vZGVfb3BzLmdldGF0dHIsc2V0YXR0cjpNRU1GUy5ub2RlX29wcy5zZXRhdHRyLHJlYWRsaW5rOk1FTUZTLm5vZGVfb3BzLnJlYWRsaW5rfSxzdHJlYW06e319LGNocmRldjp7bm9kZTp7Z2V0YXR0cjpNRU1GUy5ub2RlX29wcy5nZXRhdHRyLHNldGF0dHI6TUVNRlMubm9kZV9vcHMuc2V0YXR0cn0sc3RyZWFtOkZTLmNocmRldl9zdHJlYW1fb3BzfX19dmFyIG5vZGU9RlMuY3JlYXRlTm9kZShwYXJlbnQsbmFtZSxtb2RlLGRldik7aWYoRlMuaXNEaXIobm9kZS5tb2RlKSl7bm9kZS5ub2RlX29wcz1NRU1GUy5vcHNfdGFibGUuZGlyLm5vZGU7bm9kZS5zdHJlYW1fb3BzPU1FTUZTLm9wc190YWJsZS5kaXIuc3RyZWFtO25vZGUuY29udGVudHM9e319ZWxzZSBpZihGUy5pc0ZpbGUobm9kZS5tb2RlKSl7bm9kZS5ub2RlX29wcz1NRU1GUy5vcHNfdGFibGUuZmlsZS5ub2RlO25vZGUuc3RyZWFtX29wcz1NRU1GUy5vcHNfdGFibGUuZmlsZS5zdHJlYW07bm9kZS51c2VkQnl0ZXM9MDtub2RlLmNvbnRlbnRzPW51bGx9ZWxzZSBpZihGUy5pc0xpbmsobm9kZS5tb2RlKSl7bm9kZS5ub2RlX29wcz1NRU1GUy5vcHNfdGFibGUubGluay5ub2RlO25vZGUuc3RyZWFtX29wcz1NRU1GUy5vcHNfdGFibGUubGluay5zdHJlYW19ZWxzZSBpZihGUy5pc0NocmRldihub2RlLm1vZGUpKXtub2RlLm5vZGVfb3BzPU1FTUZTLm9wc190YWJsZS5jaHJkZXYubm9kZTtub2RlLnN0cmVhbV9vcHM9TUVNRlMub3BzX3RhYmxlLmNocmRldi5zdHJlYW19bm9kZS50aW1lc3RhbXA9RGF0ZS5ub3coKTtpZihwYXJlbnQpe3BhcmVudC5jb250ZW50c1tuYW1lXT1ub2RlO3BhcmVudC50aW1lc3RhbXA9bm9kZS50aW1lc3RhbXB9cmV0dXJuIG5vZGV9LGdldEZpbGVEYXRhQXNUeXBlZEFycmF5OmZ1bmN0aW9uKG5vZGUpe2lmKCFub2RlLmNvbnRlbnRzKXJldHVybiBuZXcgVWludDhBcnJheSgwKTtpZihub2RlLmNvbnRlbnRzLnN1YmFycmF5KXJldHVybiBub2RlLmNvbnRlbnRzLnN1YmFycmF5KDAsbm9kZS51c2VkQnl0ZXMpO3JldHVybiBuZXcgVWludDhBcnJheShub2RlLmNvbnRlbnRzKX0sZXhwYW5kRmlsZVN0b3JhZ2U6ZnVuY3Rpb24obm9kZSxuZXdDYXBhY2l0eSl7dmFyIHByZXZDYXBhY2l0eT1ub2RlLmNvbnRlbnRzP25vZGUuY29udGVudHMubGVuZ3RoOjA7aWYocHJldkNhcGFjaXR5Pj1uZXdDYXBhY2l0eSlyZXR1cm47dmFyIENBUEFDSVRZX0RPVUJMSU5HX01BWD0xMDI0KjEwMjQ7bmV3Q2FwYWNpdHk9TWF0aC5tYXgobmV3Q2FwYWNpdHkscHJldkNhcGFjaXR5KihwcmV2Q2FwYWNpdHk8Q0FQQUNJVFlfRE9VQkxJTkdfTUFYPzI6MS4xMjUpPj4+MCk7aWYocHJldkNhcGFjaXR5IT0wKW5ld0NhcGFjaXR5PU1hdGgubWF4KG5ld0NhcGFjaXR5LDI1Nik7dmFyIG9sZENvbnRlbnRzPW5vZGUuY29udGVudHM7bm9kZS5jb250ZW50cz1uZXcgVWludDhBcnJheShuZXdDYXBhY2l0eSk7aWYobm9kZS51c2VkQnl0ZXM+MClub2RlLmNvbnRlbnRzLnNldChvbGRDb250ZW50cy5zdWJhcnJheSgwLG5vZGUudXNlZEJ5dGVzKSwwKX0scmVzaXplRmlsZVN0b3JhZ2U6ZnVuY3Rpb24obm9kZSxuZXdTaXplKXtpZihub2RlLnVzZWRCeXRlcz09bmV3U2l6ZSlyZXR1cm47aWYobmV3U2l6ZT09MCl7bm9kZS5jb250ZW50cz1udWxsO25vZGUudXNlZEJ5dGVzPTB9ZWxzZXt2YXIgb2xkQ29udGVudHM9bm9kZS5jb250ZW50cztub2RlLmNvbnRlbnRzPW5ldyBVaW50OEFycmF5KG5ld1NpemUpO2lmKG9sZENvbnRlbnRzKXtub2RlLmNvbnRlbnRzLnNldChvbGRDb250ZW50cy5zdWJhcnJheSgwLE1hdGgubWluKG5ld1NpemUsbm9kZS51c2VkQnl0ZXMpKSl9bm9kZS51c2VkQnl0ZXM9bmV3U2l6ZX19LG5vZGVfb3BzOntnZXRhdHRyOmZ1bmN0aW9uKG5vZGUpe3ZhciBhdHRyPXt9O2F0dHIuZGV2PUZTLmlzQ2hyZGV2KG5vZGUubW9kZSk/bm9kZS5pZDoxO2F0dHIuaW5vPW5vZGUuaWQ7YXR0ci5tb2RlPW5vZGUubW9kZTthdHRyLm5saW5rPTE7YXR0ci51aWQ9MDthdHRyLmdpZD0wO2F0dHIucmRldj1ub2RlLnJkZXY7aWYoRlMuaXNEaXIobm9kZS5tb2RlKSl7YXR0ci5zaXplPTQwOTZ9ZWxzZSBpZihGUy5pc0ZpbGUobm9kZS5tb2RlKSl7YXR0ci5zaXplPW5vZGUudXNlZEJ5dGVzfWVsc2UgaWYoRlMuaXNMaW5rKG5vZGUubW9kZSkpe2F0dHIuc2l6ZT1ub2RlLmxpbmsubGVuZ3RofWVsc2V7YXR0ci5zaXplPTB9YXR0ci5hdGltZT1uZXcgRGF0ZShub2RlLnRpbWVzdGFtcCk7YXR0ci5tdGltZT1uZXcgRGF0ZShub2RlLnRpbWVzdGFtcCk7YXR0ci5jdGltZT1uZXcgRGF0ZShub2RlLnRpbWVzdGFtcCk7YXR0ci5ibGtzaXplPTQwOTY7YXR0ci5ibG9ja3M9TWF0aC5jZWlsKGF0dHIuc2l6ZS9hdHRyLmJsa3NpemUpO3JldHVybiBhdHRyfSxzZXRhdHRyOmZ1bmN0aW9uKG5vZGUsYXR0cil7aWYoYXR0ci5tb2RlIT09dW5kZWZpbmVkKXtub2RlLm1vZGU9YXR0ci5tb2RlfWlmKGF0dHIudGltZXN0YW1wIT09dW5kZWZpbmVkKXtub2RlLnRpbWVzdGFtcD1hdHRyLnRpbWVzdGFtcH1pZihhdHRyLnNpemUhPT11bmRlZmluZWQpe01FTUZTLnJlc2l6ZUZpbGVTdG9yYWdlKG5vZGUsYXR0ci5zaXplKX19LGxvb2t1cDpmdW5jdGlvbihwYXJlbnQsbmFtZSl7dGhyb3cgRlMuZ2VuZXJpY0Vycm9yc1s0NF19LG1rbm9kOmZ1bmN0aW9uKHBhcmVudCxuYW1lLG1vZGUsZGV2KXtyZXR1cm4gTUVNRlMuY3JlYXRlTm9kZShwYXJlbnQsbmFtZSxtb2RlLGRldil9LHJlbmFtZTpmdW5jdGlvbihvbGRfbm9kZSxuZXdfZGlyLG5ld19uYW1lKXtpZihGUy5pc0RpcihvbGRfbm9kZS5tb2RlKSl7dmFyIG5ld19ub2RlO3RyeXtuZXdfbm9kZT1GUy5sb29rdXBOb2RlKG5ld19kaXIsbmV3X25hbWUpfWNhdGNoKGUpe31pZihuZXdfbm9kZSl7Zm9yKHZhciBpIGluIG5ld19ub2RlLmNvbnRlbnRzKXt0aHJvdyBuZXcgRlMuRXJybm9FcnJvcig1NSl9fX1kZWxldGUgb2xkX25vZGUucGFyZW50LmNvbnRlbnRzW29sZF9ub2RlLm5hbWVdO29sZF9ub2RlLnBhcmVudC50aW1lc3RhbXA9RGF0ZS5ub3coKTtvbGRfbm9kZS5uYW1lPW5ld19uYW1lO25ld19kaXIuY29udGVudHNbbmV3X25hbWVdPW9sZF9ub2RlO25ld19kaXIudGltZXN0YW1wPW9sZF9ub2RlLnBhcmVudC50aW1lc3RhbXA7b2xkX25vZGUucGFyZW50PW5ld19kaXJ9LHVubGluazpmdW5jdGlvbihwYXJlbnQsbmFtZSl7ZGVsZXRlIHBhcmVudC5jb250ZW50c1tuYW1lXTtwYXJlbnQudGltZXN0YW1wPURhdGUubm93KCl9LHJtZGlyOmZ1bmN0aW9uKHBhcmVudCxuYW1lKXt2YXIgbm9kZT1GUy5sb29rdXBOb2RlKHBhcmVudCxuYW1lKTtmb3IodmFyIGkgaW4gbm9kZS5jb250ZW50cyl7dGhyb3cgbmV3IEZTLkVycm5vRXJyb3IoNTUpfWRlbGV0ZSBwYXJlbnQuY29udGVudHNbbmFtZV07cGFyZW50LnRpbWVzdGFtcD1EYXRlLm5vdygpfSxyZWFkZGlyOmZ1bmN0aW9uKG5vZGUpe3ZhciBlbnRyaWVzPVsiLiIsIi4uIl07Zm9yKHZhciBrZXkgaW4gbm9kZS5jb250ZW50cyl7aWYoIW5vZGUuY29udGVudHMuaGFzT3duUHJvcGVydHkoa2V5KSl7Y29udGludWV9ZW50cmllcy5wdXNoKGtleSl9cmV0dXJuIGVudHJpZXN9LHN5bWxpbms6ZnVuY3Rpb24ocGFyZW50LG5ld25hbWUsb2xkcGF0aCl7dmFyIG5vZGU9TUVNRlMuY3JlYXRlTm9kZShwYXJlbnQsbmV3bmFtZSw1MTF8NDA5NjAsMCk7bm9kZS5saW5rPW9sZHBhdGg7cmV0dXJuIG5vZGV9LHJlYWRsaW5rOmZ1bmN0aW9uKG5vZGUpe2lmKCFGUy5pc0xpbmsobm9kZS5tb2RlKSl7dGhyb3cgbmV3IEZTLkVycm5vRXJyb3IoMjgpfXJldHVybiBub2RlLmxpbmt9fSxzdHJlYW1fb3BzOntyZWFkOmZ1bmN0aW9uKHN0cmVhbSxidWZmZXIsb2Zmc2V0LGxlbmd0aCxwb3NpdGlvbil7dmFyIGNvbnRlbnRzPXN0cmVhbS5ub2RlLmNvbnRlbnRzO2lmKHBvc2l0aW9uPj1zdHJlYW0ubm9kZS51c2VkQnl0ZXMpcmV0dXJuIDA7dmFyIHNpemU9TWF0aC5taW4oc3RyZWFtLm5vZGUudXNlZEJ5dGVzLXBvc2l0aW9uLGxlbmd0aCk7aWYoc2l6ZT44JiZjb250ZW50cy5zdWJhcnJheSl7YnVmZmVyLnNldChjb250ZW50cy5zdWJhcnJheShwb3NpdGlvbixwb3NpdGlvbitzaXplKSxvZmZzZXQpfWVsc2V7Zm9yKHZhciBpPTA7aTxzaXplO2krKylidWZmZXJbb2Zmc2V0K2ldPWNvbnRlbnRzW3Bvc2l0aW9uK2ldfXJldHVybiBzaXplfSx3cml0ZTpmdW5jdGlvbihzdHJlYW0sYnVmZmVyLG9mZnNldCxsZW5ndGgscG9zaXRpb24sY2FuT3duKXtpZihidWZmZXIuYnVmZmVyPT09R1JPV0FCTEVfSEVBUF9JOCgpLmJ1ZmZlcil7Y2FuT3duPWZhbHNlfWlmKCFsZW5ndGgpcmV0dXJuIDA7dmFyIG5vZGU9c3RyZWFtLm5vZGU7bm9kZS50aW1lc3RhbXA9RGF0ZS5ub3coKTtpZihidWZmZXIuc3ViYXJyYXkmJighbm9kZS5jb250ZW50c3x8bm9kZS5jb250ZW50cy5zdWJhcnJheSkpe2lmKGNhbk93bil7bm9kZS5jb250ZW50cz1idWZmZXIuc3ViYXJyYXkob2Zmc2V0LG9mZnNldCtsZW5ndGgpO25vZGUudXNlZEJ5dGVzPWxlbmd0aDtyZXR1cm4gbGVuZ3RofWVsc2UgaWYobm9kZS51c2VkQnl0ZXM9PT0wJiZwb3NpdGlvbj09PTApe25vZGUuY29udGVudHM9YnVmZmVyLnNsaWNlKG9mZnNldCxvZmZzZXQrbGVuZ3RoKTtub2RlLnVzZWRCeXRlcz1sZW5ndGg7cmV0dXJuIGxlbmd0aH1lbHNlIGlmKHBvc2l0aW9uK2xlbmd0aDw9bm9kZS51c2VkQnl0ZXMpe25vZGUuY29udGVudHMuc2V0KGJ1ZmZlci5zdWJhcnJheShvZmZzZXQsb2Zmc2V0K2xlbmd0aCkscG9zaXRpb24pO3JldHVybiBsZW5ndGh9fU1FTUZTLmV4cGFuZEZpbGVTdG9yYWdlKG5vZGUscG9zaXRpb24rbGVuZ3RoKTtpZihub2RlLmNvbnRlbnRzLnN1YmFycmF5JiZidWZmZXIuc3ViYXJyYXkpe25vZGUuY29udGVudHMuc2V0KGJ1ZmZlci5zdWJhcnJheShvZmZzZXQsb2Zmc2V0K2xlbmd0aCkscG9zaXRpb24pfWVsc2V7Zm9yKHZhciBpPTA7aTxsZW5ndGg7aSsrKXtub2RlLmNvbnRlbnRzW3Bvc2l0aW9uK2ldPWJ1ZmZlcltvZmZzZXQraV19fW5vZGUudXNlZEJ5dGVzPU1hdGgubWF4KG5vZGUudXNlZEJ5dGVzLHBvc2l0aW9uK2xlbmd0aCk7cmV0dXJuIGxlbmd0aH0sbGxzZWVrOmZ1bmN0aW9uKHN0cmVhbSxvZmZzZXQsd2hlbmNlKXt2YXIgcG9zaXRpb249b2Zmc2V0O2lmKHdoZW5jZT09PTEpe3Bvc2l0aW9uKz1zdHJlYW0ucG9zaXRpb259ZWxzZSBpZih3aGVuY2U9PT0yKXtpZihGUy5pc0ZpbGUoc3RyZWFtLm5vZGUubW9kZSkpe3Bvc2l0aW9uKz1zdHJlYW0ubm9kZS51c2VkQnl0ZXN9fWlmKHBvc2l0aW9uPDApe3Rocm93IG5ldyBGUy5FcnJub0Vycm9yKDI4KX1yZXR1cm4gcG9zaXRpb259LGFsbG9jYXRlOmZ1bmN0aW9uKHN0cmVhbSxvZmZzZXQsbGVuZ3RoKXtNRU1GUy5leHBhbmRGaWxlU3RvcmFnZShzdHJlYW0ubm9kZSxvZmZzZXQrbGVuZ3RoKTtzdHJlYW0ubm9kZS51c2VkQnl0ZXM9TWF0aC5tYXgoc3RyZWFtLm5vZGUudXNlZEJ5dGVzLG9mZnNldCtsZW5ndGgpfSxtbWFwOmZ1bmN0aW9uKHN0cmVhbSxhZGRyZXNzLGxlbmd0aCxwb3NpdGlvbixwcm90LGZsYWdzKXtpZihhZGRyZXNzIT09MCl7dGhyb3cgbmV3IEZTLkVycm5vRXJyb3IoMjgpfWlmKCFGUy5pc0ZpbGUoc3RyZWFtLm5vZGUubW9kZSkpe3Rocm93IG5ldyBGUy5FcnJub0Vycm9yKDQzKX12YXIgcHRyO3ZhciBhbGxvY2F0ZWQ7dmFyIGNvbnRlbnRzPXN0cmVhbS5ub2RlLmNvbnRlbnRzO2lmKCEoZmxhZ3MmMikmJmNvbnRlbnRzLmJ1ZmZlcj09PWJ1ZmZlcil7YWxsb2NhdGVkPWZhbHNlO3B0cj1jb250ZW50cy5ieXRlT2Zmc2V0fWVsc2V7aWYocG9zaXRpb24+MHx8cG9zaXRpb24rbGVuZ3RoPGNvbnRlbnRzLmxlbmd0aCl7aWYoY29udGVudHMuc3ViYXJyYXkpe2NvbnRlbnRzPWNvbnRlbnRzLnN1YmFycmF5KHBvc2l0aW9uLHBvc2l0aW9uK2xlbmd0aCl9ZWxzZXtjb250ZW50cz1BcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChjb250ZW50cyxwb3NpdGlvbixwb3NpdGlvbitsZW5ndGgpfX1hbGxvY2F0ZWQ9dHJ1ZTtwdHI9bW1hcEFsbG9jKGxlbmd0aCk7aWYoIXB0cil7dGhyb3cgbmV3IEZTLkVycm5vRXJyb3IoNDgpfUdST1dBQkxFX0hFQVBfSTgoKS5zZXQoY29udGVudHMscHRyKX1yZXR1cm57cHRyOnB0cixhbGxvY2F0ZWQ6YWxsb2NhdGVkfX0sbXN5bmM6ZnVuY3Rpb24oc3RyZWFtLGJ1ZmZlcixvZmZzZXQsbGVuZ3RoLG1tYXBGbGFncyl7aWYoIUZTLmlzRmlsZShzdHJlYW0ubm9kZS5tb2RlKSl7dGhyb3cgbmV3IEZTLkVycm5vRXJyb3IoNDMpfWlmKG1tYXBGbGFncyYyKXtyZXR1cm4gMH12YXIgYnl0ZXNXcml0dGVuPU1FTUZTLnN0cmVhbV9vcHMud3JpdGUoc3RyZWFtLGJ1ZmZlciwwLGxlbmd0aCxvZmZzZXQsZmFsc2UpO3JldHVybiAwfX19O2Z1bmN0aW9uIGFzeW5jTG9hZCh1cmwsb25sb2FkLG9uZXJyb3Isbm9SdW5EZXApe3ZhciBkZXA9IW5vUnVuRGVwP2dldFVuaXF1ZVJ1bkRlcGVuZGVuY3koImFsICIrdXJsKToiIjtyZWFkQXN5bmModXJsLGZ1bmN0aW9uKGFycmF5QnVmZmVyKXthc3NlcnQoYXJyYXlCdWZmZXIsJ0xvYWRpbmcgZGF0YSBmaWxlICInK3VybCsnIiBmYWlsZWQgKG5vIGFycmF5QnVmZmVyKS4nKTtvbmxvYWQobmV3IFVpbnQ4QXJyYXkoYXJyYXlCdWZmZXIpKTtpZihkZXApcmVtb3ZlUnVuRGVwZW5kZW5jeShkZXApfSxmdW5jdGlvbihldmVudCl7aWYob25lcnJvcil7b25lcnJvcigpfWVsc2V7dGhyb3cnTG9hZGluZyBkYXRhIGZpbGUgIicrdXJsKyciIGZhaWxlZC4nfX0pO2lmKGRlcClhZGRSdW5EZXBlbmRlbmN5KGRlcCl9dmFyIEZTPXtyb290Om51bGwsbW91bnRzOltdLGRldmljZXM6e30sc3RyZWFtczpbXSxuZXh0SW5vZGU6MSxuYW1lVGFibGU6bnVsbCxjdXJyZW50UGF0aDoiLyIsaW5pdGlhbGl6ZWQ6ZmFsc2UsaWdub3JlUGVybWlzc2lvbnM6dHJ1ZSxFcnJub0Vycm9yOm51bGwsZ2VuZXJpY0Vycm9yczp7fSxmaWxlc3lzdGVtczpudWxsLHN5bmNGU1JlcXVlc3RzOjAsbG9va3VwUGF0aDoocGF0aCxvcHRzPXt9KT0+e3BhdGg9UEFUSF9GUy5yZXNvbHZlKEZTLmN3ZCgpLHBhdGgpO2lmKCFwYXRoKXJldHVybntwYXRoOiIiLG5vZGU6bnVsbH07dmFyIGRlZmF1bHRzPXtmb2xsb3dfbW91bnQ6dHJ1ZSxyZWN1cnNlX2NvdW50OjB9O29wdHM9T2JqZWN0LmFzc2lnbihkZWZhdWx0cyxvcHRzKTtpZihvcHRzLnJlY3Vyc2VfY291bnQ+OCl7dGhyb3cgbmV3IEZTLkVycm5vRXJyb3IoMzIpfXZhciBwYXJ0cz1QQVRILm5vcm1hbGl6ZUFycmF5KHBhdGguc3BsaXQoIi8iKS5maWx0ZXIocD0+ISFwKSxmYWxzZSk7dmFyIGN1cnJlbnQ9RlMucm9vdDt2YXIgY3VycmVudF9wYXRoPSIvIjtmb3IodmFyIGk9MDtpPHBhcnRzLmxlbmd0aDtpKyspe3ZhciBpc2xhc3Q9aT09PXBhcnRzLmxlbmd0aC0xO2lmKGlzbGFzdCYmb3B0cy5wYXJlbnQpe2JyZWFrfWN1cnJlbnQ9RlMubG9va3VwTm9kZShjdXJyZW50LHBhcnRzW2ldKTtjdXJyZW50X3BhdGg9UEFUSC5qb2luMihjdXJyZW50X3BhdGgscGFydHNbaV0pO2lmKEZTLmlzTW91bnRwb2ludChjdXJyZW50KSl7aWYoIWlzbGFzdHx8aXNsYXN0JiZvcHRzLmZvbGxvd19tb3VudCl7Y3VycmVudD1jdXJyZW50Lm1vdW50ZWQucm9vdH19aWYoIWlzbGFzdHx8b3B0cy5mb2xsb3cpe3ZhciBjb3VudD0wO3doaWxlKEZTLmlzTGluayhjdXJyZW50Lm1vZGUpKXt2YXIgbGluaz1GUy5yZWFkbGluayhjdXJyZW50X3BhdGgpO2N1cnJlbnRfcGF0aD1QQVRIX0ZTLnJlc29sdmUoUEFUSC5kaXJuYW1lKGN1cnJlbnRfcGF0aCksbGluayk7dmFyIGxvb2t1cD1GUy5sb29rdXBQYXRoKGN1cnJlbnRfcGF0aCx7cmVjdXJzZV9jb3VudDpvcHRzLnJlY3Vyc2VfY291bnQrMX0pO2N1cnJlbnQ9bG9va3VwLm5vZGU7aWYoY291bnQrKz40MCl7dGhyb3cgbmV3IEZTLkVycm5vRXJyb3IoMzIpfX19fXJldHVybntwYXRoOmN1cnJlbnRfcGF0aCxub2RlOmN1cnJlbnR9fSxnZXRQYXRoOm5vZGU9Pnt2YXIgcGF0aDt3aGlsZSh0cnVlKXtpZihGUy5pc1Jvb3Qobm9kZSkpe3ZhciBtb3VudD1ub2RlLm1vdW50Lm1vdW50cG9pbnQ7aWYoIXBhdGgpcmV0dXJuIG1vdW50O3JldHVybiBtb3VudFttb3VudC5sZW5ndGgtMV0hPT0iLyI/bW91bnQrIi8iK3BhdGg6bW91bnQrcGF0aH1wYXRoPXBhdGg/bm9kZS5uYW1lKyIvIitwYXRoOm5vZGUubmFtZTtub2RlPW5vZGUucGFyZW50fX0saGFzaE5hbWU6KHBhcmVudGlkLG5hbWUpPT57dmFyIGhhc2g9MDtmb3IodmFyIGk9MDtpPG5hbWUubGVuZ3RoO2krKyl7aGFzaD0oaGFzaDw8NSktaGFzaCtuYW1lLmNoYXJDb2RlQXQoaSl8MH1yZXR1cm4ocGFyZW50aWQraGFzaD4+PjApJUZTLm5hbWVUYWJsZS5sZW5ndGh9LGhhc2hBZGROb2RlOm5vZGU9Pnt2YXIgaGFzaD1GUy5oYXNoTmFtZShub2RlLnBhcmVudC5pZCxub2RlLm5hbWUpO25vZGUubmFtZV9uZXh0PUZTLm5hbWVUYWJsZVtoYXNoXTtGUy5uYW1lVGFibGVbaGFzaF09bm9kZX0saGFzaFJlbW92ZU5vZGU6bm9kZT0+e3ZhciBoYXNoPUZTLmhhc2hOYW1lKG5vZGUucGFyZW50LmlkLG5vZGUubmFtZSk7aWYoRlMubmFtZVRhYmxlW2hhc2hdPT09bm9kZSl7RlMubmFtZVRhYmxlW2hhc2hdPW5vZGUubmFtZV9uZXh0fWVsc2V7dmFyIGN1cnJlbnQ9RlMubmFtZVRhYmxlW2hhc2hdO3doaWxlKGN1cnJlbnQpe2lmKGN1cnJlbnQubmFtZV9uZXh0PT09bm9kZSl7Y3VycmVudC5uYW1lX25leHQ9bm9kZS5uYW1lX25leHQ7YnJlYWt9Y3VycmVudD1jdXJyZW50Lm5hbWVfbmV4dH19fSxsb29rdXBOb2RlOihwYXJlbnQsbmFtZSk9Pnt2YXIgZXJyQ29kZT1GUy5tYXlMb29rdXAocGFyZW50KTtpZihlcnJDb2RlKXt0aHJvdyBuZXcgRlMuRXJybm9FcnJvcihlcnJDb2RlLHBhcmVudCl9dmFyIGhhc2g9RlMuaGFzaE5hbWUocGFyZW50LmlkLG5hbWUpO2Zvcih2YXIgbm9kZT1GUy5uYW1lVGFibGVbaGFzaF07bm9kZTtub2RlPW5vZGUubmFtZV9uZXh0KXt2YXIgbm9kZU5hbWU9bm9kZS5uYW1lO2lmKG5vZGUucGFyZW50LmlkPT09cGFyZW50LmlkJiZub2RlTmFtZT09PW5hbWUpe3JldHVybiBub2RlfX1yZXR1cm4gRlMubG9va3VwKHBhcmVudCxuYW1lKX0sY3JlYXRlTm9kZToocGFyZW50LG5hbWUsbW9kZSxyZGV2KT0+e3ZhciBub2RlPW5ldyBGUy5GU05vZGUocGFyZW50LG5hbWUsbW9kZSxyZGV2KTtGUy5oYXNoQWRkTm9kZShub2RlKTtyZXR1cm4gbm9kZX0sZGVzdHJveU5vZGU6bm9kZT0+e0ZTLmhhc2hSZW1vdmVOb2RlKG5vZGUpfSxpc1Jvb3Q6bm9kZT0+e3JldHVybiBub2RlPT09bm9kZS5wYXJlbnR9LGlzTW91bnRwb2ludDpub2RlPT57cmV0dXJuISFub2RlLm1vdW50ZWR9LGlzRmlsZTptb2RlPT57cmV0dXJuKG1vZGUmNjE0NDApPT09MzI3Njh9LGlzRGlyOm1vZGU9PntyZXR1cm4obW9kZSY2MTQ0MCk9PT0xNjM4NH0saXNMaW5rOm1vZGU9PntyZXR1cm4obW9kZSY2MTQ0MCk9PT00MDk2MH0saXNDaHJkZXY6bW9kZT0+e3JldHVybihtb2RlJjYxNDQwKT09PTgxOTJ9LGlzQmxrZGV2Om1vZGU9PntyZXR1cm4obW9kZSY2MTQ0MCk9PT0yNDU3Nn0saXNGSUZPOm1vZGU9PntyZXR1cm4obW9kZSY2MTQ0MCk9PT00MDk2fSxpc1NvY2tldDptb2RlPT57cmV0dXJuKG1vZGUmNDkxNTIpPT09NDkxNTJ9LGZsYWdNb2Rlczp7InIiOjAsInIrIjoyLCJ3Ijo1NzcsIncrIjo1NzgsImEiOjEwODksImErIjoxMDkwfSxtb2RlU3RyaW5nVG9GbGFnczpzdHI9Pnt2YXIgZmxhZ3M9RlMuZmxhZ01vZGVzW3N0cl07aWYodHlwZW9mIGZsYWdzPT0idW5kZWZpbmVkIil7dGhyb3cgbmV3IEVycm9yKCJVbmtub3duIGZpbGUgb3BlbiBtb2RlOiAiK3N0cil9cmV0dXJuIGZsYWdzfSxmbGFnc1RvUGVybWlzc2lvblN0cmluZzpmbGFnPT57dmFyIHBlcm1zPVsiciIsInciLCJydyJdW2ZsYWcmM107aWYoZmxhZyY1MTIpe3Blcm1zKz0idyJ9cmV0dXJuIHBlcm1zfSxub2RlUGVybWlzc2lvbnM6KG5vZGUscGVybXMpPT57aWYoRlMuaWdub3JlUGVybWlzc2lvbnMpe3JldHVybiAwfWlmKHBlcm1zLmluY2x1ZGVzKCJyIikmJiEobm9kZS5tb2RlJjI5Mikpe3JldHVybiAyfWVsc2UgaWYocGVybXMuaW5jbHVkZXMoInciKSYmIShub2RlLm1vZGUmMTQ2KSl7cmV0dXJuIDJ9ZWxzZSBpZihwZXJtcy5pbmNsdWRlcygieCIpJiYhKG5vZGUubW9kZSY3Mykpe3JldHVybiAyfXJldHVybiAwfSxtYXlMb29rdXA6ZGlyPT57dmFyIGVyckNvZGU9RlMubm9kZVBlcm1pc3Npb25zKGRpciwieCIpO2lmKGVyckNvZGUpcmV0dXJuIGVyckNvZGU7aWYoIWRpci5ub2RlX29wcy5sb29rdXApcmV0dXJuIDI7cmV0dXJuIDB9LG1heUNyZWF0ZTooZGlyLG5hbWUpPT57dHJ5e3ZhciBub2RlPUZTLmxvb2t1cE5vZGUoZGlyLG5hbWUpO3JldHVybiAyMH1jYXRjaChlKXt9cmV0dXJuIEZTLm5vZGVQZXJtaXNzaW9ucyhkaXIsInd4Iil9LG1heURlbGV0ZTooZGlyLG5hbWUsaXNkaXIpPT57dmFyIG5vZGU7dHJ5e25vZGU9RlMubG9va3VwTm9kZShkaXIsbmFtZSl9Y2F0Y2goZSl7cmV0dXJuIGUuZXJybm99dmFyIGVyckNvZGU9RlMubm9kZVBlcm1pc3Npb25zKGRpciwid3giKTtpZihlcnJDb2RlKXtyZXR1cm4gZXJyQ29kZX1pZihpc2Rpcil7aWYoIUZTLmlzRGlyKG5vZGUubW9kZSkpe3JldHVybiA1NH1pZihGUy5pc1Jvb3Qobm9kZSl8fEZTLmdldFBhdGgobm9kZSk9PT1GUy5jd2QoKSl7cmV0dXJuIDEwfX1lbHNle2lmKEZTLmlzRGlyKG5vZGUubW9kZSkpe3JldHVybiAzMX19cmV0dXJuIDB9LG1heU9wZW46KG5vZGUsZmxhZ3MpPT57aWYoIW5vZGUpe3JldHVybiA0NH1pZihGUy5pc0xpbmsobm9kZS5tb2RlKSl7cmV0dXJuIDMyfWVsc2UgaWYoRlMuaXNEaXIobm9kZS5tb2RlKSl7aWYoRlMuZmxhZ3NUb1Blcm1pc3Npb25TdHJpbmcoZmxhZ3MpIT09InIifHxmbGFncyY1MTIpe3JldHVybiAzMX19cmV0dXJuIEZTLm5vZGVQZXJtaXNzaW9ucyhub2RlLEZTLmZsYWdzVG9QZXJtaXNzaW9uU3RyaW5nKGZsYWdzKSl9LE1BWF9PUEVOX0ZEUzo0MDk2LG5leHRmZDooZmRfc3RhcnQ9MCxmZF9lbmQ9RlMuTUFYX09QRU5fRkRTKT0+e2Zvcih2YXIgZmQ9ZmRfc3RhcnQ7ZmQ8PWZkX2VuZDtmZCsrKXtpZighRlMuc3RyZWFtc1tmZF0pe3JldHVybiBmZH19dGhyb3cgbmV3IEZTLkVycm5vRXJyb3IoMzMpfSxnZXRTdHJlYW06ZmQ9PkZTLnN0cmVhbXNbZmRdLGNyZWF0ZVN0cmVhbTooc3RyZWFtLGZkX3N0YXJ0LGZkX2VuZCk9PntpZighRlMuRlNTdHJlYW0pe0ZTLkZTU3RyZWFtPWZ1bmN0aW9uKCl7dGhpcy5zaGFyZWQ9e319O0ZTLkZTU3RyZWFtLnByb3RvdHlwZT17b2JqZWN0OntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5ub2RlfSxzZXQ6ZnVuY3Rpb24odmFsKXt0aGlzLm5vZGU9dmFsfX0saXNSZWFkOntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4odGhpcy5mbGFncyYyMDk3MTU1KSE9PTF9fSxpc1dyaXRlOntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4odGhpcy5mbGFncyYyMDk3MTU1KSE9PTB9fSxpc0FwcGVuZDp7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZmxhZ3MmMTAyNH19LGZsYWdzOntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zaGFyZWQuZmxhZ3N9LHNldDpmdW5jdGlvbih2YWwpe3RoaXMuc2hhcmVkLmZsYWdzPXZhbH19LHBvc2l0aW9uOntnZXQgZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zaGFyZWQucG9zaXRpb259LHNldDpmdW5jdGlvbih2YWwpe3RoaXMuc2hhcmVkLnBvc2l0aW9uPXZhbH19fX1zdHJlYW09T2JqZWN0LmFzc2lnbihuZXcgRlMuRlNTdHJlYW0sc3RyZWFtKTt2YXIgZmQ9RlMubmV4dGZkKGZkX3N0YXJ0LGZkX2VuZCk7c3RyZWFtLmZkPWZkO0ZTLnN0cmVhbXNbZmRdPXN0cmVhbTtyZXR1cm4gc3RyZWFtfSxjbG9zZVN0cmVhbTpmZD0+e0ZTLnN0cmVhbXNbZmRdPW51bGx9LGNocmRldl9zdHJlYW1fb3BzOntvcGVuOnN0cmVhbT0+e3ZhciBkZXZpY2U9RlMuZ2V0RGV2aWNlKHN0cmVhbS5ub2RlLnJkZXYpO3N0cmVhbS5zdHJlYW1fb3BzPWRldmljZS5zdHJlYW1fb3BzO2lmKHN0cmVhbS5zdHJlYW1fb3BzLm9wZW4pe3N0cmVhbS5zdHJlYW1fb3BzLm9wZW4oc3RyZWFtKX19LGxsc2VlazooKT0+e3Rocm93IG5ldyBGUy5FcnJub0Vycm9yKDcwKX19LG1ham9yOmRldj0+ZGV2Pj44LG1pbm9yOmRldj0+ZGV2JjI1NSxtYWtlZGV2OihtYSxtaSk9Pm1hPDw4fG1pLHJlZ2lzdGVyRGV2aWNlOihkZXYsb3BzKT0+e0ZTLmRldmljZXNbZGV2XT17c3RyZWFtX29wczpvcHN9fSxnZXREZXZpY2U6ZGV2PT5GUy5kZXZpY2VzW2Rldl0sZ2V0TW91bnRzOm1vdW50PT57dmFyIG1vdW50cz1bXTt2YXIgY2hlY2s9W21vdW50XTt3aGlsZShjaGVjay5sZW5ndGgpe3ZhciBtPWNoZWNrLnBvcCgpO21vdW50cy5wdXNoKG0pO2NoZWNrLnB1c2guYXBwbHkoY2hlY2ssbS5tb3VudHMpfXJldHVybiBtb3VudHN9LHN5bmNmczoocG9wdWxhdGUsY2FsbGJhY2spPT57aWYodHlwZW9mIHBvcHVsYXRlPT0iZnVuY3Rpb24iKXtjYWxsYmFjaz1wb3B1bGF0ZTtwb3B1bGF0ZT1mYWxzZX1GUy5zeW5jRlNSZXF1ZXN0cysrO2lmKEZTLnN5bmNGU1JlcXVlc3RzPjEpe2Vycigid2FybmluZzogIitGUy5zeW5jRlNSZXF1ZXN0cysiIEZTLnN5bmNmcyBvcGVyYXRpb25zIGluIGZsaWdodCBhdCBvbmNlLCBwcm9iYWJseSBqdXN0IGRvaW5nIGV4dHJhIHdvcmsiKX12YXIgbW91bnRzPUZTLmdldE1vdW50cyhGUy5yb290Lm1vdW50KTt2YXIgY29tcGxldGVkPTA7ZnVuY3Rpb24gZG9DYWxsYmFjayhlcnJDb2RlKXtGUy5zeW5jRlNSZXF1ZXN0cy0tO3JldHVybiBjYWxsYmFjayhlcnJDb2RlKX1mdW5jdGlvbiBkb25lKGVyckNvZGUpe2lmKGVyckNvZGUpe2lmKCFkb25lLmVycm9yZWQpe2RvbmUuZXJyb3JlZD10cnVlO3JldHVybiBkb0NhbGxiYWNrKGVyckNvZGUpfXJldHVybn1pZigrK2NvbXBsZXRlZD49bW91bnRzLmxlbmd0aCl7ZG9DYWxsYmFjayhudWxsKX19bW91bnRzLmZvckVhY2gobW91bnQ9PntpZighbW91bnQudHlwZS5zeW5jZnMpe3JldHVybiBkb25lKG51bGwpfW1vdW50LnR5cGUuc3luY2ZzKG1vdW50LHBvcHVsYXRlLGRvbmUpfSl9LG1vdW50Oih0eXBlLG9wdHMsbW91bnRwb2ludCk9Pnt2YXIgcm9vdD1tb3VudHBvaW50PT09Ii8iO3ZhciBwc2V1ZG89IW1vdW50cG9pbnQ7dmFyIG5vZGU7aWYocm9vdCYmRlMucm9vdCl7dGhyb3cgbmV3IEZTLkVycm5vRXJyb3IoMTApfWVsc2UgaWYoIXJvb3QmJiFwc2V1ZG8pe3ZhciBsb29rdXA9RlMubG9va3VwUGF0aChtb3VudHBvaW50LHtmb2xsb3dfbW91bnQ6ZmFsc2V9KTttb3VudHBvaW50PWxvb2t1cC5wYXRoO25vZGU9bG9va3VwLm5vZGU7aWYoRlMuaXNNb3VudHBvaW50KG5vZGUpKXt0aHJvdyBuZXcgRlMuRXJybm9FcnJvcigxMCl9aWYoIUZTLmlzRGlyKG5vZGUubW9kZSkpe3Rocm93IG5ldyBGUy5FcnJub0Vycm9yKDU0KX19dmFyIG1vdW50PXt0eXBlOnR5cGUsb3B0czpvcHRzLG1vdW50cG9pbnQ6bW91bnRwb2ludCxtb3VudHM6W119O3ZhciBtb3VudFJvb3Q9dHlwZS5tb3VudChtb3VudCk7bW91bnRSb290Lm1vdW50PW1vdW50O21vdW50LnJvb3Q9bW91bnRSb290O2lmKHJvb3Qpe0ZTLnJvb3Q9bW91bnRSb290fWVsc2UgaWYobm9kZSl7bm9kZS5tb3VudGVkPW1vdW50O2lmKG5vZGUubW91bnQpe25vZGUubW91bnQubW91bnRzLnB1c2gobW91bnQpfX1yZXR1cm4gbW91bnRSb290fSx1bm1vdW50Om1vdW50cG9pbnQ9Pnt2YXIgbG9va3VwPUZTLmxvb2t1cFBhdGgobW91bnRwb2ludCx7Zm9sbG93X21vdW50OmZhbHNlfSk7aWYoIUZTLmlzTW91bnRwb2ludChsb29rdXAubm9kZSkpe3Rocm93IG5ldyBGUy5FcnJub0Vycm9yKDI4KX12YXIgbm9kZT1sb29rdXAubm9kZTt2YXIgbW91bnQ9bm9kZS5tb3VudGVkO3ZhciBtb3VudHM9RlMuZ2V0TW91bnRzKG1vdW50KTtPYmplY3Qua2V5cyhGUy5uYW1lVGFibGUpLmZvckVhY2goaGFzaD0+e3ZhciBjdXJyZW50PUZTLm5hbWVUYWJsZVtoYXNoXTt3aGlsZShjdXJyZW50KXt2YXIgbmV4dD1jdXJyZW50Lm5hbWVfbmV4dDtpZihtb3VudHMuaW5jbHVkZXMoY3VycmVudC5tb3VudCkpe0ZTLmRlc3Ryb3lOb2RlKGN1cnJlbnQpfWN1cnJlbnQ9bmV4dH19KTtub2RlLm1vdW50ZWQ9bnVsbDt2YXIgaWR4PW5vZGUubW91bnQubW91bnRzLmluZGV4T2YobW91bnQpO25vZGUubW91bnQubW91bnRzLnNwbGljZShpZHgsMSl9LGxvb2t1cDoocGFyZW50LG5hbWUpPT57cmV0dXJuIHBhcmVudC5ub2RlX29wcy5sb29rdXAocGFyZW50LG5hbWUpfSxta25vZDoocGF0aCxtb2RlLGRldik9Pnt2YXIgbG9va3VwPUZTLmxvb2t1cFBhdGgocGF0aCx7cGFyZW50OnRydWV9KTt2YXIgcGFyZW50PWxvb2t1cC5ub2RlO3ZhciBuYW1lPVBBVEguYmFzZW5hbWUocGF0aCk7aWYoIW5hbWV8fG5hbWU9PT0iLiJ8fG5hbWU9PT0iLi4iKXt0aHJvdyBuZXcgRlMuRXJybm9FcnJvcigyOCl9dmFyIGVyckNvZGU9RlMubWF5Q3JlYXRlKHBhcmVudCxuYW1lKTtpZihlcnJDb2RlKXt0aHJvdyBuZXcgRlMuRXJybm9FcnJvcihlcnJDb2RlKX1pZighcGFyZW50Lm5vZGVfb3BzLm1rbm9kKXt0aHJvdyBuZXcgRlMuRXJybm9FcnJvcig2Myl9cmV0dXJuIHBhcmVudC5ub2RlX29wcy5ta25vZChwYXJlbnQsbmFtZSxtb2RlLGRldil9LGNyZWF0ZToocGF0aCxtb2RlKT0+e21vZGU9bW9kZSE9PXVuZGVmaW5lZD9tb2RlOjQzODttb2RlJj00MDk1O21vZGV8PTMyNzY4O3JldHVybiBGUy5ta25vZChwYXRoLG1vZGUsMCl9LG1rZGlyOihwYXRoLG1vZGUpPT57bW9kZT1tb2RlIT09dW5kZWZpbmVkP21vZGU6NTExO21vZGUmPTUxMXw1MTI7bW9kZXw9MTYzODQ7cmV0dXJuIEZTLm1rbm9kKHBhdGgsbW9kZSwwKX0sbWtkaXJUcmVlOihwYXRoLG1vZGUpPT57dmFyIGRpcnM9cGF0aC5zcGxpdCgiLyIpO3ZhciBkPSIiO2Zvcih2YXIgaT0wO2k8ZGlycy5sZW5ndGg7KytpKXtpZighZGlyc1tpXSljb250aW51ZTtkKz0iLyIrZGlyc1tpXTt0cnl7RlMubWtkaXIoZCxtb2RlKX1jYXRjaChlKXtpZihlLmVycm5vIT0yMCl0aHJvdyBlfX19LG1rZGV2OihwYXRoLG1vZGUsZGV2KT0+e2lmKHR5cGVvZiBkZXY9PSJ1bmRlZmluZWQiKXtkZXY9bW9kZTttb2RlPTQzOH1tb2RlfD04MTkyO3JldHVybiBGUy5ta25vZChwYXRoLG1vZGUsZGV2KX0sc3ltbGluazoob2xkcGF0aCxuZXdwYXRoKT0+e2lmKCFQQVRIX0ZTLnJlc29sdmUob2xkcGF0aCkpe3Rocm93IG5ldyBGUy5FcnJub0Vycm9yKDQ0KX12YXIgbG9va3VwPUZTLmxvb2t1cFBhdGgobmV3cGF0aCx7cGFyZW50OnRydWV9KTt2YXIgcGFyZW50PWxvb2t1cC5ub2RlO2lmKCFwYXJlbnQpe3Rocm93IG5ldyBGUy5FcnJub0Vycm9yKDQ0KX12YXIgbmV3bmFtZT1QQVRILmJhc2VuYW1lKG5ld3BhdGgpO3ZhciBlcnJDb2RlPUZTLm1heUNyZWF0ZShwYXJlbnQsbmV3bmFtZSk7aWYoZXJyQ29kZSl7dGhyb3cgbmV3IEZTLkVycm5vRXJyb3IoZXJyQ29kZSl9aWYoIXBhcmVudC5ub2RlX29wcy5zeW1saW5rKXt0aHJvdyBuZXcgRlMuRXJybm9FcnJvcig2Myl9cmV0dXJuIHBhcmVudC5ub2RlX29wcy5zeW1saW5rKHBhcmVudCxuZXduYW1lLG9sZHBhdGgpfSxyZW5hbWU6KG9sZF9wYXRoLG5ld19wYXRoKT0+e3ZhciBvbGRfZGlybmFtZT1QQVRILmRpcm5hbWUob2xkX3BhdGgpO3ZhciBuZXdfZGlybmFtZT1QQVRILmRpcm5hbWUobmV3X3BhdGgpO3ZhciBvbGRfbmFtZT1QQVRILmJhc2VuYW1lKG9sZF9wYXRoKTt2YXIgbmV3X25hbWU9UEFUSC5iYXNlbmFtZShuZXdfcGF0aCk7dmFyIGxvb2t1cCxvbGRfZGlyLG5ld19kaXI7bG9va3VwPUZTLmxvb2t1cFBhdGgob2xkX3BhdGgse3BhcmVudDp0cnVlfSk7b2xkX2Rpcj1sb29rdXAubm9kZTtsb29rdXA9RlMubG9va3VwUGF0aChuZXdfcGF0aCx7cGFyZW50OnRydWV9KTtuZXdfZGlyPWxvb2t1cC5ub2RlO2lmKCFvbGRfZGlyfHwhbmV3X2Rpcil0aHJvdyBuZXcgRlMuRXJybm9FcnJvcig0NCk7aWYob2xkX2Rpci5tb3VudCE9PW5ld19kaXIubW91bnQpe3Rocm93IG5ldyBGUy5FcnJub0Vycm9yKDc1KX12YXIgb2xkX25vZGU9RlMubG9va3VwTm9kZShvbGRfZGlyLG9sZF9uYW1lKTt2YXIgcmVsYXRpdmU9UEFUSF9GUy5yZWxhdGl2ZShvbGRfcGF0aCxuZXdfZGlybmFtZSk7aWYocmVsYXRpdmUuY2hhckF0KDApIT09Ii4iKXt0aHJvdyBuZXcgRlMuRXJybm9FcnJvcigyOCl9cmVsYXRpdmU9UEFUSF9GUy5yZWxhdGl2ZShuZXdfcGF0aCxvbGRfZGlybmFtZSk7aWYocmVsYXRpdmUuY2hhckF0KDApIT09Ii4iKXt0aHJvdyBuZXcgRlMuRXJybm9FcnJvcig1NSl9dmFyIG5ld19ub2RlO3RyeXtuZXdfbm9kZT1GUy5sb29rdXBOb2RlKG5ld19kaXIsbmV3X25hbWUpfWNhdGNoKGUpe31pZihvbGRfbm9kZT09PW5ld19ub2RlKXtyZXR1cm59dmFyIGlzZGlyPUZTLmlzRGlyKG9sZF9ub2RlLm1vZGUpO3ZhciBlcnJDb2RlPUZTLm1heURlbGV0ZShvbGRfZGlyLG9sZF9uYW1lLGlzZGlyKTtpZihlcnJDb2RlKXt0aHJvdyBuZXcgRlMuRXJybm9FcnJvcihlcnJDb2RlKX1lcnJDb2RlPW5ld19ub2RlP0ZTLm1heURlbGV0ZShuZXdfZGlyLG5ld19uYW1lLGlzZGlyKTpGUy5tYXlDcmVhdGUobmV3X2RpcixuZXdfbmFtZSk7aWYoZXJyQ29kZSl7dGhyb3cgbmV3IEZTLkVycm5vRXJyb3IoZXJyQ29kZSl9aWYoIW9sZF9kaXIubm9kZV9vcHMucmVuYW1lKXt0aHJvdyBuZXcgRlMuRXJybm9FcnJvcig2Myl9aWYoRlMuaXNNb3VudHBvaW50KG9sZF9ub2RlKXx8bmV3X25vZGUmJkZTLmlzTW91bnRwb2ludChuZXdfbm9kZSkpe3Rocm93IG5ldyBGUy5FcnJub0Vycm9yKDEwKX1pZihuZXdfZGlyIT09b2xkX2Rpcil7ZXJyQ29kZT1GUy5ub2RlUGVybWlzc2lvbnMob2xkX2RpciwidyIpO2lmKGVyckNvZGUpe3Rocm93IG5ldyBGUy5FcnJub0Vycm9yKGVyckNvZGUpfX1GUy5oYXNoUmVtb3ZlTm9kZShvbGRfbm9kZSk7dHJ5e29sZF9kaXIubm9kZV9vcHMucmVuYW1lKG9sZF9ub2RlLG5ld19kaXIsbmV3X25hbWUpfWNhdGNoKGUpe3Rocm93IGV9ZmluYWxseXtGUy5oYXNoQWRkTm9kZShvbGRfbm9kZSl9fSxybWRpcjpwYXRoPT57dmFyIGxvb2t1cD1GUy5sb29rdXBQYXRoKHBhdGgse3BhcmVudDp0cnVlfSk7dmFyIHBhcmVudD1sb29rdXAubm9kZTt2YXIgbmFtZT1QQVRILmJhc2VuYW1lKHBhdGgpO3ZhciBub2RlPUZTLmxvb2t1cE5vZGUocGFyZW50LG5hbWUpO3ZhciBlcnJDb2RlPUZTLm1heURlbGV0ZShwYXJlbnQsbmFtZSx0cnVlKTtpZihlcnJDb2RlKXt0aHJvdyBuZXcgRlMuRXJybm9FcnJvcihlcnJDb2RlKX1pZighcGFyZW50Lm5vZGVfb3BzLnJtZGlyKXt0aHJvdyBuZXcgRlMuRXJybm9FcnJvcig2Myl9aWYoRlMuaXNNb3VudHBvaW50KG5vZGUpKXt0aHJvdyBuZXcgRlMuRXJybm9FcnJvcigxMCl9cGFyZW50Lm5vZGVfb3BzLnJtZGlyKHBhcmVudCxuYW1lKTtGUy5kZXN0cm95Tm9kZShub2RlKX0scmVhZGRpcjpwYXRoPT57dmFyIGxvb2t1cD1GUy5sb29rdXBQYXRoKHBhdGgse2ZvbGxvdzp0cnVlfSk7dmFyIG5vZGU9bG9va3VwLm5vZGU7aWYoIW5vZGUubm9kZV9vcHMucmVhZGRpcil7dGhyb3cgbmV3IEZTLkVycm5vRXJyb3IoNTQpfXJldHVybiBub2RlLm5vZGVfb3BzLnJlYWRkaXIobm9kZSl9LHVubGluazpwYXRoPT57dmFyIGxvb2t1cD1GUy5sb29rdXBQYXRoKHBhdGgse3BhcmVudDp0cnVlfSk7dmFyIHBhcmVudD1sb29rdXAubm9kZTtpZighcGFyZW50KXt0aHJvdyBuZXcgRlMuRXJybm9FcnJvcig0NCl9dmFyIG5hbWU9UEFUSC5iYXNlbmFtZShwYXRoKTt2YXIgbm9kZT1GUy5sb29rdXBOb2RlKHBhcmVudCxuYW1lKTt2YXIgZXJyQ29kZT1GUy5tYXlEZWxldGUocGFyZW50LG5hbWUsZmFsc2UpO2lmKGVyckNvZGUpe3Rocm93IG5ldyBGUy5FcnJub0Vycm9yKGVyckNvZGUpfWlmKCFwYXJlbnQubm9kZV9vcHMudW5saW5rKXt0aHJvdyBuZXcgRlMuRXJybm9FcnJvcig2Myl9aWYoRlMuaXNNb3VudHBvaW50KG5vZGUpKXt0aHJvdyBuZXcgRlMuRXJybm9FcnJvcigxMCl9cGFyZW50Lm5vZGVfb3BzLnVubGluayhwYXJlbnQsbmFtZSk7RlMuZGVzdHJveU5vZGUobm9kZSl9LHJlYWRsaW5rOnBhdGg9Pnt2YXIgbG9va3VwPUZTLmxvb2t1cFBhdGgocGF0aCk7dmFyIGxpbms9bG9va3VwLm5vZGU7aWYoIWxpbmspe3Rocm93IG5ldyBGUy5FcnJub0Vycm9yKDQ0KX1pZighbGluay5ub2RlX29wcy5yZWFkbGluayl7dGhyb3cgbmV3IEZTLkVycm5vRXJyb3IoMjgpfXJldHVybiBQQVRIX0ZTLnJlc29sdmUoRlMuZ2V0UGF0aChsaW5rLnBhcmVudCksbGluay5ub2RlX29wcy5yZWFkbGluayhsaW5rKSl9LHN0YXQ6KHBhdGgsZG9udEZvbGxvdyk9Pnt2YXIgbG9va3VwPUZTLmxvb2t1cFBhdGgocGF0aCx7Zm9sbG93OiFkb250Rm9sbG93fSk7dmFyIG5vZGU9bG9va3VwLm5vZGU7aWYoIW5vZGUpe3Rocm93IG5ldyBGUy5FcnJub0Vycm9yKDQ0KX1pZighbm9kZS5ub2RlX29wcy5nZXRhdHRyKXt0aHJvdyBuZXcgRlMuRXJybm9FcnJvcig2Myl9cmV0dXJuIG5vZGUubm9kZV9vcHMuZ2V0YXR0cihub2RlKX0sbHN0YXQ6cGF0aD0+e3JldHVybiBGUy5zdGF0KHBhdGgsdHJ1ZSl9LGNobW9kOihwYXRoLG1vZGUsZG9udEZvbGxvdyk9Pnt2YXIgbm9kZTtpZih0eXBlb2YgcGF0aD09InN0cmluZyIpe3ZhciBsb29rdXA9RlMubG9va3VwUGF0aChwYXRoLHtmb2xsb3c6IWRvbnRGb2xsb3d9KTtub2RlPWxvb2t1cC5ub2RlfWVsc2V7bm9kZT1wYXRofWlmKCFub2RlLm5vZGVfb3BzLnNldGF0dHIpe3Rocm93IG5ldyBGUy5FcnJub0Vycm9yKDYzKX1ub2RlLm5vZGVfb3BzLnNldGF0dHIobm9kZSx7bW9kZTptb2RlJjQwOTV8bm9kZS5tb2RlJn40MDk1LHRpbWVzdGFtcDpEYXRlLm5vdygpfSl9LGxjaG1vZDoocGF0aCxtb2RlKT0+e0ZTLmNobW9kKHBhdGgsbW9kZSx0cnVlKX0sZmNobW9kOihmZCxtb2RlKT0+e3ZhciBzdHJlYW09RlMuZ2V0U3RyZWFtKGZkKTtpZighc3RyZWFtKXt0aHJvdyBuZXcgRlMuRXJybm9FcnJvcig4KX1GUy5jaG1vZChzdHJlYW0ubm9kZSxtb2RlKX0sY2hvd246KHBhdGgsdWlkLGdpZCxkb250Rm9sbG93KT0+e3ZhciBub2RlO2lmKHR5cGVvZiBwYXRoPT0ic3RyaW5nIil7dmFyIGxvb2t1cD1GUy5sb29rdXBQYXRoKHBhdGgse2ZvbGxvdzohZG9udEZvbGxvd30pO25vZGU9bG9va3VwLm5vZGV9ZWxzZXtub2RlPXBhdGh9aWYoIW5vZGUubm9kZV9vcHMuc2V0YXR0cil7dGhyb3cgbmV3IEZTLkVycm5vRXJyb3IoNjMpfW5vZGUubm9kZV9vcHMuc2V0YXR0cihub2RlLHt0aW1lc3RhbXA6RGF0ZS5ub3coKX0pfSxsY2hvd246KHBhdGgsdWlkLGdpZCk9PntGUy5jaG93bihwYXRoLHVpZCxnaWQsdHJ1ZSl9LGZjaG93bjooZmQsdWlkLGdpZCk9Pnt2YXIgc3RyZWFtPUZTLmdldFN0cmVhbShmZCk7aWYoIXN0cmVhbSl7dGhyb3cgbmV3IEZTLkVycm5vRXJyb3IoOCl9RlMuY2hvd24oc3RyZWFtLm5vZGUsdWlkLGdpZCl9LHRydW5jYXRlOihwYXRoLGxlbik9PntpZihsZW48MCl7dGhyb3cgbmV3IEZTLkVycm5vRXJyb3IoMjgpfXZhciBub2RlO2lmKHR5cGVvZiBwYXRoPT0ic3RyaW5nIil7dmFyIGxvb2t1cD1GUy5sb29rdXBQYXRoKHBhdGgse2ZvbGxvdzp0cnVlfSk7bm9kZT1sb29rdXAubm9kZX1lbHNle25vZGU9cGF0aH1pZighbm9kZS5ub2RlX29wcy5zZXRhdHRyKXt0aHJvdyBuZXcgRlMuRXJybm9FcnJvcig2Myl9aWYoRlMuaXNEaXIobm9kZS5tb2RlKSl7dGhyb3cgbmV3IEZTLkVycm5vRXJyb3IoMzEpfWlmKCFGUy5pc0ZpbGUobm9kZS5tb2RlKSl7dGhyb3cgbmV3IEZTLkVycm5vRXJyb3IoMjgpfXZhciBlcnJDb2RlPUZTLm5vZGVQZXJtaXNzaW9ucyhub2RlLCJ3Iik7aWYoZXJyQ29kZSl7dGhyb3cgbmV3IEZTLkVycm5vRXJyb3IoZXJyQ29kZSl9bm9kZS5ub2RlX29wcy5zZXRhdHRyKG5vZGUse3NpemU6bGVuLHRpbWVzdGFtcDpEYXRlLm5vdygpfSl9LGZ0cnVuY2F0ZTooZmQsbGVuKT0+e3ZhciBzdHJlYW09RlMuZ2V0U3RyZWFtKGZkKTtpZighc3RyZWFtKXt0aHJvdyBuZXcgRlMuRXJybm9FcnJvcig4KX1pZigoc3RyZWFtLmZsYWdzJjIwOTcxNTUpPT09MCl7dGhyb3cgbmV3IEZTLkVycm5vRXJyb3IoMjgpfUZTLnRydW5jYXRlKHN0cmVhbS5ub2RlLGxlbil9LHV0aW1lOihwYXRoLGF0aW1lLG10aW1lKT0+e3ZhciBsb29rdXA9RlMubG9va3VwUGF0aChwYXRoLHtmb2xsb3c6dHJ1ZX0pO3ZhciBub2RlPWxvb2t1cC5ub2RlO25vZGUubm9kZV9vcHMuc2V0YXR0cihub2RlLHt0aW1lc3RhbXA6TWF0aC5tYXgoYXRpbWUsbXRpbWUpfSl9LG9wZW46KHBhdGgsZmxhZ3MsbW9kZSk9PntpZihwYXRoPT09IiIpe3Rocm93IG5ldyBGUy5FcnJub0Vycm9yKDQ0KX1mbGFncz10eXBlb2YgZmxhZ3M9PSJzdHJpbmciP0ZTLm1vZGVTdHJpbmdUb0ZsYWdzKGZsYWdzKTpmbGFnczttb2RlPXR5cGVvZiBtb2RlPT0idW5kZWZpbmVkIj80Mzg6bW9kZTtpZihmbGFncyY2NCl7bW9kZT1tb2RlJjQwOTV8MzI3Njh9ZWxzZXttb2RlPTB9dmFyIG5vZGU7aWYodHlwZW9mIHBhdGg9PSJvYmplY3QiKXtub2RlPXBhdGh9ZWxzZXtwYXRoPVBBVEgubm9ybWFsaXplKHBhdGgpO3RyeXt2YXIgbG9va3VwPUZTLmxvb2t1cFBhdGgocGF0aCx7Zm9sbG93OiEoZmxhZ3MmMTMxMDcyKX0pO25vZGU9bG9va3VwLm5vZGV9Y2F0Y2goZSl7fX12YXIgY3JlYXRlZD1mYWxzZTtpZihmbGFncyY2NCl7aWYobm9kZSl7aWYoZmxhZ3MmMTI4KXt0aHJvdyBuZXcgRlMuRXJybm9FcnJvcigyMCl9fWVsc2V7bm9kZT1GUy5ta25vZChwYXRoLG1vZGUsMCk7Y3JlYXRlZD10cnVlfX1pZighbm9kZSl7dGhyb3cgbmV3IEZTLkVycm5vRXJyb3IoNDQpfWlmKEZTLmlzQ2hyZGV2KG5vZGUubW9kZSkpe2ZsYWdzJj1+NTEyfWlmKGZsYWdzJjY1NTM2JiYhRlMuaXNEaXIobm9kZS5tb2RlKSl7dGhyb3cgbmV3IEZTLkVycm5vRXJyb3IoNTQpfWlmKCFjcmVhdGVkKXt2YXIgZXJyQ29kZT1GUy5tYXlPcGVuKG5vZGUsZmxhZ3MpO2lmKGVyckNvZGUpe3Rocm93IG5ldyBGUy5FcnJub0Vycm9yKGVyckNvZGUpfX1pZihmbGFncyY1MTImJiFjcmVhdGVkKXtGUy50cnVuY2F0ZShub2RlLDApfWZsYWdzJj1+KDEyOHw1MTJ8MTMxMDcyKTt2YXIgc3RyZWFtPUZTLmNyZWF0ZVN0cmVhbSh7bm9kZTpub2RlLHBhdGg6RlMuZ2V0UGF0aChub2RlKSxmbGFnczpmbGFncyxzZWVrYWJsZTp0cnVlLHBvc2l0aW9uOjAsc3RyZWFtX29wczpub2RlLnN0cmVhbV9vcHMsdW5nb3R0ZW46W10sZXJyb3I6ZmFsc2V9KTtpZihzdHJlYW0uc3RyZWFtX29wcy5vcGVuKXtzdHJlYW0uc3RyZWFtX29wcy5vcGVuKHN0cmVhbSl9aWYoTW9kdWxlWyJsb2dSZWFkRmlsZXMiXSYmIShmbGFncyYxKSl7aWYoIUZTLnJlYWRGaWxlcylGUy5yZWFkRmlsZXM9e307aWYoIShwYXRoIGluIEZTLnJlYWRGaWxlcykpe0ZTLnJlYWRGaWxlc1twYXRoXT0xfX1yZXR1cm4gc3RyZWFtfSxjbG9zZTpzdHJlYW09PntpZihGUy5pc0Nsb3NlZChzdHJlYW0pKXt0aHJvdyBuZXcgRlMuRXJybm9FcnJvcig4KX1pZihzdHJlYW0uZ2V0ZGVudHMpc3RyZWFtLmdldGRlbnRzPW51bGw7dHJ5e2lmKHN0cmVhbS5zdHJlYW1fb3BzLmNsb3NlKXtzdHJlYW0uc3RyZWFtX29wcy5jbG9zZShzdHJlYW0pfX1jYXRjaChlKXt0aHJvdyBlfWZpbmFsbHl7RlMuY2xvc2VTdHJlYW0oc3RyZWFtLmZkKX1zdHJlYW0uZmQ9bnVsbH0saXNDbG9zZWQ6c3RyZWFtPT57cmV0dXJuIHN0cmVhbS5mZD09PW51bGx9LGxsc2Vlazooc3RyZWFtLG9mZnNldCx3aGVuY2UpPT57aWYoRlMuaXNDbG9zZWQoc3RyZWFtKSl7dGhyb3cgbmV3IEZTLkVycm5vRXJyb3IoOCl9aWYoIXN0cmVhbS5zZWVrYWJsZXx8IXN0cmVhbS5zdHJlYW1fb3BzLmxsc2Vlayl7dGhyb3cgbmV3IEZTLkVycm5vRXJyb3IoNzApfWlmKHdoZW5jZSE9MCYmd2hlbmNlIT0xJiZ3aGVuY2UhPTIpe3Rocm93IG5ldyBGUy5FcnJub0Vycm9yKDI4KX1zdHJlYW0ucG9zaXRpb249c3RyZWFtLnN0cmVhbV9vcHMubGxzZWVrKHN0cmVhbSxvZmZzZXQsd2hlbmNlKTtzdHJlYW0udW5nb3R0ZW49W107cmV0dXJuIHN0cmVhbS5wb3NpdGlvbn0scmVhZDooc3RyZWFtLGJ1ZmZlcixvZmZzZXQsbGVuZ3RoLHBvc2l0aW9uKT0+e2lmKGxlbmd0aDwwfHxwb3NpdGlvbjwwKXt0aHJvdyBuZXcgRlMuRXJybm9FcnJvcigyOCl9aWYoRlMuaXNDbG9zZWQoc3RyZWFtKSl7dGhyb3cgbmV3IEZTLkVycm5vRXJyb3IoOCl9aWYoKHN0cmVhbS5mbGFncyYyMDk3MTU1KT09PTEpe3Rocm93IG5ldyBGUy5FcnJub0Vycm9yKDgpfWlmKEZTLmlzRGlyKHN0cmVhbS5ub2RlLm1vZGUpKXt0aHJvdyBuZXcgRlMuRXJybm9FcnJvcigzMSl9aWYoIXN0cmVhbS5zdHJlYW1fb3BzLnJlYWQpe3Rocm93IG5ldyBGUy5FcnJub0Vycm9yKDI4KX12YXIgc2Vla2luZz10eXBlb2YgcG9zaXRpb24hPSJ1bmRlZmluZWQiO2lmKCFzZWVraW5nKXtwb3NpdGlvbj1zdHJlYW0ucG9zaXRpb259ZWxzZSBpZighc3RyZWFtLnNlZWthYmxlKXt0aHJvdyBuZXcgRlMuRXJybm9FcnJvcig3MCl9dmFyIGJ5dGVzUmVhZD1zdHJlYW0uc3RyZWFtX29wcy5yZWFkKHN0cmVhbSxidWZmZXIsb2Zmc2V0LGxlbmd0aCxwb3NpdGlvbik7aWYoIXNlZWtpbmcpc3RyZWFtLnBvc2l0aW9uKz1ieXRlc1JlYWQ7cmV0dXJuIGJ5dGVzUmVhZH0sd3JpdGU6KHN0cmVhbSxidWZmZXIsb2Zmc2V0LGxlbmd0aCxwb3NpdGlvbixjYW5Pd24pPT57aWYobGVuZ3RoPDB8fHBvc2l0aW9uPDApe3Rocm93IG5ldyBGUy5FcnJub0Vycm9yKDI4KX1pZihGUy5pc0Nsb3NlZChzdHJlYW0pKXt0aHJvdyBuZXcgRlMuRXJybm9FcnJvcig4KX1pZigoc3RyZWFtLmZsYWdzJjIwOTcxNTUpPT09MCl7dGhyb3cgbmV3IEZTLkVycm5vRXJyb3IoOCl9aWYoRlMuaXNEaXIoc3RyZWFtLm5vZGUubW9kZSkpe3Rocm93IG5ldyBGUy5FcnJub0Vycm9yKDMxKX1pZighc3RyZWFtLnN0cmVhbV9vcHMud3JpdGUpe3Rocm93IG5ldyBGUy5FcnJub0Vycm9yKDI4KX1pZihzdHJlYW0uc2Vla2FibGUmJnN0cmVhbS5mbGFncyYxMDI0KXtGUy5sbHNlZWsoc3RyZWFtLDAsMil9dmFyIHNlZWtpbmc9dHlwZW9mIHBvc2l0aW9uIT0idW5kZWZpbmVkIjtpZighc2Vla2luZyl7cG9zaXRpb249c3RyZWFtLnBvc2l0aW9ufWVsc2UgaWYoIXN0cmVhbS5zZWVrYWJsZSl7dGhyb3cgbmV3IEZTLkVycm5vRXJyb3IoNzApfXZhciBieXRlc1dyaXR0ZW49c3RyZWFtLnN0cmVhbV9vcHMud3JpdGUoc3RyZWFtLGJ1ZmZlcixvZmZzZXQsbGVuZ3RoLHBvc2l0aW9uLGNhbk93bik7aWYoIXNlZWtpbmcpc3RyZWFtLnBvc2l0aW9uKz1ieXRlc1dyaXR0ZW47cmV0dXJuIGJ5dGVzV3JpdHRlbn0sYWxsb2NhdGU6KHN0cmVhbSxvZmZzZXQsbGVuZ3RoKT0+e2lmKEZTLmlzQ2xvc2VkKHN0cmVhbSkpe3Rocm93IG5ldyBGUy5FcnJub0Vycm9yKDgpfWlmKG9mZnNldDwwfHxsZW5ndGg8PTApe3Rocm93IG5ldyBGUy5FcnJub0Vycm9yKDI4KX1pZigoc3RyZWFtLmZsYWdzJjIwOTcxNTUpPT09MCl7dGhyb3cgbmV3IEZTLkVycm5vRXJyb3IoOCl9aWYoIUZTLmlzRmlsZShzdHJlYW0ubm9kZS5tb2RlKSYmIUZTLmlzRGlyKHN0cmVhbS5ub2RlLm1vZGUpKXt0aHJvdyBuZXcgRlMuRXJybm9FcnJvcig0Myl9aWYoIXN0cmVhbS5zdHJlYW1fb3BzLmFsbG9jYXRlKXt0aHJvdyBuZXcgRlMuRXJybm9FcnJvcigxMzgpfXN0cmVhbS5zdHJlYW1fb3BzLmFsbG9jYXRlKHN0cmVhbSxvZmZzZXQsbGVuZ3RoKX0sbW1hcDooc3RyZWFtLGFkZHJlc3MsbGVuZ3RoLHBvc2l0aW9uLHByb3QsZmxhZ3MpPT57aWYoKHByb3QmMikhPT0wJiYoZmxhZ3MmMik9PT0wJiYoc3RyZWFtLmZsYWdzJjIwOTcxNTUpIT09Mil7dGhyb3cgbmV3IEZTLkVycm5vRXJyb3IoMil9aWYoKHN0cmVhbS5mbGFncyYyMDk3MTU1KT09PTEpe3Rocm93IG5ldyBGUy5FcnJub0Vycm9yKDIpfWlmKCFzdHJlYW0uc3RyZWFtX29wcy5tbWFwKXt0aHJvdyBuZXcgRlMuRXJybm9FcnJvcig0Myl9cmV0dXJuIHN0cmVhbS5zdHJlYW1fb3BzLm1tYXAoc3RyZWFtLGFkZHJlc3MsbGVuZ3RoLHBvc2l0aW9uLHByb3QsZmxhZ3MpfSxtc3luYzooc3RyZWFtLGJ1ZmZlcixvZmZzZXQsbGVuZ3RoLG1tYXBGbGFncyk9PntpZighc3RyZWFtfHwhc3RyZWFtLnN0cmVhbV9vcHMubXN5bmMpe3JldHVybiAwfXJldHVybiBzdHJlYW0uc3RyZWFtX29wcy5tc3luYyhzdHJlYW0sYnVmZmVyLG9mZnNldCxsZW5ndGgsbW1hcEZsYWdzKX0sbXVubWFwOnN0cmVhbT0+MCxpb2N0bDooc3RyZWFtLGNtZCxhcmcpPT57aWYoIXN0cmVhbS5zdHJlYW1fb3BzLmlvY3RsKXt0aHJvdyBuZXcgRlMuRXJybm9FcnJvcig1OSl9cmV0dXJuIHN0cmVhbS5zdHJlYW1fb3BzLmlvY3RsKHN0cmVhbSxjbWQsYXJnKX0scmVhZEZpbGU6KHBhdGgsb3B0cz17fSk9PntvcHRzLmZsYWdzPW9wdHMuZmxhZ3N8fDA7b3B0cy5lbmNvZGluZz1vcHRzLmVuY29kaW5nfHwiYmluYXJ5IjtpZihvcHRzLmVuY29kaW5nIT09InV0ZjgiJiZvcHRzLmVuY29kaW5nIT09ImJpbmFyeSIpe3Rocm93IG5ldyBFcnJvcignSW52YWxpZCBlbmNvZGluZyB0eXBlICInK29wdHMuZW5jb2RpbmcrJyInKX12YXIgcmV0O3ZhciBzdHJlYW09RlMub3BlbihwYXRoLG9wdHMuZmxhZ3MpO3ZhciBzdGF0PUZTLnN0YXQocGF0aCk7dmFyIGxlbmd0aD1zdGF0LnNpemU7dmFyIGJ1Zj1uZXcgVWludDhBcnJheShsZW5ndGgpO0ZTLnJlYWQoc3RyZWFtLGJ1ZiwwLGxlbmd0aCwwKTtpZihvcHRzLmVuY29kaW5nPT09InV0ZjgiKXtyZXQ9VVRGOEFycmF5VG9TdHJpbmcoYnVmLDApfWVsc2UgaWYob3B0cy5lbmNvZGluZz09PSJiaW5hcnkiKXtyZXQ9YnVmfUZTLmNsb3NlKHN0cmVhbSk7cmV0dXJuIHJldH0sd3JpdGVGaWxlOihwYXRoLGRhdGEsb3B0cz17fSk9PntvcHRzLmZsYWdzPW9wdHMuZmxhZ3N8fDU3Nzt2YXIgc3RyZWFtPUZTLm9wZW4ocGF0aCxvcHRzLmZsYWdzLG9wdHMubW9kZSk7aWYodHlwZW9mIGRhdGE9PSJzdHJpbmciKXt2YXIgYnVmPW5ldyBVaW50OEFycmF5KGxlbmd0aEJ5dGVzVVRGOChkYXRhKSsxKTt2YXIgYWN0dWFsTnVtQnl0ZXM9c3RyaW5nVG9VVEY4QXJyYXkoZGF0YSxidWYsMCxidWYubGVuZ3RoKTtGUy53cml0ZShzdHJlYW0sYnVmLDAsYWN0dWFsTnVtQnl0ZXMsdW5kZWZpbmVkLG9wdHMuY2FuT3duKX1lbHNlIGlmKEFycmF5QnVmZmVyLmlzVmlldyhkYXRhKSl7RlMud3JpdGUoc3RyZWFtLGRhdGEsMCxkYXRhLmJ5dGVMZW5ndGgsdW5kZWZpbmVkLG9wdHMuY2FuT3duKX1lbHNle3Rocm93IG5ldyBFcnJvcigiVW5zdXBwb3J0ZWQgZGF0YSB0eXBlIil9RlMuY2xvc2Uoc3RyZWFtKX0sY3dkOigpPT5GUy5jdXJyZW50UGF0aCxjaGRpcjpwYXRoPT57dmFyIGxvb2t1cD1GUy5sb29rdXBQYXRoKHBhdGgse2ZvbGxvdzp0cnVlfSk7aWYobG9va3VwLm5vZGU9PT1udWxsKXt0aHJvdyBuZXcgRlMuRXJybm9FcnJvcig0NCl9aWYoIUZTLmlzRGlyKGxvb2t1cC5ub2RlLm1vZGUpKXt0aHJvdyBuZXcgRlMuRXJybm9FcnJvcig1NCl9dmFyIGVyckNvZGU9RlMubm9kZVBlcm1pc3Npb25zKGxvb2t1cC5ub2RlLCJ4Iik7aWYoZXJyQ29kZSl7dGhyb3cgbmV3IEZTLkVycm5vRXJyb3IoZXJyQ29kZSl9RlMuY3VycmVudFBhdGg9bG9va3VwLnBhdGh9LGNyZWF0ZURlZmF1bHREaXJlY3RvcmllczooKT0+e0ZTLm1rZGlyKCIvdG1wIik7RlMubWtkaXIoIi9ob21lIik7RlMubWtkaXIoIi9ob21lL3dlYl91c2VyIil9LGNyZWF0ZURlZmF1bHREZXZpY2VzOigpPT57RlMubWtkaXIoIi9kZXYiKTtGUy5yZWdpc3RlckRldmljZShGUy5tYWtlZGV2KDEsMykse3JlYWQ6KCk9PjAsd3JpdGU6KHN0cmVhbSxidWZmZXIsb2Zmc2V0LGxlbmd0aCxwb3MpPT5sZW5ndGh9KTtGUy5ta2RldigiL2Rldi9udWxsIixGUy5tYWtlZGV2KDEsMykpO1RUWS5yZWdpc3RlcihGUy5tYWtlZGV2KDUsMCksVFRZLmRlZmF1bHRfdHR5X29wcyk7VFRZLnJlZ2lzdGVyKEZTLm1ha2VkZXYoNiwwKSxUVFkuZGVmYXVsdF90dHkxX29wcyk7RlMubWtkZXYoIi9kZXYvdHR5IixGUy5tYWtlZGV2KDUsMCkpO0ZTLm1rZGV2KCIvZGV2L3R0eTEiLEZTLm1ha2VkZXYoNiwwKSk7dmFyIHJhbmRvbV9kZXZpY2U9Z2V0UmFuZG9tRGV2aWNlKCk7RlMuY3JlYXRlRGV2aWNlKCIvZGV2IiwicmFuZG9tIixyYW5kb21fZGV2aWNlKTtGUy5jcmVhdGVEZXZpY2UoIi9kZXYiLCJ1cmFuZG9tIixyYW5kb21fZGV2aWNlKTtGUy5ta2RpcigiL2Rldi9zaG0iKTtGUy5ta2RpcigiL2Rldi9zaG0vdG1wIil9LGNyZWF0ZVNwZWNpYWxEaXJlY3RvcmllczooKT0+e0ZTLm1rZGlyKCIvcHJvYyIpO3ZhciBwcm9jX3NlbGY9RlMubWtkaXIoIi9wcm9jL3NlbGYiKTtGUy5ta2RpcigiL3Byb2Mvc2VsZi9mZCIpO0ZTLm1vdW50KHttb3VudDooKT0+e3ZhciBub2RlPUZTLmNyZWF0ZU5vZGUocHJvY19zZWxmLCJmZCIsMTYzODR8NTExLDczKTtub2RlLm5vZGVfb3BzPXtsb29rdXA6KHBhcmVudCxuYW1lKT0+e3ZhciBmZD0rbmFtZTt2YXIgc3RyZWFtPUZTLmdldFN0cmVhbShmZCk7aWYoIXN0cmVhbSl0aHJvdyBuZXcgRlMuRXJybm9FcnJvcig4KTt2YXIgcmV0PXtwYXJlbnQ6bnVsbCxtb3VudDp7bW91bnRwb2ludDoiZmFrZSJ9LG5vZGVfb3BzOntyZWFkbGluazooKT0+c3RyZWFtLnBhdGh9fTtyZXQucGFyZW50PXJldDtyZXR1cm4gcmV0fX07cmV0dXJuIG5vZGV9fSx7fSwiL3Byb2Mvc2VsZi9mZCIpfSxjcmVhdGVTdGFuZGFyZFN0cmVhbXM6KCk9PntpZihNb2R1bGVbInN0ZGluIl0pe0ZTLmNyZWF0ZURldmljZSgiL2RldiIsInN0ZGluIixNb2R1bGVbInN0ZGluIl0pfWVsc2V7RlMuc3ltbGluaygiL2Rldi90dHkiLCIvZGV2L3N0ZGluIil9aWYoTW9kdWxlWyJzdGRvdXQiXSl7RlMuY3JlYXRlRGV2aWNlKCIvZGV2Iiwic3Rkb3V0IixudWxsLE1vZHVsZVsic3Rkb3V0Il0pfWVsc2V7RlMuc3ltbGluaygiL2Rldi90dHkiLCIvZGV2L3N0ZG91dCIpfWlmKE1vZHVsZVsic3RkZXJyIl0pe0ZTLmNyZWF0ZURldmljZSgiL2RldiIsInN0ZGVyciIsbnVsbCxNb2R1bGVbInN0ZGVyciJdKX1lbHNle0ZTLnN5bWxpbmsoIi9kZXYvdHR5MSIsIi9kZXYvc3RkZXJyIil9dmFyIHN0ZGluPUZTLm9wZW4oIi9kZXYvc3RkaW4iLDApO3ZhciBzdGRvdXQ9RlMub3BlbigiL2Rldi9zdGRvdXQiLDEpO3ZhciBzdGRlcnI9RlMub3BlbigiL2Rldi9zdGRlcnIiLDEpfSxlbnN1cmVFcnJub0Vycm9yOigpPT57aWYoRlMuRXJybm9FcnJvcilyZXR1cm47RlMuRXJybm9FcnJvcj1mdW5jdGlvbiBFcnJub0Vycm9yKGVycm5vLG5vZGUpe3RoaXMubm9kZT1ub2RlO3RoaXMuc2V0RXJybm89ZnVuY3Rpb24oZXJybm8pe3RoaXMuZXJybm89ZXJybm99O3RoaXMuc2V0RXJybm8oZXJybm8pO3RoaXMubWVzc2FnZT0iRlMgZXJyb3IifTtGUy5FcnJub0Vycm9yLnByb3RvdHlwZT1uZXcgRXJyb3I7RlMuRXJybm9FcnJvci5wcm90b3R5cGUuY29uc3RydWN0b3I9RlMuRXJybm9FcnJvcjtbNDRdLmZvckVhY2goY29kZT0+e0ZTLmdlbmVyaWNFcnJvcnNbY29kZV09bmV3IEZTLkVycm5vRXJyb3IoY29kZSk7RlMuZ2VuZXJpY0Vycm9yc1tjb2RlXS5zdGFjaz0iPGdlbmVyaWMgZXJyb3IsIG5vIHN0YWNrPiJ9KX0sc3RhdGljSW5pdDooKT0+e0ZTLmVuc3VyZUVycm5vRXJyb3IoKTtGUy5uYW1lVGFibGU9bmV3IEFycmF5KDQwOTYpO0ZTLm1vdW50KE1FTUZTLHt9LCIvIik7RlMuY3JlYXRlRGVmYXVsdERpcmVjdG9yaWVzKCk7RlMuY3JlYXRlRGVmYXVsdERldmljZXMoKTtGUy5jcmVhdGVTcGVjaWFsRGlyZWN0b3JpZXMoKTtGUy5maWxlc3lzdGVtcz17Ik1FTUZTIjpNRU1GU319LGluaXQ6KGlucHV0LG91dHB1dCxlcnJvcik9PntGUy5pbml0LmluaXRpYWxpemVkPXRydWU7RlMuZW5zdXJlRXJybm9FcnJvcigpO01vZHVsZVsic3RkaW4iXT1pbnB1dHx8TW9kdWxlWyJzdGRpbiJdO01vZHVsZVsic3Rkb3V0Il09b3V0cHV0fHxNb2R1bGVbInN0ZG91dCJdO01vZHVsZVsic3RkZXJyIl09ZXJyb3J8fE1vZHVsZVsic3RkZXJyIl07RlMuY3JlYXRlU3RhbmRhcmRTdHJlYW1zKCl9LHF1aXQ6KCk9PntGUy5pbml0LmluaXRpYWxpemVkPWZhbHNlO19fX3N0ZGlvX2V4aXQoKTtmb3IodmFyIGk9MDtpPEZTLnN0cmVhbXMubGVuZ3RoO2krKyl7dmFyIHN0cmVhbT1GUy5zdHJlYW1zW2ldO2lmKCFzdHJlYW0pe2NvbnRpbnVlfUZTLmNsb3NlKHN0cmVhbSl9fSxnZXRNb2RlOihjYW5SZWFkLGNhbldyaXRlKT0+e3ZhciBtb2RlPTA7aWYoY2FuUmVhZCltb2RlfD0yOTJ8NzM7aWYoY2FuV3JpdGUpbW9kZXw9MTQ2O3JldHVybiBtb2RlfSxmaW5kT2JqZWN0OihwYXRoLGRvbnRSZXNvbHZlTGFzdExpbmspPT57dmFyIHJldD1GUy5hbmFseXplUGF0aChwYXRoLGRvbnRSZXNvbHZlTGFzdExpbmspO2lmKHJldC5leGlzdHMpe3JldHVybiByZXQub2JqZWN0fWVsc2V7cmV0dXJuIG51bGx9fSxhbmFseXplUGF0aDoocGF0aCxkb250UmVzb2x2ZUxhc3RMaW5rKT0+e3RyeXt2YXIgbG9va3VwPUZTLmxvb2t1cFBhdGgocGF0aCx7Zm9sbG93OiFkb250UmVzb2x2ZUxhc3RMaW5rfSk7cGF0aD1sb29rdXAucGF0aH1jYXRjaChlKXt9dmFyIHJldD17aXNSb290OmZhbHNlLGV4aXN0czpmYWxzZSxlcnJvcjowLG5hbWU6bnVsbCxwYXRoOm51bGwsb2JqZWN0Om51bGwscGFyZW50RXhpc3RzOmZhbHNlLHBhcmVudFBhdGg6bnVsbCxwYXJlbnRPYmplY3Q6bnVsbH07dHJ5e3ZhciBsb29rdXA9RlMubG9va3VwUGF0aChwYXRoLHtwYXJlbnQ6dHJ1ZX0pO3JldC5wYXJlbnRFeGlzdHM9dHJ1ZTtyZXQucGFyZW50UGF0aD1sb29rdXAucGF0aDtyZXQucGFyZW50T2JqZWN0PWxvb2t1cC5ub2RlO3JldC5uYW1lPVBBVEguYmFzZW5hbWUocGF0aCk7bG9va3VwPUZTLmxvb2t1cFBhdGgocGF0aCx7Zm9sbG93OiFkb250UmVzb2x2ZUxhc3RMaW5rfSk7cmV0LmV4aXN0cz10cnVlO3JldC5wYXRoPWxvb2t1cC5wYXRoO3JldC5vYmplY3Q9bG9va3VwLm5vZGU7cmV0Lm5hbWU9bG9va3VwLm5vZGUubmFtZTtyZXQuaXNSb290PWxvb2t1cC5wYXRoPT09Ii8ifWNhdGNoKGUpe3JldC5lcnJvcj1lLmVycm5vfXJldHVybiByZXR9LGNyZWF0ZVBhdGg6KHBhcmVudCxwYXRoLGNhblJlYWQsY2FuV3JpdGUpPT57cGFyZW50PXR5cGVvZiBwYXJlbnQ9PSJzdHJpbmciP3BhcmVudDpGUy5nZXRQYXRoKHBhcmVudCk7dmFyIHBhcnRzPXBhdGguc3BsaXQoIi8iKS5yZXZlcnNlKCk7d2hpbGUocGFydHMubGVuZ3RoKXt2YXIgcGFydD1wYXJ0cy5wb3AoKTtpZighcGFydCljb250aW51ZTt2YXIgY3VycmVudD1QQVRILmpvaW4yKHBhcmVudCxwYXJ0KTt0cnl7RlMubWtkaXIoY3VycmVudCl9Y2F0Y2goZSl7fXBhcmVudD1jdXJyZW50fXJldHVybiBjdXJyZW50fSxjcmVhdGVGaWxlOihwYXJlbnQsbmFtZSxwcm9wZXJ0aWVzLGNhblJlYWQsY2FuV3JpdGUpPT57dmFyIHBhdGg9UEFUSC5qb2luMih0eXBlb2YgcGFyZW50PT0ic3RyaW5nIj9wYXJlbnQ6RlMuZ2V0UGF0aChwYXJlbnQpLG5hbWUpO3ZhciBtb2RlPUZTLmdldE1vZGUoY2FuUmVhZCxjYW5Xcml0ZSk7cmV0dXJuIEZTLmNyZWF0ZShwYXRoLG1vZGUpfSxjcmVhdGVEYXRhRmlsZToocGFyZW50LG5hbWUsZGF0YSxjYW5SZWFkLGNhbldyaXRlLGNhbk93bik9Pnt2YXIgcGF0aD1uYW1lO2lmKHBhcmVudCl7cGFyZW50PXR5cGVvZiBwYXJlbnQ9PSJzdHJpbmciP3BhcmVudDpGUy5nZXRQYXRoKHBhcmVudCk7cGF0aD1uYW1lP1BBVEguam9pbjIocGFyZW50LG5hbWUpOnBhcmVudH12YXIgbW9kZT1GUy5nZXRNb2RlKGNhblJlYWQsY2FuV3JpdGUpO3ZhciBub2RlPUZTLmNyZWF0ZShwYXRoLG1vZGUpO2lmKGRhdGEpe2lmKHR5cGVvZiBkYXRhPT0ic3RyaW5nIil7dmFyIGFycj1uZXcgQXJyYXkoZGF0YS5sZW5ndGgpO2Zvcih2YXIgaT0wLGxlbj1kYXRhLmxlbmd0aDtpPGxlbjsrK2kpYXJyW2ldPWRhdGEuY2hhckNvZGVBdChpKTtkYXRhPWFycn1GUy5jaG1vZChub2RlLG1vZGV8MTQ2KTt2YXIgc3RyZWFtPUZTLm9wZW4obm9kZSw1NzcpO0ZTLndyaXRlKHN0cmVhbSxkYXRhLDAsZGF0YS5sZW5ndGgsMCxjYW5Pd24pO0ZTLmNsb3NlKHN0cmVhbSk7RlMuY2htb2Qobm9kZSxtb2RlKX1yZXR1cm4gbm9kZX0sY3JlYXRlRGV2aWNlOihwYXJlbnQsbmFtZSxpbnB1dCxvdXRwdXQpPT57dmFyIHBhdGg9UEFUSC5qb2luMih0eXBlb2YgcGFyZW50PT0ic3RyaW5nIj9wYXJlbnQ6RlMuZ2V0UGF0aChwYXJlbnQpLG5hbWUpO3ZhciBtb2RlPUZTLmdldE1vZGUoISFpbnB1dCwhIW91dHB1dCk7aWYoIUZTLmNyZWF0ZURldmljZS5tYWpvcilGUy5jcmVhdGVEZXZpY2UubWFqb3I9NjQ7dmFyIGRldj1GUy5tYWtlZGV2KEZTLmNyZWF0ZURldmljZS5tYWpvcisrLDApO0ZTLnJlZ2lzdGVyRGV2aWNlKGRldix7b3BlbjpzdHJlYW09PntzdHJlYW0uc2Vla2FibGU9ZmFsc2V9LGNsb3NlOnN0cmVhbT0+e2lmKG91dHB1dCYmb3V0cHV0LmJ1ZmZlciYmb3V0cHV0LmJ1ZmZlci5sZW5ndGgpe291dHB1dCgxMCl9fSxyZWFkOihzdHJlYW0sYnVmZmVyLG9mZnNldCxsZW5ndGgscG9zKT0+e3ZhciBieXRlc1JlYWQ9MDtmb3IodmFyIGk9MDtpPGxlbmd0aDtpKyspe3ZhciByZXN1bHQ7dHJ5e3Jlc3VsdD1pbnB1dCgpfWNhdGNoKGUpe3Rocm93IG5ldyBGUy5FcnJub0Vycm9yKDI5KX1pZihyZXN1bHQ9PT11bmRlZmluZWQmJmJ5dGVzUmVhZD09PTApe3Rocm93IG5ldyBGUy5FcnJub0Vycm9yKDYpfWlmKHJlc3VsdD09PW51bGx8fHJlc3VsdD09PXVuZGVmaW5lZClicmVhaztieXRlc1JlYWQrKztidWZmZXJbb2Zmc2V0K2ldPXJlc3VsdH1pZihieXRlc1JlYWQpe3N0cmVhbS5ub2RlLnRpbWVzdGFtcD1EYXRlLm5vdygpfXJldHVybiBieXRlc1JlYWR9LHdyaXRlOihzdHJlYW0sYnVmZmVyLG9mZnNldCxsZW5ndGgscG9zKT0+e2Zvcih2YXIgaT0wO2k8bGVuZ3RoO2krKyl7dHJ5e291dHB1dChidWZmZXJbb2Zmc2V0K2ldKX1jYXRjaChlKXt0aHJvdyBuZXcgRlMuRXJybm9FcnJvcigyOSl9fWlmKGxlbmd0aCl7c3RyZWFtLm5vZGUudGltZXN0YW1wPURhdGUubm93KCl9cmV0dXJuIGl9fSk7cmV0dXJuIEZTLm1rZGV2KHBhdGgsbW9kZSxkZXYpfSxmb3JjZUxvYWRGaWxlOm9iaj0+e2lmKG9iai5pc0RldmljZXx8b2JqLmlzRm9sZGVyfHxvYmoubGlua3x8b2JqLmNvbnRlbnRzKXJldHVybiB0cnVlO2lmKHR5cGVvZiBYTUxIdHRwUmVxdWVzdCE9InVuZGVmaW5lZCIpe3Rocm93IG5ldyBFcnJvcigiTGF6eSBsb2FkaW5nIHNob3VsZCBoYXZlIGJlZW4gcGVyZm9ybWVkIChjb250ZW50cyBzZXQpIGluIGNyZWF0ZUxhenlGaWxlLCBidXQgaXQgd2FzIG5vdC4gTGF6eSBsb2FkaW5nIG9ubHkgd29ya3MgaW4gd2ViIHdvcmtlcnMuIFVzZSAtLWVtYmVkLWZpbGUgb3IgLS1wcmVsb2FkLWZpbGUgaW4gZW1jYyBvbiB0aGUgbWFpbiB0aHJlYWQuIil9ZWxzZSBpZihyZWFkXyl7dHJ5e29iai5jb250ZW50cz1pbnRBcnJheUZyb21TdHJpbmcocmVhZF8ob2JqLnVybCksdHJ1ZSk7b2JqLnVzZWRCeXRlcz1vYmouY29udGVudHMubGVuZ3RofWNhdGNoKGUpe3Rocm93IG5ldyBGUy5FcnJub0Vycm9yKDI5KX19ZWxzZXt0aHJvdyBuZXcgRXJyb3IoIkNhbm5vdCBsb2FkIHdpdGhvdXQgcmVhZCgpIG9yIFhNTEh0dHBSZXF1ZXN0LiIpfX0sY3JlYXRlTGF6eUZpbGU6KHBhcmVudCxuYW1lLHVybCxjYW5SZWFkLGNhbldyaXRlKT0+e2Z1bmN0aW9uIExhenlVaW50OEFycmF5KCl7dGhpcy5sZW5ndGhLbm93bj1mYWxzZTt0aGlzLmNodW5rcz1bXX1MYXp5VWludDhBcnJheS5wcm90b3R5cGUuZ2V0PWZ1bmN0aW9uIExhenlVaW50OEFycmF5X2dldChpZHgpe2lmKGlkeD50aGlzLmxlbmd0aC0xfHxpZHg8MCl7cmV0dXJuIHVuZGVmaW5lZH12YXIgY2h1bmtPZmZzZXQ9aWR4JXRoaXMuY2h1bmtTaXplO3ZhciBjaHVua051bT1pZHgvdGhpcy5jaHVua1NpemV8MDtyZXR1cm4gdGhpcy5nZXR0ZXIoY2h1bmtOdW0pW2NodW5rT2Zmc2V0XX07TGF6eVVpbnQ4QXJyYXkucHJvdG90eXBlLnNldERhdGFHZXR0ZXI9ZnVuY3Rpb24gTGF6eVVpbnQ4QXJyYXlfc2V0RGF0YUdldHRlcihnZXR0ZXIpe3RoaXMuZ2V0dGVyPWdldHRlcn07TGF6eVVpbnQ4QXJyYXkucHJvdG90eXBlLmNhY2hlTGVuZ3RoPWZ1bmN0aW9uIExhenlVaW50OEFycmF5X2NhY2hlTGVuZ3RoKCl7dmFyIHhocj1uZXcgWE1MSHR0cFJlcXVlc3Q7eGhyLm9wZW4oIkhFQUQiLHVybCxmYWxzZSk7eGhyLnNlbmQobnVsbCk7aWYoISh4aHIuc3RhdHVzPj0yMDAmJnhoci5zdGF0dXM8MzAwfHx4aHIuc3RhdHVzPT09MzA0KSl0aHJvdyBuZXcgRXJyb3IoIkNvdWxkbid0IGxvYWQgIit1cmwrIi4gU3RhdHVzOiAiK3hoci5zdGF0dXMpO3ZhciBkYXRhbGVuZ3RoPU51bWJlcih4aHIuZ2V0UmVzcG9uc2VIZWFkZXIoIkNvbnRlbnQtbGVuZ3RoIikpO3ZhciBoZWFkZXI7dmFyIGhhc0J5dGVTZXJ2aW5nPShoZWFkZXI9eGhyLmdldFJlc3BvbnNlSGVhZGVyKCJBY2NlcHQtUmFuZ2VzIikpJiZoZWFkZXI9PT0iYnl0ZXMiO3ZhciB1c2VzR3ppcD0oaGVhZGVyPXhoci5nZXRSZXNwb25zZUhlYWRlcigiQ29udGVudC1FbmNvZGluZyIpKSYmaGVhZGVyPT09Imd6aXAiO3ZhciBjaHVua1NpemU9MTAyNCoxMDI0O2lmKCFoYXNCeXRlU2VydmluZyljaHVua1NpemU9ZGF0YWxlbmd0aDt2YXIgZG9YSFI9KGZyb20sdG8pPT57aWYoZnJvbT50byl0aHJvdyBuZXcgRXJyb3IoImludmFsaWQgcmFuZ2UgKCIrZnJvbSsiLCAiK3RvKyIpIG9yIG5vIGJ5dGVzIHJlcXVlc3RlZCEiKTtpZih0bz5kYXRhbGVuZ3RoLTEpdGhyb3cgbmV3IEVycm9yKCJvbmx5ICIrZGF0YWxlbmd0aCsiIGJ5dGVzIGF2YWlsYWJsZSEgcHJvZ3JhbW1lciBlcnJvciEiKTt2YXIgeGhyPW5ldyBYTUxIdHRwUmVxdWVzdDt4aHIub3BlbigiR0VUIix1cmwsZmFsc2UpO2lmKGRhdGFsZW5ndGghPT1jaHVua1NpemUpeGhyLnNldFJlcXVlc3RIZWFkZXIoIlJhbmdlIiwiYnl0ZXM9Iitmcm9tKyItIit0byk7eGhyLnJlc3BvbnNlVHlwZT0iYXJyYXlidWZmZXIiO2lmKHhoci5vdmVycmlkZU1pbWVUeXBlKXt4aHIub3ZlcnJpZGVNaW1lVHlwZSgidGV4dC9wbGFpbjsgY2hhcnNldD14LXVzZXItZGVmaW5lZCIpfXhoci5zZW5kKG51bGwpO2lmKCEoeGhyLnN0YXR1cz49MjAwJiZ4aHIuc3RhdHVzPDMwMHx8eGhyLnN0YXR1cz09PTMwNCkpdGhyb3cgbmV3IEVycm9yKCJDb3VsZG4ndCBsb2FkICIrdXJsKyIuIFN0YXR1czogIit4aHIuc3RhdHVzKTtpZih4aHIucmVzcG9uc2UhPT11bmRlZmluZWQpe3JldHVybiBuZXcgVWludDhBcnJheSh4aHIucmVzcG9uc2V8fFtdKX1lbHNle3JldHVybiBpbnRBcnJheUZyb21TdHJpbmcoeGhyLnJlc3BvbnNlVGV4dHx8IiIsdHJ1ZSl9fTt2YXIgbGF6eUFycmF5PXRoaXM7bGF6eUFycmF5LnNldERhdGFHZXR0ZXIoY2h1bmtOdW09Pnt2YXIgc3RhcnQ9Y2h1bmtOdW0qY2h1bmtTaXplO3ZhciBlbmQ9KGNodW5rTnVtKzEpKmNodW5rU2l6ZS0xO2VuZD1NYXRoLm1pbihlbmQsZGF0YWxlbmd0aC0xKTtpZih0eXBlb2YgbGF6eUFycmF5LmNodW5rc1tjaHVua051bV09PSJ1bmRlZmluZWQiKXtsYXp5QXJyYXkuY2h1bmtzW2NodW5rTnVtXT1kb1hIUihzdGFydCxlbmQpfWlmKHR5cGVvZiBsYXp5QXJyYXkuY2h1bmtzW2NodW5rTnVtXT09InVuZGVmaW5lZCIpdGhyb3cgbmV3IEVycm9yKCJkb1hIUiBmYWlsZWQhIik7cmV0dXJuIGxhenlBcnJheS5jaHVua3NbY2h1bmtOdW1dfSk7aWYodXNlc0d6aXB8fCFkYXRhbGVuZ3RoKXtjaHVua1NpemU9ZGF0YWxlbmd0aD0xO2RhdGFsZW5ndGg9dGhpcy5nZXR0ZXIoMCkubGVuZ3RoO2NodW5rU2l6ZT1kYXRhbGVuZ3RoO291dCgiTGF6eUZpbGVzIG9uIGd6aXAgZm9yY2VzIGRvd25sb2FkIG9mIHRoZSB3aG9sZSBmaWxlIHdoZW4gbGVuZ3RoIGlzIGFjY2Vzc2VkIil9dGhpcy5fbGVuZ3RoPWRhdGFsZW5ndGg7dGhpcy5fY2h1bmtTaXplPWNodW5rU2l6ZTt0aGlzLmxlbmd0aEtub3duPXRydWV9O2lmKHR5cGVvZiBYTUxIdHRwUmVxdWVzdCE9InVuZGVmaW5lZCIpe2lmKCFFTlZJUk9OTUVOVF9JU19XT1JLRVIpdGhyb3ciQ2Fubm90IGRvIHN5bmNocm9ub3VzIGJpbmFyeSBYSFJzIG91dHNpZGUgd2Vid29ya2VycyBpbiBtb2Rlcm4gYnJvd3NlcnMuIFVzZSAtLWVtYmVkLWZpbGUgb3IgLS1wcmVsb2FkLWZpbGUgaW4gZW1jYyI7dmFyIGxhenlBcnJheT1uZXcgTGF6eVVpbnQ4QXJyYXk7T2JqZWN0LmRlZmluZVByb3BlcnRpZXMobGF6eUFycmF5LHtsZW5ndGg6e2dldDpmdW5jdGlvbigpe2lmKCF0aGlzLmxlbmd0aEtub3duKXt0aGlzLmNhY2hlTGVuZ3RoKCl9cmV0dXJuIHRoaXMuX2xlbmd0aH19LGNodW5rU2l6ZTp7Z2V0OmZ1bmN0aW9uKCl7aWYoIXRoaXMubGVuZ3RoS25vd24pe3RoaXMuY2FjaGVMZW5ndGgoKX1yZXR1cm4gdGhpcy5fY2h1bmtTaXplfX19KTt2YXIgcHJvcGVydGllcz17aXNEZXZpY2U6ZmFsc2UsY29udGVudHM6bGF6eUFycmF5fX1lbHNle3ZhciBwcm9wZXJ0aWVzPXtpc0RldmljZTpmYWxzZSx1cmw6dXJsfX12YXIgbm9kZT1GUy5jcmVhdGVGaWxlKHBhcmVudCxuYW1lLHByb3BlcnRpZXMsY2FuUmVhZCxjYW5Xcml0ZSk7aWYocHJvcGVydGllcy5jb250ZW50cyl7bm9kZS5jb250ZW50cz1wcm9wZXJ0aWVzLmNvbnRlbnRzfWVsc2UgaWYocHJvcGVydGllcy51cmwpe25vZGUuY29udGVudHM9bnVsbDtub2RlLnVybD1wcm9wZXJ0aWVzLnVybH1PYmplY3QuZGVmaW5lUHJvcGVydGllcyhub2RlLHt1c2VkQnl0ZXM6e2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmNvbnRlbnRzLmxlbmd0aH19fSk7dmFyIHN0cmVhbV9vcHM9e307dmFyIGtleXM9T2JqZWN0LmtleXMobm9kZS5zdHJlYW1fb3BzKTtrZXlzLmZvckVhY2goa2V5PT57dmFyIGZuPW5vZGUuc3RyZWFtX29wc1trZXldO3N0cmVhbV9vcHNba2V5XT1mdW5jdGlvbiBmb3JjZUxvYWRMYXp5RmlsZSgpe0ZTLmZvcmNlTG9hZEZpbGUobm9kZSk7cmV0dXJuIGZuLmFwcGx5KG51bGwsYXJndW1lbnRzKX19KTtzdHJlYW1fb3BzLnJlYWQ9KChzdHJlYW0sYnVmZmVyLG9mZnNldCxsZW5ndGgscG9zaXRpb24pPT57RlMuZm9yY2VMb2FkRmlsZShub2RlKTt2YXIgY29udGVudHM9c3RyZWFtLm5vZGUuY29udGVudHM7aWYocG9zaXRpb24+PWNvbnRlbnRzLmxlbmd0aClyZXR1cm4gMDt2YXIgc2l6ZT1NYXRoLm1pbihjb250ZW50cy5sZW5ndGgtcG9zaXRpb24sbGVuZ3RoKTtpZihjb250ZW50cy5zbGljZSl7Zm9yKHZhciBpPTA7aTxzaXplO2krKyl7YnVmZmVyW29mZnNldCtpXT1jb250ZW50c1twb3NpdGlvbitpXX19ZWxzZXtmb3IodmFyIGk9MDtpPHNpemU7aSsrKXtidWZmZXJbb2Zmc2V0K2ldPWNvbnRlbnRzLmdldChwb3NpdGlvbitpKX19cmV0dXJuIHNpemV9KTtub2RlLnN0cmVhbV9vcHM9c3RyZWFtX29wcztyZXR1cm4gbm9kZX0sY3JlYXRlUHJlbG9hZGVkRmlsZToocGFyZW50LG5hbWUsdXJsLGNhblJlYWQsY2FuV3JpdGUsb25sb2FkLG9uZXJyb3IsZG9udENyZWF0ZUZpbGUsY2FuT3duLHByZUZpbmlzaCk9Pnt2YXIgZnVsbG5hbWU9bmFtZT9QQVRIX0ZTLnJlc29sdmUoUEFUSC5qb2luMihwYXJlbnQsbmFtZSkpOnBhcmVudDt2YXIgZGVwPWdldFVuaXF1ZVJ1bkRlcGVuZGVuY3koImNwICIrZnVsbG5hbWUpO2Z1bmN0aW9uIHByb2Nlc3NEYXRhKGJ5dGVBcnJheSl7ZnVuY3Rpb24gZmluaXNoKGJ5dGVBcnJheSl7aWYocHJlRmluaXNoKXByZUZpbmlzaCgpO2lmKCFkb250Q3JlYXRlRmlsZSl7RlMuY3JlYXRlRGF0YUZpbGUocGFyZW50LG5hbWUsYnl0ZUFycmF5LGNhblJlYWQsY2FuV3JpdGUsY2FuT3duKX1pZihvbmxvYWQpb25sb2FkKCk7cmVtb3ZlUnVuRGVwZW5kZW5jeShkZXApfWlmKEJyb3dzZXIuaGFuZGxlZEJ5UHJlbG9hZFBsdWdpbihieXRlQXJyYXksZnVsbG5hbWUsZmluaXNoLCgpPT57aWYob25lcnJvcilvbmVycm9yKCk7cmVtb3ZlUnVuRGVwZW5kZW5jeShkZXApfSkpe3JldHVybn1maW5pc2goYnl0ZUFycmF5KX1hZGRSdW5EZXBlbmRlbmN5KGRlcCk7aWYodHlwZW9mIHVybD09InN0cmluZyIpe2FzeW5jTG9hZCh1cmwsYnl0ZUFycmF5PT5wcm9jZXNzRGF0YShieXRlQXJyYXkpLG9uZXJyb3IpfWVsc2V7cHJvY2Vzc0RhdGEodXJsKX19LGluZGV4ZWREQjooKT0+e3JldHVybiB3aW5kb3cuaW5kZXhlZERCfHx3aW5kb3cubW96SW5kZXhlZERCfHx3aW5kb3cud2Via2l0SW5kZXhlZERCfHx3aW5kb3cubXNJbmRleGVkREJ9LERCX05BTUU6KCk9PntyZXR1cm4iRU1fRlNfIit3aW5kb3cubG9jYXRpb24ucGF0aG5hbWV9LERCX1ZFUlNJT046MjAsREJfU1RPUkVfTkFNRToiRklMRV9EQVRBIixzYXZlRmlsZXNUb0RCOihwYXRocyxvbmxvYWQsb25lcnJvcik9PntvbmxvYWQ9b25sb2FkfHwoKCk9Pnt9KTtvbmVycm9yPW9uZXJyb3J8fCgoKT0+e30pO3ZhciBpbmRleGVkREI9RlMuaW5kZXhlZERCKCk7dHJ5e3ZhciBvcGVuUmVxdWVzdD1pbmRleGVkREIub3BlbihGUy5EQl9OQU1FKCksRlMuREJfVkVSU0lPTil9Y2F0Y2goZSl7cmV0dXJuIG9uZXJyb3IoZSl9b3BlblJlcXVlc3Qub251cGdyYWRlbmVlZGVkPSgoKT0+e291dCgiY3JlYXRpbmcgZGIiKTt2YXIgZGI9b3BlblJlcXVlc3QucmVzdWx0O2RiLmNyZWF0ZU9iamVjdFN0b3JlKEZTLkRCX1NUT1JFX05BTUUpfSk7b3BlblJlcXVlc3Qub25zdWNjZXNzPSgoKT0+e3ZhciBkYj1vcGVuUmVxdWVzdC5yZXN1bHQ7dmFyIHRyYW5zYWN0aW9uPWRiLnRyYW5zYWN0aW9uKFtGUy5EQl9TVE9SRV9OQU1FXSwicmVhZHdyaXRlIik7dmFyIGZpbGVzPXRyYW5zYWN0aW9uLm9iamVjdFN0b3JlKEZTLkRCX1NUT1JFX05BTUUpO3ZhciBvaz0wLGZhaWw9MCx0b3RhbD1wYXRocy5sZW5ndGg7ZnVuY3Rpb24gZmluaXNoKCl7aWYoZmFpbD09MClvbmxvYWQoKTtlbHNlIG9uZXJyb3IoKX1wYXRocy5mb3JFYWNoKHBhdGg9Pnt2YXIgcHV0UmVxdWVzdD1maWxlcy5wdXQoRlMuYW5hbHl6ZVBhdGgocGF0aCkub2JqZWN0LmNvbnRlbnRzLHBhdGgpO3B1dFJlcXVlc3Qub25zdWNjZXNzPSgoKT0+e29rKys7aWYob2srZmFpbD09dG90YWwpZmluaXNoKCl9KTtwdXRSZXF1ZXN0Lm9uZXJyb3I9KCgpPT57ZmFpbCsrO2lmKG9rK2ZhaWw9PXRvdGFsKWZpbmlzaCgpfSl9KTt0cmFuc2FjdGlvbi5vbmVycm9yPW9uZXJyb3J9KTtvcGVuUmVxdWVzdC5vbmVycm9yPW9uZXJyb3J9LGxvYWRGaWxlc0Zyb21EQjoocGF0aHMsb25sb2FkLG9uZXJyb3IpPT57b25sb2FkPW9ubG9hZHx8KCgpPT57fSk7b25lcnJvcj1vbmVycm9yfHwoKCk9Pnt9KTt2YXIgaW5kZXhlZERCPUZTLmluZGV4ZWREQigpO3RyeXt2YXIgb3BlblJlcXVlc3Q9aW5kZXhlZERCLm9wZW4oRlMuREJfTkFNRSgpLEZTLkRCX1ZFUlNJT04pfWNhdGNoKGUpe3JldHVybiBvbmVycm9yKGUpfW9wZW5SZXF1ZXN0Lm9udXBncmFkZW5lZWRlZD1vbmVycm9yO29wZW5SZXF1ZXN0Lm9uc3VjY2Vzcz0oKCk9Pnt2YXIgZGI9b3BlblJlcXVlc3QucmVzdWx0O3RyeXt2YXIgdHJhbnNhY3Rpb249ZGIudHJhbnNhY3Rpb24oW0ZTLkRCX1NUT1JFX05BTUVdLCJyZWFkb25seSIpfWNhdGNoKGUpe29uZXJyb3IoZSk7cmV0dXJufXZhciBmaWxlcz10cmFuc2FjdGlvbi5vYmplY3RTdG9yZShGUy5EQl9TVE9SRV9OQU1FKTt2YXIgb2s9MCxmYWlsPTAsdG90YWw9cGF0aHMubGVuZ3RoO2Z1bmN0aW9uIGZpbmlzaCgpe2lmKGZhaWw9PTApb25sb2FkKCk7ZWxzZSBvbmVycm9yKCl9cGF0aHMuZm9yRWFjaChwYXRoPT57dmFyIGdldFJlcXVlc3Q9ZmlsZXMuZ2V0KHBhdGgpO2dldFJlcXVlc3Qub25zdWNjZXNzPSgoKT0+e2lmKEZTLmFuYWx5emVQYXRoKHBhdGgpLmV4aXN0cyl7RlMudW5saW5rKHBhdGgpfUZTLmNyZWF0ZURhdGFGaWxlKFBBVEguZGlybmFtZShwYXRoKSxQQVRILmJhc2VuYW1lKHBhdGgpLGdldFJlcXVlc3QucmVzdWx0LHRydWUsdHJ1ZSx0cnVlKTtvaysrO2lmKG9rK2ZhaWw9PXRvdGFsKWZpbmlzaCgpfSk7Z2V0UmVxdWVzdC5vbmVycm9yPSgoKT0+e2ZhaWwrKztpZihvaytmYWlsPT10b3RhbClmaW5pc2goKX0pfSk7dHJhbnNhY3Rpb24ub25lcnJvcj1vbmVycm9yfSk7b3BlblJlcXVlc3Qub25lcnJvcj1vbmVycm9yfX07dmFyIFNZU0NBTExTPXtERUZBVUxUX1BPTExNQVNLOjUsY2FsY3VsYXRlQXQ6ZnVuY3Rpb24oZGlyZmQscGF0aCxhbGxvd0VtcHR5KXtpZihQQVRILmlzQWJzKHBhdGgpKXtyZXR1cm4gcGF0aH12YXIgZGlyO2lmKGRpcmZkPT09LTEwMCl7ZGlyPUZTLmN3ZCgpfWVsc2V7dmFyIGRpcnN0cmVhbT1GUy5nZXRTdHJlYW0oZGlyZmQpO2lmKCFkaXJzdHJlYW0pdGhyb3cgbmV3IEZTLkVycm5vRXJyb3IoOCk7ZGlyPWRpcnN0cmVhbS5wYXRofWlmKHBhdGgubGVuZ3RoPT0wKXtpZighYWxsb3dFbXB0eSl7dGhyb3cgbmV3IEZTLkVycm5vRXJyb3IoNDQpfXJldHVybiBkaXJ9cmV0dXJuIFBBVEguam9pbjIoZGlyLHBhdGgpfSxkb1N0YXQ6ZnVuY3Rpb24oZnVuYyxwYXRoLGJ1Zil7dHJ5e3ZhciBzdGF0PWZ1bmMocGF0aCl9Y2F0Y2goZSl7aWYoZSYmZS5ub2RlJiZQQVRILm5vcm1hbGl6ZShwYXRoKSE9PVBBVEgubm9ybWFsaXplKEZTLmdldFBhdGgoZS5ub2RlKSkpe3JldHVybi01NH10aHJvdyBlfUdST1dBQkxFX0hFQVBfSTMyKClbYnVmPj4yXT1zdGF0LmRldjtHUk9XQUJMRV9IRUFQX0kzMigpW2J1Zis0Pj4yXT0wO0dST1dBQkxFX0hFQVBfSTMyKClbYnVmKzg+PjJdPXN0YXQuaW5vO0dST1dBQkxFX0hFQVBfSTMyKClbYnVmKzEyPj4yXT1zdGF0Lm1vZGU7R1JPV0FCTEVfSEVBUF9JMzIoKVtidWYrMTY+PjJdPXN0YXQubmxpbms7R1JPV0FCTEVfSEVBUF9JMzIoKVtidWYrMjA+PjJdPXN0YXQudWlkO0dST1dBQkxFX0hFQVBfSTMyKClbYnVmKzI0Pj4yXT1zdGF0LmdpZDtHUk9XQUJMRV9IRUFQX0kzMigpW2J1ZisyOD4+Ml09c3RhdC5yZGV2O0dST1dBQkxFX0hFQVBfSTMyKClbYnVmKzMyPj4yXT0wO3RlbXBJNjQ9W3N0YXQuc2l6ZT4+PjAsKHRlbXBEb3VibGU9c3RhdC5zaXplLCtNYXRoLmFicyh0ZW1wRG91YmxlKT49MT90ZW1wRG91YmxlPjA/KE1hdGgubWluKCtNYXRoLmZsb29yKHRlbXBEb3VibGUvNDI5NDk2NzI5NiksNDI5NDk2NzI5NSl8MCk+Pj4wOn5+K01hdGguY2VpbCgodGVtcERvdWJsZS0rKH5+dGVtcERvdWJsZT4+PjApKS80Mjk0OTY3Mjk2KT4+PjA6MCldLEdST1dBQkxFX0hFQVBfSTMyKClbYnVmKzQwPj4yXT10ZW1wSTY0WzBdLEdST1dBQkxFX0hFQVBfSTMyKClbYnVmKzQ0Pj4yXT10ZW1wSTY0WzFdO0dST1dBQkxFX0hFQVBfSTMyKClbYnVmKzQ4Pj4yXT00MDk2O0dST1dBQkxFX0hFQVBfSTMyKClbYnVmKzUyPj4yXT1zdGF0LmJsb2NrcztHUk9XQUJMRV9IRUFQX0kzMigpW2J1Zis1Nj4+Ml09c3RhdC5hdGltZS5nZXRUaW1lKCkvMWUzfDA7R1JPV0FCTEVfSEVBUF9JMzIoKVtidWYrNjA+PjJdPTA7R1JPV0FCTEVfSEVBUF9JMzIoKVtidWYrNjQ+PjJdPXN0YXQubXRpbWUuZ2V0VGltZSgpLzFlM3wwO0dST1dBQkxFX0hFQVBfSTMyKClbYnVmKzY4Pj4yXT0wO0dST1dBQkxFX0hFQVBfSTMyKClbYnVmKzcyPj4yXT1zdGF0LmN0aW1lLmdldFRpbWUoKS8xZTN8MDtHUk9XQUJMRV9IRUFQX0kzMigpW2J1Zis3Nj4+Ml09MDt0ZW1wSTY0PVtzdGF0Lmlubz4+PjAsKHRlbXBEb3VibGU9c3RhdC5pbm8sK01hdGguYWJzKHRlbXBEb3VibGUpPj0xP3RlbXBEb3VibGU+MD8oTWF0aC5taW4oK01hdGguZmxvb3IodGVtcERvdWJsZS80Mjk0OTY3Mjk2KSw0Mjk0OTY3Mjk1KXwwKT4+PjA6fn4rTWF0aC5jZWlsKCh0ZW1wRG91YmxlLSsofn50ZW1wRG91YmxlPj4+MCkpLzQyOTQ5NjcyOTYpPj4+MDowKV0sR1JPV0FCTEVfSEVBUF9JMzIoKVtidWYrODA+PjJdPXRlbXBJNjRbMF0sR1JPV0FCTEVfSEVBUF9JMzIoKVtidWYrODQ+PjJdPXRlbXBJNjRbMV07cmV0dXJuIDB9LGRvTXN5bmM6ZnVuY3Rpb24oYWRkcixzdHJlYW0sbGVuLGZsYWdzLG9mZnNldCl7dmFyIGJ1ZmZlcj1HUk9XQUJMRV9IRUFQX1U4KCkuc2xpY2UoYWRkcixhZGRyK2xlbik7RlMubXN5bmMoc3RyZWFtLGJ1ZmZlcixvZmZzZXQsbGVuLGZsYWdzKX0sdmFyYXJnczp1bmRlZmluZWQsZ2V0OmZ1bmN0aW9uKCl7U1lTQ0FMTFMudmFyYXJncys9NDt2YXIgcmV0PUdST1dBQkxFX0hFQVBfSTMyKClbU1lTQ0FMTFMudmFyYXJncy00Pj4yXTtyZXR1cm4gcmV0fSxnZXRTdHI6ZnVuY3Rpb24ocHRyKXt2YXIgcmV0PVVURjhUb1N0cmluZyhwdHIpO3JldHVybiByZXR9LGdldFN0cmVhbUZyb21GRDpmdW5jdGlvbihmZCl7dmFyIHN0cmVhbT1GUy5nZXRTdHJlYW0oZmQpO2lmKCFzdHJlYW0pdGhyb3cgbmV3IEZTLkVycm5vRXJyb3IoOCk7cmV0dXJuIHN0cmVhbX19O2Z1bmN0aW9uIF9fX3N5c2NhbGxfZmNudGw2NChmZCxjbWQsdmFyYXJncyl7aWYoRU5WSVJPTk1FTlRfSVNfUFRIUkVBRClyZXR1cm4gX2Vtc2NyaXB0ZW5fcHJveHlfdG9fbWFpbl90aHJlYWRfanMoMywxLGZkLGNtZCx2YXJhcmdzKTtTWVNDQUxMUy52YXJhcmdzPXZhcmFyZ3M7dHJ5e3ZhciBzdHJlYW09U1lTQ0FMTFMuZ2V0U3RyZWFtRnJvbUZEKGZkKTtzd2l0Y2goY21kKXtjYXNlIDA6e3ZhciBhcmc9U1lTQ0FMTFMuZ2V0KCk7aWYoYXJnPDApe3JldHVybi0yOH12YXIgbmV3U3RyZWFtO25ld1N0cmVhbT1GUy5jcmVhdGVTdHJlYW0oc3RyZWFtLGFyZyk7cmV0dXJuIG5ld1N0cmVhbS5mZH1jYXNlIDE6Y2FzZSAyOnJldHVybiAwO2Nhc2UgMzpyZXR1cm4gc3RyZWFtLmZsYWdzO2Nhc2UgNDp7dmFyIGFyZz1TWVNDQUxMUy5nZXQoKTtzdHJlYW0uZmxhZ3N8PWFyZztyZXR1cm4gMH1jYXNlIDU6e3ZhciBhcmc9U1lTQ0FMTFMuZ2V0KCk7dmFyIG9mZnNldD0wO0dST1dBQkxFX0hFQVBfSTE2KClbYXJnK29mZnNldD4+MV09MjtyZXR1cm4gMH1jYXNlIDY6Y2FzZSA3OnJldHVybiAwO2Nhc2UgMTY6Y2FzZSA4OnJldHVybi0yODtjYXNlIDk6c2V0RXJyTm8oMjgpO3JldHVybi0xO2RlZmF1bHQ6e3JldHVybi0yOH19fWNhdGNoKGUpe2lmKHR5cGVvZiBGUz09InVuZGVmaW5lZCJ8fCEoZSBpbnN0YW5jZW9mIEZTLkVycm5vRXJyb3IpKXRocm93IGU7cmV0dXJuLWUuZXJybm99fWZ1bmN0aW9uIF9fX3N5c2NhbGxfZnN0YXQ2NChmZCxidWYpe2lmKEVOVklST05NRU5UX0lTX1BUSFJFQUQpcmV0dXJuIF9lbXNjcmlwdGVuX3Byb3h5X3RvX21haW5fdGhyZWFkX2pzKDQsMSxmZCxidWYpO3RyeXt2YXIgc3RyZWFtPVNZU0NBTExTLmdldFN0cmVhbUZyb21GRChmZCk7cmV0dXJuIFNZU0NBTExTLmRvU3RhdChGUy5zdGF0LHN0cmVhbS5wYXRoLGJ1Zil9Y2F0Y2goZSl7aWYodHlwZW9mIEZTPT0idW5kZWZpbmVkInx8IShlIGluc3RhbmNlb2YgRlMuRXJybm9FcnJvcikpdGhyb3cgZTtyZXR1cm4tZS5lcnJub319ZnVuY3Rpb24gX19fc3lzY2FsbF9mdHJ1bmNhdGU2NChmZCxsZW5ndGhfbG93LGxlbmd0aF9oaWdoKXtpZihFTlZJUk9OTUVOVF9JU19QVEhSRUFEKXJldHVybiBfZW1zY3JpcHRlbl9wcm94eV90b19tYWluX3RocmVhZF9qcyg1LDEsZmQsbGVuZ3RoX2xvdyxsZW5ndGhfaGlnaCk7dHJ5e3ZhciBsZW5ndGg9bGVuZ3RoX2hpZ2gqNDI5NDk2NzI5NisobGVuZ3RoX2xvdz4+PjApO0ZTLmZ0cnVuY2F0ZShmZCxsZW5ndGgpO3JldHVybiAwfWNhdGNoKGUpe2lmKHR5cGVvZiBGUz09InVuZGVmaW5lZCJ8fCEoZSBpbnN0YW5jZW9mIEZTLkVycm5vRXJyb3IpKXRocm93IGU7cmV0dXJuLWUuZXJybm99fWZ1bmN0aW9uIF9fX3N5c2NhbGxfaW9jdGwoZmQsb3AsdmFyYXJncyl7aWYoRU5WSVJPTk1FTlRfSVNfUFRIUkVBRClyZXR1cm4gX2Vtc2NyaXB0ZW5fcHJveHlfdG9fbWFpbl90aHJlYWRfanMoNiwxLGZkLG9wLHZhcmFyZ3MpO1NZU0NBTExTLnZhcmFyZ3M9dmFyYXJnczt0cnl7dmFyIHN0cmVhbT1TWVNDQUxMUy5nZXRTdHJlYW1Gcm9tRkQoZmQpO3N3aXRjaChvcCl7Y2FzZSAyMTUwOTpjYXNlIDIxNTA1OntpZighc3RyZWFtLnR0eSlyZXR1cm4tNTk7cmV0dXJuIDB9Y2FzZSAyMTUxMDpjYXNlIDIxNTExOmNhc2UgMjE1MTI6Y2FzZSAyMTUwNjpjYXNlIDIxNTA3OmNhc2UgMjE1MDg6e2lmKCFzdHJlYW0udHR5KXJldHVybi01OTtyZXR1cm4gMH1jYXNlIDIxNTE5OntpZighc3RyZWFtLnR0eSlyZXR1cm4tNTk7dmFyIGFyZ3A9U1lTQ0FMTFMuZ2V0KCk7R1JPV0FCTEVfSEVBUF9JMzIoKVthcmdwPj4yXT0wO3JldHVybiAwfWNhc2UgMjE1MjA6e2lmKCFzdHJlYW0udHR5KXJldHVybi01OTtyZXR1cm4tMjh9Y2FzZSAyMTUzMTp7dmFyIGFyZ3A9U1lTQ0FMTFMuZ2V0KCk7cmV0dXJuIEZTLmlvY3RsKHN0cmVhbSxvcCxhcmdwKX1jYXNlIDIxNTIzOntpZighc3RyZWFtLnR0eSlyZXR1cm4tNTk7cmV0dXJuIDB9Y2FzZSAyMTUyNDp7aWYoIXN0cmVhbS50dHkpcmV0dXJuLTU5O3JldHVybiAwfWRlZmF1bHQ6YWJvcnQoImJhZCBpb2N0bCBzeXNjYWxsICIrb3ApfX1jYXRjaChlKXtpZih0eXBlb2YgRlM9PSJ1bmRlZmluZWQifHwhKGUgaW5zdGFuY2VvZiBGUy5FcnJub0Vycm9yKSl0aHJvdyBlO3JldHVybi1lLmVycm5vfX1mdW5jdGlvbiBfX19zeXNjYWxsX2xzdGF0NjQocGF0aCxidWYpe2lmKEVOVklST05NRU5UX0lTX1BUSFJFQUQpcmV0dXJuIF9lbXNjcmlwdGVuX3Byb3h5X3RvX21haW5fdGhyZWFkX2pzKDcsMSxwYXRoLGJ1Zik7dHJ5e3BhdGg9U1lTQ0FMTFMuZ2V0U3RyKHBhdGgpO3JldHVybiBTWVNDQUxMUy5kb1N0YXQoRlMubHN0YXQscGF0aCxidWYpfWNhdGNoKGUpe2lmKHR5cGVvZiBGUz09InVuZGVmaW5lZCJ8fCEoZSBpbnN0YW5jZW9mIEZTLkVycm5vRXJyb3IpKXRocm93IGU7cmV0dXJuLWUuZXJybm99fWZ1bmN0aW9uIF9fX3N5c2NhbGxfbmV3ZnN0YXRhdChkaXJmZCxwYXRoLGJ1ZixmbGFncyl7aWYoRU5WSVJPTk1FTlRfSVNfUFRIUkVBRClyZXR1cm4gX2Vtc2NyaXB0ZW5fcHJveHlfdG9fbWFpbl90aHJlYWRfanMoOCwxLGRpcmZkLHBhdGgsYnVmLGZsYWdzKTt0cnl7cGF0aD1TWVNDQUxMUy5nZXRTdHIocGF0aCk7dmFyIG5vZm9sbG93PWZsYWdzJjI1Njt2YXIgYWxsb3dFbXB0eT1mbGFncyY0MDk2O2ZsYWdzPWZsYWdzJn40MzUyO3BhdGg9U1lTQ0FMTFMuY2FsY3VsYXRlQXQoZGlyZmQscGF0aCxhbGxvd0VtcHR5KTtyZXR1cm4gU1lTQ0FMTFMuZG9TdGF0KG5vZm9sbG93P0ZTLmxzdGF0OkZTLnN0YXQscGF0aCxidWYpfWNhdGNoKGUpe2lmKHR5cGVvZiBGUz09InVuZGVmaW5lZCJ8fCEoZSBpbnN0YW5jZW9mIEZTLkVycm5vRXJyb3IpKXRocm93IGU7cmV0dXJuLWUuZXJybm99fWZ1bmN0aW9uIF9fX3N5c2NhbGxfb3BlbmF0KGRpcmZkLHBhdGgsZmxhZ3MsdmFyYXJncyl7aWYoRU5WSVJPTk1FTlRfSVNfUFRIUkVBRClyZXR1cm4gX2Vtc2NyaXB0ZW5fcHJveHlfdG9fbWFpbl90aHJlYWRfanMoOSwxLGRpcmZkLHBhdGgsZmxhZ3MsdmFyYXJncyk7U1lTQ0FMTFMudmFyYXJncz12YXJhcmdzO3RyeXtwYXRoPVNZU0NBTExTLmdldFN0cihwYXRoKTtwYXRoPVNZU0NBTExTLmNhbGN1bGF0ZUF0KGRpcmZkLHBhdGgpO3ZhciBtb2RlPXZhcmFyZ3M/U1lTQ0FMTFMuZ2V0KCk6MDtyZXR1cm4gRlMub3BlbihwYXRoLGZsYWdzLG1vZGUpLmZkfWNhdGNoKGUpe2lmKHR5cGVvZiBGUz09InVuZGVmaW5lZCJ8fCEoZSBpbnN0YW5jZW9mIEZTLkVycm5vRXJyb3IpKXRocm93IGU7cmV0dXJuLWUuZXJybm99fWZ1bmN0aW9uIF9fX3N5c2NhbGxfcmVuYW1lYXQob2xkZGlyZmQsb2xkcGF0aCxuZXdkaXJmZCxuZXdwYXRoKXtpZihFTlZJUk9OTUVOVF9JU19QVEhSRUFEKXJldHVybiBfZW1zY3JpcHRlbl9wcm94eV90b19tYWluX3RocmVhZF9qcygxMCwxLG9sZGRpcmZkLG9sZHBhdGgsbmV3ZGlyZmQsbmV3cGF0aCk7dHJ5e29sZHBhdGg9U1lTQ0FMTFMuZ2V0U3RyKG9sZHBhdGgpO25ld3BhdGg9U1lTQ0FMTFMuZ2V0U3RyKG5ld3BhdGgpO29sZHBhdGg9U1lTQ0FMTFMuY2FsY3VsYXRlQXQob2xkZGlyZmQsb2xkcGF0aCk7bmV3cGF0aD1TWVNDQUxMUy5jYWxjdWxhdGVBdChuZXdkaXJmZCxuZXdwYXRoKTtGUy5yZW5hbWUob2xkcGF0aCxuZXdwYXRoKTtyZXR1cm4gMH1jYXRjaChlKXtpZih0eXBlb2YgRlM9PSJ1bmRlZmluZWQifHwhKGUgaW5zdGFuY2VvZiBGUy5FcnJub0Vycm9yKSl0aHJvdyBlO3JldHVybi1lLmVycm5vfX1mdW5jdGlvbiBfX19zeXNjYWxsX3N0YXQ2NChwYXRoLGJ1Zil7aWYoRU5WSVJPTk1FTlRfSVNfUFRIUkVBRClyZXR1cm4gX2Vtc2NyaXB0ZW5fcHJveHlfdG9fbWFpbl90aHJlYWRfanMoMTEsMSxwYXRoLGJ1Zik7dHJ5e3BhdGg9U1lTQ0FMTFMuZ2V0U3RyKHBhdGgpO3JldHVybiBTWVNDQUxMUy5kb1N0YXQoRlMuc3RhdCxwYXRoLGJ1Zil9Y2F0Y2goZSl7aWYodHlwZW9mIEZTPT0idW5kZWZpbmVkInx8IShlIGluc3RhbmNlb2YgRlMuRXJybm9FcnJvcikpdGhyb3cgZTtyZXR1cm4tZS5lcnJub319ZnVuY3Rpb24gX19fc3lzY2FsbF91bmxpbmthdChkaXJmZCxwYXRoLGZsYWdzKXtpZihFTlZJUk9OTUVOVF9JU19QVEhSRUFEKXJldHVybiBfZW1zY3JpcHRlbl9wcm94eV90b19tYWluX3RocmVhZF9qcygxMiwxLGRpcmZkLHBhdGgsZmxhZ3MpO3RyeXtwYXRoPVNZU0NBTExTLmdldFN0cihwYXRoKTtwYXRoPVNZU0NBTExTLmNhbGN1bGF0ZUF0KGRpcmZkLHBhdGgpO2lmKGZsYWdzPT09MCl7RlMudW5saW5rKHBhdGgpfWVsc2UgaWYoZmxhZ3M9PT01MTIpe0ZTLnJtZGlyKHBhdGgpfWVsc2V7YWJvcnQoIkludmFsaWQgZmxhZ3MgcGFzc2VkIHRvIHVubGlua2F0Iil9cmV0dXJuIDB9Y2F0Y2goZSl7aWYodHlwZW9mIEZTPT0idW5kZWZpbmVkInx8IShlIGluc3RhbmNlb2YgRlMuRXJybm9FcnJvcikpdGhyb3cgZTtyZXR1cm4tZS5lcnJub319ZnVuY3Rpb24gX19kbGluaXQobWFpbl9kc29faGFuZGxlKXt9dmFyIGRsb3Blbk1pc3NpbmdFcnJvcj0iVG8gdXNlIGRsb3BlbiwgeW91IG5lZWQgZW5hYmxlIGR5bmFtaWMgbGlua2luZywgc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9lbXNjcmlwdGVuLWNvcmUvZW1zY3JpcHRlbi93aWtpL0xpbmtpbmciO2Z1bmN0aW9uIF9fZGxvcGVuX2pzKGZpbGVuYW1lLGZsYWcpe2Fib3J0KGRsb3Blbk1pc3NpbmdFcnJvcil9ZnVuY3Rpb24gX19kbHN5bV9qcyhoYW5kbGUsc3ltYm9sKXthYm9ydChkbG9wZW5NaXNzaW5nRXJyb3IpfWZ1bmN0aW9uIF9fZW1iaW5kX3JlZ2lzdGVyX2JpZ2ludChwcmltaXRpdmVUeXBlLG5hbWUsc2l6ZSxtaW5SYW5nZSxtYXhSYW5nZSl7fWZ1bmN0aW9uIGdldFNoaWZ0RnJvbVNpemUoc2l6ZSl7c3dpdGNoKHNpemUpe2Nhc2UgMTpyZXR1cm4gMDtjYXNlIDI6cmV0dXJuIDE7Y2FzZSA0OnJldHVybiAyO2Nhc2UgODpyZXR1cm4gMztkZWZhdWx0OnRocm93IG5ldyBUeXBlRXJyb3IoIlVua25vd24gdHlwZSBzaXplOiAiK3NpemUpfX1mdW5jdGlvbiBlbWJpbmRfaW5pdF9jaGFyQ29kZXMoKXt2YXIgY29kZXM9bmV3IEFycmF5KDI1Nik7Zm9yKHZhciBpPTA7aTwyNTY7KytpKXtjb2Rlc1tpXT1TdHJpbmcuZnJvbUNoYXJDb2RlKGkpfWVtYmluZF9jaGFyQ29kZXM9Y29kZXN9dmFyIGVtYmluZF9jaGFyQ29kZXM9dW5kZWZpbmVkO2Z1bmN0aW9uIHJlYWRMYXRpbjFTdHJpbmcocHRyKXt2YXIgcmV0PSIiO3ZhciBjPXB0cjt3aGlsZShHUk9XQUJMRV9IRUFQX1U4KClbY10pe3JldCs9ZW1iaW5kX2NoYXJDb2Rlc1tHUk9XQUJMRV9IRUFQX1U4KClbYysrXV19cmV0dXJuIHJldH12YXIgYXdhaXRpbmdEZXBlbmRlbmNpZXM9e307dmFyIHJlZ2lzdGVyZWRUeXBlcz17fTt2YXIgdHlwZURlcGVuZGVuY2llcz17fTt2YXIgY2hhcl8wPTQ4O3ZhciBjaGFyXzk9NTc7ZnVuY3Rpb24gbWFrZUxlZ2FsRnVuY3Rpb25OYW1lKG5hbWUpe2lmKHVuZGVmaW5lZD09PW5hbWUpe3JldHVybiJfdW5rbm93biJ9bmFtZT1uYW1lLnJlcGxhY2UoL1teYS16QS1aMC05X10vZywiJCIpO3ZhciBmPW5hbWUuY2hhckNvZGVBdCgwKTtpZihmPj1jaGFyXzAmJmY8PWNoYXJfOSl7cmV0dXJuIl8iK25hbWV9cmV0dXJuIG5hbWV9ZnVuY3Rpb24gY3JlYXRlTmFtZWRGdW5jdGlvbihuYW1lLGJvZHkpe25hbWU9bWFrZUxlZ2FsRnVuY3Rpb25OYW1lKG5hbWUpO3JldHVybiBuZXcgRnVuY3Rpb24oImJvZHkiLCJyZXR1cm4gZnVuY3Rpb24gIituYW1lKyIoKSB7XG4iKycgICAgInVzZSBzdHJpY3QiOycrIiAgICByZXR1cm4gYm9keS5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuIisifTtcbiIpKGJvZHkpfWZ1bmN0aW9uIGV4dGVuZEVycm9yKGJhc2VFcnJvclR5cGUsZXJyb3JOYW1lKXt2YXIgZXJyb3JDbGFzcz1jcmVhdGVOYW1lZEZ1bmN0aW9uKGVycm9yTmFtZSxmdW5jdGlvbihtZXNzYWdlKXt0aGlzLm5hbWU9ZXJyb3JOYW1lO3RoaXMubWVzc2FnZT1tZXNzYWdlO3ZhciBzdGFjaz1uZXcgRXJyb3IobWVzc2FnZSkuc3RhY2s7aWYoc3RhY2shPT11bmRlZmluZWQpe3RoaXMuc3RhY2s9dGhpcy50b1N0cmluZygpKyJcbiIrc3RhY2sucmVwbGFjZSgvXkVycm9yKDpbXlxuXSopP1xuLywiIil9fSk7ZXJyb3JDbGFzcy5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShiYXNlRXJyb3JUeXBlLnByb3RvdHlwZSk7ZXJyb3JDbGFzcy5wcm90b3R5cGUuY29uc3RydWN0b3I9ZXJyb3JDbGFzcztlcnJvckNsYXNzLnByb3RvdHlwZS50b1N0cmluZz1mdW5jdGlvbigpe2lmKHRoaXMubWVzc2FnZT09PXVuZGVmaW5lZCl7cmV0dXJuIHRoaXMubmFtZX1lbHNle3JldHVybiB0aGlzLm5hbWUrIjogIit0aGlzLm1lc3NhZ2V9fTtyZXR1cm4gZXJyb3JDbGFzc312YXIgQmluZGluZ0Vycm9yPXVuZGVmaW5lZDtmdW5jdGlvbiB0aHJvd0JpbmRpbmdFcnJvcihtZXNzYWdlKXt0aHJvdyBuZXcgQmluZGluZ0Vycm9yKG1lc3NhZ2UpfXZhciBJbnRlcm5hbEVycm9yPXVuZGVmaW5lZDtmdW5jdGlvbiB0aHJvd0ludGVybmFsRXJyb3IobWVzc2FnZSl7dGhyb3cgbmV3IEludGVybmFsRXJyb3IobWVzc2FnZSl9ZnVuY3Rpb24gd2hlbkRlcGVuZGVudFR5cGVzQXJlUmVzb2x2ZWQobXlUeXBlcyxkZXBlbmRlbnRUeXBlcyxnZXRUeXBlQ29udmVydGVycyl7bXlUeXBlcy5mb3JFYWNoKGZ1bmN0aW9uKHR5cGUpe3R5cGVEZXBlbmRlbmNpZXNbdHlwZV09ZGVwZW5kZW50VHlwZXN9KTtmdW5jdGlvbiBvbkNvbXBsZXRlKHR5cGVDb252ZXJ0ZXJzKXt2YXIgbXlUeXBlQ29udmVydGVycz1nZXRUeXBlQ29udmVydGVycyh0eXBlQ29udmVydGVycyk7aWYobXlUeXBlQ29udmVydGVycy5sZW5ndGghPT1teVR5cGVzLmxlbmd0aCl7dGhyb3dJbnRlcm5hbEVycm9yKCJNaXNtYXRjaGVkIHR5cGUgY29udmVydGVyIGNvdW50Iil9Zm9yKHZhciBpPTA7aTxteVR5cGVzLmxlbmd0aDsrK2kpe3JlZ2lzdGVyVHlwZShteVR5cGVzW2ldLG15VHlwZUNvbnZlcnRlcnNbaV0pfX12YXIgdHlwZUNvbnZlcnRlcnM9bmV3IEFycmF5KGRlcGVuZGVudFR5cGVzLmxlbmd0aCk7dmFyIHVucmVnaXN0ZXJlZFR5cGVzPVtdO3ZhciByZWdpc3RlcmVkPTA7ZGVwZW5kZW50VHlwZXMuZm9yRWFjaCgoZHQsaSk9PntpZihyZWdpc3RlcmVkVHlwZXMuaGFzT3duUHJvcGVydHkoZHQpKXt0eXBlQ29udmVydGVyc1tpXT1yZWdpc3RlcmVkVHlwZXNbZHRdfWVsc2V7dW5yZWdpc3RlcmVkVHlwZXMucHVzaChkdCk7aWYoIWF3YWl0aW5nRGVwZW5kZW5jaWVzLmhhc093blByb3BlcnR5KGR0KSl7YXdhaXRpbmdEZXBlbmRlbmNpZXNbZHRdPVtdfWF3YWl0aW5nRGVwZW5kZW5jaWVzW2R0XS5wdXNoKCgpPT57dHlwZUNvbnZlcnRlcnNbaV09cmVnaXN0ZXJlZFR5cGVzW2R0XTsrK3JlZ2lzdGVyZWQ7aWYocmVnaXN0ZXJlZD09PXVucmVnaXN0ZXJlZFR5cGVzLmxlbmd0aCl7b25Db21wbGV0ZSh0eXBlQ29udmVydGVycyl9fSl9fSk7aWYoMD09PXVucmVnaXN0ZXJlZFR5cGVzLmxlbmd0aCl7b25Db21wbGV0ZSh0eXBlQ29udmVydGVycyl9fWZ1bmN0aW9uIHJlZ2lzdGVyVHlwZShyYXdUeXBlLHJlZ2lzdGVyZWRJbnN0YW5jZSxvcHRpb25zPXt9KXtpZighKCJhcmdQYWNrQWR2YW5jZSJpbiByZWdpc3RlcmVkSW5zdGFuY2UpKXt0aHJvdyBuZXcgVHlwZUVycm9yKCJyZWdpc3RlclR5cGUgcmVnaXN0ZXJlZEluc3RhbmNlIHJlcXVpcmVzIGFyZ1BhY2tBZHZhbmNlIil9dmFyIG5hbWU9cmVnaXN0ZXJlZEluc3RhbmNlLm5hbWU7aWYoIXJhd1R5cGUpe3Rocm93QmluZGluZ0Vycm9yKCd0eXBlICInK25hbWUrJyIgbXVzdCBoYXZlIGEgcG9zaXRpdmUgaW50ZWdlciB0eXBlaWQgcG9pbnRlcicpfWlmKHJlZ2lzdGVyZWRUeXBlcy5oYXNPd25Qcm9wZXJ0eShyYXdUeXBlKSl7aWYob3B0aW9ucy5pZ25vcmVEdXBsaWNhdGVSZWdpc3RyYXRpb25zKXtyZXR1cm59ZWxzZXt0aHJvd0JpbmRpbmdFcnJvcigiQ2Fubm90IHJlZ2lzdGVyIHR5cGUgJyIrbmFtZSsiJyB0d2ljZSIpfX1yZWdpc3RlcmVkVHlwZXNbcmF3VHlwZV09cmVnaXN0ZXJlZEluc3RhbmNlO2RlbGV0ZSB0eXBlRGVwZW5kZW5jaWVzW3Jhd1R5cGVdO2lmKGF3YWl0aW5nRGVwZW5kZW5jaWVzLmhhc093blByb3BlcnR5KHJhd1R5cGUpKXt2YXIgY2FsbGJhY2tzPWF3YWl0aW5nRGVwZW5kZW5jaWVzW3Jhd1R5cGVdO2RlbGV0ZSBhd2FpdGluZ0RlcGVuZGVuY2llc1tyYXdUeXBlXTtjYWxsYmFja3MuZm9yRWFjaChjYj0+Y2IoKSl9fWZ1bmN0aW9uIF9fZW1iaW5kX3JlZ2lzdGVyX2Jvb2wocmF3VHlwZSxuYW1lLHNpemUsdHJ1ZVZhbHVlLGZhbHNlVmFsdWUpe3ZhciBzaGlmdD1nZXRTaGlmdEZyb21TaXplKHNpemUpO25hbWU9cmVhZExhdGluMVN0cmluZyhuYW1lKTtyZWdpc3RlclR5cGUocmF3VHlwZSx7bmFtZTpuYW1lLCJmcm9tV2lyZVR5cGUiOmZ1bmN0aW9uKHd0KXtyZXR1cm4hIXd0fSwidG9XaXJlVHlwZSI6ZnVuY3Rpb24oZGVzdHJ1Y3RvcnMsbyl7cmV0dXJuIG8/dHJ1ZVZhbHVlOmZhbHNlVmFsdWV9LCJhcmdQYWNrQWR2YW5jZSI6OCwicmVhZFZhbHVlRnJvbVBvaW50ZXIiOmZ1bmN0aW9uKHBvaW50ZXIpe3ZhciBoZWFwO2lmKHNpemU9PT0xKXtoZWFwPUdST1dBQkxFX0hFQVBfSTgoKX1lbHNlIGlmKHNpemU9PT0yKXtoZWFwPUdST1dBQkxFX0hFQVBfSTE2KCl9ZWxzZSBpZihzaXplPT09NCl7aGVhcD1HUk9XQUJMRV9IRUFQX0kzMigpfWVsc2V7dGhyb3cgbmV3IFR5cGVFcnJvcigiVW5rbm93biBib29sZWFuIHR5cGUgc2l6ZTogIituYW1lKX1yZXR1cm4gdGhpc1siZnJvbVdpcmVUeXBlIl0oaGVhcFtwb2ludGVyPj5zaGlmdF0pfSxkZXN0cnVjdG9yRnVuY3Rpb246bnVsbH0pfWZ1bmN0aW9uIENsYXNzSGFuZGxlX2lzQWxpYXNPZihvdGhlcil7aWYoISh0aGlzIGluc3RhbmNlb2YgQ2xhc3NIYW5kbGUpKXtyZXR1cm4gZmFsc2V9aWYoIShvdGhlciBpbnN0YW5jZW9mIENsYXNzSGFuZGxlKSl7cmV0dXJuIGZhbHNlfXZhciBsZWZ0Q2xhc3M9dGhpcy4kJC5wdHJUeXBlLnJlZ2lzdGVyZWRDbGFzczt2YXIgbGVmdD10aGlzLiQkLnB0cjt2YXIgcmlnaHRDbGFzcz1vdGhlci4kJC5wdHJUeXBlLnJlZ2lzdGVyZWRDbGFzczt2YXIgcmlnaHQ9b3RoZXIuJCQucHRyO3doaWxlKGxlZnRDbGFzcy5iYXNlQ2xhc3Mpe2xlZnQ9bGVmdENsYXNzLnVwY2FzdChsZWZ0KTtsZWZ0Q2xhc3M9bGVmdENsYXNzLmJhc2VDbGFzc313aGlsZShyaWdodENsYXNzLmJhc2VDbGFzcyl7cmlnaHQ9cmlnaHRDbGFzcy51cGNhc3QocmlnaHQpO3JpZ2h0Q2xhc3M9cmlnaHRDbGFzcy5iYXNlQ2xhc3N9cmV0dXJuIGxlZnRDbGFzcz09PXJpZ2h0Q2xhc3MmJmxlZnQ9PT1yaWdodH1mdW5jdGlvbiBzaGFsbG93Q29weUludGVybmFsUG9pbnRlcihvKXtyZXR1cm57Y291bnQ6by5jb3VudCxkZWxldGVTY2hlZHVsZWQ6by5kZWxldGVTY2hlZHVsZWQscHJlc2VydmVQb2ludGVyT25EZWxldGU6by5wcmVzZXJ2ZVBvaW50ZXJPbkRlbGV0ZSxwdHI6by5wdHIscHRyVHlwZTpvLnB0clR5cGUsc21hcnRQdHI6by5zbWFydFB0cixzbWFydFB0clR5cGU6by5zbWFydFB0clR5cGV9fWZ1bmN0aW9uIHRocm93SW5zdGFuY2VBbHJlYWR5RGVsZXRlZChvYmope2Z1bmN0aW9uIGdldEluc3RhbmNlVHlwZU5hbWUoaGFuZGxlKXtyZXR1cm4gaGFuZGxlLiQkLnB0clR5cGUucmVnaXN0ZXJlZENsYXNzLm5hbWV9dGhyb3dCaW5kaW5nRXJyb3IoZ2V0SW5zdGFuY2VUeXBlTmFtZShvYmopKyIgaW5zdGFuY2UgYWxyZWFkeSBkZWxldGVkIil9dmFyIGZpbmFsaXphdGlvblJlZ2lzdHJ5PWZhbHNlO2Z1bmN0aW9uIGRldGFjaEZpbmFsaXplcihoYW5kbGUpe31mdW5jdGlvbiBydW5EZXN0cnVjdG9yKCQkKXtpZigkJC5zbWFydFB0cil7JCQuc21hcnRQdHJUeXBlLnJhd0Rlc3RydWN0b3IoJCQuc21hcnRQdHIpfWVsc2V7JCQucHRyVHlwZS5yZWdpc3RlcmVkQ2xhc3MucmF3RGVzdHJ1Y3RvcigkJC5wdHIpfX1mdW5jdGlvbiByZWxlYXNlQ2xhc3NIYW5kbGUoJCQpeyQkLmNvdW50LnZhbHVlLT0xO3ZhciB0b0RlbGV0ZT0wPT09JCQuY291bnQudmFsdWU7aWYodG9EZWxldGUpe3J1bkRlc3RydWN0b3IoJCQpfX1mdW5jdGlvbiBkb3duY2FzdFBvaW50ZXIocHRyLHB0ckNsYXNzLGRlc2lyZWRDbGFzcyl7aWYocHRyQ2xhc3M9PT1kZXNpcmVkQ2xhc3Mpe3JldHVybiBwdHJ9aWYodW5kZWZpbmVkPT09ZGVzaXJlZENsYXNzLmJhc2VDbGFzcyl7cmV0dXJuIG51bGx9dmFyIHJ2PWRvd25jYXN0UG9pbnRlcihwdHIscHRyQ2xhc3MsZGVzaXJlZENsYXNzLmJhc2VDbGFzcyk7aWYocnY9PT1udWxsKXtyZXR1cm4gbnVsbH1yZXR1cm4gZGVzaXJlZENsYXNzLmRvd25jYXN0KHJ2KX12YXIgcmVnaXN0ZXJlZFBvaW50ZXJzPXt9O2Z1bmN0aW9uIGdldEluaGVyaXRlZEluc3RhbmNlQ291bnQoKXtyZXR1cm4gT2JqZWN0LmtleXMocmVnaXN0ZXJlZEluc3RhbmNlcykubGVuZ3RofWZ1bmN0aW9uIGdldExpdmVJbmhlcml0ZWRJbnN0YW5jZXMoKXt2YXIgcnY9W107Zm9yKHZhciBrIGluIHJlZ2lzdGVyZWRJbnN0YW5jZXMpe2lmKHJlZ2lzdGVyZWRJbnN0YW5jZXMuaGFzT3duUHJvcGVydHkoaykpe3J2LnB1c2gocmVnaXN0ZXJlZEluc3RhbmNlc1trXSl9fXJldHVybiBydn12YXIgZGVsZXRpb25RdWV1ZT1bXTtmdW5jdGlvbiBmbHVzaFBlbmRpbmdEZWxldGVzKCl7d2hpbGUoZGVsZXRpb25RdWV1ZS5sZW5ndGgpe3ZhciBvYmo9ZGVsZXRpb25RdWV1ZS5wb3AoKTtvYmouJCQuZGVsZXRlU2NoZWR1bGVkPWZhbHNlO29ialsiZGVsZXRlIl0oKX19dmFyIGRlbGF5RnVuY3Rpb249dW5kZWZpbmVkO2Z1bmN0aW9uIHNldERlbGF5RnVuY3Rpb24oZm4pe2RlbGF5RnVuY3Rpb249Zm47aWYoZGVsZXRpb25RdWV1ZS5sZW5ndGgmJmRlbGF5RnVuY3Rpb24pe2RlbGF5RnVuY3Rpb24oZmx1c2hQZW5kaW5nRGVsZXRlcyl9fWZ1bmN0aW9uIGluaXRfZW1iaW5kKCl7TW9kdWxlWyJnZXRJbmhlcml0ZWRJbnN0YW5jZUNvdW50Il09Z2V0SW5oZXJpdGVkSW5zdGFuY2VDb3VudDtNb2R1bGVbImdldExpdmVJbmhlcml0ZWRJbnN0YW5jZXMiXT1nZXRMaXZlSW5oZXJpdGVkSW5zdGFuY2VzO01vZHVsZVsiZmx1c2hQZW5kaW5nRGVsZXRlcyJdPWZsdXNoUGVuZGluZ0RlbGV0ZXM7TW9kdWxlWyJzZXREZWxheUZ1bmN0aW9uIl09c2V0RGVsYXlGdW5jdGlvbn12YXIgcmVnaXN0ZXJlZEluc3RhbmNlcz17fTtmdW5jdGlvbiBnZXRCYXNlc3RQb2ludGVyKGNsYXNzXyxwdHIpe2lmKHB0cj09PXVuZGVmaW5lZCl7dGhyb3dCaW5kaW5nRXJyb3IoInB0ciBzaG91bGQgbm90IGJlIHVuZGVmaW5lZCIpfXdoaWxlKGNsYXNzXy5iYXNlQ2xhc3Mpe3B0cj1jbGFzc18udXBjYXN0KHB0cik7Y2xhc3NfPWNsYXNzXy5iYXNlQ2xhc3N9cmV0dXJuIHB0cn1mdW5jdGlvbiBnZXRJbmhlcml0ZWRJbnN0YW5jZShjbGFzc18scHRyKXtwdHI9Z2V0QmFzZXN0UG9pbnRlcihjbGFzc18scHRyKTtyZXR1cm4gcmVnaXN0ZXJlZEluc3RhbmNlc1twdHJdfWZ1bmN0aW9uIG1ha2VDbGFzc0hhbmRsZShwcm90b3R5cGUscmVjb3JkKXtpZighcmVjb3JkLnB0clR5cGV8fCFyZWNvcmQucHRyKXt0aHJvd0ludGVybmFsRXJyb3IoIm1ha2VDbGFzc0hhbmRsZSByZXF1aXJlcyBwdHIgYW5kIHB0clR5cGUiKX12YXIgaGFzU21hcnRQdHJUeXBlPSEhcmVjb3JkLnNtYXJ0UHRyVHlwZTt2YXIgaGFzU21hcnRQdHI9ISFyZWNvcmQuc21hcnRQdHI7aWYoaGFzU21hcnRQdHJUeXBlIT09aGFzU21hcnRQdHIpe3Rocm93SW50ZXJuYWxFcnJvcigiQm90aCBzbWFydFB0clR5cGUgYW5kIHNtYXJ0UHRyIG11c3QgYmUgc3BlY2lmaWVkIil9cmVjb3JkLmNvdW50PXt2YWx1ZToxfTtyZXR1cm4gYXR0YWNoRmluYWxpemVyKE9iamVjdC5jcmVhdGUocHJvdG90eXBlLHskJDp7dmFsdWU6cmVjb3JkfX0pKX1mdW5jdGlvbiBSZWdpc3RlcmVkUG9pbnRlcl9mcm9tV2lyZVR5cGUocHRyKXt2YXIgcmF3UG9pbnRlcj10aGlzLmdldFBvaW50ZWUocHRyKTtpZighcmF3UG9pbnRlcil7dGhpcy5kZXN0cnVjdG9yKHB0cik7cmV0dXJuIG51bGx9dmFyIHJlZ2lzdGVyZWRJbnN0YW5jZT1nZXRJbmhlcml0ZWRJbnN0YW5jZSh0aGlzLnJlZ2lzdGVyZWRDbGFzcyxyYXdQb2ludGVyKTtpZih1bmRlZmluZWQhPT1yZWdpc3RlcmVkSW5zdGFuY2Upe2lmKDA9PT1yZWdpc3RlcmVkSW5zdGFuY2UuJCQuY291bnQudmFsdWUpe3JlZ2lzdGVyZWRJbnN0YW5jZS4kJC5wdHI9cmF3UG9pbnRlcjtyZWdpc3RlcmVkSW5zdGFuY2UuJCQuc21hcnRQdHI9cHRyO3JldHVybiByZWdpc3RlcmVkSW5zdGFuY2VbImNsb25lIl0oKX1lbHNle3ZhciBydj1yZWdpc3RlcmVkSW5zdGFuY2VbImNsb25lIl0oKTt0aGlzLmRlc3RydWN0b3IocHRyKTtyZXR1cm4gcnZ9fWZ1bmN0aW9uIG1ha2VEZWZhdWx0SGFuZGxlKCl7aWYodGhpcy5pc1NtYXJ0UG9pbnRlcil7cmV0dXJuIG1ha2VDbGFzc0hhbmRsZSh0aGlzLnJlZ2lzdGVyZWRDbGFzcy5pbnN0YW5jZVByb3RvdHlwZSx7cHRyVHlwZTp0aGlzLnBvaW50ZWVUeXBlLHB0cjpyYXdQb2ludGVyLHNtYXJ0UHRyVHlwZTp0aGlzLHNtYXJ0UHRyOnB0cn0pfWVsc2V7cmV0dXJuIG1ha2VDbGFzc0hhbmRsZSh0aGlzLnJlZ2lzdGVyZWRDbGFzcy5pbnN0YW5jZVByb3RvdHlwZSx7cHRyVHlwZTp0aGlzLHB0cjpwdHJ9KX19dmFyIGFjdHVhbFR5cGU9dGhpcy5yZWdpc3RlcmVkQ2xhc3MuZ2V0QWN0dWFsVHlwZShyYXdQb2ludGVyKTt2YXIgcmVnaXN0ZXJlZFBvaW50ZXJSZWNvcmQ9cmVnaXN0ZXJlZFBvaW50ZXJzW2FjdHVhbFR5cGVdO2lmKCFyZWdpc3RlcmVkUG9pbnRlclJlY29yZCl7cmV0dXJuIG1ha2VEZWZhdWx0SGFuZGxlLmNhbGwodGhpcyl9dmFyIHRvVHlwZTtpZih0aGlzLmlzQ29uc3Qpe3RvVHlwZT1yZWdpc3RlcmVkUG9pbnRlclJlY29yZC5jb25zdFBvaW50ZXJUeXBlfWVsc2V7dG9UeXBlPXJlZ2lzdGVyZWRQb2ludGVyUmVjb3JkLnBvaW50ZXJUeXBlfXZhciBkcD1kb3duY2FzdFBvaW50ZXIocmF3UG9pbnRlcix0aGlzLnJlZ2lzdGVyZWRDbGFzcyx0b1R5cGUucmVnaXN0ZXJlZENsYXNzKTtpZihkcD09PW51bGwpe3JldHVybiBtYWtlRGVmYXVsdEhhbmRsZS5jYWxsKHRoaXMpfWlmKHRoaXMuaXNTbWFydFBvaW50ZXIpe3JldHVybiBtYWtlQ2xhc3NIYW5kbGUodG9UeXBlLnJlZ2lzdGVyZWRDbGFzcy5pbnN0YW5jZVByb3RvdHlwZSx7cHRyVHlwZTp0b1R5cGUscHRyOmRwLHNtYXJ0UHRyVHlwZTp0aGlzLHNtYXJ0UHRyOnB0cn0pfWVsc2V7cmV0dXJuIG1ha2VDbGFzc0hhbmRsZSh0b1R5cGUucmVnaXN0ZXJlZENsYXNzLmluc3RhbmNlUHJvdG90eXBlLHtwdHJUeXBlOnRvVHlwZSxwdHI6ZHB9KX19ZnVuY3Rpb24gYXR0YWNoRmluYWxpemVyKGhhbmRsZSl7aWYoInVuZGVmaW5lZCI9PT10eXBlb2YgRmluYWxpemF0aW9uUmVnaXN0cnkpe2F0dGFjaEZpbmFsaXplcj0oaGFuZGxlPT5oYW5kbGUpO3JldHVybiBoYW5kbGV9ZmluYWxpemF0aW9uUmVnaXN0cnk9bmV3IEZpbmFsaXphdGlvblJlZ2lzdHJ5KGluZm89PntyZWxlYXNlQ2xhc3NIYW5kbGUoaW5mby4kJCl9KTthdHRhY2hGaW5hbGl6ZXI9KGhhbmRsZT0+e3ZhciAkJD1oYW5kbGUuJCQ7dmFyIGhhc1NtYXJ0UHRyPSEhJCQuc21hcnRQdHI7aWYoaGFzU21hcnRQdHIpe3ZhciBpbmZvPXskJDokJH07ZmluYWxpemF0aW9uUmVnaXN0cnkucmVnaXN0ZXIoaGFuZGxlLGluZm8saGFuZGxlKX1yZXR1cm4gaGFuZGxlfSk7ZGV0YWNoRmluYWxpemVyPShoYW5kbGU9PmZpbmFsaXphdGlvblJlZ2lzdHJ5LnVucmVnaXN0ZXIoaGFuZGxlKSk7cmV0dXJuIGF0dGFjaEZpbmFsaXplcihoYW5kbGUpfWZ1bmN0aW9uIENsYXNzSGFuZGxlX2Nsb25lKCl7aWYoIXRoaXMuJCQucHRyKXt0aHJvd0luc3RhbmNlQWxyZWFkeURlbGV0ZWQodGhpcyl9aWYodGhpcy4kJC5wcmVzZXJ2ZVBvaW50ZXJPbkRlbGV0ZSl7dGhpcy4kJC5jb3VudC52YWx1ZSs9MTtyZXR1cm4gdGhpc31lbHNle3ZhciBjbG9uZT1hdHRhY2hGaW5hbGl6ZXIoT2JqZWN0LmNyZWF0ZShPYmplY3QuZ2V0UHJvdG90eXBlT2YodGhpcykseyQkOnt2YWx1ZTpzaGFsbG93Q29weUludGVybmFsUG9pbnRlcih0aGlzLiQkKX19KSk7Y2xvbmUuJCQuY291bnQudmFsdWUrPTE7Y2xvbmUuJCQuZGVsZXRlU2NoZWR1bGVkPWZhbHNlO3JldHVybiBjbG9uZX19ZnVuY3Rpb24gQ2xhc3NIYW5kbGVfZGVsZXRlKCl7aWYoIXRoaXMuJCQucHRyKXt0aHJvd0luc3RhbmNlQWxyZWFkeURlbGV0ZWQodGhpcyl9aWYodGhpcy4kJC5kZWxldGVTY2hlZHVsZWQmJiF0aGlzLiQkLnByZXNlcnZlUG9pbnRlck9uRGVsZXRlKXt0aHJvd0JpbmRpbmdFcnJvcigiT2JqZWN0IGFscmVhZHkgc2NoZWR1bGVkIGZvciBkZWxldGlvbiIpfWRldGFjaEZpbmFsaXplcih0aGlzKTtyZWxlYXNlQ2xhc3NIYW5kbGUodGhpcy4kJCk7aWYoIXRoaXMuJCQucHJlc2VydmVQb2ludGVyT25EZWxldGUpe3RoaXMuJCQuc21hcnRQdHI9dW5kZWZpbmVkO3RoaXMuJCQucHRyPXVuZGVmaW5lZH19ZnVuY3Rpb24gQ2xhc3NIYW5kbGVfaXNEZWxldGVkKCl7cmV0dXJuIXRoaXMuJCQucHRyfWZ1bmN0aW9uIENsYXNzSGFuZGxlX2RlbGV0ZUxhdGVyKCl7aWYoIXRoaXMuJCQucHRyKXt0aHJvd0luc3RhbmNlQWxyZWFkeURlbGV0ZWQodGhpcyl9aWYodGhpcy4kJC5kZWxldGVTY2hlZHVsZWQmJiF0aGlzLiQkLnByZXNlcnZlUG9pbnRlck9uRGVsZXRlKXt0aHJvd0JpbmRpbmdFcnJvcigiT2JqZWN0IGFscmVhZHkgc2NoZWR1bGVkIGZvciBkZWxldGlvbiIpfWRlbGV0aW9uUXVldWUucHVzaCh0aGlzKTtpZihkZWxldGlvblF1ZXVlLmxlbmd0aD09PTEmJmRlbGF5RnVuY3Rpb24pe2RlbGF5RnVuY3Rpb24oZmx1c2hQZW5kaW5nRGVsZXRlcyl9dGhpcy4kJC5kZWxldGVTY2hlZHVsZWQ9dHJ1ZTtyZXR1cm4gdGhpc31mdW5jdGlvbiBpbml0X0NsYXNzSGFuZGxlKCl7Q2xhc3NIYW5kbGUucHJvdG90eXBlWyJpc0FsaWFzT2YiXT1DbGFzc0hhbmRsZV9pc0FsaWFzT2Y7Q2xhc3NIYW5kbGUucHJvdG90eXBlWyJjbG9uZSJdPUNsYXNzSGFuZGxlX2Nsb25lO0NsYXNzSGFuZGxlLnByb3RvdHlwZVsiZGVsZXRlIl09Q2xhc3NIYW5kbGVfZGVsZXRlO0NsYXNzSGFuZGxlLnByb3RvdHlwZVsiaXNEZWxldGVkIl09Q2xhc3NIYW5kbGVfaXNEZWxldGVkO0NsYXNzSGFuZGxlLnByb3RvdHlwZVsiZGVsZXRlTGF0ZXIiXT1DbGFzc0hhbmRsZV9kZWxldGVMYXRlcn1mdW5jdGlvbiBDbGFzc0hhbmRsZSgpe31mdW5jdGlvbiBlbnN1cmVPdmVybG9hZFRhYmxlKHByb3RvLG1ldGhvZE5hbWUsaHVtYW5OYW1lKXtpZih1bmRlZmluZWQ9PT1wcm90b1ttZXRob2ROYW1lXS5vdmVybG9hZFRhYmxlKXt2YXIgcHJldkZ1bmM9cHJvdG9bbWV0aG9kTmFtZV07cHJvdG9bbWV0aG9kTmFtZV09ZnVuY3Rpb24oKXtpZighcHJvdG9bbWV0aG9kTmFtZV0ub3ZlcmxvYWRUYWJsZS5oYXNPd25Qcm9wZXJ0eShhcmd1bWVudHMubGVuZ3RoKSl7dGhyb3dCaW5kaW5nRXJyb3IoIkZ1bmN0aW9uICciK2h1bWFuTmFtZSsiJyBjYWxsZWQgd2l0aCBhbiBpbnZhbGlkIG51bWJlciBvZiBhcmd1bWVudHMgKCIrYXJndW1lbnRzLmxlbmd0aCsiKSAtIGV4cGVjdHMgb25lIG9mICgiK3Byb3RvW21ldGhvZE5hbWVdLm92ZXJsb2FkVGFibGUrIikhIil9cmV0dXJuIHByb3RvW21ldGhvZE5hbWVdLm92ZXJsb2FkVGFibGVbYXJndW1lbnRzLmxlbmd0aF0uYXBwbHkodGhpcyxhcmd1bWVudHMpfTtwcm90b1ttZXRob2ROYW1lXS5vdmVybG9hZFRhYmxlPVtdO3Byb3RvW21ldGhvZE5hbWVdLm92ZXJsb2FkVGFibGVbcHJldkZ1bmMuYXJnQ291bnRdPXByZXZGdW5jfX1mdW5jdGlvbiBleHBvc2VQdWJsaWNTeW1ib2wobmFtZSx2YWx1ZSxudW1Bcmd1bWVudHMpe2lmKE1vZHVsZS5oYXNPd25Qcm9wZXJ0eShuYW1lKSl7aWYodW5kZWZpbmVkPT09bnVtQXJndW1lbnRzfHx1bmRlZmluZWQhPT1Nb2R1bGVbbmFtZV0ub3ZlcmxvYWRUYWJsZSYmdW5kZWZpbmVkIT09TW9kdWxlW25hbWVdLm92ZXJsb2FkVGFibGVbbnVtQXJndW1lbnRzXSl7dGhyb3dCaW5kaW5nRXJyb3IoIkNhbm5vdCByZWdpc3RlciBwdWJsaWMgbmFtZSAnIituYW1lKyInIHR3aWNlIil9ZW5zdXJlT3ZlcmxvYWRUYWJsZShNb2R1bGUsbmFtZSxuYW1lKTtpZihNb2R1bGUuaGFzT3duUHJvcGVydHkobnVtQXJndW1lbnRzKSl7dGhyb3dCaW5kaW5nRXJyb3IoIkNhbm5vdCByZWdpc3RlciBtdWx0aXBsZSBvdmVybG9hZHMgb2YgYSBmdW5jdGlvbiB3aXRoIHRoZSBzYW1lIG51bWJlciBvZiBhcmd1bWVudHMgKCIrbnVtQXJndW1lbnRzKyIpISIpfU1vZHVsZVtuYW1lXS5vdmVybG9hZFRhYmxlW251bUFyZ3VtZW50c109dmFsdWV9ZWxzZXtNb2R1bGVbbmFtZV09dmFsdWU7aWYodW5kZWZpbmVkIT09bnVtQXJndW1lbnRzKXtNb2R1bGVbbmFtZV0ubnVtQXJndW1lbnRzPW51bUFyZ3VtZW50c319fWZ1bmN0aW9uIFJlZ2lzdGVyZWRDbGFzcyhuYW1lLGNvbnN0cnVjdG9yLGluc3RhbmNlUHJvdG90eXBlLHJhd0Rlc3RydWN0b3IsYmFzZUNsYXNzLGdldEFjdHVhbFR5cGUsdXBjYXN0LGRvd25jYXN0KXt0aGlzLm5hbWU9bmFtZTt0aGlzLmNvbnN0cnVjdG9yPWNvbnN0cnVjdG9yO3RoaXMuaW5zdGFuY2VQcm90b3R5cGU9aW5zdGFuY2VQcm90b3R5cGU7dGhpcy5yYXdEZXN0cnVjdG9yPXJhd0Rlc3RydWN0b3I7dGhpcy5iYXNlQ2xhc3M9YmFzZUNsYXNzO3RoaXMuZ2V0QWN0dWFsVHlwZT1nZXRBY3R1YWxUeXBlO3RoaXMudXBjYXN0PXVwY2FzdDt0aGlzLmRvd25jYXN0PWRvd25jYXN0O3RoaXMucHVyZVZpcnR1YWxGdW5jdGlvbnM9W119ZnVuY3Rpb24gdXBjYXN0UG9pbnRlcihwdHIscHRyQ2xhc3MsZGVzaXJlZENsYXNzKXt3aGlsZShwdHJDbGFzcyE9PWRlc2lyZWRDbGFzcyl7aWYoIXB0ckNsYXNzLnVwY2FzdCl7dGhyb3dCaW5kaW5nRXJyb3IoIkV4cGVjdGVkIG51bGwgb3IgaW5zdGFuY2Ugb2YgIitkZXNpcmVkQ2xhc3MubmFtZSsiLCBnb3QgYW4gaW5zdGFuY2Ugb2YgIitwdHJDbGFzcy5uYW1lKX1wdHI9cHRyQ2xhc3MudXBjYXN0KHB0cik7cHRyQ2xhc3M9cHRyQ2xhc3MuYmFzZUNsYXNzfXJldHVybiBwdHJ9ZnVuY3Rpb24gY29uc3ROb1NtYXJ0UHRyUmF3UG9pbnRlclRvV2lyZVR5cGUoZGVzdHJ1Y3RvcnMsaGFuZGxlKXtpZihoYW5kbGU9PT1udWxsKXtpZih0aGlzLmlzUmVmZXJlbmNlKXt0aHJvd0JpbmRpbmdFcnJvcigibnVsbCBpcyBub3QgYSB2YWxpZCAiK3RoaXMubmFtZSl9cmV0dXJuIDB9aWYoIWhhbmRsZS4kJCl7dGhyb3dCaW5kaW5nRXJyb3IoJ0Nhbm5vdCBwYXNzICInK19lbWJpbmRfcmVwcihoYW5kbGUpKyciIGFzIGEgJyt0aGlzLm5hbWUpfWlmKCFoYW5kbGUuJCQucHRyKXt0aHJvd0JpbmRpbmdFcnJvcigiQ2Fubm90IHBhc3MgZGVsZXRlZCBvYmplY3QgYXMgYSBwb2ludGVyIG9mIHR5cGUgIit0aGlzLm5hbWUpfXZhciBoYW5kbGVDbGFzcz1oYW5kbGUuJCQucHRyVHlwZS5yZWdpc3RlcmVkQ2xhc3M7dmFyIHB0cj11cGNhc3RQb2ludGVyKGhhbmRsZS4kJC5wdHIsaGFuZGxlQ2xhc3MsdGhpcy5yZWdpc3RlcmVkQ2xhc3MpO3JldHVybiBwdHJ9ZnVuY3Rpb24gZ2VuZXJpY1BvaW50ZXJUb1dpcmVUeXBlKGRlc3RydWN0b3JzLGhhbmRsZSl7dmFyIHB0cjtpZihoYW5kbGU9PT1udWxsKXtpZih0aGlzLmlzUmVmZXJlbmNlKXt0aHJvd0JpbmRpbmdFcnJvcigibnVsbCBpcyBub3QgYSB2YWxpZCAiK3RoaXMubmFtZSl9aWYodGhpcy5pc1NtYXJ0UG9pbnRlcil7cHRyPXRoaXMucmF3Q29uc3RydWN0b3IoKTtpZihkZXN0cnVjdG9ycyE9PW51bGwpe2Rlc3RydWN0b3JzLnB1c2godGhpcy5yYXdEZXN0cnVjdG9yLHB0cil9cmV0dXJuIHB0cn1lbHNle3JldHVybiAwfX1pZighaGFuZGxlLiQkKXt0aHJvd0JpbmRpbmdFcnJvcignQ2Fubm90IHBhc3MgIicrX2VtYmluZF9yZXByKGhhbmRsZSkrJyIgYXMgYSAnK3RoaXMubmFtZSl9aWYoIWhhbmRsZS4kJC5wdHIpe3Rocm93QmluZGluZ0Vycm9yKCJDYW5ub3QgcGFzcyBkZWxldGVkIG9iamVjdCBhcyBhIHBvaW50ZXIgb2YgdHlwZSAiK3RoaXMubmFtZSl9aWYoIXRoaXMuaXNDb25zdCYmaGFuZGxlLiQkLnB0clR5cGUuaXNDb25zdCl7dGhyb3dCaW5kaW5nRXJyb3IoIkNhbm5vdCBjb252ZXJ0IGFyZ3VtZW50IG9mIHR5cGUgIisoaGFuZGxlLiQkLnNtYXJ0UHRyVHlwZT9oYW5kbGUuJCQuc21hcnRQdHJUeXBlLm5hbWU6aGFuZGxlLiQkLnB0clR5cGUubmFtZSkrIiB0byBwYXJhbWV0ZXIgdHlwZSAiK3RoaXMubmFtZSl9dmFyIGhhbmRsZUNsYXNzPWhhbmRsZS4kJC5wdHJUeXBlLnJlZ2lzdGVyZWRDbGFzcztwdHI9dXBjYXN0UG9pbnRlcihoYW5kbGUuJCQucHRyLGhhbmRsZUNsYXNzLHRoaXMucmVnaXN0ZXJlZENsYXNzKTtpZih0aGlzLmlzU21hcnRQb2ludGVyKXtpZih1bmRlZmluZWQ9PT1oYW5kbGUuJCQuc21hcnRQdHIpe3Rocm93QmluZGluZ0Vycm9yKCJQYXNzaW5nIHJhdyBwb2ludGVyIHRvIHNtYXJ0IHBvaW50ZXIgaXMgaWxsZWdhbCIpfXN3aXRjaCh0aGlzLnNoYXJpbmdQb2xpY3kpe2Nhc2UgMDppZihoYW5kbGUuJCQuc21hcnRQdHJUeXBlPT09dGhpcyl7cHRyPWhhbmRsZS4kJC5zbWFydFB0cn1lbHNle3Rocm93QmluZGluZ0Vycm9yKCJDYW5ub3QgY29udmVydCBhcmd1bWVudCBvZiB0eXBlICIrKGhhbmRsZS4kJC5zbWFydFB0clR5cGU/aGFuZGxlLiQkLnNtYXJ0UHRyVHlwZS5uYW1lOmhhbmRsZS4kJC5wdHJUeXBlLm5hbWUpKyIgdG8gcGFyYW1ldGVyIHR5cGUgIit0aGlzLm5hbWUpfWJyZWFrO2Nhc2UgMTpwdHI9aGFuZGxlLiQkLnNtYXJ0UHRyO2JyZWFrO2Nhc2UgMjppZihoYW5kbGUuJCQuc21hcnRQdHJUeXBlPT09dGhpcyl7cHRyPWhhbmRsZS4kJC5zbWFydFB0cn1lbHNle3ZhciBjbG9uZWRIYW5kbGU9aGFuZGxlWyJjbG9uZSJdKCk7cHRyPXRoaXMucmF3U2hhcmUocHRyLEVtdmFsLnRvSGFuZGxlKGZ1bmN0aW9uKCl7Y2xvbmVkSGFuZGxlWyJkZWxldGUiXSgpfSkpO2lmKGRlc3RydWN0b3JzIT09bnVsbCl7ZGVzdHJ1Y3RvcnMucHVzaCh0aGlzLnJhd0Rlc3RydWN0b3IscHRyKX19YnJlYWs7ZGVmYXVsdDp0aHJvd0JpbmRpbmdFcnJvcigiVW5zdXBwb3J0aW5nIHNoYXJpbmcgcG9saWN5Iil9fXJldHVybiBwdHJ9ZnVuY3Rpb24gbm9uQ29uc3ROb1NtYXJ0UHRyUmF3UG9pbnRlclRvV2lyZVR5cGUoZGVzdHJ1Y3RvcnMsaGFuZGxlKXtpZihoYW5kbGU9PT1udWxsKXtpZih0aGlzLmlzUmVmZXJlbmNlKXt0aHJvd0JpbmRpbmdFcnJvcigibnVsbCBpcyBub3QgYSB2YWxpZCAiK3RoaXMubmFtZSl9cmV0dXJuIDB9aWYoIWhhbmRsZS4kJCl7dGhyb3dCaW5kaW5nRXJyb3IoJ0Nhbm5vdCBwYXNzICInK19lbWJpbmRfcmVwcihoYW5kbGUpKyciIGFzIGEgJyt0aGlzLm5hbWUpfWlmKCFoYW5kbGUuJCQucHRyKXt0aHJvd0JpbmRpbmdFcnJvcigiQ2Fubm90IHBhc3MgZGVsZXRlZCBvYmplY3QgYXMgYSBwb2ludGVyIG9mIHR5cGUgIit0aGlzLm5hbWUpfWlmKGhhbmRsZS4kJC5wdHJUeXBlLmlzQ29uc3Qpe3Rocm93QmluZGluZ0Vycm9yKCJDYW5ub3QgY29udmVydCBhcmd1bWVudCBvZiB0eXBlICIraGFuZGxlLiQkLnB0clR5cGUubmFtZSsiIHRvIHBhcmFtZXRlciB0eXBlICIrdGhpcy5uYW1lKX12YXIgaGFuZGxlQ2xhc3M9aGFuZGxlLiQkLnB0clR5cGUucmVnaXN0ZXJlZENsYXNzO3ZhciBwdHI9dXBjYXN0UG9pbnRlcihoYW5kbGUuJCQucHRyLGhhbmRsZUNsYXNzLHRoaXMucmVnaXN0ZXJlZENsYXNzKTtyZXR1cm4gcHRyfWZ1bmN0aW9uIHNpbXBsZVJlYWRWYWx1ZUZyb21Qb2ludGVyKHBvaW50ZXIpe3JldHVybiB0aGlzWyJmcm9tV2lyZVR5cGUiXShHUk9XQUJMRV9IRUFQX1UzMigpW3BvaW50ZXI+PjJdKX1mdW5jdGlvbiBSZWdpc3RlcmVkUG9pbnRlcl9nZXRQb2ludGVlKHB0cil7aWYodGhpcy5yYXdHZXRQb2ludGVlKXtwdHI9dGhpcy5yYXdHZXRQb2ludGVlKHB0cil9cmV0dXJuIHB0cn1mdW5jdGlvbiBSZWdpc3RlcmVkUG9pbnRlcl9kZXN0cnVjdG9yKHB0cil7aWYodGhpcy5yYXdEZXN0cnVjdG9yKXt0aGlzLnJhd0Rlc3RydWN0b3IocHRyKX19ZnVuY3Rpb24gUmVnaXN0ZXJlZFBvaW50ZXJfZGVsZXRlT2JqZWN0KGhhbmRsZSl7aWYoaGFuZGxlIT09bnVsbCl7aGFuZGxlWyJkZWxldGUiXSgpfX1mdW5jdGlvbiBpbml0X1JlZ2lzdGVyZWRQb2ludGVyKCl7UmVnaXN0ZXJlZFBvaW50ZXIucHJvdG90eXBlLmdldFBvaW50ZWU9UmVnaXN0ZXJlZFBvaW50ZXJfZ2V0UG9pbnRlZTtSZWdpc3RlcmVkUG9pbnRlci5wcm90b3R5cGUuZGVzdHJ1Y3Rvcj1SZWdpc3RlcmVkUG9pbnRlcl9kZXN0cnVjdG9yO1JlZ2lzdGVyZWRQb2ludGVyLnByb3RvdHlwZVsiYXJnUGFja0FkdmFuY2UiXT04O1JlZ2lzdGVyZWRQb2ludGVyLnByb3RvdHlwZVsicmVhZFZhbHVlRnJvbVBvaW50ZXIiXT1zaW1wbGVSZWFkVmFsdWVGcm9tUG9pbnRlcjtSZWdpc3RlcmVkUG9pbnRlci5wcm90b3R5cGVbImRlbGV0ZU9iamVjdCJdPVJlZ2lzdGVyZWRQb2ludGVyX2RlbGV0ZU9iamVjdDtSZWdpc3RlcmVkUG9pbnRlci5wcm90b3R5cGVbImZyb21XaXJlVHlwZSJdPVJlZ2lzdGVyZWRQb2ludGVyX2Zyb21XaXJlVHlwZX1mdW5jdGlvbiBSZWdpc3RlcmVkUG9pbnRlcihuYW1lLHJlZ2lzdGVyZWRDbGFzcyxpc1JlZmVyZW5jZSxpc0NvbnN0LGlzU21hcnRQb2ludGVyLHBvaW50ZWVUeXBlLHNoYXJpbmdQb2xpY3kscmF3R2V0UG9pbnRlZSxyYXdDb25zdHJ1Y3RvcixyYXdTaGFyZSxyYXdEZXN0cnVjdG9yKXt0aGlzLm5hbWU9bmFtZTt0aGlzLnJlZ2lzdGVyZWRDbGFzcz1yZWdpc3RlcmVkQ2xhc3M7dGhpcy5pc1JlZmVyZW5jZT1pc1JlZmVyZW5jZTt0aGlzLmlzQ29uc3Q9aXNDb25zdDt0aGlzLmlzU21hcnRQb2ludGVyPWlzU21hcnRQb2ludGVyO3RoaXMucG9pbnRlZVR5cGU9cG9pbnRlZVR5cGU7dGhpcy5zaGFyaW5nUG9saWN5PXNoYXJpbmdQb2xpY3k7dGhpcy5yYXdHZXRQb2ludGVlPXJhd0dldFBvaW50ZWU7dGhpcy5yYXdDb25zdHJ1Y3Rvcj1yYXdDb25zdHJ1Y3Rvcjt0aGlzLnJhd1NoYXJlPXJhd1NoYXJlO3RoaXMucmF3RGVzdHJ1Y3Rvcj1yYXdEZXN0cnVjdG9yO2lmKCFpc1NtYXJ0UG9pbnRlciYmcmVnaXN0ZXJlZENsYXNzLmJhc2VDbGFzcz09PXVuZGVmaW5lZCl7aWYoaXNDb25zdCl7dGhpc1sidG9XaXJlVHlwZSJdPWNvbnN0Tm9TbWFydFB0clJhd1BvaW50ZXJUb1dpcmVUeXBlO3RoaXMuZGVzdHJ1Y3RvckZ1bmN0aW9uPW51bGx9ZWxzZXt0aGlzWyJ0b1dpcmVUeXBlIl09bm9uQ29uc3ROb1NtYXJ0UHRyUmF3UG9pbnRlclRvV2lyZVR5cGU7dGhpcy5kZXN0cnVjdG9yRnVuY3Rpb249bnVsbH19ZWxzZXt0aGlzWyJ0b1dpcmVUeXBlIl09Z2VuZXJpY1BvaW50ZXJUb1dpcmVUeXBlfX1mdW5jdGlvbiByZXBsYWNlUHVibGljU3ltYm9sKG5hbWUsdmFsdWUsbnVtQXJndW1lbnRzKXtpZighTW9kdWxlLmhhc093blByb3BlcnR5KG5hbWUpKXt0aHJvd0ludGVybmFsRXJyb3IoIlJlcGxhY2luZyBub25leGlzdGFudCBwdWJsaWMgc3ltYm9sIil9aWYodW5kZWZpbmVkIT09TW9kdWxlW25hbWVdLm92ZXJsb2FkVGFibGUmJnVuZGVmaW5lZCE9PW51bUFyZ3VtZW50cyl7TW9kdWxlW25hbWVdLm92ZXJsb2FkVGFibGVbbnVtQXJndW1lbnRzXT12YWx1ZX1lbHNle01vZHVsZVtuYW1lXT12YWx1ZTtNb2R1bGVbbmFtZV0uYXJnQ291bnQ9bnVtQXJndW1lbnRzfX1mdW5jdGlvbiBkeW5DYWxsTGVnYWN5KHNpZyxwdHIsYXJncyl7dmFyIGY9TW9kdWxlWyJkeW5DYWxsXyIrc2lnXTtyZXR1cm4gYXJncyYmYXJncy5sZW5ndGg/Zi5hcHBseShudWxsLFtwdHJdLmNvbmNhdChhcmdzKSk6Zi5jYWxsKG51bGwscHRyKX1mdW5jdGlvbiBkeW5DYWxsKHNpZyxwdHIsYXJncyl7aWYoc2lnLmluY2x1ZGVzKCJqIikpe3JldHVybiBkeW5DYWxsTGVnYWN5KHNpZyxwdHIsYXJncyl9cmV0dXJuIGdldFdhc21UYWJsZUVudHJ5KHB0cikuYXBwbHkobnVsbCxhcmdzKX1mdW5jdGlvbiBnZXREeW5DYWxsZXIoc2lnLHB0cil7dmFyIGFyZ0NhY2hlPVtdO3JldHVybiBmdW5jdGlvbigpe2FyZ0NhY2hlLmxlbmd0aD0wO09iamVjdC5hc3NpZ24oYXJnQ2FjaGUsYXJndW1lbnRzKTtyZXR1cm4gZHluQ2FsbChzaWcscHRyLGFyZ0NhY2hlKX19ZnVuY3Rpb24gZW1iaW5kX19yZXF1aXJlRnVuY3Rpb24oc2lnbmF0dXJlLHJhd0Z1bmN0aW9uKXtzaWduYXR1cmU9cmVhZExhdGluMVN0cmluZyhzaWduYXR1cmUpO2Z1bmN0aW9uIG1ha2VEeW5DYWxsZXIoKXtpZihzaWduYXR1cmUuaW5jbHVkZXMoImoiKSl7cmV0dXJuIGdldER5bkNhbGxlcihzaWduYXR1cmUscmF3RnVuY3Rpb24pfXJldHVybiBnZXRXYXNtVGFibGVFbnRyeShyYXdGdW5jdGlvbil9dmFyIGZwPW1ha2VEeW5DYWxsZXIoKTtpZih0eXBlb2YgZnAhPSJmdW5jdGlvbiIpe3Rocm93QmluZGluZ0Vycm9yKCJ1bmtub3duIGZ1bmN0aW9uIHBvaW50ZXIgd2l0aCBzaWduYXR1cmUgIitzaWduYXR1cmUrIjogIityYXdGdW5jdGlvbil9cmV0dXJuIGZwfXZhciBVbmJvdW5kVHlwZUVycm9yPXVuZGVmaW5lZDtmdW5jdGlvbiBnZXRUeXBlTmFtZSh0eXBlKXt2YXIgcHRyPV9fX2dldFR5cGVOYW1lKHR5cGUpO3ZhciBydj1yZWFkTGF0aW4xU3RyaW5nKHB0cik7X2ZyZWUocHRyKTtyZXR1cm4gcnZ9ZnVuY3Rpb24gdGhyb3dVbmJvdW5kVHlwZUVycm9yKG1lc3NhZ2UsdHlwZXMpe3ZhciB1bmJvdW5kVHlwZXM9W107dmFyIHNlZW49e307ZnVuY3Rpb24gdmlzaXQodHlwZSl7aWYoc2Vlblt0eXBlXSl7cmV0dXJufWlmKHJlZ2lzdGVyZWRUeXBlc1t0eXBlXSl7cmV0dXJufWlmKHR5cGVEZXBlbmRlbmNpZXNbdHlwZV0pe3R5cGVEZXBlbmRlbmNpZXNbdHlwZV0uZm9yRWFjaCh2aXNpdCk7cmV0dXJufXVuYm91bmRUeXBlcy5wdXNoKHR5cGUpO3NlZW5bdHlwZV09dHJ1ZX10eXBlcy5mb3JFYWNoKHZpc2l0KTt0aHJvdyBuZXcgVW5ib3VuZFR5cGVFcnJvcihtZXNzYWdlKyI6ICIrdW5ib3VuZFR5cGVzLm1hcChnZXRUeXBlTmFtZSkuam9pbihbIiwgIl0pKX1mdW5jdGlvbiBfX2VtYmluZF9yZWdpc3Rlcl9jbGFzcyhyYXdUeXBlLHJhd1BvaW50ZXJUeXBlLHJhd0NvbnN0UG9pbnRlclR5cGUsYmFzZUNsYXNzUmF3VHlwZSxnZXRBY3R1YWxUeXBlU2lnbmF0dXJlLGdldEFjdHVhbFR5cGUsdXBjYXN0U2lnbmF0dXJlLHVwY2FzdCxkb3duY2FzdFNpZ25hdHVyZSxkb3duY2FzdCxuYW1lLGRlc3RydWN0b3JTaWduYXR1cmUscmF3RGVzdHJ1Y3Rvcil7bmFtZT1yZWFkTGF0aW4xU3RyaW5nKG5hbWUpO2dldEFjdHVhbFR5cGU9ZW1iaW5kX19yZXF1aXJlRnVuY3Rpb24oZ2V0QWN0dWFsVHlwZVNpZ25hdHVyZSxnZXRBY3R1YWxUeXBlKTtpZih1cGNhc3Qpe3VwY2FzdD1lbWJpbmRfX3JlcXVpcmVGdW5jdGlvbih1cGNhc3RTaWduYXR1cmUsdXBjYXN0KX1pZihkb3duY2FzdCl7ZG93bmNhc3Q9ZW1iaW5kX19yZXF1aXJlRnVuY3Rpb24oZG93bmNhc3RTaWduYXR1cmUsZG93bmNhc3QpfXJhd0Rlc3RydWN0b3I9ZW1iaW5kX19yZXF1aXJlRnVuY3Rpb24oZGVzdHJ1Y3RvclNpZ25hdHVyZSxyYXdEZXN0cnVjdG9yKTt2YXIgbGVnYWxGdW5jdGlvbk5hbWU9bWFrZUxlZ2FsRnVuY3Rpb25OYW1lKG5hbWUpO2V4cG9zZVB1YmxpY1N5bWJvbChsZWdhbEZ1bmN0aW9uTmFtZSxmdW5jdGlvbigpe3Rocm93VW5ib3VuZFR5cGVFcnJvcigiQ2Fubm90IGNvbnN0cnVjdCAiK25hbWUrIiBkdWUgdG8gdW5ib3VuZCB0eXBlcyIsW2Jhc2VDbGFzc1Jhd1R5cGVdKX0pO3doZW5EZXBlbmRlbnRUeXBlc0FyZVJlc29sdmVkKFtyYXdUeXBlLHJhd1BvaW50ZXJUeXBlLHJhd0NvbnN0UG9pbnRlclR5cGVdLGJhc2VDbGFzc1Jhd1R5cGU/W2Jhc2VDbGFzc1Jhd1R5cGVdOltdLGZ1bmN0aW9uKGJhc2Upe2Jhc2U9YmFzZVswXTt2YXIgYmFzZUNsYXNzO3ZhciBiYXNlUHJvdG90eXBlO2lmKGJhc2VDbGFzc1Jhd1R5cGUpe2Jhc2VDbGFzcz1iYXNlLnJlZ2lzdGVyZWRDbGFzcztiYXNlUHJvdG90eXBlPWJhc2VDbGFzcy5pbnN0YW5jZVByb3RvdHlwZX1lbHNle2Jhc2VQcm90b3R5cGU9Q2xhc3NIYW5kbGUucHJvdG90eXBlfXZhciBjb25zdHJ1Y3Rvcj1jcmVhdGVOYW1lZEZ1bmN0aW9uKGxlZ2FsRnVuY3Rpb25OYW1lLGZ1bmN0aW9uKCl7aWYoT2JqZWN0LmdldFByb3RvdHlwZU9mKHRoaXMpIT09aW5zdGFuY2VQcm90b3R5cGUpe3Rocm93IG5ldyBCaW5kaW5nRXJyb3IoIlVzZSAnbmV3JyB0byBjb25zdHJ1Y3QgIituYW1lKX1pZih1bmRlZmluZWQ9PT1yZWdpc3RlcmVkQ2xhc3MuY29uc3RydWN0b3JfYm9keSl7dGhyb3cgbmV3IEJpbmRpbmdFcnJvcihuYW1lKyIgaGFzIG5vIGFjY2Vzc2libGUgY29uc3RydWN0b3IiKX12YXIgYm9keT1yZWdpc3RlcmVkQ2xhc3MuY29uc3RydWN0b3JfYm9keVthcmd1bWVudHMubGVuZ3RoXTtpZih1bmRlZmluZWQ9PT1ib2R5KXt0aHJvdyBuZXcgQmluZGluZ0Vycm9yKCJUcmllZCB0byBpbnZva2UgY3RvciBvZiAiK25hbWUrIiB3aXRoIGludmFsaWQgbnVtYmVyIG9mIHBhcmFtZXRlcnMgKCIrYXJndW1lbnRzLmxlbmd0aCsiKSAtIGV4cGVjdGVkICgiK09iamVjdC5rZXlzKHJlZ2lzdGVyZWRDbGFzcy5jb25zdHJ1Y3Rvcl9ib2R5KS50b1N0cmluZygpKyIpIHBhcmFtZXRlcnMgaW5zdGVhZCEiKX1yZXR1cm4gYm9keS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9KTt2YXIgaW5zdGFuY2VQcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShiYXNlUHJvdG90eXBlLHtjb25zdHJ1Y3Rvcjp7dmFsdWU6Y29uc3RydWN0b3J9fSk7Y29uc3RydWN0b3IucHJvdG90eXBlPWluc3RhbmNlUHJvdG90eXBlO3ZhciByZWdpc3RlcmVkQ2xhc3M9bmV3IFJlZ2lzdGVyZWRDbGFzcyhuYW1lLGNvbnN0cnVjdG9yLGluc3RhbmNlUHJvdG90eXBlLHJhd0Rlc3RydWN0b3IsYmFzZUNsYXNzLGdldEFjdHVhbFR5cGUsdXBjYXN0LGRvd25jYXN0KTt2YXIgcmVmZXJlbmNlQ29udmVydGVyPW5ldyBSZWdpc3RlcmVkUG9pbnRlcihuYW1lLHJlZ2lzdGVyZWRDbGFzcyx0cnVlLGZhbHNlLGZhbHNlKTt2YXIgcG9pbnRlckNvbnZlcnRlcj1uZXcgUmVnaXN0ZXJlZFBvaW50ZXIobmFtZSsiKiIscmVnaXN0ZXJlZENsYXNzLGZhbHNlLGZhbHNlLGZhbHNlKTt2YXIgY29uc3RQb2ludGVyQ29udmVydGVyPW5ldyBSZWdpc3RlcmVkUG9pbnRlcihuYW1lKyIgY29uc3QqIixyZWdpc3RlcmVkQ2xhc3MsZmFsc2UsdHJ1ZSxmYWxzZSk7cmVnaXN0ZXJlZFBvaW50ZXJzW3Jhd1R5cGVdPXtwb2ludGVyVHlwZTpwb2ludGVyQ29udmVydGVyLGNvbnN0UG9pbnRlclR5cGU6Y29uc3RQb2ludGVyQ29udmVydGVyfTtyZXBsYWNlUHVibGljU3ltYm9sKGxlZ2FsRnVuY3Rpb25OYW1lLGNvbnN0cnVjdG9yKTtyZXR1cm5bcmVmZXJlbmNlQ29udmVydGVyLHBvaW50ZXJDb252ZXJ0ZXIsY29uc3RQb2ludGVyQ29udmVydGVyXX0pfWZ1bmN0aW9uIGhlYXAzMlZlY3RvclRvQXJyYXkoY291bnQsZmlyc3RFbGVtZW50KXt2YXIgYXJyYXk9W107Zm9yKHZhciBpPTA7aTxjb3VudDtpKyspe2FycmF5LnB1c2goR1JPV0FCTEVfSEVBUF9JMzIoKVsoZmlyc3RFbGVtZW50Pj4yKStpXSl9cmV0dXJuIGFycmF5fWZ1bmN0aW9uIHJ1bkRlc3RydWN0b3JzKGRlc3RydWN0b3JzKXt3aGlsZShkZXN0cnVjdG9ycy5sZW5ndGgpe3ZhciBwdHI9ZGVzdHJ1Y3RvcnMucG9wKCk7dmFyIGRlbD1kZXN0cnVjdG9ycy5wb3AoKTtkZWwocHRyKX19ZnVuY3Rpb24gX19lbWJpbmRfcmVnaXN0ZXJfY2xhc3NfY29uc3RydWN0b3IocmF3Q2xhc3NUeXBlLGFyZ0NvdW50LHJhd0FyZ1R5cGVzQWRkcixpbnZva2VyU2lnbmF0dXJlLGludm9rZXIscmF3Q29uc3RydWN0b3Ipe2Fzc2VydChhcmdDb3VudD4wKTt2YXIgcmF3QXJnVHlwZXM9aGVhcDMyVmVjdG9yVG9BcnJheShhcmdDb3VudCxyYXdBcmdUeXBlc0FkZHIpO2ludm9rZXI9ZW1iaW5kX19yZXF1aXJlRnVuY3Rpb24oaW52b2tlclNpZ25hdHVyZSxpbnZva2VyKTt3aGVuRGVwZW5kZW50VHlwZXNBcmVSZXNvbHZlZChbXSxbcmF3Q2xhc3NUeXBlXSxmdW5jdGlvbihjbGFzc1R5cGUpe2NsYXNzVHlwZT1jbGFzc1R5cGVbMF07dmFyIGh1bWFuTmFtZT0iY29uc3RydWN0b3IgIitjbGFzc1R5cGUubmFtZTtpZih1bmRlZmluZWQ9PT1jbGFzc1R5cGUucmVnaXN0ZXJlZENsYXNzLmNvbnN0cnVjdG9yX2JvZHkpe2NsYXNzVHlwZS5yZWdpc3RlcmVkQ2xhc3MuY29uc3RydWN0b3JfYm9keT1bXX1pZih1bmRlZmluZWQhPT1jbGFzc1R5cGUucmVnaXN0ZXJlZENsYXNzLmNvbnN0cnVjdG9yX2JvZHlbYXJnQ291bnQtMV0pe3Rocm93IG5ldyBCaW5kaW5nRXJyb3IoIkNhbm5vdCByZWdpc3RlciBtdWx0aXBsZSBjb25zdHJ1Y3RvcnMgd2l0aCBpZGVudGljYWwgbnVtYmVyIG9mIHBhcmFtZXRlcnMgKCIrKGFyZ0NvdW50LTEpKyIpIGZvciBjbGFzcyAnIitjbGFzc1R5cGUubmFtZSsiJyEgT3ZlcmxvYWQgcmVzb2x1dGlvbiBpcyBjdXJyZW50bHkgb25seSBwZXJmb3JtZWQgdXNpbmcgdGhlIHBhcmFtZXRlciBjb3VudCwgbm90IGFjdHVhbCB0eXBlIGluZm8hIil9Y2xhc3NUeXBlLnJlZ2lzdGVyZWRDbGFzcy5jb25zdHJ1Y3Rvcl9ib2R5W2FyZ0NvdW50LTFdPSgoKT0+e3Rocm93VW5ib3VuZFR5cGVFcnJvcigiQ2Fubm90IGNvbnN0cnVjdCAiK2NsYXNzVHlwZS5uYW1lKyIgZHVlIHRvIHVuYm91bmQgdHlwZXMiLHJhd0FyZ1R5cGVzKX0pO3doZW5EZXBlbmRlbnRUeXBlc0FyZVJlc29sdmVkKFtdLHJhd0FyZ1R5cGVzLGZ1bmN0aW9uKGFyZ1R5cGVzKXthcmdUeXBlcy5zcGxpY2UoMSwwLG51bGwpO2NsYXNzVHlwZS5yZWdpc3RlcmVkQ2xhc3MuY29uc3RydWN0b3JfYm9keVthcmdDb3VudC0xXT1jcmFmdEludm9rZXJGdW5jdGlvbihodW1hbk5hbWUsYXJnVHlwZXMsbnVsbCxpbnZva2VyLHJhd0NvbnN0cnVjdG9yKTtyZXR1cm5bXX0pO3JldHVybltdfSl9ZnVuY3Rpb24gbmV3Xyhjb25zdHJ1Y3Rvcixhcmd1bWVudExpc3Qpe2lmKCEoY29uc3RydWN0b3IgaW5zdGFuY2VvZiBGdW5jdGlvbikpe3Rocm93IG5ldyBUeXBlRXJyb3IoIm5ld18gY2FsbGVkIHdpdGggY29uc3RydWN0b3IgdHlwZSAiK3R5cGVvZiBjb25zdHJ1Y3RvcisiIHdoaWNoIGlzIG5vdCBhIGZ1bmN0aW9uIil9dmFyIGR1bW15PWNyZWF0ZU5hbWVkRnVuY3Rpb24oY29uc3RydWN0b3IubmFtZXx8InVua25vd25GdW5jdGlvbk5hbWUiLGZ1bmN0aW9uKCl7fSk7ZHVtbXkucHJvdG90eXBlPWNvbnN0cnVjdG9yLnByb3RvdHlwZTt2YXIgb2JqPW5ldyBkdW1teTt2YXIgcj1jb25zdHJ1Y3Rvci5hcHBseShvYmosYXJndW1lbnRMaXN0KTtyZXR1cm4gciBpbnN0YW5jZW9mIE9iamVjdD9yOm9ian1mdW5jdGlvbiBjcmFmdEludm9rZXJGdW5jdGlvbihodW1hbk5hbWUsYXJnVHlwZXMsY2xhc3NUeXBlLGNwcEludm9rZXJGdW5jLGNwcFRhcmdldEZ1bmMpe3ZhciBhcmdDb3VudD1hcmdUeXBlcy5sZW5ndGg7aWYoYXJnQ291bnQ8Mil7dGhyb3dCaW5kaW5nRXJyb3IoImFyZ1R5cGVzIGFycmF5IHNpemUgbWlzbWF0Y2ghIE11c3QgYXQgbGVhc3QgZ2V0IHJldHVybiB2YWx1ZSBhbmQgJ3RoaXMnIHR5cGVzISIpfXZhciBpc0NsYXNzTWV0aG9kRnVuYz1hcmdUeXBlc1sxXSE9PW51bGwmJmNsYXNzVHlwZSE9PW51bGw7dmFyIG5lZWRzRGVzdHJ1Y3RvclN0YWNrPWZhbHNlO2Zvcih2YXIgaT0xO2k8YXJnVHlwZXMubGVuZ3RoOysraSl7aWYoYXJnVHlwZXNbaV0hPT1udWxsJiZhcmdUeXBlc1tpXS5kZXN0cnVjdG9yRnVuY3Rpb249PT11bmRlZmluZWQpe25lZWRzRGVzdHJ1Y3RvclN0YWNrPXRydWU7YnJlYWt9fXZhciByZXR1cm5zPWFyZ1R5cGVzWzBdLm5hbWUhPT0idm9pZCI7dmFyIGFyZ3NMaXN0PSIiO3ZhciBhcmdzTGlzdFdpcmVkPSIiO2Zvcih2YXIgaT0wO2k8YXJnQ291bnQtMjsrK2kpe2FyZ3NMaXN0Kz0oaSE9PTA/IiwgIjoiIikrImFyZyIraTthcmdzTGlzdFdpcmVkKz0oaSE9PTA/IiwgIjoiIikrImFyZyIraSsiV2lyZWQifXZhciBpbnZva2VyRm5Cb2R5PSJyZXR1cm4gZnVuY3Rpb24gIittYWtlTGVnYWxGdW5jdGlvbk5hbWUoaHVtYW5OYW1lKSsiKCIrYXJnc0xpc3QrIikge1xuIisiaWYgKGFyZ3VtZW50cy5sZW5ndGggIT09ICIrKGFyZ0NvdW50LTIpKyIpIHtcbiIrInRocm93QmluZGluZ0Vycm9yKCdmdW5jdGlvbiAiK2h1bWFuTmFtZSsiIGNhbGxlZCB3aXRoICcgKyBhcmd1bWVudHMubGVuZ3RoICsgJyBhcmd1bWVudHMsIGV4cGVjdGVkICIrKGFyZ0NvdW50LTIpKyIgYXJncyEnKTtcbiIrIn1cbiI7aWYobmVlZHNEZXN0cnVjdG9yU3RhY2spe2ludm9rZXJGbkJvZHkrPSJ2YXIgZGVzdHJ1Y3RvcnMgPSBbXTtcbiJ9dmFyIGR0b3JTdGFjaz1uZWVkc0Rlc3RydWN0b3JTdGFjaz8iZGVzdHJ1Y3RvcnMiOiJudWxsIjt2YXIgYXJnczE9WyJ0aHJvd0JpbmRpbmdFcnJvciIsImludm9rZXIiLCJmbiIsInJ1bkRlc3RydWN0b3JzIiwicmV0VHlwZSIsImNsYXNzUGFyYW0iXTt2YXIgYXJnczI9W3Rocm93QmluZGluZ0Vycm9yLGNwcEludm9rZXJGdW5jLGNwcFRhcmdldEZ1bmMscnVuRGVzdHJ1Y3RvcnMsYXJnVHlwZXNbMF0sYXJnVHlwZXNbMV1dO2lmKGlzQ2xhc3NNZXRob2RGdW5jKXtpbnZva2VyRm5Cb2R5Kz0idmFyIHRoaXNXaXJlZCA9IGNsYXNzUGFyYW0udG9XaXJlVHlwZSgiK2R0b3JTdGFjaysiLCB0aGlzKTtcbiJ9Zm9yKHZhciBpPTA7aTxhcmdDb3VudC0yOysraSl7aW52b2tlckZuQm9keSs9InZhciBhcmciK2krIldpcmVkID0gYXJnVHlwZSIraSsiLnRvV2lyZVR5cGUoIitkdG9yU3RhY2srIiwgYXJnIitpKyIpOyAvLyAiK2FyZ1R5cGVzW2krMl0ubmFtZSsiXG4iO2FyZ3MxLnB1c2goImFyZ1R5cGUiK2kpO2FyZ3MyLnB1c2goYXJnVHlwZXNbaSsyXSl9aWYoaXNDbGFzc01ldGhvZEZ1bmMpe2FyZ3NMaXN0V2lyZWQ9InRoaXNXaXJlZCIrKGFyZ3NMaXN0V2lyZWQubGVuZ3RoPjA/IiwgIjoiIikrYXJnc0xpc3RXaXJlZH1pbnZva2VyRm5Cb2R5Kz0ocmV0dXJucz8idmFyIHJ2ID0gIjoiIikrImludm9rZXIoZm4iKyhhcmdzTGlzdFdpcmVkLmxlbmd0aD4wPyIsICI6IiIpK2FyZ3NMaXN0V2lyZWQrIik7XG4iO2lmKG5lZWRzRGVzdHJ1Y3RvclN0YWNrKXtpbnZva2VyRm5Cb2R5Kz0icnVuRGVzdHJ1Y3RvcnMoZGVzdHJ1Y3RvcnMpO1xuIn1lbHNle2Zvcih2YXIgaT1pc0NsYXNzTWV0aG9kRnVuYz8xOjI7aTxhcmdUeXBlcy5sZW5ndGg7KytpKXt2YXIgcGFyYW1OYW1lPWk9PT0xPyJ0aGlzV2lyZWQiOiJhcmciKyhpLTIpKyJXaXJlZCI7aWYoYXJnVHlwZXNbaV0uZGVzdHJ1Y3RvckZ1bmN0aW9uIT09bnVsbCl7aW52b2tlckZuQm9keSs9cGFyYW1OYW1lKyJfZHRvcigiK3BhcmFtTmFtZSsiKTsgLy8gIithcmdUeXBlc1tpXS5uYW1lKyJcbiI7YXJnczEucHVzaChwYXJhbU5hbWUrIl9kdG9yIik7YXJnczIucHVzaChhcmdUeXBlc1tpXS5kZXN0cnVjdG9yRnVuY3Rpb24pfX19aWYocmV0dXJucyl7aW52b2tlckZuQm9keSs9InZhciByZXQgPSByZXRUeXBlLmZyb21XaXJlVHlwZShydik7XG4iKyJyZXR1cm4gcmV0O1xuIn1lbHNle31pbnZva2VyRm5Cb2R5Kz0ifVxuIjthcmdzMS5wdXNoKGludm9rZXJGbkJvZHkpO3ZhciBpbnZva2VyRnVuY3Rpb249bmV3XyhGdW5jdGlvbixhcmdzMSkuYXBwbHkobnVsbCxhcmdzMik7cmV0dXJuIGludm9rZXJGdW5jdGlvbn1mdW5jdGlvbiBfX2VtYmluZF9yZWdpc3Rlcl9jbGFzc19mdW5jdGlvbihyYXdDbGFzc1R5cGUsbWV0aG9kTmFtZSxhcmdDb3VudCxyYXdBcmdUeXBlc0FkZHIsaW52b2tlclNpZ25hdHVyZSxyYXdJbnZva2VyLGNvbnRleHQsaXNQdXJlVmlydHVhbCl7dmFyIHJhd0FyZ1R5cGVzPWhlYXAzMlZlY3RvclRvQXJyYXkoYXJnQ291bnQscmF3QXJnVHlwZXNBZGRyKTttZXRob2ROYW1lPXJlYWRMYXRpbjFTdHJpbmcobWV0aG9kTmFtZSk7cmF3SW52b2tlcj1lbWJpbmRfX3JlcXVpcmVGdW5jdGlvbihpbnZva2VyU2lnbmF0dXJlLHJhd0ludm9rZXIpO3doZW5EZXBlbmRlbnRUeXBlc0FyZVJlc29sdmVkKFtdLFtyYXdDbGFzc1R5cGVdLGZ1bmN0aW9uKGNsYXNzVHlwZSl7Y2xhc3NUeXBlPWNsYXNzVHlwZVswXTt2YXIgaHVtYW5OYW1lPWNsYXNzVHlwZS5uYW1lKyIuIittZXRob2ROYW1lO2lmKG1ldGhvZE5hbWUuc3RhcnRzV2l0aCgiQEAiKSl7bWV0aG9kTmFtZT1TeW1ib2xbbWV0aG9kTmFtZS5zdWJzdHJpbmcoMildfWlmKGlzUHVyZVZpcnR1YWwpe2NsYXNzVHlwZS5yZWdpc3RlcmVkQ2xhc3MucHVyZVZpcnR1YWxGdW5jdGlvbnMucHVzaChtZXRob2ROYW1lKX1mdW5jdGlvbiB1bmJvdW5kVHlwZXNIYW5kbGVyKCl7dGhyb3dVbmJvdW5kVHlwZUVycm9yKCJDYW5ub3QgY2FsbCAiK2h1bWFuTmFtZSsiIGR1ZSB0byB1bmJvdW5kIHR5cGVzIixyYXdBcmdUeXBlcyl9dmFyIHByb3RvPWNsYXNzVHlwZS5yZWdpc3RlcmVkQ2xhc3MuaW5zdGFuY2VQcm90b3R5cGU7dmFyIG1ldGhvZD1wcm90b1ttZXRob2ROYW1lXTtpZih1bmRlZmluZWQ9PT1tZXRob2R8fHVuZGVmaW5lZD09PW1ldGhvZC5vdmVybG9hZFRhYmxlJiZtZXRob2QuY2xhc3NOYW1lIT09Y2xhc3NUeXBlLm5hbWUmJm1ldGhvZC5hcmdDb3VudD09PWFyZ0NvdW50LTIpe3VuYm91bmRUeXBlc0hhbmRsZXIuYXJnQ291bnQ9YXJnQ291bnQtMjt1bmJvdW5kVHlwZXNIYW5kbGVyLmNsYXNzTmFtZT1jbGFzc1R5cGUubmFtZTtwcm90b1ttZXRob2ROYW1lXT11bmJvdW5kVHlwZXNIYW5kbGVyfWVsc2V7ZW5zdXJlT3ZlcmxvYWRUYWJsZShwcm90byxtZXRob2ROYW1lLGh1bWFuTmFtZSk7cHJvdG9bbWV0aG9kTmFtZV0ub3ZlcmxvYWRUYWJsZVthcmdDb3VudC0yXT11bmJvdW5kVHlwZXNIYW5kbGVyfXdoZW5EZXBlbmRlbnRUeXBlc0FyZVJlc29sdmVkKFtdLHJhd0FyZ1R5cGVzLGZ1bmN0aW9uKGFyZ1R5cGVzKXt2YXIgbWVtYmVyRnVuY3Rpb249Y3JhZnRJbnZva2VyRnVuY3Rpb24oaHVtYW5OYW1lLGFyZ1R5cGVzLGNsYXNzVHlwZSxyYXdJbnZva2VyLGNvbnRleHQpO2lmKHVuZGVmaW5lZD09PXByb3RvW21ldGhvZE5hbWVdLm92ZXJsb2FkVGFibGUpe21lbWJlckZ1bmN0aW9uLmFyZ0NvdW50PWFyZ0NvdW50LTI7cHJvdG9bbWV0aG9kTmFtZV09bWVtYmVyRnVuY3Rpb259ZWxzZXtwcm90b1ttZXRob2ROYW1lXS5vdmVybG9hZFRhYmxlW2FyZ0NvdW50LTJdPW1lbWJlckZ1bmN0aW9ufXJldHVybltdfSk7cmV0dXJuW119KX12YXIgZW12YWxfZnJlZV9saXN0PVtdO3ZhciBlbXZhbF9oYW5kbGVfYXJyYXk9W3t9LHt2YWx1ZTp1bmRlZmluZWR9LHt2YWx1ZTpudWxsfSx7dmFsdWU6dHJ1ZX0se3ZhbHVlOmZhbHNlfV07ZnVuY3Rpb24gX19lbXZhbF9kZWNyZWYoaGFuZGxlKXtpZihoYW5kbGU+NCYmMD09PS0tZW12YWxfaGFuZGxlX2FycmF5W2hhbmRsZV0ucmVmY291bnQpe2VtdmFsX2hhbmRsZV9hcnJheVtoYW5kbGVdPXVuZGVmaW5lZDtlbXZhbF9mcmVlX2xpc3QucHVzaChoYW5kbGUpfX1mdW5jdGlvbiBjb3VudF9lbXZhbF9oYW5kbGVzKCl7dmFyIGNvdW50PTA7Zm9yKHZhciBpPTU7aTxlbXZhbF9oYW5kbGVfYXJyYXkubGVuZ3RoOysraSl7aWYoZW12YWxfaGFuZGxlX2FycmF5W2ldIT09dW5kZWZpbmVkKXsrK2NvdW50fX1yZXR1cm4gY291bnR9ZnVuY3Rpb24gZ2V0X2ZpcnN0X2VtdmFsKCl7Zm9yKHZhciBpPTU7aTxlbXZhbF9oYW5kbGVfYXJyYXkubGVuZ3RoOysraSl7aWYoZW12YWxfaGFuZGxlX2FycmF5W2ldIT09dW5kZWZpbmVkKXtyZXR1cm4gZW12YWxfaGFuZGxlX2FycmF5W2ldfX1yZXR1cm4gbnVsbH1mdW5jdGlvbiBpbml0X2VtdmFsKCl7TW9kdWxlWyJjb3VudF9lbXZhbF9oYW5kbGVzIl09Y291bnRfZW12YWxfaGFuZGxlcztNb2R1bGVbImdldF9maXJzdF9lbXZhbCJdPWdldF9maXJzdF9lbXZhbH12YXIgRW12YWw9e3RvVmFsdWU6aGFuZGxlPT57aWYoIWhhbmRsZSl7dGhyb3dCaW5kaW5nRXJyb3IoIkNhbm5vdCB1c2UgZGVsZXRlZCB2YWwuIGhhbmRsZSA9ICIraGFuZGxlKX1yZXR1cm4gZW12YWxfaGFuZGxlX2FycmF5W2hhbmRsZV0udmFsdWV9LHRvSGFuZGxlOnZhbHVlPT57c3dpdGNoKHZhbHVlKXtjYXNlIHVuZGVmaW5lZDpyZXR1cm4gMTtjYXNlIG51bGw6cmV0dXJuIDI7Y2FzZSB0cnVlOnJldHVybiAzO2Nhc2UgZmFsc2U6cmV0dXJuIDQ7ZGVmYXVsdDp7dmFyIGhhbmRsZT1lbXZhbF9mcmVlX2xpc3QubGVuZ3RoP2VtdmFsX2ZyZWVfbGlzdC5wb3AoKTplbXZhbF9oYW5kbGVfYXJyYXkubGVuZ3RoO2VtdmFsX2hhbmRsZV9hcnJheVtoYW5kbGVdPXtyZWZjb3VudDoxLHZhbHVlOnZhbHVlfTtyZXR1cm4gaGFuZGxlfX19fTtmdW5jdGlvbiBfX2VtYmluZF9yZWdpc3Rlcl9lbXZhbChyYXdUeXBlLG5hbWUpe25hbWU9cmVhZExhdGluMVN0cmluZyhuYW1lKTtyZWdpc3RlclR5cGUocmF3VHlwZSx7bmFtZTpuYW1lLCJmcm9tV2lyZVR5cGUiOmZ1bmN0aW9uKGhhbmRsZSl7dmFyIHJ2PUVtdmFsLnRvVmFsdWUoaGFuZGxlKTtfX2VtdmFsX2RlY3JlZihoYW5kbGUpO3JldHVybiBydn0sInRvV2lyZVR5cGUiOmZ1bmN0aW9uKGRlc3RydWN0b3JzLHZhbHVlKXtyZXR1cm4gRW12YWwudG9IYW5kbGUodmFsdWUpfSwiYXJnUGFja0FkdmFuY2UiOjgsInJlYWRWYWx1ZUZyb21Qb2ludGVyIjpzaW1wbGVSZWFkVmFsdWVGcm9tUG9pbnRlcixkZXN0cnVjdG9yRnVuY3Rpb246bnVsbH0pfWZ1bmN0aW9uIF9lbWJpbmRfcmVwcih2KXtpZih2PT09bnVsbCl7cmV0dXJuIm51bGwifXZhciB0PXR5cGVvZiB2O2lmKHQ9PT0ib2JqZWN0Inx8dD09PSJhcnJheSJ8fHQ9PT0iZnVuY3Rpb24iKXtyZXR1cm4gdi50b1N0cmluZygpfWVsc2V7cmV0dXJuIiIrdn19ZnVuY3Rpb24gZmxvYXRSZWFkVmFsdWVGcm9tUG9pbnRlcihuYW1lLHNoaWZ0KXtzd2l0Y2goc2hpZnQpe2Nhc2UgMjpyZXR1cm4gZnVuY3Rpb24ocG9pbnRlcil7cmV0dXJuIHRoaXNbImZyb21XaXJlVHlwZSJdKEdST1dBQkxFX0hFQVBfRjMyKClbcG9pbnRlcj4+Ml0pfTtjYXNlIDM6cmV0dXJuIGZ1bmN0aW9uKHBvaW50ZXIpe3JldHVybiB0aGlzWyJmcm9tV2lyZVR5cGUiXShHUk9XQUJMRV9IRUFQX0Y2NCgpW3BvaW50ZXI+PjNdKX07ZGVmYXVsdDp0aHJvdyBuZXcgVHlwZUVycm9yKCJVbmtub3duIGZsb2F0IHR5cGU6ICIrbmFtZSl9fWZ1bmN0aW9uIF9fZW1iaW5kX3JlZ2lzdGVyX2Zsb2F0KHJhd1R5cGUsbmFtZSxzaXplKXt2YXIgc2hpZnQ9Z2V0U2hpZnRGcm9tU2l6ZShzaXplKTtuYW1lPXJlYWRMYXRpbjFTdHJpbmcobmFtZSk7cmVnaXN0ZXJUeXBlKHJhd1R5cGUse25hbWU6bmFtZSwiZnJvbVdpcmVUeXBlIjpmdW5jdGlvbih2YWx1ZSl7cmV0dXJuIHZhbHVlfSwidG9XaXJlVHlwZSI6ZnVuY3Rpb24oZGVzdHJ1Y3RvcnMsdmFsdWUpe3JldHVybiB2YWx1ZX0sImFyZ1BhY2tBZHZhbmNlIjo4LCJyZWFkVmFsdWVGcm9tUG9pbnRlciI6ZmxvYXRSZWFkVmFsdWVGcm9tUG9pbnRlcihuYW1lLHNoaWZ0KSxkZXN0cnVjdG9yRnVuY3Rpb246bnVsbH0pfWZ1bmN0aW9uIGludGVnZXJSZWFkVmFsdWVGcm9tUG9pbnRlcihuYW1lLHNoaWZ0LHNpZ25lZCl7c3dpdGNoKHNoaWZ0KXtjYXNlIDA6cmV0dXJuIHNpZ25lZD9mdW5jdGlvbiByZWFkUzhGcm9tUG9pbnRlcihwb2ludGVyKXtyZXR1cm4gR1JPV0FCTEVfSEVBUF9JOCgpW3BvaW50ZXJdfTpmdW5jdGlvbiByZWFkVThGcm9tUG9pbnRlcihwb2ludGVyKXtyZXR1cm4gR1JPV0FCTEVfSEVBUF9VOCgpW3BvaW50ZXJdfTtjYXNlIDE6cmV0dXJuIHNpZ25lZD9mdW5jdGlvbiByZWFkUzE2RnJvbVBvaW50ZXIocG9pbnRlcil7cmV0dXJuIEdST1dBQkxFX0hFQVBfSTE2KClbcG9pbnRlcj4+MV19OmZ1bmN0aW9uIHJlYWRVMTZGcm9tUG9pbnRlcihwb2ludGVyKXtyZXR1cm4gR1JPV0FCTEVfSEVBUF9VMTYoKVtwb2ludGVyPj4xXX07Y2FzZSAyOnJldHVybiBzaWduZWQ/ZnVuY3Rpb24gcmVhZFMzMkZyb21Qb2ludGVyKHBvaW50ZXIpe3JldHVybiBHUk9XQUJMRV9IRUFQX0kzMigpW3BvaW50ZXI+PjJdfTpmdW5jdGlvbiByZWFkVTMyRnJvbVBvaW50ZXIocG9pbnRlcil7cmV0dXJuIEdST1dBQkxFX0hFQVBfVTMyKClbcG9pbnRlcj4+Ml19O2RlZmF1bHQ6dGhyb3cgbmV3IFR5cGVFcnJvcigiVW5rbm93biBpbnRlZ2VyIHR5cGU6ICIrbmFtZSl9fWZ1bmN0aW9uIF9fZW1iaW5kX3JlZ2lzdGVyX2ludGVnZXIocHJpbWl0aXZlVHlwZSxuYW1lLHNpemUsbWluUmFuZ2UsbWF4UmFuZ2Upe25hbWU9cmVhZExhdGluMVN0cmluZyhuYW1lKTtpZihtYXhSYW5nZT09PS0xKXttYXhSYW5nZT00Mjk0OTY3Mjk1fXZhciBzaGlmdD1nZXRTaGlmdEZyb21TaXplKHNpemUpO3ZhciBmcm9tV2lyZVR5cGU9dmFsdWU9PnZhbHVlO2lmKG1pblJhbmdlPT09MCl7dmFyIGJpdHNoaWZ0PTMyLTgqc2l6ZTtmcm9tV2lyZVR5cGU9KHZhbHVlPT52YWx1ZTw8Yml0c2hpZnQ+Pj5iaXRzaGlmdCl9dmFyIGlzVW5zaWduZWRUeXBlPW5hbWUuaW5jbHVkZXMoInVuc2lnbmVkIik7dmFyIGNoZWNrQXNzZXJ0aW9ucz0odmFsdWUsdG9UeXBlTmFtZSk9Pnt9O3ZhciB0b1dpcmVUeXBlO2lmKGlzVW5zaWduZWRUeXBlKXt0b1dpcmVUeXBlPWZ1bmN0aW9uKGRlc3RydWN0b3JzLHZhbHVlKXtjaGVja0Fzc2VydGlvbnModmFsdWUsdGhpcy5uYW1lKTtyZXR1cm4gdmFsdWU+Pj4wfX1lbHNle3RvV2lyZVR5cGU9ZnVuY3Rpb24oZGVzdHJ1Y3RvcnMsdmFsdWUpe2NoZWNrQXNzZXJ0aW9ucyh2YWx1ZSx0aGlzLm5hbWUpO3JldHVybiB2YWx1ZX19cmVnaXN0ZXJUeXBlKHByaW1pdGl2ZVR5cGUse25hbWU6bmFtZSwiZnJvbVdpcmVUeXBlIjpmcm9tV2lyZVR5cGUsInRvV2lyZVR5cGUiOnRvV2lyZVR5cGUsImFyZ1BhY2tBZHZhbmNlIjo4LCJyZWFkVmFsdWVGcm9tUG9pbnRlciI6aW50ZWdlclJlYWRWYWx1ZUZyb21Qb2ludGVyKG5hbWUsc2hpZnQsbWluUmFuZ2UhPT0wKSxkZXN0cnVjdG9yRnVuY3Rpb246bnVsbH0pfWZ1bmN0aW9uIF9fZW1iaW5kX3JlZ2lzdGVyX21lbW9yeV92aWV3KHJhd1R5cGUsZGF0YVR5cGVJbmRleCxuYW1lKXt2YXIgdHlwZU1hcHBpbmc9W0ludDhBcnJheSxVaW50OEFycmF5LEludDE2QXJyYXksVWludDE2QXJyYXksSW50MzJBcnJheSxVaW50MzJBcnJheSxGbG9hdDMyQXJyYXksRmxvYXQ2NEFycmF5XTt2YXIgVEE9dHlwZU1hcHBpbmdbZGF0YVR5cGVJbmRleF07ZnVuY3Rpb24gZGVjb2RlTWVtb3J5VmlldyhoYW5kbGUpe2hhbmRsZT1oYW5kbGU+PjI7dmFyIGhlYXA9R1JPV0FCTEVfSEVBUF9VMzIoKTt2YXIgc2l6ZT1oZWFwW2hhbmRsZV07dmFyIGRhdGE9aGVhcFtoYW5kbGUrMV07cmV0dXJuIG5ldyBUQShidWZmZXIsZGF0YSxzaXplKX1uYW1lPXJlYWRMYXRpbjFTdHJpbmcobmFtZSk7cmVnaXN0ZXJUeXBlKHJhd1R5cGUse25hbWU6bmFtZSwiZnJvbVdpcmVUeXBlIjpkZWNvZGVNZW1vcnlWaWV3LCJhcmdQYWNrQWR2YW5jZSI6OCwicmVhZFZhbHVlRnJvbVBvaW50ZXIiOmRlY29kZU1lbW9yeVZpZXd9LHtpZ25vcmVEdXBsaWNhdGVSZWdpc3RyYXRpb25zOnRydWV9KX1mdW5jdGlvbiBfX2VtYmluZF9yZWdpc3Rlcl9zdGRfc3RyaW5nKHJhd1R5cGUsbmFtZSl7bmFtZT1yZWFkTGF0aW4xU3RyaW5nKG5hbWUpO3ZhciBzdGRTdHJpbmdJc1VURjg9bmFtZT09PSJzdGQ6OnN0cmluZyI7cmVnaXN0ZXJUeXBlKHJhd1R5cGUse25hbWU6bmFtZSwiZnJvbVdpcmVUeXBlIjpmdW5jdGlvbih2YWx1ZSl7dmFyIGxlbmd0aD1HUk9XQUJMRV9IRUFQX1UzMigpW3ZhbHVlPj4yXTt2YXIgc3RyO2lmKHN0ZFN0cmluZ0lzVVRGOCl7dmFyIGRlY29kZVN0YXJ0UHRyPXZhbHVlKzQ7Zm9yKHZhciBpPTA7aTw9bGVuZ3RoOysraSl7dmFyIGN1cnJlbnRCeXRlUHRyPXZhbHVlKzQraTtpZihpPT1sZW5ndGh8fEdST1dBQkxFX0hFQVBfVTgoKVtjdXJyZW50Qnl0ZVB0cl09PTApe3ZhciBtYXhSZWFkPWN1cnJlbnRCeXRlUHRyLWRlY29kZVN0YXJ0UHRyO3ZhciBzdHJpbmdTZWdtZW50PVVURjhUb1N0cmluZyhkZWNvZGVTdGFydFB0cixtYXhSZWFkKTtpZihzdHI9PT11bmRlZmluZWQpe3N0cj1zdHJpbmdTZWdtZW50fWVsc2V7c3RyKz1TdHJpbmcuZnJvbUNoYXJDb2RlKDApO3N0cis9c3RyaW5nU2VnbWVudH1kZWNvZGVTdGFydFB0cj1jdXJyZW50Qnl0ZVB0cisxfX19ZWxzZXt2YXIgYT1uZXcgQXJyYXkobGVuZ3RoKTtmb3IodmFyIGk9MDtpPGxlbmd0aDsrK2kpe2FbaV09U3RyaW5nLmZyb21DaGFyQ29kZShHUk9XQUJMRV9IRUFQX1U4KClbdmFsdWUrNCtpXSl9c3RyPWEuam9pbigiIil9X2ZyZWUodmFsdWUpO3JldHVybiBzdHJ9LCJ0b1dpcmVUeXBlIjpmdW5jdGlvbihkZXN0cnVjdG9ycyx2YWx1ZSl7aWYodmFsdWUgaW5zdGFuY2VvZiBBcnJheUJ1ZmZlcil7dmFsdWU9bmV3IFVpbnQ4QXJyYXkodmFsdWUpfXZhciBnZXRMZW5ndGg7dmFyIHZhbHVlSXNPZlR5cGVTdHJpbmc9dHlwZW9mIHZhbHVlPT0ic3RyaW5nIjtpZighKHZhbHVlSXNPZlR5cGVTdHJpbmd8fHZhbHVlIGluc3RhbmNlb2YgVWludDhBcnJheXx8dmFsdWUgaW5zdGFuY2VvZiBVaW50OENsYW1wZWRBcnJheXx8dmFsdWUgaW5zdGFuY2VvZiBJbnQ4QXJyYXkpKXt0aHJvd0JpbmRpbmdFcnJvcigiQ2Fubm90IHBhc3Mgbm9uLXN0cmluZyB0byBzdGQ6OnN0cmluZyIpfWlmKHN0ZFN0cmluZ0lzVVRGOCYmdmFsdWVJc09mVHlwZVN0cmluZyl7Z2V0TGVuZ3RoPSgoKT0+bGVuZ3RoQnl0ZXNVVEY4KHZhbHVlKSl9ZWxzZXtnZXRMZW5ndGg9KCgpPT52YWx1ZS5sZW5ndGgpfXZhciBsZW5ndGg9Z2V0TGVuZ3RoKCk7dmFyIHB0cj1fbWFsbG9jKDQrbGVuZ3RoKzEpO0dST1dBQkxFX0hFQVBfVTMyKClbcHRyPj4yXT1sZW5ndGg7aWYoc3RkU3RyaW5nSXNVVEY4JiZ2YWx1ZUlzT2ZUeXBlU3RyaW5nKXtzdHJpbmdUb1VURjgodmFsdWUscHRyKzQsbGVuZ3RoKzEpfWVsc2V7aWYodmFsdWVJc09mVHlwZVN0cmluZyl7Zm9yKHZhciBpPTA7aTxsZW5ndGg7KytpKXt2YXIgY2hhckNvZGU9dmFsdWUuY2hhckNvZGVBdChpKTtpZihjaGFyQ29kZT4yNTUpe19mcmVlKHB0cik7dGhyb3dCaW5kaW5nRXJyb3IoIlN0cmluZyBoYXMgVVRGLTE2IGNvZGUgdW5pdHMgdGhhdCBkbyBub3QgZml0IGluIDggYml0cyIpfUdST1dBQkxFX0hFQVBfVTgoKVtwdHIrNCtpXT1jaGFyQ29kZX19ZWxzZXtmb3IodmFyIGk9MDtpPGxlbmd0aDsrK2kpe0dST1dBQkxFX0hFQVBfVTgoKVtwdHIrNCtpXT12YWx1ZVtpXX19fWlmKGRlc3RydWN0b3JzIT09bnVsbCl7ZGVzdHJ1Y3RvcnMucHVzaChfZnJlZSxwdHIpfXJldHVybiBwdHJ9LCJhcmdQYWNrQWR2YW5jZSI6OCwicmVhZFZhbHVlRnJvbVBvaW50ZXIiOnNpbXBsZVJlYWRWYWx1ZUZyb21Qb2ludGVyLGRlc3RydWN0b3JGdW5jdGlvbjpmdW5jdGlvbihwdHIpe19mcmVlKHB0cil9fSl9ZnVuY3Rpb24gX19lbWJpbmRfcmVnaXN0ZXJfc3RkX3dzdHJpbmcocmF3VHlwZSxjaGFyU2l6ZSxuYW1lKXtuYW1lPXJlYWRMYXRpbjFTdHJpbmcobmFtZSk7dmFyIGRlY29kZVN0cmluZyxlbmNvZGVTdHJpbmcsZ2V0SGVhcCxsZW5ndGhCeXRlc1VURixzaGlmdDtpZihjaGFyU2l6ZT09PTIpe2RlY29kZVN0cmluZz1VVEYxNlRvU3RyaW5nO2VuY29kZVN0cmluZz1zdHJpbmdUb1VURjE2O2xlbmd0aEJ5dGVzVVRGPWxlbmd0aEJ5dGVzVVRGMTY7Z2V0SGVhcD0oKCk9PkdST1dBQkxFX0hFQVBfVTE2KCkpO3NoaWZ0PTF9ZWxzZSBpZihjaGFyU2l6ZT09PTQpe2RlY29kZVN0cmluZz1VVEYzMlRvU3RyaW5nO2VuY29kZVN0cmluZz1zdHJpbmdUb1VURjMyO2xlbmd0aEJ5dGVzVVRGPWxlbmd0aEJ5dGVzVVRGMzI7Z2V0SGVhcD0oKCk9PkdST1dBQkxFX0hFQVBfVTMyKCkpO3NoaWZ0PTJ9cmVnaXN0ZXJUeXBlKHJhd1R5cGUse25hbWU6bmFtZSwiZnJvbVdpcmVUeXBlIjpmdW5jdGlvbih2YWx1ZSl7dmFyIGxlbmd0aD1HUk9XQUJMRV9IRUFQX1UzMigpW3ZhbHVlPj4yXTt2YXIgSEVBUD1nZXRIZWFwKCk7dmFyIHN0cjt2YXIgZGVjb2RlU3RhcnRQdHI9dmFsdWUrNDtmb3IodmFyIGk9MDtpPD1sZW5ndGg7KytpKXt2YXIgY3VycmVudEJ5dGVQdHI9dmFsdWUrNCtpKmNoYXJTaXplO2lmKGk9PWxlbmd0aHx8SEVBUFtjdXJyZW50Qnl0ZVB0cj4+c2hpZnRdPT0wKXt2YXIgbWF4UmVhZEJ5dGVzPWN1cnJlbnRCeXRlUHRyLWRlY29kZVN0YXJ0UHRyO3ZhciBzdHJpbmdTZWdtZW50PWRlY29kZVN0cmluZyhkZWNvZGVTdGFydFB0cixtYXhSZWFkQnl0ZXMpO2lmKHN0cj09PXVuZGVmaW5lZCl7c3RyPXN0cmluZ1NlZ21lbnR9ZWxzZXtzdHIrPVN0cmluZy5mcm9tQ2hhckNvZGUoMCk7c3RyKz1zdHJpbmdTZWdtZW50fWRlY29kZVN0YXJ0UHRyPWN1cnJlbnRCeXRlUHRyK2NoYXJTaXplfX1fZnJlZSh2YWx1ZSk7cmV0dXJuIHN0cn0sInRvV2lyZVR5cGUiOmZ1bmN0aW9uKGRlc3RydWN0b3JzLHZhbHVlKXtpZighKHR5cGVvZiB2YWx1ZT09InN0cmluZyIpKXt0aHJvd0JpbmRpbmdFcnJvcigiQ2Fubm90IHBhc3Mgbm9uLXN0cmluZyB0byBDKysgc3RyaW5nIHR5cGUgIituYW1lKX12YXIgbGVuZ3RoPWxlbmd0aEJ5dGVzVVRGKHZhbHVlKTt2YXIgcHRyPV9tYWxsb2MoNCtsZW5ndGgrY2hhclNpemUpO0dST1dBQkxFX0hFQVBfVTMyKClbcHRyPj4yXT1sZW5ndGg+PnNoaWZ0O2VuY29kZVN0cmluZyh2YWx1ZSxwdHIrNCxsZW5ndGgrY2hhclNpemUpO2lmKGRlc3RydWN0b3JzIT09bnVsbCl7ZGVzdHJ1Y3RvcnMucHVzaChfZnJlZSxwdHIpfXJldHVybiBwdHJ9LCJhcmdQYWNrQWR2YW5jZSI6OCwicmVhZFZhbHVlRnJvbVBvaW50ZXIiOnNpbXBsZVJlYWRWYWx1ZUZyb21Qb2ludGVyLGRlc3RydWN0b3JGdW5jdGlvbjpmdW5jdGlvbihwdHIpe19mcmVlKHB0cil9fSl9ZnVuY3Rpb24gX19lbWJpbmRfcmVnaXN0ZXJfdm9pZChyYXdUeXBlLG5hbWUpe25hbWU9cmVhZExhdGluMVN0cmluZyhuYW1lKTtyZWdpc3RlclR5cGUocmF3VHlwZSx7aXNWb2lkOnRydWUsbmFtZTpuYW1lLCJhcmdQYWNrQWR2YW5jZSI6MCwiZnJvbVdpcmVUeXBlIjpmdW5jdGlvbigpe3JldHVybiB1bmRlZmluZWR9LCJ0b1dpcmVUeXBlIjpmdW5jdGlvbihkZXN0cnVjdG9ycyxvKXtyZXR1cm4gdW5kZWZpbmVkfX0pfWZ1bmN0aW9uIF9fZW1zY3JpcHRlbl9kYXRlX25vdygpe3JldHVybiBEYXRlLm5vdygpfWZ1bmN0aW9uIF9fZW1zY3JpcHRlbl9kZWZhdWx0X3B0aHJlYWRfc3RhY2tfc2l6ZSgpe3JldHVybiAyMDk3MTUyfXZhciBub3dJc01vbm90b25pYz10cnVlO2Z1bmN0aW9uIF9fZW1zY3JpcHRlbl9nZXRfbm93X2lzX21vbm90b25pYygpe3JldHVybiBub3dJc01vbm90b25pY31mdW5jdGlvbiBleGVjdXRlTm90aWZpZWRQcm94eWluZ1F1ZXVlKHF1ZXVlKXtBdG9taWNzLnN0b3JlKEdST1dBQkxFX0hFQVBfSTMyKCkscXVldWU+PjIsMSk7aWYoX3B0aHJlYWRfc2VsZigpKXtfX2Vtc2NyaXB0ZW5fcHJveHlfZXhlY3V0ZV90YXNrX3F1ZXVlKHF1ZXVlKX1BdG9taWNzLmNvbXBhcmVFeGNoYW5nZShHUk9XQUJMRV9IRUFQX0kzMigpLHF1ZXVlPj4yLDEsMCl9TW9kdWxlWyJleGVjdXRlTm90aWZpZWRQcm94eWluZ1F1ZXVlIl09ZXhlY3V0ZU5vdGlmaWVkUHJveHlpbmdRdWV1ZTtmdW5jdGlvbiBfX2Vtc2NyaXB0ZW5fbm90aWZ5X3Rhc2tfcXVldWUodGFyZ2V0VGhyZWFkSWQsY3VyclRocmVhZElkLG1haW5UaHJlYWRJZCxxdWV1ZSl7aWYodGFyZ2V0VGhyZWFkSWQ9PWN1cnJUaHJlYWRJZCl7c2V0VGltZW91dCgoKT0+ZXhlY3V0ZU5vdGlmaWVkUHJveHlpbmdRdWV1ZShxdWV1ZSkpfWVsc2UgaWYoRU5WSVJPTk1FTlRfSVNfUFRIUkVBRCl7cG9zdE1lc3NhZ2UoeyJ0YXJnZXRUaHJlYWQiOnRhcmdldFRocmVhZElkLCJjbWQiOiJwcm9jZXNzUHJveHlpbmdRdWV1ZSIsInF1ZXVlIjpxdWV1ZX0pfWVsc2V7dmFyIHB0aHJlYWQ9UFRocmVhZC5wdGhyZWFkc1t0YXJnZXRUaHJlYWRJZF07dmFyIHdvcmtlcj1wdGhyZWFkJiZwdGhyZWFkLndvcmtlcjtpZighd29ya2VyKXtyZXR1cm59d29ya2VyLnBvc3RNZXNzYWdlKHsiY21kIjoicHJvY2Vzc1Byb3h5aW5nUXVldWUiLCJxdWV1ZSI6cXVldWV9KX1yZXR1cm4gMX1mdW5jdGlvbiBfX2Vtc2NyaXB0ZW5fc2V0X29mZnNjcmVlbmNhbnZhc19zaXplKHRhcmdldCx3aWR0aCxoZWlnaHQpe3JldHVybi0xfWZ1bmN0aW9uIF9fZW12YWxfaW5jcmVmKGhhbmRsZSl7aWYoaGFuZGxlPjQpe2VtdmFsX2hhbmRsZV9hcnJheVtoYW5kbGVdLnJlZmNvdW50Kz0xfX1mdW5jdGlvbiByZXF1aXJlUmVnaXN0ZXJlZFR5cGUocmF3VHlwZSxodW1hbk5hbWUpe3ZhciBpbXBsPXJlZ2lzdGVyZWRUeXBlc1tyYXdUeXBlXTtpZih1bmRlZmluZWQ9PT1pbXBsKXt0aHJvd0JpbmRpbmdFcnJvcihodW1hbk5hbWUrIiBoYXMgdW5rbm93biB0eXBlICIrZ2V0VHlwZU5hbWUocmF3VHlwZSkpfXJldHVybiBpbXBsfWZ1bmN0aW9uIF9fZW12YWxfdGFrZV92YWx1ZSh0eXBlLGFyZ3Ype3R5cGU9cmVxdWlyZVJlZ2lzdGVyZWRUeXBlKHR5cGUsIl9lbXZhbF90YWtlX3ZhbHVlIik7dmFyIHY9dHlwZVsicmVhZFZhbHVlRnJvbVBvaW50ZXIiXShhcmd2KTtyZXR1cm4gRW12YWwudG9IYW5kbGUodil9ZnVuY3Rpb24gX19tbWFwX2pzKGFkZHIsbGVuLHByb3QsZmxhZ3MsZmQsb2ZmLGFsbG9jYXRlZCxidWlsdGluKXtpZihFTlZJUk9OTUVOVF9JU19QVEhSRUFEKXJldHVybiBfZW1zY3JpcHRlbl9wcm94eV90b19tYWluX3RocmVhZF9qcygxMywxLGFkZHIsbGVuLHByb3QsZmxhZ3MsZmQsb2ZmLGFsbG9jYXRlZCxidWlsdGluKTt0cnl7dmFyIGluZm89RlMuZ2V0U3RyZWFtKGZkKTtpZighaW5mbylyZXR1cm4tODt2YXIgcmVzPUZTLm1tYXAoaW5mbyxhZGRyLGxlbixvZmYscHJvdCxmbGFncyk7dmFyIHB0cj1yZXMucHRyO0dST1dBQkxFX0hFQVBfSTMyKClbYWxsb2NhdGVkPj4yXT1yZXMuYWxsb2NhdGVkO3JldHVybiBwdHJ9Y2F0Y2goZSl7aWYodHlwZW9mIEZTPT0idW5kZWZpbmVkInx8IShlIGluc3RhbmNlb2YgRlMuRXJybm9FcnJvcikpdGhyb3cgZTtyZXR1cm4tZS5lcnJub319ZnVuY3Rpb24gX19tdW5tYXBfanMoYWRkcixsZW4scHJvdCxmbGFncyxmZCxvZmZzZXQpe2lmKEVOVklST05NRU5UX0lTX1BUSFJFQUQpcmV0dXJuIF9lbXNjcmlwdGVuX3Byb3h5X3RvX21haW5fdGhyZWFkX2pzKDE0LDEsYWRkcixsZW4scHJvdCxmbGFncyxmZCxvZmZzZXQpO3RyeXt2YXIgc3RyZWFtPUZTLmdldFN0cmVhbShmZCk7aWYoc3RyZWFtKXtpZihwcm90JjIpe1NZU0NBTExTLmRvTXN5bmMoYWRkcixzdHJlYW0sbGVuLGZsYWdzLG9mZnNldCl9RlMubXVubWFwKHN0cmVhbSl9fWNhdGNoKGUpe2lmKHR5cGVvZiBGUz09InVuZGVmaW5lZCJ8fCEoZSBpbnN0YW5jZW9mIEZTLkVycm5vRXJyb3IpKXRocm93IGU7cmV0dXJuLWUuZXJybm99fWZ1bmN0aW9uIF9hYm9ydCgpe2Fib3J0KCIiKX1mdW5jdGlvbiBfZW1zY3JpcHRlbl9jaGVja19ibG9ja2luZ19hbGxvd2VkKCl7aWYoRU5WSVJPTk1FTlRfSVNfV09SS0VSKXJldHVybjt3YXJuT25jZSgiQmxvY2tpbmcgb24gdGhlIG1haW4gdGhyZWFkIGlzIHZlcnkgZGFuZ2Vyb3VzLCBzZWUgaHR0cHM6Ly9lbXNjcmlwdGVuLm9yZy9kb2NzL3BvcnRpbmcvcHRocmVhZHMuaHRtbCNibG9ja2luZy1vbi10aGUtbWFpbi1icm93c2VyLXRocmVhZCIpfWZ1bmN0aW9uIF9lbXNjcmlwdGVuX2dldF9oZWFwX21heCgpe3JldHVybiAyMTQ3NDgzNjQ4fXZhciBfZW1zY3JpcHRlbl9nZXRfbm93O2lmKEVOVklST05NRU5UX0lTX1BUSFJFQUQpe19lbXNjcmlwdGVuX2dldF9ub3c9KCgpPT5wZXJmb3JtYW5jZS5ub3coKS1Nb2R1bGVbIl9fcGVyZm9ybWFuY2Vfbm93X2Nsb2NrX2RyaWZ0Il0pfWVsc2UgX2Vtc2NyaXB0ZW5fZ2V0X25vdz0oKCk9PnBlcmZvcm1hbmNlLm5vdygpKTtmdW5jdGlvbiBfZW1zY3JpcHRlbl9tZW1jcHlfYmlnKGRlc3Qsc3JjLG51bSl7R1JPV0FCTEVfSEVBUF9VOCgpLmNvcHlXaXRoaW4oZGVzdCxzcmMsc3JjK251bSl9ZnVuY3Rpb24gX2Vtc2NyaXB0ZW5fbnVtX2xvZ2ljYWxfY29yZXMoKXtyZXR1cm4gbmF2aWdhdG9yWyJoYXJkd2FyZUNvbmN1cnJlbmN5Il19ZnVuY3Rpb24gX2Vtc2NyaXB0ZW5fcHJveHlfdG9fbWFpbl90aHJlYWRfanMoaW5kZXgsc3luYyl7dmFyIG51bUNhbGxBcmdzPWFyZ3VtZW50cy5sZW5ndGgtMjt2YXIgb3V0ZXJBcmdzPWFyZ3VtZW50cztyZXR1cm4gd2l0aFN0YWNrU2F2ZShmdW5jdGlvbigpe3ZhciBzZXJpYWxpemVkTnVtQ2FsbEFyZ3M9bnVtQ2FsbEFyZ3M7dmFyIGFyZ3M9c3RhY2tBbGxvYyhzZXJpYWxpemVkTnVtQ2FsbEFyZ3MqOCk7dmFyIGI9YXJncz4+Mztmb3IodmFyIGk9MDtpPG51bUNhbGxBcmdzO2krKyl7dmFyIGFyZz1vdXRlckFyZ3NbMitpXTtHUk9XQUJMRV9IRUFQX0Y2NCgpW2IraV09YXJnfXJldHVybiBfZW1zY3JpcHRlbl9ydW5faW5fbWFpbl9ydW50aW1lX3RocmVhZF9qcyhpbmRleCxzZXJpYWxpemVkTnVtQ2FsbEFyZ3MsYXJncyxzeW5jKX0pfXZhciBfZW1zY3JpcHRlbl9yZWNlaXZlX29uX21haW5fdGhyZWFkX2pzX2NhbGxBcmdzPVtdO2Z1bmN0aW9uIF9lbXNjcmlwdGVuX3JlY2VpdmVfb25fbWFpbl90aHJlYWRfanMoaW5kZXgsbnVtQ2FsbEFyZ3MsYXJncyl7X2Vtc2NyaXB0ZW5fcmVjZWl2ZV9vbl9tYWluX3RocmVhZF9qc19jYWxsQXJncy5sZW5ndGg9bnVtQ2FsbEFyZ3M7dmFyIGI9YXJncz4+Mztmb3IodmFyIGk9MDtpPG51bUNhbGxBcmdzO2krKyl7X2Vtc2NyaXB0ZW5fcmVjZWl2ZV9vbl9tYWluX3RocmVhZF9qc19jYWxsQXJnc1tpXT1HUk9XQUJMRV9IRUFQX0Y2NCgpW2IraV19dmFyIGlzRW1Bc21Db25zdD1pbmRleDwwO3ZhciBmdW5jPSFpc0VtQXNtQ29uc3Q/cHJveGllZEZ1bmN0aW9uVGFibGVbaW5kZXhdOkFTTV9DT05TVFNbLWluZGV4LTFdO3JldHVybiBmdW5jLmFwcGx5KG51bGwsX2Vtc2NyaXB0ZW5fcmVjZWl2ZV9vbl9tYWluX3RocmVhZF9qc19jYWxsQXJncyl9ZnVuY3Rpb24gZW1zY3JpcHRlbl9yZWFsbG9jX2J1ZmZlcihzaXplKXt0cnl7d2FzbU1lbW9yeS5ncm93KHNpemUtYnVmZmVyLmJ5dGVMZW5ndGgrNjU1MzU+Pj4xNik7dXBkYXRlR2xvYmFsQnVmZmVyQW5kVmlld3Mod2FzbU1lbW9yeS5idWZmZXIpO3JldHVybiAxfWNhdGNoKGUpe319ZnVuY3Rpb24gX2Vtc2NyaXB0ZW5fcmVzaXplX2hlYXAocmVxdWVzdGVkU2l6ZSl7dmFyIG9sZFNpemU9R1JPV0FCTEVfSEVBUF9VOCgpLmxlbmd0aDtyZXF1ZXN0ZWRTaXplPXJlcXVlc3RlZFNpemU+Pj4wO2lmKHJlcXVlc3RlZFNpemU8PW9sZFNpemUpe3JldHVybiBmYWxzZX12YXIgbWF4SGVhcFNpemU9X2Vtc2NyaXB0ZW5fZ2V0X2hlYXBfbWF4KCk7aWYocmVxdWVzdGVkU2l6ZT5tYXhIZWFwU2l6ZSl7cmV0dXJuIGZhbHNlfWxldCBhbGlnblVwPSh4LG11bHRpcGxlKT0+eCsobXVsdGlwbGUteCVtdWx0aXBsZSklbXVsdGlwbGU7Zm9yKHZhciBjdXREb3duPTE7Y3V0RG93bjw9NDtjdXREb3duKj0yKXt2YXIgb3Zlckdyb3duSGVhcFNpemU9b2xkU2l6ZSooMSsuMi9jdXREb3duKTtvdmVyR3Jvd25IZWFwU2l6ZT1NYXRoLm1pbihvdmVyR3Jvd25IZWFwU2l6ZSxyZXF1ZXN0ZWRTaXplKzEwMDY2MzI5Nik7dmFyIG5ld1NpemU9TWF0aC5taW4obWF4SGVhcFNpemUsYWxpZ25VcChNYXRoLm1heChyZXF1ZXN0ZWRTaXplLG92ZXJHcm93bkhlYXBTaXplKSw2NTUzNikpO3ZhciByZXBsYWNlbWVudD1lbXNjcmlwdGVuX3JlYWxsb2NfYnVmZmVyKG5ld1NpemUpO2lmKHJlcGxhY2VtZW50KXtyZXR1cm4gdHJ1ZX19cmV0dXJuIGZhbHNlfWZ1bmN0aW9uIF9lbXNjcmlwdGVuX3Vud2luZF90b19qc19ldmVudF9sb29wKCl7dGhyb3cidW53aW5kIn12YXIgRU5WPXt9O2Z1bmN0aW9uIGdldEV4ZWN1dGFibGVOYW1lKCl7cmV0dXJuIHRoaXNQcm9ncmFtfHwiLi90aGlzLnByb2dyYW0ifWZ1bmN0aW9uIGdldEVudlN0cmluZ3MoKXtpZighZ2V0RW52U3RyaW5ncy5zdHJpbmdzKXt2YXIgbGFuZz0odHlwZW9mIG5hdmlnYXRvcj09Im9iamVjdCImJm5hdmlnYXRvci5sYW5ndWFnZXMmJm5hdmlnYXRvci5sYW5ndWFnZXNbMF18fCJDIikucmVwbGFjZSgiLSIsIl8iKSsiLlVURi04Ijt2YXIgZW52PXsiVVNFUiI6IndlYl91c2VyIiwiTE9HTkFNRSI6IndlYl91c2VyIiwiUEFUSCI6Ii8iLCJQV0QiOiIvIiwiSE9NRSI6Ii9ob21lL3dlYl91c2VyIiwiTEFORyI6bGFuZywiXyI6Z2V0RXhlY3V0YWJsZU5hbWUoKX07Zm9yKHZhciB4IGluIEVOVil7aWYoRU5WW3hdPT09dW5kZWZpbmVkKWRlbGV0ZSBlbnZbeF07ZWxzZSBlbnZbeF09RU5WW3hdfXZhciBzdHJpbmdzPVtdO2Zvcih2YXIgeCBpbiBlbnYpe3N0cmluZ3MucHVzaCh4KyI9IitlbnZbeF0pfWdldEVudlN0cmluZ3Muc3RyaW5ncz1zdHJpbmdzfXJldHVybiBnZXRFbnZTdHJpbmdzLnN0cmluZ3N9ZnVuY3Rpb24gX2Vudmlyb25fZ2V0KF9fZW52aXJvbixlbnZpcm9uX2J1Zil7aWYoRU5WSVJPTk1FTlRfSVNfUFRIUkVBRClyZXR1cm4gX2Vtc2NyaXB0ZW5fcHJveHlfdG9fbWFpbl90aHJlYWRfanMoMTUsMSxfX2Vudmlyb24sZW52aXJvbl9idWYpO3ZhciBidWZTaXplPTA7Z2V0RW52U3RyaW5ncygpLmZvckVhY2goZnVuY3Rpb24oc3RyaW5nLGkpe3ZhciBwdHI9ZW52aXJvbl9idWYrYnVmU2l6ZTtHUk9XQUJMRV9IRUFQX0kzMigpW19fZW52aXJvbitpKjQ+PjJdPXB0cjt3cml0ZUFzY2lpVG9NZW1vcnkoc3RyaW5nLHB0cik7YnVmU2l6ZSs9c3RyaW5nLmxlbmd0aCsxfSk7cmV0dXJuIDB9ZnVuY3Rpb24gX2Vudmlyb25fc2l6ZXNfZ2V0KHBlbnZpcm9uX2NvdW50LHBlbnZpcm9uX2J1Zl9zaXplKXtpZihFTlZJUk9OTUVOVF9JU19QVEhSRUFEKXJldHVybiBfZW1zY3JpcHRlbl9wcm94eV90b19tYWluX3RocmVhZF9qcygxNiwxLHBlbnZpcm9uX2NvdW50LHBlbnZpcm9uX2J1Zl9zaXplKTt2YXIgc3RyaW5ncz1nZXRFbnZTdHJpbmdzKCk7R1JPV0FCTEVfSEVBUF9JMzIoKVtwZW52aXJvbl9jb3VudD4+Ml09c3RyaW5ncy5sZW5ndGg7dmFyIGJ1ZlNpemU9MDtzdHJpbmdzLmZvckVhY2goZnVuY3Rpb24oc3RyaW5nKXtidWZTaXplKz1zdHJpbmcubGVuZ3RoKzF9KTtHUk9XQUJMRV9IRUFQX0kzMigpW3BlbnZpcm9uX2J1Zl9zaXplPj4yXT1idWZTaXplO3JldHVybiAwfWZ1bmN0aW9uIF9mZF9jbG9zZShmZCl7aWYoRU5WSVJPTk1FTlRfSVNfUFRIUkVBRClyZXR1cm4gX2Vtc2NyaXB0ZW5fcHJveHlfdG9fbWFpbl90aHJlYWRfanMoMTcsMSxmZCk7dHJ5e3ZhciBzdHJlYW09U1lTQ0FMTFMuZ2V0U3RyZWFtRnJvbUZEKGZkKTtGUy5jbG9zZShzdHJlYW0pO3JldHVybiAwfWNhdGNoKGUpe2lmKHR5cGVvZiBGUz09InVuZGVmaW5lZCJ8fCEoZSBpbnN0YW5jZW9mIEZTLkVycm5vRXJyb3IpKXRocm93IGU7cmV0dXJuIGUuZXJybm99fWZ1bmN0aW9uIGRvUmVhZHYoc3RyZWFtLGlvdixpb3ZjbnQsb2Zmc2V0KXt2YXIgcmV0PTA7Zm9yKHZhciBpPTA7aTxpb3ZjbnQ7aSsrKXt2YXIgcHRyPUdST1dBQkxFX0hFQVBfVTMyKClbaW92Pj4yXTt2YXIgbGVuPUdST1dBQkxFX0hFQVBfVTMyKClbaW92KzQ+PjJdO2lvdis9ODt2YXIgY3Vycj1GUy5yZWFkKHN0cmVhbSxHUk9XQUJMRV9IRUFQX0k4KCkscHRyLGxlbixvZmZzZXQpO2lmKGN1cnI8MClyZXR1cm4tMTtyZXQrPWN1cnI7aWYoY3VycjxsZW4pYnJlYWt9cmV0dXJuIHJldH1mdW5jdGlvbiBfZmRfcmVhZChmZCxpb3YsaW92Y250LHBudW0pe2lmKEVOVklST05NRU5UX0lTX1BUSFJFQUQpcmV0dXJuIF9lbXNjcmlwdGVuX3Byb3h5X3RvX21haW5fdGhyZWFkX2pzKDE4LDEsZmQsaW92LGlvdmNudCxwbnVtKTt0cnl7dmFyIHN0cmVhbT1TWVNDQUxMUy5nZXRTdHJlYW1Gcm9tRkQoZmQpO3ZhciBudW09ZG9SZWFkdihzdHJlYW0saW92LGlvdmNudCk7R1JPV0FCTEVfSEVBUF9JMzIoKVtwbnVtPj4yXT1udW07cmV0dXJuIDB9Y2F0Y2goZSl7aWYodHlwZW9mIEZTPT0idW5kZWZpbmVkInx8IShlIGluc3RhbmNlb2YgRlMuRXJybm9FcnJvcikpdGhyb3cgZTtyZXR1cm4gZS5lcnJub319ZnVuY3Rpb24gX2ZkX3NlZWsoZmQsb2Zmc2V0X2xvdyxvZmZzZXRfaGlnaCx3aGVuY2UsbmV3T2Zmc2V0KXtpZihFTlZJUk9OTUVOVF9JU19QVEhSRUFEKXJldHVybiBfZW1zY3JpcHRlbl9wcm94eV90b19tYWluX3RocmVhZF9qcygxOSwxLGZkLG9mZnNldF9sb3csb2Zmc2V0X2hpZ2gsd2hlbmNlLG5ld09mZnNldCk7dHJ5e3ZhciBzdHJlYW09U1lTQ0FMTFMuZ2V0U3RyZWFtRnJvbUZEKGZkKTt2YXIgSElHSF9PRkZTRVQ9NDI5NDk2NzI5Njt2YXIgb2Zmc2V0PW9mZnNldF9oaWdoKkhJR0hfT0ZGU0VUKyhvZmZzZXRfbG93Pj4+MCk7dmFyIERPVUJMRV9MSU1JVD05MDA3MTk5MjU0NzQwOTkyO2lmKG9mZnNldDw9LURPVUJMRV9MSU1JVHx8b2Zmc2V0Pj1ET1VCTEVfTElNSVQpe3JldHVybiA2MX1GUy5sbHNlZWsoc3RyZWFtLG9mZnNldCx3aGVuY2UpO3RlbXBJNjQ9W3N0cmVhbS5wb3NpdGlvbj4+PjAsKHRlbXBEb3VibGU9c3RyZWFtLnBvc2l0aW9uLCtNYXRoLmFicyh0ZW1wRG91YmxlKT49MT90ZW1wRG91YmxlPjA/KE1hdGgubWluKCtNYXRoLmZsb29yKHRlbXBEb3VibGUvNDI5NDk2NzI5NiksNDI5NDk2NzI5NSl8MCk+Pj4wOn5+K01hdGguY2VpbCgodGVtcERvdWJsZS0rKH5+dGVtcERvdWJsZT4+PjApKS80Mjk0OTY3Mjk2KT4+PjA6MCldLEdST1dBQkxFX0hFQVBfSTMyKClbbmV3T2Zmc2V0Pj4yXT10ZW1wSTY0WzBdLEdST1dBQkxFX0hFQVBfSTMyKClbbmV3T2Zmc2V0KzQ+PjJdPXRlbXBJNjRbMV07aWYoc3RyZWFtLmdldGRlbnRzJiZvZmZzZXQ9PT0wJiZ3aGVuY2U9PT0wKXN0cmVhbS5nZXRkZW50cz1udWxsO3JldHVybiAwfWNhdGNoKGUpe2lmKHR5cGVvZiBGUz09InVuZGVmaW5lZCJ8fCEoZSBpbnN0YW5jZW9mIEZTLkVycm5vRXJyb3IpKXRocm93IGU7cmV0dXJuIGUuZXJybm99fWZ1bmN0aW9uIF9mZF9zeW5jKGZkKXtpZihFTlZJUk9OTUVOVF9JU19QVEhSRUFEKXJldHVybiBfZW1zY3JpcHRlbl9wcm94eV90b19tYWluX3RocmVhZF9qcygyMCwxLGZkKTt0cnl7dmFyIHN0cmVhbT1TWVNDQUxMUy5nZXRTdHJlYW1Gcm9tRkQoZmQpO2lmKHN0cmVhbS5zdHJlYW1fb3BzJiZzdHJlYW0uc3RyZWFtX29wcy5mc3luYyl7cmV0dXJuLXN0cmVhbS5zdHJlYW1fb3BzLmZzeW5jKHN0cmVhbSl9cmV0dXJuIDB9Y2F0Y2goZSl7aWYodHlwZW9mIEZTPT0idW5kZWZpbmVkInx8IShlIGluc3RhbmNlb2YgRlMuRXJybm9FcnJvcikpdGhyb3cgZTtyZXR1cm4gZS5lcnJub319ZnVuY3Rpb24gZG9Xcml0ZXYoc3RyZWFtLGlvdixpb3ZjbnQsb2Zmc2V0KXt2YXIgcmV0PTA7Zm9yKHZhciBpPTA7aTxpb3ZjbnQ7aSsrKXt2YXIgcHRyPUdST1dBQkxFX0hFQVBfVTMyKClbaW92Pj4yXTt2YXIgbGVuPUdST1dBQkxFX0hFQVBfVTMyKClbaW92KzQ+PjJdO2lvdis9ODt2YXIgY3Vycj1GUy53cml0ZShzdHJlYW0sR1JPV0FCTEVfSEVBUF9JOCgpLHB0cixsZW4sb2Zmc2V0KTtpZihjdXJyPDApcmV0dXJuLTE7cmV0Kz1jdXJyfXJldHVybiByZXR9ZnVuY3Rpb24gX2ZkX3dyaXRlKGZkLGlvdixpb3ZjbnQscG51bSl7aWYoRU5WSVJPTk1FTlRfSVNfUFRIUkVBRClyZXR1cm4gX2Vtc2NyaXB0ZW5fcHJveHlfdG9fbWFpbl90aHJlYWRfanMoMjEsMSxmZCxpb3YsaW92Y250LHBudW0pO3RyeXt2YXIgc3RyZWFtPVNZU0NBTExTLmdldFN0cmVhbUZyb21GRChmZCk7dmFyIG51bT1kb1dyaXRldihzdHJlYW0saW92LGlvdmNudCk7R1JPV0FCTEVfSEVBUF9JMzIoKVtwbnVtPj4yXT1udW07cmV0dXJuIDB9Y2F0Y2goZSl7aWYodHlwZW9mIEZTPT0idW5kZWZpbmVkInx8IShlIGluc3RhbmNlb2YgRlMuRXJybm9FcnJvcikpdGhyb3cgZTtyZXR1cm4gZS5lcnJub319ZnVuY3Rpb24gX2dldFRlbXBSZXQwKCl7cmV0dXJuIGdldFRlbXBSZXQwKCl9ZnVuY3Rpb24gX2dldGVudHJvcHkoYnVmZmVyLHNpemUpe2lmKCFfZ2V0ZW50cm9weS5yYW5kb21EZXZpY2Upe19nZXRlbnRyb3B5LnJhbmRvbURldmljZT1nZXRSYW5kb21EZXZpY2UoKX1mb3IodmFyIGk9MDtpPHNpemU7aSsrKXtHUk9XQUJMRV9IRUFQX0k4KClbYnVmZmVyK2k+PjBdPV9nZXRlbnRyb3B5LnJhbmRvbURldmljZSgpfXJldHVybiAwfWZ1bmN0aW9uIF9zZXRUZW1wUmV0MCh2YWwpe3NldFRlbXBSZXQwKHZhbCl9ZnVuY3Rpb24gX19pc0xlYXBZZWFyKHllYXIpe3JldHVybiB5ZWFyJTQ9PT0wJiYoeWVhciUxMDAhPT0wfHx5ZWFyJTQwMD09PTApfWZ1bmN0aW9uIF9fYXJyYXlTdW0oYXJyYXksaW5kZXgpe3ZhciBzdW09MDtmb3IodmFyIGk9MDtpPD1pbmRleDtzdW0rPWFycmF5W2krK10pe31yZXR1cm4gc3VtfXZhciBfX01PTlRIX0RBWVNfTEVBUD1bMzEsMjksMzEsMzAsMzEsMzAsMzEsMzEsMzAsMzEsMzAsMzFdO3ZhciBfX01PTlRIX0RBWVNfUkVHVUxBUj1bMzEsMjgsMzEsMzAsMzEsMzAsMzEsMzEsMzAsMzEsMzAsMzFdO2Z1bmN0aW9uIF9fYWRkRGF5cyhkYXRlLGRheXMpe3ZhciBuZXdEYXRlPW5ldyBEYXRlKGRhdGUuZ2V0VGltZSgpKTt3aGlsZShkYXlzPjApe3ZhciBsZWFwPV9faXNMZWFwWWVhcihuZXdEYXRlLmdldEZ1bGxZZWFyKCkpO3ZhciBjdXJyZW50TW9udGg9bmV3RGF0ZS5nZXRNb250aCgpO3ZhciBkYXlzSW5DdXJyZW50TW9udGg9KGxlYXA/X19NT05USF9EQVlTX0xFQVA6X19NT05USF9EQVlTX1JFR1VMQVIpW2N1cnJlbnRNb250aF07aWYoZGF5cz5kYXlzSW5DdXJyZW50TW9udGgtbmV3RGF0ZS5nZXREYXRlKCkpe2RheXMtPWRheXNJbkN1cnJlbnRNb250aC1uZXdEYXRlLmdldERhdGUoKSsxO25ld0RhdGUuc2V0RGF0ZSgxKTtpZihjdXJyZW50TW9udGg8MTEpe25ld0RhdGUuc2V0TW9udGgoY3VycmVudE1vbnRoKzEpfWVsc2V7bmV3RGF0ZS5zZXRNb250aCgwKTtuZXdEYXRlLnNldEZ1bGxZZWFyKG5ld0RhdGUuZ2V0RnVsbFllYXIoKSsxKX19ZWxzZXtuZXdEYXRlLnNldERhdGUobmV3RGF0ZS5nZXREYXRlKCkrZGF5cyk7cmV0dXJuIG5ld0RhdGV9fXJldHVybiBuZXdEYXRlfWZ1bmN0aW9uIF9zdHJmdGltZShzLG1heHNpemUsZm9ybWF0LHRtKXt2YXIgdG1fem9uZT1HUk9XQUJMRV9IRUFQX0kzMigpW3RtKzQwPj4yXTt2YXIgZGF0ZT17dG1fc2VjOkdST1dBQkxFX0hFQVBfSTMyKClbdG0+PjJdLHRtX21pbjpHUk9XQUJMRV9IRUFQX0kzMigpW3RtKzQ+PjJdLHRtX2hvdXI6R1JPV0FCTEVfSEVBUF9JMzIoKVt0bSs4Pj4yXSx0bV9tZGF5OkdST1dBQkxFX0hFQVBfSTMyKClbdG0rMTI+PjJdLHRtX21vbjpHUk9XQUJMRV9IRUFQX0kzMigpW3RtKzE2Pj4yXSx0bV95ZWFyOkdST1dBQkxFX0hFQVBfSTMyKClbdG0rMjA+PjJdLHRtX3dkYXk6R1JPV0FCTEVfSEVBUF9JMzIoKVt0bSsyND4+Ml0sdG1feWRheTpHUk9XQUJMRV9IRUFQX0kzMigpW3RtKzI4Pj4yXSx0bV9pc2RzdDpHUk9XQUJMRV9IRUFQX0kzMigpW3RtKzMyPj4yXSx0bV9nbXRvZmY6R1JPV0FCTEVfSEVBUF9JMzIoKVt0bSszNj4+Ml0sdG1fem9uZTp0bV96b25lP1VURjhUb1N0cmluZyh0bV96b25lKToiIn07dmFyIHBhdHRlcm49VVRGOFRvU3RyaW5nKGZvcm1hdCk7dmFyIEVYUEFOU0lPTl9SVUxFU18xPXsiJWMiOiIlYSAlYiAlZCAlSDolTTolUyAlWSIsIiVEIjoiJW0vJWQvJXkiLCIlRiI6IiVZLSVtLSVkIiwiJWgiOiIlYiIsIiVyIjoiJUk6JU06JVMgJXAiLCIlUiI6IiVIOiVNIiwiJVQiOiIlSDolTTolUyIsIiV4IjoiJW0vJWQvJXkiLCIlWCI6IiVIOiVNOiVTIiwiJUVjIjoiJWMiLCIlRUMiOiIlQyIsIiVFeCI6IiVtLyVkLyV5IiwiJUVYIjoiJUg6JU06JVMiLCIlRXkiOiIleSIsIiVFWSI6IiVZIiwiJU9kIjoiJWQiLCIlT2UiOiIlZSIsIiVPSCI6IiVIIiwiJU9JIjoiJUkiLCIlT20iOiIlbSIsIiVPTSI6IiVNIiwiJU9TIjoiJVMiLCIlT3UiOiIldSIsIiVPVSI6IiVVIiwiJU9WIjoiJVYiLCIlT3ciOiIldyIsIiVPVyI6IiVXIiwiJU95IjoiJXkifTtmb3IodmFyIHJ1bGUgaW4gRVhQQU5TSU9OX1JVTEVTXzEpe3BhdHRlcm49cGF0dGVybi5yZXBsYWNlKG5ldyBSZWdFeHAocnVsZSwiZyIpLEVYUEFOU0lPTl9SVUxFU18xW3J1bGVdKX12YXIgV0VFS0RBWVM9WyJTdW5kYXkiLCJNb25kYXkiLCJUdWVzZGF5IiwiV2VkbmVzZGF5IiwiVGh1cnNkYXkiLCJGcmlkYXkiLCJTYXR1cmRheSJdO3ZhciBNT05USFM9WyJKYW51YXJ5IiwiRmVicnVhcnkiLCJNYXJjaCIsIkFwcmlsIiwiTWF5IiwiSnVuZSIsIkp1bHkiLCJBdWd1c3QiLCJTZXB0ZW1iZXIiLCJPY3RvYmVyIiwiTm92ZW1iZXIiLCJEZWNlbWJlciJdO2Z1bmN0aW9uIGxlYWRpbmdTb21ldGhpbmcodmFsdWUsZGlnaXRzLGNoYXJhY3Rlcil7dmFyIHN0cj10eXBlb2YgdmFsdWU9PSJudW1iZXIiP3ZhbHVlLnRvU3RyaW5nKCk6dmFsdWV8fCIiO3doaWxlKHN0ci5sZW5ndGg8ZGlnaXRzKXtzdHI9Y2hhcmFjdGVyWzBdK3N0cn1yZXR1cm4gc3RyfWZ1bmN0aW9uIGxlYWRpbmdOdWxscyh2YWx1ZSxkaWdpdHMpe3JldHVybiBsZWFkaW5nU29tZXRoaW5nKHZhbHVlLGRpZ2l0cywiMCIpfWZ1bmN0aW9uIGNvbXBhcmVCeURheShkYXRlMSxkYXRlMil7ZnVuY3Rpb24gc2duKHZhbHVlKXtyZXR1cm4gdmFsdWU8MD8tMTp2YWx1ZT4wPzE6MH12YXIgY29tcGFyZTtpZigoY29tcGFyZT1zZ24oZGF0ZTEuZ2V0RnVsbFllYXIoKS1kYXRlMi5nZXRGdWxsWWVhcigpKSk9PT0wKXtpZigoY29tcGFyZT1zZ24oZGF0ZTEuZ2V0TW9udGgoKS1kYXRlMi5nZXRNb250aCgpKSk9PT0wKXtjb21wYXJlPXNnbihkYXRlMS5nZXREYXRlKCktZGF0ZTIuZ2V0RGF0ZSgpKX19cmV0dXJuIGNvbXBhcmV9ZnVuY3Rpb24gZ2V0Rmlyc3RXZWVrU3RhcnREYXRlKGphbkZvdXJ0aCl7c3dpdGNoKGphbkZvdXJ0aC5nZXREYXkoKSl7Y2FzZSAwOnJldHVybiBuZXcgRGF0ZShqYW5Gb3VydGguZ2V0RnVsbFllYXIoKS0xLDExLDI5KTtjYXNlIDE6cmV0dXJuIGphbkZvdXJ0aDtjYXNlIDI6cmV0dXJuIG5ldyBEYXRlKGphbkZvdXJ0aC5nZXRGdWxsWWVhcigpLDAsMyk7Y2FzZSAzOnJldHVybiBuZXcgRGF0ZShqYW5Gb3VydGguZ2V0RnVsbFllYXIoKSwwLDIpO2Nhc2UgNDpyZXR1cm4gbmV3IERhdGUoamFuRm91cnRoLmdldEZ1bGxZZWFyKCksMCwxKTtjYXNlIDU6cmV0dXJuIG5ldyBEYXRlKGphbkZvdXJ0aC5nZXRGdWxsWWVhcigpLTEsMTEsMzEpO2Nhc2UgNjpyZXR1cm4gbmV3IERhdGUoamFuRm91cnRoLmdldEZ1bGxZZWFyKCktMSwxMSwzMCl9fWZ1bmN0aW9uIGdldFdlZWtCYXNlZFllYXIoZGF0ZSl7dmFyIHRoaXNEYXRlPV9fYWRkRGF5cyhuZXcgRGF0ZShkYXRlLnRtX3llYXIrMTkwMCwwLDEpLGRhdGUudG1feWRheSk7dmFyIGphbkZvdXJ0aFRoaXNZZWFyPW5ldyBEYXRlKHRoaXNEYXRlLmdldEZ1bGxZZWFyKCksMCw0KTt2YXIgamFuRm91cnRoTmV4dFllYXI9bmV3IERhdGUodGhpc0RhdGUuZ2V0RnVsbFllYXIoKSsxLDAsNCk7dmFyIGZpcnN0V2Vla1N0YXJ0VGhpc1llYXI9Z2V0Rmlyc3RXZWVrU3RhcnREYXRlKGphbkZvdXJ0aFRoaXNZZWFyKTt2YXIgZmlyc3RXZWVrU3RhcnROZXh0WWVhcj1nZXRGaXJzdFdlZWtTdGFydERhdGUoamFuRm91cnRoTmV4dFllYXIpO2lmKGNvbXBhcmVCeURheShmaXJzdFdlZWtTdGFydFRoaXNZZWFyLHRoaXNEYXRlKTw9MCl7aWYoY29tcGFyZUJ5RGF5KGZpcnN0V2Vla1N0YXJ0TmV4dFllYXIsdGhpc0RhdGUpPD0wKXtyZXR1cm4gdGhpc0RhdGUuZ2V0RnVsbFllYXIoKSsxfWVsc2V7cmV0dXJuIHRoaXNEYXRlLmdldEZ1bGxZZWFyKCl9fWVsc2V7cmV0dXJuIHRoaXNEYXRlLmdldEZ1bGxZZWFyKCktMX19dmFyIEVYUEFOU0lPTl9SVUxFU18yPXsiJWEiOmZ1bmN0aW9uKGRhdGUpe3JldHVybiBXRUVLREFZU1tkYXRlLnRtX3dkYXldLnN1YnN0cmluZygwLDMpfSwiJUEiOmZ1bmN0aW9uKGRhdGUpe3JldHVybiBXRUVLREFZU1tkYXRlLnRtX3dkYXldfSwiJWIiOmZ1bmN0aW9uKGRhdGUpe3JldHVybiBNT05USFNbZGF0ZS50bV9tb25dLnN1YnN0cmluZygwLDMpfSwiJUIiOmZ1bmN0aW9uKGRhdGUpe3JldHVybiBNT05USFNbZGF0ZS50bV9tb25dfSwiJUMiOmZ1bmN0aW9uKGRhdGUpe3ZhciB5ZWFyPWRhdGUudG1feWVhcisxOTAwO3JldHVybiBsZWFkaW5nTnVsbHMoeWVhci8xMDB8MCwyKX0sIiVkIjpmdW5jdGlvbihkYXRlKXtyZXR1cm4gbGVhZGluZ051bGxzKGRhdGUudG1fbWRheSwyKX0sIiVlIjpmdW5jdGlvbihkYXRlKXtyZXR1cm4gbGVhZGluZ1NvbWV0aGluZyhkYXRlLnRtX21kYXksMiwiICIpfSwiJWciOmZ1bmN0aW9uKGRhdGUpe3JldHVybiBnZXRXZWVrQmFzZWRZZWFyKGRhdGUpLnRvU3RyaW5nKCkuc3Vic3RyaW5nKDIpfSwiJUciOmZ1bmN0aW9uKGRhdGUpe3JldHVybiBnZXRXZWVrQmFzZWRZZWFyKGRhdGUpfSwiJUgiOmZ1bmN0aW9uKGRhdGUpe3JldHVybiBsZWFkaW5nTnVsbHMoZGF0ZS50bV9ob3VyLDIpfSwiJUkiOmZ1bmN0aW9uKGRhdGUpe3ZhciB0d2VsdmVIb3VyPWRhdGUudG1faG91cjtpZih0d2VsdmVIb3VyPT0wKXR3ZWx2ZUhvdXI9MTI7ZWxzZSBpZih0d2VsdmVIb3VyPjEyKXR3ZWx2ZUhvdXItPTEyO3JldHVybiBsZWFkaW5nTnVsbHModHdlbHZlSG91ciwyKX0sIiVqIjpmdW5jdGlvbihkYXRlKXtyZXR1cm4gbGVhZGluZ051bGxzKGRhdGUudG1fbWRheStfX2FycmF5U3VtKF9faXNMZWFwWWVhcihkYXRlLnRtX3llYXIrMTkwMCk/X19NT05USF9EQVlTX0xFQVA6X19NT05USF9EQVlTX1JFR1VMQVIsZGF0ZS50bV9tb24tMSksMyl9LCIlbSI6ZnVuY3Rpb24oZGF0ZSl7cmV0dXJuIGxlYWRpbmdOdWxscyhkYXRlLnRtX21vbisxLDIpfSwiJU0iOmZ1bmN0aW9uKGRhdGUpe3JldHVybiBsZWFkaW5nTnVsbHMoZGF0ZS50bV9taW4sMil9LCIlbiI6ZnVuY3Rpb24oKXtyZXR1cm4iXG4ifSwiJXAiOmZ1bmN0aW9uKGRhdGUpe2lmKGRhdGUudG1faG91cj49MCYmZGF0ZS50bV9ob3VyPDEyKXtyZXR1cm4iQU0ifWVsc2V7cmV0dXJuIlBNIn19LCIlUyI6ZnVuY3Rpb24oZGF0ZSl7cmV0dXJuIGxlYWRpbmdOdWxscyhkYXRlLnRtX3NlYywyKX0sIiV0IjpmdW5jdGlvbigpe3JldHVybiJcdCJ9LCIldSI6ZnVuY3Rpb24oZGF0ZSl7cmV0dXJuIGRhdGUudG1fd2RheXx8N30sIiVVIjpmdW5jdGlvbihkYXRlKXt2YXIgZGF5cz1kYXRlLnRtX3lkYXkrNy1kYXRlLnRtX3dkYXk7cmV0dXJuIGxlYWRpbmdOdWxscyhNYXRoLmZsb29yKGRheXMvNyksMil9LCIlViI6ZnVuY3Rpb24oZGF0ZSl7dmFyIHZhbD1NYXRoLmZsb29yKChkYXRlLnRtX3lkYXkrNy0oZGF0ZS50bV93ZGF5KzYpJTcpLzcpO2lmKChkYXRlLnRtX3dkYXkrMzcxLWRhdGUudG1feWRheS0yKSU3PD0yKXt2YWwrK31pZighdmFsKXt2YWw9NTI7dmFyIGRlYzMxPShkYXRlLnRtX3dkYXkrNy1kYXRlLnRtX3lkYXktMSklNztpZihkZWMzMT09NHx8ZGVjMzE9PTUmJl9faXNMZWFwWWVhcihkYXRlLnRtX3llYXIlNDAwLTEpKXt2YWwrK319ZWxzZSBpZih2YWw9PTUzKXt2YXIgamFuMT0oZGF0ZS50bV93ZGF5KzM3MS1kYXRlLnRtX3lkYXkpJTc7aWYoamFuMSE9NCYmKGphbjEhPTN8fCFfX2lzTGVhcFllYXIoZGF0ZS50bV95ZWFyKSkpdmFsPTF9cmV0dXJuIGxlYWRpbmdOdWxscyh2YWwsMil9LCIldyI6ZnVuY3Rpb24oZGF0ZSl7cmV0dXJuIGRhdGUudG1fd2RheX0sIiVXIjpmdW5jdGlvbihkYXRlKXt2YXIgZGF5cz1kYXRlLnRtX3lkYXkrNy0oZGF0ZS50bV93ZGF5KzYpJTc7cmV0dXJuIGxlYWRpbmdOdWxscyhNYXRoLmZsb29yKGRheXMvNyksMil9LCIleSI6ZnVuY3Rpb24oZGF0ZSl7cmV0dXJuKGRhdGUudG1feWVhcisxOTAwKS50b1N0cmluZygpLnN1YnN0cmluZygyKX0sIiVZIjpmdW5jdGlvbihkYXRlKXtyZXR1cm4gZGF0ZS50bV95ZWFyKzE5MDB9LCIleiI6ZnVuY3Rpb24oZGF0ZSl7dmFyIG9mZj1kYXRlLnRtX2dtdG9mZjt2YXIgYWhlYWQ9b2ZmPj0wO29mZj1NYXRoLmFicyhvZmYpLzYwO29mZj1vZmYvNjAqMTAwK29mZiU2MDtyZXR1cm4oYWhlYWQ/IisiOiItIikrU3RyaW5nKCIwMDAwIitvZmYpLnNsaWNlKC00KX0sIiVaIjpmdW5jdGlvbihkYXRlKXtyZXR1cm4gZGF0ZS50bV96b25lfSwiJSUiOmZ1bmN0aW9uKCl7cmV0dXJuIiUifX07cGF0dGVybj1wYXR0ZXJuLnJlcGxhY2UoLyUlL2csIlwwXDAiKTtmb3IodmFyIHJ1bGUgaW4gRVhQQU5TSU9OX1JVTEVTXzIpe2lmKHBhdHRlcm4uaW5jbHVkZXMocnVsZSkpe3BhdHRlcm49cGF0dGVybi5yZXBsYWNlKG5ldyBSZWdFeHAocnVsZSwiZyIpLEVYUEFOU0lPTl9SVUxFU18yW3J1bGVdKGRhdGUpKX19cGF0dGVybj1wYXR0ZXJuLnJlcGxhY2UoL1wwXDAvZywiJSIpO3ZhciBieXRlcz1pbnRBcnJheUZyb21TdHJpbmcocGF0dGVybixmYWxzZSk7aWYoYnl0ZXMubGVuZ3RoPm1heHNpemUpe3JldHVybiAwfXdyaXRlQXJyYXlUb01lbW9yeShieXRlcyxzKTtyZXR1cm4gYnl0ZXMubGVuZ3RoLTF9ZnVuY3Rpb24gX3N0cmZ0aW1lX2wocyxtYXhzaXplLGZvcm1hdCx0bSl7cmV0dXJuIF9zdHJmdGltZShzLG1heHNpemUsZm9ybWF0LHRtKX1QVGhyZWFkLmluaXQoKTt2YXIgRlNOb2RlPWZ1bmN0aW9uKHBhcmVudCxuYW1lLG1vZGUscmRldil7aWYoIXBhcmVudCl7cGFyZW50PXRoaXN9dGhpcy5wYXJlbnQ9cGFyZW50O3RoaXMubW91bnQ9cGFyZW50Lm1vdW50O3RoaXMubW91bnRlZD1udWxsO3RoaXMuaWQ9RlMubmV4dElub2RlKys7dGhpcy5uYW1lPW5hbWU7dGhpcy5tb2RlPW1vZGU7dGhpcy5ub2RlX29wcz17fTt0aGlzLnN0cmVhbV9vcHM9e307dGhpcy5yZGV2PXJkZXZ9O3ZhciByZWFkTW9kZT0yOTJ8NzM7dmFyIHdyaXRlTW9kZT0xNDY7T2JqZWN0LmRlZmluZVByb3BlcnRpZXMoRlNOb2RlLnByb3RvdHlwZSx7cmVhZDp7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuKHRoaXMubW9kZSZyZWFkTW9kZSk9PT1yZWFkTW9kZX0sc2V0OmZ1bmN0aW9uKHZhbCl7dmFsP3RoaXMubW9kZXw9cmVhZE1vZGU6dGhpcy5tb2RlJj1+cmVhZE1vZGV9fSx3cml0ZTp7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuKHRoaXMubW9kZSZ3cml0ZU1vZGUpPT09d3JpdGVNb2RlfSxzZXQ6ZnVuY3Rpb24odmFsKXt2YWw/dGhpcy5tb2RlfD13cml0ZU1vZGU6dGhpcy5tb2RlJj1+d3JpdGVNb2RlfX0saXNGb2xkZXI6e2dldDpmdW5jdGlvbigpe3JldHVybiBGUy5pc0Rpcih0aGlzLm1vZGUpfX0saXNEZXZpY2U6e2dldDpmdW5jdGlvbigpe3JldHVybiBGUy5pc0NocmRldih0aGlzLm1vZGUpfX19KTtGUy5GU05vZGU9RlNOb2RlO0ZTLnN0YXRpY0luaXQoKTtlbWJpbmRfaW5pdF9jaGFyQ29kZXMoKTtCaW5kaW5nRXJyb3I9TW9kdWxlWyJCaW5kaW5nRXJyb3IiXT1leHRlbmRFcnJvcihFcnJvciwiQmluZGluZ0Vycm9yIik7SW50ZXJuYWxFcnJvcj1Nb2R1bGVbIkludGVybmFsRXJyb3IiXT1leHRlbmRFcnJvcihFcnJvciwiSW50ZXJuYWxFcnJvciIpO2luaXRfQ2xhc3NIYW5kbGUoKTtpbml0X2VtYmluZCgpO2luaXRfUmVnaXN0ZXJlZFBvaW50ZXIoKTtVbmJvdW5kVHlwZUVycm9yPU1vZHVsZVsiVW5ib3VuZFR5cGVFcnJvciJdPWV4dGVuZEVycm9yKEVycm9yLCJVbmJvdW5kVHlwZUVycm9yIik7aW5pdF9lbXZhbCgpO3ZhciBwcm94aWVkRnVuY3Rpb25UYWJsZT1bbnVsbCxleGl0T25NYWluVGhyZWFkLHB0aHJlYWRDcmVhdGVQcm94aWVkLF9fX3N5c2NhbGxfZmNudGw2NCxfX19zeXNjYWxsX2ZzdGF0NjQsX19fc3lzY2FsbF9mdHJ1bmNhdGU2NCxfX19zeXNjYWxsX2lvY3RsLF9fX3N5c2NhbGxfbHN0YXQ2NCxfX19zeXNjYWxsX25ld2ZzdGF0YXQsX19fc3lzY2FsbF9vcGVuYXQsX19fc3lzY2FsbF9yZW5hbWVhdCxfX19zeXNjYWxsX3N0YXQ2NCxfX19zeXNjYWxsX3VubGlua2F0LF9fbW1hcF9qcyxfX211bm1hcF9qcyxfZW52aXJvbl9nZXQsX2Vudmlyb25fc2l6ZXNfZ2V0LF9mZF9jbG9zZSxfZmRfcmVhZCxfZmRfc2VlayxfZmRfc3luYyxfZmRfd3JpdGVdO2Z1bmN0aW9uIGludEFycmF5RnJvbVN0cmluZyhzdHJpbmd5LGRvbnRBZGROdWxsLGxlbmd0aCl7dmFyIGxlbj1sZW5ndGg+MD9sZW5ndGg6bGVuZ3RoQnl0ZXNVVEY4KHN0cmluZ3kpKzE7dmFyIHU4YXJyYXk9bmV3IEFycmF5KGxlbik7dmFyIG51bUJ5dGVzV3JpdHRlbj1zdHJpbmdUb1VURjhBcnJheShzdHJpbmd5LHU4YXJyYXksMCx1OGFycmF5Lmxlbmd0aCk7aWYoZG9udEFkZE51bGwpdThhcnJheS5sZW5ndGg9bnVtQnl0ZXNXcml0dGVuO3JldHVybiB1OGFycmF5fXZhciBhc21MaWJyYXJ5QXJnPXsiYiI6X19fYXNzZXJ0X2ZhaWwsIm4iOl9fX2N4YV9hbGxvY2F0ZV9leGNlcHRpb24sInUiOl9fX2N4YV9iZWdpbl9jYXRjaCwibGEiOl9fX2N4YV9jdXJyZW50X3ByaW1hcnlfZXhjZXB0aW9uLCJSIjpfX19jeGFfZGVjcmVtZW50X2V4Y2VwdGlvbl9yZWZjb3VudCwieCI6X19fY3hhX2VuZF9jYXRjaCwiZSI6X19fY3hhX2ZpbmRfbWF0Y2hpbmdfY2F0Y2hfMiwiaiI6X19fY3hhX2ZpbmRfbWF0Y2hpbmdfY2F0Y2hfMywicyI6X19fY3hhX2ZyZWVfZXhjZXB0aW9uLCJRIjpfX19jeGFfaW5jcmVtZW50X2V4Y2VwdGlvbl9yZWZjb3VudCwiYWEiOl9fX2N4YV9yZXRocm93LCJrYSI6X19fY3hhX3JldGhyb3dfcHJpbWFyeV9leGNlcHRpb24sInIiOl9fX2N4YV90aHJvdywibWEiOl9fX2N4YV91bmNhdWdodF9leGNlcHRpb25zLCJ3YSI6X19fZW1zY3JpcHRlbl9pbml0X21haW5fdGhyZWFkX2pzLCJTIjpfX19lbXNjcmlwdGVuX3RocmVhZF9jbGVhbnVwLCJyYSI6X19fcHRocmVhZF9jcmVhdGVfanMsImYiOl9fX3Jlc3VtZUV4Y2VwdGlvbiwiRmEiOl9fX3N5c2NhbGxfZnN0YXQ2NCwiZWEiOl9fX3N5c2NhbGxfZnRydW5jYXRlNjQsIkNhIjpfX19zeXNjYWxsX2xzdGF0NjQsIkRhIjpfX19zeXNjYWxsX25ld2ZzdGF0YXQsIkhhIjpfX19zeXNjYWxsX29wZW5hdCwicWEiOl9fX3N5c2NhbGxfcmVuYW1lYXQsIkVhIjpfX19zeXNjYWxsX3N0YXQ2NCwib2EiOl9fX3N5c2NhbGxfdW5saW5rYXQsIkthIjpfX2RsaW5pdCwiVyI6X19kbG9wZW5fanMsIkxhIjpfX2Rsc3ltX2pzLCJmYSI6X19lbWJpbmRfcmVnaXN0ZXJfYmlnaW50LCJOYSI6X19lbWJpbmRfcmVnaXN0ZXJfYm9vbCwiWGEiOl9fZW1iaW5kX3JlZ2lzdGVyX2NsYXNzLCJXYSI6X19lbWJpbmRfcmVnaXN0ZXJfY2xhc3NfY29uc3RydWN0b3IsInkiOl9fZW1iaW5kX3JlZ2lzdGVyX2NsYXNzX2Z1bmN0aW9uLCJNYSI6X19lbWJpbmRfcmVnaXN0ZXJfZW12YWwsIloiOl9fZW1iaW5kX3JlZ2lzdGVyX2Zsb2F0LCJBIjpfX2VtYmluZF9yZWdpc3Rlcl9pbnRlZ2VyLCJ0IjpfX2VtYmluZF9yZWdpc3Rlcl9tZW1vcnlfdmlldywiWSI6X19lbWJpbmRfcmVnaXN0ZXJfc3RkX3N0cmluZywiTCI6X19lbWJpbmRfcmVnaXN0ZXJfc3RkX3dzdHJpbmcsIk9hIjpfX2VtYmluZF9yZWdpc3Rlcl92b2lkLCJWIjpfX2Vtc2NyaXB0ZW5fZGF0ZV9ub3csInNhIjpfX2Vtc2NyaXB0ZW5fZGVmYXVsdF9wdGhyZWFkX3N0YWNrX3NpemUsIkphIjpfX2Vtc2NyaXB0ZW5fZ2V0X25vd19pc19tb25vdG9uaWMsInRhIjpfX2Vtc2NyaXB0ZW5fbm90aWZ5X3Rhc2tfcXVldWUsInlhIjpfX2Vtc2NyaXB0ZW5fc2V0X29mZnNjcmVlbmNhbnZhc19zaXplLCJTYSI6X19lbXZhbF9kZWNyZWYsImlhIjpfX2VtdmFsX2luY3JlZiwiSSI6X19lbXZhbF90YWtlX3ZhbHVlLCJ1YSI6X19tbWFwX2pzLCJ2YSI6X19tdW5tYXBfanMsImQiOl9hYm9ydCwiVCI6X2Vtc2NyaXB0ZW5fY2hlY2tfYmxvY2tpbmdfYWxsb3dlZCwicGEiOl9lbXNjcmlwdGVuX2dldF9oZWFwX21heCwidyI6X2Vtc2NyaXB0ZW5fZ2V0X25vdywiR2EiOl9lbXNjcmlwdGVuX21lbWNweV9iaWcsIl8iOl9lbXNjcmlwdGVuX251bV9sb2dpY2FsX2NvcmVzLCJ4YSI6X2Vtc2NyaXB0ZW5fcmVjZWl2ZV9vbl9tYWluX3RocmVhZF9qcywibmEiOl9lbXNjcmlwdGVuX3Jlc2l6ZV9oZWFwLCJJYSI6X2Vtc2NyaXB0ZW5fdW53aW5kX3RvX2pzX2V2ZW50X2xvb3AsInphIjpfZW52aXJvbl9nZXQsIkFhIjpfZW52aXJvbl9zaXplc19nZXQsIiQiOl9leGl0LCJYIjpfZmRfY2xvc2UsIlUiOl9mZF9yZWFkLCJWYSI6X2ZkX3NlZWssIkJhIjpfZmRfc3luYywiSyI6X2ZkX3dyaXRlLCJjIjpfZ2V0VGVtcFJldDAsImdhIjpfZ2V0ZW50cm9weSwiTiI6aW52b2tlX2RpaWksIlJhIjppbnZva2VfZmksIk8iOmludm9rZV9maWlpLCJxIjppbnZva2VfaSwiZyI6aW52b2tlX2lpLCJQYSI6aW52b2tlX2lpZGlpLCJoIjppbnZva2VfaWlpLCJtIjppbnZva2VfaWlpaSwibyI6aW52b2tlX2lpaWlpLCJqYSI6aW52b2tlX2lpaWlpZCwiRSI6aW52b2tlX2lpaWlpaSwieiI6aW52b2tlX2lpaWlpaWksIlAiOmludm9rZV9paWlpaWlpaSwiSCI6aW52b2tlX2lpaWlpaWlpaWlpaSwiVWEiOmludm9rZV9qLCJUYSI6aW52b2tlX2ppaWlpLCJsIjppbnZva2VfdiwiayI6aW52b2tlX3ZpLCJpIjppbnZva2VfdmlpLCJDIjppbnZva2VfdmlpZCwiTSI6aW52b2tlX3ZpaWRpLCJwIjppbnZva2VfdmlpaSwiUWEiOmludm9rZV92aWlpZGlpaSwiSiI6aW52b2tlX3ZpaWlpLCJjYSI6aW52b2tlX3ZpaWlpZGksImRhIjppbnZva2VfdmlpaWlpLCJ2IjppbnZva2VfdmlpaWlpaWksIkYiOmludm9rZV92aWlpaWlpaWRpLCJiYSI6aW52b2tlX3ZpaWlpaWlpaSwiRCI6aW52b2tlX3ZpaWlpaWlpaWlpLCJHIjppbnZva2VfdmlpaWlpaWlpaWlpaWlpaSwiYSI6d2FzbU1lbW9yeXx8TW9kdWxlWyJ3YXNtTWVtb3J5Il0sIkIiOl9zZXRUZW1wUmV0MCwiaGEiOl9zdHJmdGltZV9sfTt2YXIgYXNtPWNyZWF0ZVdhc20oKTt2YXIgX19fd2FzbV9jYWxsX2N0b3JzPU1vZHVsZVsiX19fd2FzbV9jYWxsX2N0b3JzIl09ZnVuY3Rpb24oKXtyZXR1cm4oX19fd2FzbV9jYWxsX2N0b3JzPU1vZHVsZVsiX19fd2FzbV9jYWxsX2N0b3JzIl09TW9kdWxlWyJhc20iXVsiWWEiXSkuYXBwbHkobnVsbCxhcmd1bWVudHMpfTt2YXIgX21hbGxvYz1Nb2R1bGVbIl9tYWxsb2MiXT1mdW5jdGlvbigpe3JldHVybihfbWFsbG9jPU1vZHVsZVsiX21hbGxvYyJdPU1vZHVsZVsiYXNtIl1bIl9hIl0pLmFwcGx5KG51bGwsYXJndW1lbnRzKX07dmFyIF9mcmVlPU1vZHVsZVsiX2ZyZWUiXT1mdW5jdGlvbigpe3JldHVybihfZnJlZT1Nb2R1bGVbIl9mcmVlIl09TW9kdWxlWyJhc20iXVsiJGEiXSkuYXBwbHkobnVsbCxhcmd1bWVudHMpfTt2YXIgX19fZXJybm9fbG9jYXRpb249TW9kdWxlWyJfX19lcnJub19sb2NhdGlvbiJdPWZ1bmN0aW9uKCl7cmV0dXJuKF9fX2Vycm5vX2xvY2F0aW9uPU1vZHVsZVsiX19fZXJybm9fbG9jYXRpb24iXT1Nb2R1bGVbImFzbSJdWyJhYiJdKS5hcHBseShudWxsLGFyZ3VtZW50cyl9O3ZhciBfcHRocmVhZF9zZWxmPU1vZHVsZVsiX3B0aHJlYWRfc2VsZiJdPWZ1bmN0aW9uKCl7cmV0dXJuKF9wdGhyZWFkX3NlbGY9TW9kdWxlWyJfcHRocmVhZF9zZWxmIl09TW9kdWxlWyJhc20iXVsiYmIiXSkuYXBwbHkobnVsbCxhcmd1bWVudHMpfTt2YXIgX2Vtc2NyaXB0ZW5fdGxzX2luaXQ9TW9kdWxlWyJfZW1zY3JpcHRlbl90bHNfaW5pdCJdPWZ1bmN0aW9uKCl7cmV0dXJuKF9lbXNjcmlwdGVuX3Rsc19pbml0PU1vZHVsZVsiX2Vtc2NyaXB0ZW5fdGxzX2luaXQiXT1Nb2R1bGVbImFzbSJdWyJjYiJdKS5hcHBseShudWxsLGFyZ3VtZW50cyl9O3ZhciBfZW1zY3JpcHRlbl9idWlsdGluX21lbWFsaWduPU1vZHVsZVsiX2Vtc2NyaXB0ZW5fYnVpbHRpbl9tZW1hbGlnbiJdPWZ1bmN0aW9uKCl7cmV0dXJuKF9lbXNjcmlwdGVuX2J1aWx0aW5fbWVtYWxpZ249TW9kdWxlWyJfZW1zY3JpcHRlbl9idWlsdGluX21lbWFsaWduIl09TW9kdWxlWyJhc20iXVsiZGIiXSkuYXBwbHkobnVsbCxhcmd1bWVudHMpfTt2YXIgX19fZ2V0VHlwZU5hbWU9TW9kdWxlWyJfX19nZXRUeXBlTmFtZSJdPWZ1bmN0aW9uKCl7cmV0dXJuKF9fX2dldFR5cGVOYW1lPU1vZHVsZVsiX19fZ2V0VHlwZU5hbWUiXT1Nb2R1bGVbImFzbSJdWyJlYiJdKS5hcHBseShudWxsLGFyZ3VtZW50cyl9O3ZhciBfX19lbWJpbmRfcmVnaXN0ZXJfbmF0aXZlX2FuZF9idWlsdGluX3R5cGVzPU1vZHVsZVsiX19fZW1iaW5kX3JlZ2lzdGVyX25hdGl2ZV9hbmRfYnVpbHRpbl90eXBlcyJdPWZ1bmN0aW9uKCl7cmV0dXJuKF9fX2VtYmluZF9yZWdpc3Rlcl9uYXRpdmVfYW5kX2J1aWx0aW5fdHlwZXM9TW9kdWxlWyJfX19lbWJpbmRfcmVnaXN0ZXJfbmF0aXZlX2FuZF9idWlsdGluX3R5cGVzIl09TW9kdWxlWyJhc20iXVsiZmIiXSkuYXBwbHkobnVsbCxhcmd1bWVudHMpfTt2YXIgX19fc3RkaW9fZXhpdD1Nb2R1bGVbIl9fX3N0ZGlvX2V4aXQiXT1mdW5jdGlvbigpe3JldHVybihfX19zdGRpb19leGl0PU1vZHVsZVsiX19fc3RkaW9fZXhpdCJdPU1vZHVsZVsiYXNtIl1bImdiIl0pLmFwcGx5KG51bGwsYXJndW1lbnRzKX07dmFyIF9fX2Z1bmNzX29uX2V4aXQ9TW9kdWxlWyJfX19mdW5jc19vbl9leGl0Il09ZnVuY3Rpb24oKXtyZXR1cm4oX19fZnVuY3Nfb25fZXhpdD1Nb2R1bGVbIl9fX2Z1bmNzX29uX2V4aXQiXT1Nb2R1bGVbImFzbSJdWyJoYiJdKS5hcHBseShudWxsLGFyZ3VtZW50cyl9O3ZhciBfX2Vtc2NyaXB0ZW5fdGhyZWFkX2luaXQ9TW9kdWxlWyJfX2Vtc2NyaXB0ZW5fdGhyZWFkX2luaXQiXT1mdW5jdGlvbigpe3JldHVybihfX2Vtc2NyaXB0ZW5fdGhyZWFkX2luaXQ9TW9kdWxlWyJfX2Vtc2NyaXB0ZW5fdGhyZWFkX2luaXQiXT1Nb2R1bGVbImFzbSJdWyJpYiJdKS5hcHBseShudWxsLGFyZ3VtZW50cyl9O3ZhciBfX2Vtc2NyaXB0ZW5fdGhyZWFkX2NyYXNoZWQ9TW9kdWxlWyJfX2Vtc2NyaXB0ZW5fdGhyZWFkX2NyYXNoZWQiXT1mdW5jdGlvbigpe3JldHVybihfX2Vtc2NyaXB0ZW5fdGhyZWFkX2NyYXNoZWQ9TW9kdWxlWyJfX2Vtc2NyaXB0ZW5fdGhyZWFkX2NyYXNoZWQiXT1Nb2R1bGVbImFzbSJdWyJqYiJdKS5hcHBseShudWxsLGFyZ3VtZW50cyl9O3ZhciBfZW1zY3JpcHRlbl9ydW5faW5fbWFpbl9ydW50aW1lX3RocmVhZF9qcz1Nb2R1bGVbIl9lbXNjcmlwdGVuX3J1bl9pbl9tYWluX3J1bnRpbWVfdGhyZWFkX2pzIl09ZnVuY3Rpb24oKXtyZXR1cm4oX2Vtc2NyaXB0ZW5fcnVuX2luX21haW5fcnVudGltZV90aHJlYWRfanM9TW9kdWxlWyJfZW1zY3JpcHRlbl9ydW5faW5fbWFpbl9ydW50aW1lX3RocmVhZF9qcyJdPU1vZHVsZVsiYXNtIl1bImtiIl0pLmFwcGx5KG51bGwsYXJndW1lbnRzKX07dmFyIF9fZW1zY3JpcHRlbl9wcm94eV9leGVjdXRlX3Rhc2tfcXVldWU9TW9kdWxlWyJfX2Vtc2NyaXB0ZW5fcHJveHlfZXhlY3V0ZV90YXNrX3F1ZXVlIl09ZnVuY3Rpb24oKXtyZXR1cm4oX19lbXNjcmlwdGVuX3Byb3h5X2V4ZWN1dGVfdGFza19xdWV1ZT1Nb2R1bGVbIl9fZW1zY3JpcHRlbl9wcm94eV9leGVjdXRlX3Rhc2tfcXVldWUiXT1Nb2R1bGVbImFzbSJdWyJsYiJdKS5hcHBseShudWxsLGFyZ3VtZW50cyl9O3ZhciBfX2Vtc2NyaXB0ZW5fdGhyZWFkX2ZyZWVfZGF0YT1Nb2R1bGVbIl9fZW1zY3JpcHRlbl90aHJlYWRfZnJlZV9kYXRhIl09ZnVuY3Rpb24oKXtyZXR1cm4oX19lbXNjcmlwdGVuX3RocmVhZF9mcmVlX2RhdGE9TW9kdWxlWyJfX2Vtc2NyaXB0ZW5fdGhyZWFkX2ZyZWVfZGF0YSJdPU1vZHVsZVsiYXNtIl1bIm1iIl0pLmFwcGx5KG51bGwsYXJndW1lbnRzKX07dmFyIF9fZW1zY3JpcHRlbl90aHJlYWRfZXhpdD1Nb2R1bGVbIl9fZW1zY3JpcHRlbl90aHJlYWRfZXhpdCJdPWZ1bmN0aW9uKCl7cmV0dXJuKF9fZW1zY3JpcHRlbl90aHJlYWRfZXhpdD1Nb2R1bGVbIl9fZW1zY3JpcHRlbl90aHJlYWRfZXhpdCJdPU1vZHVsZVsiYXNtIl1bIm5iIl0pLmFwcGx5KG51bGwsYXJndW1lbnRzKX07dmFyIF9zZXRUaHJldz1Nb2R1bGVbIl9zZXRUaHJldyJdPWZ1bmN0aW9uKCl7cmV0dXJuKF9zZXRUaHJldz1Nb2R1bGVbIl9zZXRUaHJldyJdPU1vZHVsZVsiYXNtIl1bIm9iIl0pLmFwcGx5KG51bGwsYXJndW1lbnRzKX07dmFyIF9lbXNjcmlwdGVuX3N0YWNrX3NldF9saW1pdHM9TW9kdWxlWyJfZW1zY3JpcHRlbl9zdGFja19zZXRfbGltaXRzIl09ZnVuY3Rpb24oKXtyZXR1cm4oX2Vtc2NyaXB0ZW5fc3RhY2tfc2V0X2xpbWl0cz1Nb2R1bGVbIl9lbXNjcmlwdGVuX3N0YWNrX3NldF9saW1pdHMiXT1Nb2R1bGVbImFzbSJdWyJwYiJdKS5hcHBseShudWxsLGFyZ3VtZW50cyl9O3ZhciBzdGFja1NhdmU9TW9kdWxlWyJzdGFja1NhdmUiXT1mdW5jdGlvbigpe3JldHVybihzdGFja1NhdmU9TW9kdWxlWyJzdGFja1NhdmUiXT1Nb2R1bGVbImFzbSJdWyJxYiJdKS5hcHBseShudWxsLGFyZ3VtZW50cyl9O3ZhciBzdGFja1Jlc3RvcmU9TW9kdWxlWyJzdGFja1Jlc3RvcmUiXT1mdW5jdGlvbigpe3JldHVybihzdGFja1Jlc3RvcmU9TW9kdWxlWyJzdGFja1Jlc3RvcmUiXT1Nb2R1bGVbImFzbSJdWyJyYiJdKS5hcHBseShudWxsLGFyZ3VtZW50cyl9O3ZhciBzdGFja0FsbG9jPU1vZHVsZVsic3RhY2tBbGxvYyJdPWZ1bmN0aW9uKCl7cmV0dXJuKHN0YWNrQWxsb2M9TW9kdWxlWyJzdGFja0FsbG9jIl09TW9kdWxlWyJhc20iXVsic2IiXSkuYXBwbHkobnVsbCxhcmd1bWVudHMpfTt2YXIgX19fY3hhX2Nhbl9jYXRjaD1Nb2R1bGVbIl9fX2N4YV9jYW5fY2F0Y2giXT1mdW5jdGlvbigpe3JldHVybihfX19jeGFfY2FuX2NhdGNoPU1vZHVsZVsiX19fY3hhX2Nhbl9jYXRjaCJdPU1vZHVsZVsiYXNtIl1bInRiIl0pLmFwcGx5KG51bGwsYXJndW1lbnRzKX07dmFyIF9fX2N4YV9pc19wb2ludGVyX3R5cGU9TW9kdWxlWyJfX19jeGFfaXNfcG9pbnRlcl90eXBlIl09ZnVuY3Rpb24oKXtyZXR1cm4oX19fY3hhX2lzX3BvaW50ZXJfdHlwZT1Nb2R1bGVbIl9fX2N4YV9pc19wb2ludGVyX3R5cGUiXT1Nb2R1bGVbImFzbSJdWyJ1YiJdKS5hcHBseShudWxsLGFyZ3VtZW50cyl9O3ZhciBkeW5DYWxsX2lpaWlqPU1vZHVsZVsiZHluQ2FsbF9paWlpaiJdPWZ1bmN0aW9uKCl7cmV0dXJuKGR5bkNhbGxfaWlpaWo9TW9kdWxlWyJkeW5DYWxsX2lpaWlqIl09TW9kdWxlWyJhc20iXVsidmIiXSkuYXBwbHkobnVsbCxhcmd1bWVudHMpfTt2YXIgZHluQ2FsbF9qaWk9TW9kdWxlWyJkeW5DYWxsX2ppaSJdPWZ1bmN0aW9uKCl7cmV0dXJuKGR5bkNhbGxfamlpPU1vZHVsZVsiZHluQ2FsbF9qaWkiXT1Nb2R1bGVbImFzbSJdWyJ3YiJdKS5hcHBseShudWxsLGFyZ3VtZW50cyl9O3ZhciBkeW5DYWxsX2pqaj1Nb2R1bGVbImR5bkNhbGxfampqIl09ZnVuY3Rpb24oKXtyZXR1cm4oZHluQ2FsbF9qamo9TW9kdWxlWyJkeW5DYWxsX2pqaiJdPU1vZHVsZVsiYXNtIl1bInhiIl0pLmFwcGx5KG51bGwsYXJndW1lbnRzKX07dmFyIGR5bkNhbGxfamppPU1vZHVsZVsiZHluQ2FsbF9qamkiXT1mdW5jdGlvbigpe3JldHVybihkeW5DYWxsX2pqaT1Nb2R1bGVbImR5bkNhbGxfamppIl09TW9kdWxlWyJhc20iXVsieWIiXSkuYXBwbHkobnVsbCxhcmd1bWVudHMpfTt2YXIgZHluQ2FsbF9qaWlpPU1vZHVsZVsiZHluQ2FsbF9qaWlpIl09ZnVuY3Rpb24oKXtyZXR1cm4oZHluQ2FsbF9qaWlpPU1vZHVsZVsiZHluQ2FsbF9qaWlpIl09TW9kdWxlWyJhc20iXVsiemIiXSkuYXBwbHkobnVsbCxhcmd1bWVudHMpfTt2YXIgZHluQ2FsbF9paWlpamo9TW9kdWxlWyJkeW5DYWxsX2lpaWlqaiJdPWZ1bmN0aW9uKCl7cmV0dXJuKGR5bkNhbGxfaWlpaWpqPU1vZHVsZVsiZHluQ2FsbF9paWlpamoiXT1Nb2R1bGVbImFzbSJdWyJBYiJdKS5hcHBseShudWxsLGFyZ3VtZW50cyl9O3ZhciBkeW5DYWxsX3ZpaWpqPU1vZHVsZVsiZHluQ2FsbF92aWlqaiJdPWZ1bmN0aW9uKCl7cmV0dXJuKGR5bkNhbGxfdmlpamo9TW9kdWxlWyJkeW5DYWxsX3ZpaWpqIl09TW9kdWxlWyJhc20iXVsiQmIiXSkuYXBwbHkobnVsbCxhcmd1bWVudHMpfTt2YXIgZHluQ2FsbF92aWlpampqaj1Nb2R1bGVbImR5bkNhbGxfdmlpaWpqamoiXT1mdW5jdGlvbigpe3JldHVybihkeW5DYWxsX3ZpaWlqampqPU1vZHVsZVsiZHluQ2FsbF92aWlpampqaiJdPU1vZHVsZVsiYXNtIl1bIkNiIl0pLmFwcGx5KG51bGwsYXJndW1lbnRzKX07dmFyIGR5bkNhbGxfaWlqamlpaWk9TW9kdWxlWyJkeW5DYWxsX2lpamppaWlpIl09ZnVuY3Rpb24oKXtyZXR1cm4oZHluQ2FsbF9paWpqaWlpaT1Nb2R1bGVbImR5bkNhbGxfaWlqamlpaWkiXT1Nb2R1bGVbImFzbSJdWyJEYiJdKS5hcHBseShudWxsLGFyZ3VtZW50cyl9O3ZhciBkeW5DYWxsX2ppamk9TW9kdWxlWyJkeW5DYWxsX2ppamkiXT1mdW5jdGlvbigpe3JldHVybihkeW5DYWxsX2ppamk9TW9kdWxlWyJkeW5DYWxsX2ppamkiXT1Nb2R1bGVbImFzbSJdWyJFYiJdKS5hcHBseShudWxsLGFyZ3VtZW50cyl9O3ZhciBkeW5DYWxsX2o9TW9kdWxlWyJkeW5DYWxsX2oiXT1mdW5jdGlvbigpe3JldHVybihkeW5DYWxsX2o9TW9kdWxlWyJkeW5DYWxsX2oiXT1Nb2R1bGVbImFzbSJdWyJGYiJdKS5hcHBseShudWxsLGFyZ3VtZW50cyl9O3ZhciBkeW5DYWxsX3ZpaWppaT1Nb2R1bGVbImR5bkNhbGxfdmlpamlpIl09ZnVuY3Rpb24oKXtyZXR1cm4oZHluQ2FsbF92aWlqaWk9TW9kdWxlWyJkeW5DYWxsX3ZpaWppaSJdPU1vZHVsZVsiYXNtIl1bIkdiIl0pLmFwcGx5KG51bGwsYXJndW1lbnRzKX07dmFyIGR5bkNhbGxfamlpaWk9TW9kdWxlWyJkeW5DYWxsX2ppaWlpIl09ZnVuY3Rpb24oKXtyZXR1cm4oZHluQ2FsbF9qaWlpaT1Nb2R1bGVbImR5bkNhbGxfamlpaWkiXT1Nb2R1bGVbImFzbSJdWyJIYiJdKS5hcHBseShudWxsLGFyZ3VtZW50cyl9O3ZhciBkeW5DYWxsX2lpaWlpaj1Nb2R1bGVbImR5bkNhbGxfaWlpaWlqIl09ZnVuY3Rpb24oKXtyZXR1cm4oZHluQ2FsbF9paWlpaWo9TW9kdWxlWyJkeW5DYWxsX2lpaWlpaiJdPU1vZHVsZVsiYXNtIl1bIkliIl0pLmFwcGx5KG51bGwsYXJndW1lbnRzKX07dmFyIGR5bkNhbGxfaWlpaWlqaj1Nb2R1bGVbImR5bkNhbGxfaWlpaWlqaiJdPWZ1bmN0aW9uKCl7cmV0dXJuKGR5bkNhbGxfaWlpaWlqaj1Nb2R1bGVbImR5bkNhbGxfaWlpaWlqaiJdPU1vZHVsZVsiYXNtIl1bIkpiIl0pLmFwcGx5KG51bGwsYXJndW1lbnRzKX07dmFyIGR5bkNhbGxfaWlpaWlpamo9TW9kdWxlWyJkeW5DYWxsX2lpaWlpaWpqIl09ZnVuY3Rpb24oKXtyZXR1cm4oZHluQ2FsbF9paWlpaWlqaj1Nb2R1bGVbImR5bkNhbGxfaWlpaWlpamoiXT1Nb2R1bGVbImFzbSJdWyJLYiJdKS5hcHBseShudWxsLGFyZ3VtZW50cyl9O3ZhciBfX2Vtc2NyaXB0ZW5fYWxsb3dfbWFpbl9ydW50aW1lX3F1ZXVlZF9jYWxscz1Nb2R1bGVbIl9fZW1zY3JpcHRlbl9hbGxvd19tYWluX3J1bnRpbWVfcXVldWVkX2NhbGxzIl09MjQwMzU2O2Z1bmN0aW9uIGludm9rZV9paShpbmRleCxhMSl7dmFyIHNwPXN0YWNrU2F2ZSgpO3RyeXtyZXR1cm4gZ2V0V2FzbVRhYmxlRW50cnkoaW5kZXgpKGExKX1jYXRjaChlKXtzdGFja1Jlc3RvcmUoc3ApO2lmKGUhPT1lKzApdGhyb3cgZTtfc2V0VGhyZXcoMSwwKX19ZnVuY3Rpb24gaW52b2tlX2lpaShpbmRleCxhMSxhMil7dmFyIHNwPXN0YWNrU2F2ZSgpO3RyeXtyZXR1cm4gZ2V0V2FzbVRhYmxlRW50cnkoaW5kZXgpKGExLGEyKX1jYXRjaChlKXtzdGFja1Jlc3RvcmUoc3ApO2lmKGUhPT1lKzApdGhyb3cgZTtfc2V0VGhyZXcoMSwwKX19ZnVuY3Rpb24gaW52b2tlX3ZpKGluZGV4LGExKXt2YXIgc3A9c3RhY2tTYXZlKCk7dHJ5e2dldFdhc21UYWJsZUVudHJ5KGluZGV4KShhMSl9Y2F0Y2goZSl7c3RhY2tSZXN0b3JlKHNwKTtpZihlIT09ZSswKXRocm93IGU7X3NldFRocmV3KDEsMCl9fWZ1bmN0aW9uIGludm9rZV9paWlpKGluZGV4LGExLGEyLGEzKXt2YXIgc3A9c3RhY2tTYXZlKCk7dHJ5e3JldHVybiBnZXRXYXNtVGFibGVFbnRyeShpbmRleCkoYTEsYTIsYTMpfWNhdGNoKGUpe3N0YWNrUmVzdG9yZShzcCk7aWYoZSE9PWUrMCl0aHJvdyBlO19zZXRUaHJldygxLDApfX1mdW5jdGlvbiBpbnZva2VfdmlpKGluZGV4LGExLGEyKXt2YXIgc3A9c3RhY2tTYXZlKCk7dHJ5e2dldFdhc21UYWJsZUVudHJ5KGluZGV4KShhMSxhMil9Y2F0Y2goZSl7c3RhY2tSZXN0b3JlKHNwKTtpZihlIT09ZSswKXRocm93IGU7X3NldFRocmV3KDEsMCl9fWZ1bmN0aW9uIGludm9rZV9pKGluZGV4KXt2YXIgc3A9c3RhY2tTYXZlKCk7dHJ5e3JldHVybiBnZXRXYXNtVGFibGVFbnRyeShpbmRleCkoKX1jYXRjaChlKXtzdGFja1Jlc3RvcmUoc3ApO2lmKGUhPT1lKzApdGhyb3cgZTtfc2V0VGhyZXcoMSwwKX19ZnVuY3Rpb24gaW52b2tlX3ZpaWkoaW5kZXgsYTEsYTIsYTMpe3ZhciBzcD1zdGFja1NhdmUoKTt0cnl7Z2V0V2FzbVRhYmxlRW50cnkoaW5kZXgpKGExLGEyLGEzKX1jYXRjaChlKXtzdGFja1Jlc3RvcmUoc3ApO2lmKGUhPT1lKzApdGhyb3cgZTtfc2V0VGhyZXcoMSwwKX19ZnVuY3Rpb24gaW52b2tlX2ZpKGluZGV4LGExKXt2YXIgc3A9c3RhY2tTYXZlKCk7dHJ5e3JldHVybiBnZXRXYXNtVGFibGVFbnRyeShpbmRleCkoYTEpfWNhdGNoKGUpe3N0YWNrUmVzdG9yZShzcCk7aWYoZSE9PWUrMCl0aHJvdyBlO19zZXRUaHJldygxLDApfX1mdW5jdGlvbiBpbnZva2VfaWlpaWlpaShpbmRleCxhMSxhMixhMyxhNCxhNSxhNil7dmFyIHNwPXN0YWNrU2F2ZSgpO3RyeXtyZXR1cm4gZ2V0V2FzbVRhYmxlRW50cnkoaW5kZXgpKGExLGEyLGEzLGE0LGE1LGE2KX1jYXRjaChlKXtzdGFja1Jlc3RvcmUoc3ApO2lmKGUhPT1lKzApdGhyb3cgZTtfc2V0VGhyZXcoMSwwKX19ZnVuY3Rpb24gaW52b2tlX3ZpaWlpaShpbmRleCxhMSxhMixhMyxhNCxhNSl7dmFyIHNwPXN0YWNrU2F2ZSgpO3RyeXtnZXRXYXNtVGFibGVFbnRyeShpbmRleCkoYTEsYTIsYTMsYTQsYTUpfWNhdGNoKGUpe3N0YWNrUmVzdG9yZShzcCk7aWYoZSE9PWUrMCl0aHJvdyBlO19zZXRUaHJldygxLDApfX1mdW5jdGlvbiBpbnZva2VfdmlpaWlpaWlkaShpbmRleCxhMSxhMixhMyxhNCxhNSxhNixhNyxhOCxhOSl7dmFyIHNwPXN0YWNrU2F2ZSgpO3RyeXtnZXRXYXNtVGFibGVFbnRyeShpbmRleCkoYTEsYTIsYTMsYTQsYTUsYTYsYTcsYTgsYTkpfWNhdGNoKGUpe3N0YWNrUmVzdG9yZShzcCk7aWYoZSE9PWUrMCl0aHJvdyBlO19zZXRUaHJldygxLDApfX1mdW5jdGlvbiBpbnZva2VfaWlpaWlpKGluZGV4LGExLGEyLGEzLGE0LGE1KXt2YXIgc3A9c3RhY2tTYXZlKCk7dHJ5e3JldHVybiBnZXRXYXNtVGFibGVFbnRyeShpbmRleCkoYTEsYTIsYTMsYTQsYTUpfWNhdGNoKGUpe3N0YWNrUmVzdG9yZShzcCk7aWYoZSE9PWUrMCl0aHJvdyBlO19zZXRUaHJldygxLDApfX1mdW5jdGlvbiBpbnZva2VfdihpbmRleCl7dmFyIHNwPXN0YWNrU2F2ZSgpO3RyeXtnZXRXYXNtVGFibGVFbnRyeShpbmRleCkoKX1jYXRjaChlKXtzdGFja1Jlc3RvcmUoc3ApO2lmKGUhPT1lKzApdGhyb3cgZTtfc2V0VGhyZXcoMSwwKX19ZnVuY3Rpb24gaW52b2tlX3ZpaWlpZGkoaW5kZXgsYTEsYTIsYTMsYTQsYTUsYTYpe3ZhciBzcD1zdGFja1NhdmUoKTt0cnl7Z2V0V2FzbVRhYmxlRW50cnkoaW5kZXgpKGExLGEyLGEzLGE0LGE1LGE2KX1jYXRjaChlKXtzdGFja1Jlc3RvcmUoc3ApO2lmKGUhPT1lKzApdGhyb3cgZTtfc2V0VGhyZXcoMSwwKX19ZnVuY3Rpb24gaW52b2tlX3ZpaWlkaWlpKGluZGV4LGExLGEyLGEzLGE0LGE1LGE2LGE3KXt2YXIgc3A9c3RhY2tTYXZlKCk7dHJ5e2dldFdhc21UYWJsZUVudHJ5KGluZGV4KShhMSxhMixhMyxhNCxhNSxhNixhNyl9Y2F0Y2goZSl7c3RhY2tSZXN0b3JlKHNwKTtpZihlIT09ZSswKXRocm93IGU7X3NldFRocmV3KDEsMCl9fWZ1bmN0aW9uIGludm9rZV92aWlkKGluZGV4LGExLGEyLGEzKXt2YXIgc3A9c3RhY2tTYXZlKCk7dHJ5e2dldFdhc21UYWJsZUVudHJ5KGluZGV4KShhMSxhMixhMyl9Y2F0Y2goZSl7c3RhY2tSZXN0b3JlKHNwKTtpZihlIT09ZSswKXRocm93IGU7X3NldFRocmV3KDEsMCl9fWZ1bmN0aW9uIGludm9rZV92aWlpaWlpaWkoaW5kZXgsYTEsYTIsYTMsYTQsYTUsYTYsYTcsYTgpe3ZhciBzcD1zdGFja1NhdmUoKTt0cnl7Z2V0V2FzbVRhYmxlRW50cnkoaW5kZXgpKGExLGEyLGEzLGE0LGE1LGE2LGE3LGE4KX1jYXRjaChlKXtzdGFja1Jlc3RvcmUoc3ApO2lmKGUhPT1lKzApdGhyb3cgZTtfc2V0VGhyZXcoMSwwKX19ZnVuY3Rpb24gaW52b2tlX2lpaWlpKGluZGV4LGExLGEyLGEzLGE0KXt2YXIgc3A9c3RhY2tTYXZlKCk7dHJ5e3JldHVybiBnZXRXYXNtVGFibGVFbnRyeShpbmRleCkoYTEsYTIsYTMsYTQpfWNhdGNoKGUpe3N0YWNrUmVzdG9yZShzcCk7aWYoZSE9PWUrMCl0aHJvdyBlO19zZXRUaHJldygxLDApfX1mdW5jdGlvbiBpbnZva2VfdmlpZGkoaW5kZXgsYTEsYTIsYTMsYTQpe3ZhciBzcD1zdGFja1NhdmUoKTt0cnl7Z2V0V2FzbVRhYmxlRW50cnkoaW5kZXgpKGExLGEyLGEzLGE0KX1jYXRjaChlKXtzdGFja1Jlc3RvcmUoc3ApO2lmKGUhPT1lKzApdGhyb3cgZTtfc2V0VGhyZXcoMSwwKX19ZnVuY3Rpb24gaW52b2tlX3ZpaWlpKGluZGV4LGExLGEyLGEzLGE0KXt2YXIgc3A9c3RhY2tTYXZlKCk7dHJ5e2dldFdhc21UYWJsZUVudHJ5KGluZGV4KShhMSxhMixhMyxhNCl9Y2F0Y2goZSl7c3RhY2tSZXN0b3JlKHNwKTtpZihlIT09ZSswKXRocm93IGU7X3NldFRocmV3KDEsMCl9fWZ1bmN0aW9uIGludm9rZV9paWRpaShpbmRleCxhMSxhMixhMyxhNCl7dmFyIHNwPXN0YWNrU2F2ZSgpO3RyeXtyZXR1cm4gZ2V0V2FzbVRhYmxlRW50cnkoaW5kZXgpKGExLGEyLGEzLGE0KX1jYXRjaChlKXtzdGFja1Jlc3RvcmUoc3ApO2lmKGUhPT1lKzApdGhyb3cgZTtfc2V0VGhyZXcoMSwwKX19ZnVuY3Rpb24gaW52b2tlX2lpaWlpZChpbmRleCxhMSxhMixhMyxhNCxhNSl7dmFyIHNwPXN0YWNrU2F2ZSgpO3RyeXtyZXR1cm4gZ2V0V2FzbVRhYmxlRW50cnkoaW5kZXgpKGExLGEyLGEzLGE0LGE1KX1jYXRjaChlKXtzdGFja1Jlc3RvcmUoc3ApO2lmKGUhPT1lKzApdGhyb3cgZTtfc2V0VGhyZXcoMSwwKX19ZnVuY3Rpb24gaW52b2tlX2lpaWlpaWlpKGluZGV4LGExLGEyLGEzLGE0LGE1LGE2LGE3KXt2YXIgc3A9c3RhY2tTYXZlKCk7dHJ5e3JldHVybiBnZXRXYXNtVGFibGVFbnRyeShpbmRleCkoYTEsYTIsYTMsYTQsYTUsYTYsYTcpfWNhdGNoKGUpe3N0YWNrUmVzdG9yZShzcCk7aWYoZSE9PWUrMCl0aHJvdyBlO19zZXRUaHJldygxLDApfX1mdW5jdGlvbiBpbnZva2VfZmlpaShpbmRleCxhMSxhMixhMyl7dmFyIHNwPXN0YWNrU2F2ZSgpO3RyeXtyZXR1cm4gZ2V0V2FzbVRhYmxlRW50cnkoaW5kZXgpKGExLGEyLGEzKX1jYXRjaChlKXtzdGFja1Jlc3RvcmUoc3ApO2lmKGUhPT1lKzApdGhyb3cgZTtfc2V0VGhyZXcoMSwwKX19ZnVuY3Rpb24gaW52b2tlX2RpaWkoaW5kZXgsYTEsYTIsYTMpe3ZhciBzcD1zdGFja1NhdmUoKTt0cnl7cmV0dXJuIGdldFdhc21UYWJsZUVudHJ5KGluZGV4KShhMSxhMixhMyl9Y2F0Y2goZSl7c3RhY2tSZXN0b3JlKHNwKTtpZihlIT09ZSswKXRocm93IGU7X3NldFRocmV3KDEsMCl9fWZ1bmN0aW9uIGludm9rZV92aWlpaWlpaShpbmRleCxhMSxhMixhMyxhNCxhNSxhNixhNyl7dmFyIHNwPXN0YWNrU2F2ZSgpO3RyeXtnZXRXYXNtVGFibGVFbnRyeShpbmRleCkoYTEsYTIsYTMsYTQsYTUsYTYsYTcpfWNhdGNoKGUpe3N0YWNrUmVzdG9yZShzcCk7aWYoZSE9PWUrMCl0aHJvdyBlO19zZXRUaHJldygxLDApfX1mdW5jdGlvbiBpbnZva2VfaWlpaWlpaWlpaWlpKGluZGV4LGExLGEyLGEzLGE0LGE1LGE2LGE3LGE4LGE5LGExMCxhMTEpe3ZhciBzcD1zdGFja1NhdmUoKTt0cnl7cmV0dXJuIGdldFdhc21UYWJsZUVudHJ5KGluZGV4KShhMSxhMixhMyxhNCxhNSxhNixhNyxhOCxhOSxhMTAsYTExKX1jYXRjaChlKXtzdGFja1Jlc3RvcmUoc3ApO2lmKGUhPT1lKzApdGhyb3cgZTtfc2V0VGhyZXcoMSwwKX19ZnVuY3Rpb24gaW52b2tlX3ZpaWlpaWlpaWlpKGluZGV4LGExLGEyLGEzLGE0LGE1LGE2LGE3LGE4LGE5LGExMCl7dmFyIHNwPXN0YWNrU2F2ZSgpO3RyeXtnZXRXYXNtVGFibGVFbnRyeShpbmRleCkoYTEsYTIsYTMsYTQsYTUsYTYsYTcsYTgsYTksYTEwKX1jYXRjaChlKXtzdGFja1Jlc3RvcmUoc3ApO2lmKGUhPT1lKzApdGhyb3cgZTtfc2V0VGhyZXcoMSwwKX19ZnVuY3Rpb24gaW52b2tlX3ZpaWlpaWlpaWlpaWlpaWkoaW5kZXgsYTEsYTIsYTMsYTQsYTUsYTYsYTcsYTgsYTksYTEwLGExMSxhMTIsYTEzLGExNCxhMTUpe3ZhciBzcD1zdGFja1NhdmUoKTt0cnl7Z2V0V2FzbVRhYmxlRW50cnkoaW5kZXgpKGExLGEyLGEzLGE0LGE1LGE2LGE3LGE4LGE5LGExMCxhMTEsYTEyLGExMyxhMTQsYTE1KX1jYXRjaChlKXtzdGFja1Jlc3RvcmUoc3ApO2lmKGUhPT1lKzApdGhyb3cgZTtfc2V0VGhyZXcoMSwwKX19ZnVuY3Rpb24gaW52b2tlX2ooaW5kZXgpe3ZhciBzcD1zdGFja1NhdmUoKTt0cnl7cmV0dXJuIGR5bkNhbGxfaihpbmRleCl9Y2F0Y2goZSl7c3RhY2tSZXN0b3JlKHNwKTtpZihlIT09ZSswKXRocm93IGU7X3NldFRocmV3KDEsMCl9fWZ1bmN0aW9uIGludm9rZV9qaWlpaShpbmRleCxhMSxhMixhMyxhNCl7dmFyIHNwPXN0YWNrU2F2ZSgpO3RyeXtyZXR1cm4gZHluQ2FsbF9qaWlpaShpbmRleCxhMSxhMixhMyxhNCl9Y2F0Y2goZSl7c3RhY2tSZXN0b3JlKHNwKTtpZihlIT09ZSswKXRocm93IGU7X3NldFRocmV3KDEsMCl9fU1vZHVsZVsia2VlcFJ1bnRpbWVBbGl2ZSJdPWtlZXBSdW50aW1lQWxpdmU7TW9kdWxlWyJ3YXNtTWVtb3J5Il09d2FzbU1lbW9yeTtNb2R1bGVbIkV4aXRTdGF0dXMiXT1FeGl0U3RhdHVzO01vZHVsZVsiUFRocmVhZCJdPVBUaHJlYWQ7dmFyIGNhbGxlZFJ1bjtmdW5jdGlvbiBFeGl0U3RhdHVzKHN0YXR1cyl7dGhpcy5uYW1lPSJFeGl0U3RhdHVzIjt0aGlzLm1lc3NhZ2U9IlByb2dyYW0gdGVybWluYXRlZCB3aXRoIGV4aXQoIitzdGF0dXMrIikiO3RoaXMuc3RhdHVzPXN0YXR1c31kZXBlbmRlbmNpZXNGdWxmaWxsZWQ9ZnVuY3Rpb24gcnVuQ2FsbGVyKCl7aWYoIWNhbGxlZFJ1bilydW4oKTtpZighY2FsbGVkUnVuKWRlcGVuZGVuY2llc0Z1bGZpbGxlZD1ydW5DYWxsZXJ9O2Z1bmN0aW9uIHJ1bihhcmdzKXthcmdzPWFyZ3N8fGFyZ3VtZW50c187aWYocnVuRGVwZW5kZW5jaWVzPjApe3JldHVybn1pZihFTlZJUk9OTUVOVF9JU19QVEhSRUFEKXtyZWFkeVByb21pc2VSZXNvbHZlKE1vZHVsZSk7aW5pdFJ1bnRpbWUoKTtwb3N0TWVzc2FnZSh7ImNtZCI6ImxvYWRlZCJ9KTtyZXR1cm59cHJlUnVuKCk7aWYocnVuRGVwZW5kZW5jaWVzPjApe3JldHVybn1mdW5jdGlvbiBkb1J1bigpe2lmKGNhbGxlZFJ1bilyZXR1cm47Y2FsbGVkUnVuPXRydWU7TW9kdWxlWyJjYWxsZWRSdW4iXT10cnVlO2lmKEFCT1JUKXJldHVybjtpbml0UnVudGltZSgpO3JlYWR5UHJvbWlzZVJlc29sdmUoTW9kdWxlKTtpZihNb2R1bGVbIm9uUnVudGltZUluaXRpYWxpemVkIl0pTW9kdWxlWyJvblJ1bnRpbWVJbml0aWFsaXplZCJdKCk7cG9zdFJ1bigpfWlmKE1vZHVsZVsic2V0U3RhdHVzIl0pe01vZHVsZVsic2V0U3RhdHVzIl0oIlJ1bm5pbmcuLi4iKTtzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7c2V0VGltZW91dChmdW5jdGlvbigpe01vZHVsZVsic2V0U3RhdHVzIl0oIiIpfSwxKTtkb1J1bigpfSwxKX1lbHNle2RvUnVuKCl9fU1vZHVsZVsicnVuIl09cnVuO2Z1bmN0aW9uIGV4aXQoc3RhdHVzLGltcGxpY2l0KXtFWElUU1RBVFVTPXN0YXR1cztpZighaW1wbGljaXQpe2lmKEVOVklST05NRU5UX0lTX1BUSFJFQUQpe2V4aXRPbk1haW5UaHJlYWQoc3RhdHVzKTt0aHJvdyJ1bndpbmQifWVsc2V7fX1pZigha2VlcFJ1bnRpbWVBbGl2ZSgpKXtleGl0UnVudGltZSgpfXByb2NFeGl0KHN0YXR1cyl9ZnVuY3Rpb24gcHJvY0V4aXQoY29kZSl7RVhJVFNUQVRVUz1jb2RlO2lmKCFrZWVwUnVudGltZUFsaXZlKCkpe1BUaHJlYWQudGVybWluYXRlQWxsVGhyZWFkcygpO2lmKE1vZHVsZVsib25FeGl0Il0pTW9kdWxlWyJvbkV4aXQiXShjb2RlKTtBQk9SVD10cnVlfXF1aXRfKGNvZGUsbmV3IEV4aXRTdGF0dXMoY29kZSkpfWlmKE1vZHVsZVsicHJlSW5pdCJdKXtpZih0eXBlb2YgTW9kdWxlWyJwcmVJbml0Il09PSJmdW5jdGlvbiIpTW9kdWxlWyJwcmVJbml0Il09W01vZHVsZVsicHJlSW5pdCJdXTt3aGlsZShNb2R1bGVbInByZUluaXQiXS5sZW5ndGg+MCl7TW9kdWxlWyJwcmVJbml0Il0ucG9wKCkoKX19cnVuKCk7CgoKICByZXR1cm4gTW9kdWxlLnJlYWR5Cn0KKTsKfSkoKTsKY3JlYXRlV2FzbU11bHRpSW5zdGFuY2UgPSBNb2R1bGU7IH0gICAgCiAgICAKICAgICAgICAgICAgIWZ1bmN0aW9uKCl7InVzZSBzdHJpY3QiO3ZhciBlPU9iamVjdC5kZWZpbmVQcm9wZXJ0eSxhPSh0LHIsbik9PigoKHQscixuKT0+e3IgaW4gdD9lKHQscix7ZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITAsd3JpdGFibGU6ITAsdmFsdWU6bn0pOnRbcl09bn0pKHQsInN5bWJvbCIhPXR5cGVvZiByP3IrIiI6cixuKSxuKTtjbGFzcyBse31hKGwsInVwZGF0ZXMiLHt0cmFuc2Zvcm1lcl9uZXc6Ik5ldyB0cmFuc2Zvcm1lciIsdHJhbnNmb3JtZXJfbnVsbDoiTnVsbCB0cmFuc2Zvcm1lciJ9KSxhKGwsImVycm9ycyIse3RyYW5zZm9ybWVyX25vbmU6Ik5vIHRyYW5zZm9ybWVycyBwcm92aWRlZCIsdHJhbnNmb3JtZXJfc3RhcnQ6IkNhbm5vdCBzdGFydCB0cmFuc2Zvcm1lciIsdHJhbnNmb3JtZXJfdHJhbnNmb3JtOiJDYW5ub3QgdHJhbnNmb3JtIGZyYW1lIix0cmFuc2Zvcm1lcl9mbHVzaDoiQ2Fubm90IGZsdXNoIHRyYW5zZm9ybWVyIixyZWFkYWJsZV9udWxsOiJSZWFkYWJsZSBpcyBudWxsIix3cml0YWJsZV9udWxsOiJXcml0YWJsZSBpcyBudWxsIn0pO2NvbnN0IHQ9bmV3IFdlYWtNYXAscj1uZXcgV2Vha01hcCxuPW5ldyBXZWFrTWFwLGM9U3ltYm9sKCJhbnlQcm9kdWNlciIpLGY9UHJvbWlzZS5yZXNvbHZlKCksaD1TeW1ib2woImxpc3RlbmVyQWRkZWQiKSx1PVN5bWJvbCgibGlzdGVuZXJSZW1vdmVkIik7bGV0IGQ9ITE7ZnVuY3Rpb24gZyhlKXtpZigic3RyaW5nIiE9dHlwZW9mIGUmJiJzeW1ib2wiIT10eXBlb2YgZSl0aHJvdyBuZXcgVHlwZUVycm9yKCJldmVudE5hbWUgbXVzdCBiZSBhIHN0cmluZyBvciBhIHN5bWJvbCIpfWZ1bmN0aW9uIFQoZSl7aWYoImZ1bmN0aW9uIiE9dHlwZW9mIGUpdGhyb3cgbmV3IFR5cGVFcnJvcigibGlzdGVuZXIgbXVzdCBiZSBhIGZ1bmN0aW9uIil9ZnVuY3Rpb24gXyhlLHQpe2NvbnN0IG49ci5nZXQoZSk7cmV0dXJuIG4uaGFzKHQpfHxuLnNldCh0LG5ldyBTZXQpLG4uZ2V0KHQpfWZ1bmN0aW9uIGIoZSx0KXtjb25zdCByPSJzdHJpbmciPT10eXBlb2YgdHx8InN5bWJvbCI9PXR5cGVvZiB0P3Q6YyxmPW4uZ2V0KGUpO3JldHVybiBmLmhhcyhyKXx8Zi5zZXQocixuZXcgU2V0KSxmLmdldChyKX1mdW5jdGlvbiAkKGUsdCl7dD1BcnJheS5pc0FycmF5KHQpP3Q6W3RdO2xldCByPSExLHM9KCk9Pnt9LG49W107Y29uc3QgYz17ZW5xdWV1ZShlKXtuLnB1c2goZSkscygpfSxmaW5pc2goKXtyPSEwLHMoKX19O2Zvcihjb25zdCBmIG9mIHQpYihlLGYpLmFkZChjKTtyZXR1cm57YXN5bmMgbmV4dCgpe3JldHVybiBuPzA9PT1uLmxlbmd0aD9yPyhuPXZvaWQgMCx0aGlzLm5leHQoKSk6KGF3YWl0IG5ldyBQcm9taXNlKChlPT57cz1lfSkpLHRoaXMubmV4dCgpKTp7ZG9uZTohMSx2YWx1ZTphd2FpdCBuLnNoaWZ0KCl9Ontkb25lOiEwfX0sYXN5bmMgcmV0dXJuKHIpe249dm9pZCAwO2Zvcihjb25zdCBuIG9mIHQpYihlLG4pLmRlbGV0ZShjKTtyZXR1cm4gcygpLGFyZ3VtZW50cy5sZW5ndGg+MD97ZG9uZTohMCx2YWx1ZTphd2FpdCByfTp7ZG9uZTohMH19LFtTeW1ib2wuYXN5bmNJdGVyYXRvcl0oKXtyZXR1cm4gdGhpc319fWZ1bmN0aW9uIEgoZSl7aWYodm9pZCAwPT09ZSlyZXR1cm4gcDtpZighQXJyYXkuaXNBcnJheShlKSl0aHJvdyBuZXcgVHlwZUVycm9yKCJgbWV0aG9kTmFtZXNgIG11c3QgYmUgYW4gYXJyYXkgb2Ygc3RyaW5ncyIpO2Zvcihjb25zdCB0IG9mIGUpaWYoIXAuaW5jbHVkZXModCkpdGhyb3cic3RyaW5nIiE9dHlwZW9mIHQ/bmV3IFR5cGVFcnJvcigiYG1ldGhvZE5hbWVzYCBlbGVtZW50IG11c3QgYmUgYSBzdHJpbmciKTpuZXcgRXJyb3IoYCR7dH0gaXMgbm90IEVtaXR0ZXJ5IG1ldGhvZGApO3JldHVybiBlfWNvbnN0IEk9ZT0+ZT09PWh8fGU9PT11O2NsYXNzIG17c3RhdGljIG1peGluKGUsdCl7cmV0dXJuIHQ9SCh0KSxyPT57aWYoImZ1bmN0aW9uIiE9dHlwZW9mIHIpdGhyb3cgbmV3IFR5cGVFcnJvcigiYHRhcmdldGAgbXVzdCBiZSBmdW5jdGlvbiIpO2Zvcihjb25zdCBlIG9mIHQpaWYodm9pZCAwIT09ci5wcm90b3R5cGVbZV0pdGhyb3cgbmV3IEVycm9yKGBUaGUgcHJvcGVydHkgXGAke2V9XGAgYWxyZWFkeSBleGlzdHMgb24gXGB0YXJnZXRcYGApO09iamVjdC5kZWZpbmVQcm9wZXJ0eShyLnByb3RvdHlwZSxlLHtlbnVtZXJhYmxlOiExLGdldDpmdW5jdGlvbiBvKCl7cmV0dXJuIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLGUse2VudW1lcmFibGU6ITEsdmFsdWU6bmV3IG19KSx0aGlzW2VdfX0pO2NvbnN0IGk9dD0+ZnVuY3Rpb24oLi4ucil7cmV0dXJuIHRoaXNbZV1bdF0oLi4ucil9O2Zvcihjb25zdCBlIG9mIHQpT2JqZWN0LmRlZmluZVByb3BlcnR5KHIucHJvdG90eXBlLGUse2VudW1lcmFibGU6ITEsdmFsdWU6aShlKX0pO3JldHVybiByfX1zdGF0aWMgZ2V0IGlzRGVidWdFbmFibGVkKCl7aWYoIm9iamVjdCIhPXR5cGVvZiBwcm9jZXNzKXJldHVybiBkO2NvbnN0e2VudjplfT1wcm9jZXNzfHx7ZW52Ont9fTtyZXR1cm4iZW1pdHRlcnkiPT09ZS5ERUJVR3x8IioiPT09ZS5ERUJVR3x8ZH1zdGF0aWMgc2V0IGlzRGVidWdFbmFibGVkKGUpe2Q9ZX1jb25zdHJ1Y3RvcihlPXt9KXt0LnNldCh0aGlzLG5ldyBTZXQpLHIuc2V0KHRoaXMsbmV3IE1hcCksbi5zZXQodGhpcyxuZXcgTWFwKSx0aGlzLmRlYnVnPWUuZGVidWd8fHt9LHZvaWQgMD09PXRoaXMuZGVidWcuZW5hYmxlZCYmKHRoaXMuZGVidWcuZW5hYmxlZD0hMSksdGhpcy5kZWJ1Zy5sb2dnZXJ8fCh0aGlzLmRlYnVnLmxvZ2dlcj0oZSx0LHIsbik9Pnt0cnl7bj1KU09OLnN0cmluZ2lmeShuKX1jYXRjaHtuPWBPYmplY3Qgd2l0aCB0aGUgZm9sbG93aW5nIGtleXMgZmFpbGVkIHRvIHN0cmluZ2lmeTogJHtPYmplY3Qua2V5cyhuKS5qb2luKCIsIil9YH0ic3ltYm9sIj09dHlwZW9mIHImJihyPXIudG9TdHJpbmcoKSk7Y29uc3QgYz1uZXcgRGF0ZSxmPWAke2MuZ2V0SG91cnMoKX06JHtjLmdldE1pbnV0ZXMoKX06JHtjLmdldFNlY29uZHMoKX0uJHtjLmdldE1pbGxpc2Vjb25kcygpfWA7Y29uc29sZS5sb2coYFske2Z9XVtlbWl0dGVyeToke2V9XVske3R9XSBFdmVudCBOYW1lOiAke3J9XG5cdGRhdGE6ICR7bn1gKX0pfWxvZ0lmRGVidWdFbmFibGVkKGUsdCxyKXsobS5pc0RlYnVnRW5hYmxlZHx8dGhpcy5kZWJ1Zy5lbmFibGVkKSYmdGhpcy5kZWJ1Zy5sb2dnZXIoZSx0aGlzLmRlYnVnLm5hbWUsdCxyKX1vbihlLHQpe1QodCksZT1BcnJheS5pc0FycmF5KGUpP2U6W2VdO2Zvcihjb25zdCByIG9mIGUpZyhyKSxfKHRoaXMscikuYWRkKHQpLHRoaXMubG9nSWZEZWJ1Z0VuYWJsZWQoInN1YnNjcmliZSIscix2b2lkIDApLEkocil8fHRoaXMuZW1pdChoLHtldmVudE5hbWU6cixsaXN0ZW5lcjp0fSk7cmV0dXJuIHRoaXMub2ZmLmJpbmQodGhpcyxlLHQpfW9mZihlLHQpe1QodCksZT1BcnJheS5pc0FycmF5KGUpP2U6W2VdO2Zvcihjb25zdCByIG9mIGUpZyhyKSxfKHRoaXMscikuZGVsZXRlKHQpLHRoaXMubG9nSWZEZWJ1Z0VuYWJsZWQoInVuc3Vic2NyaWJlIixyLHZvaWQgMCksSShyKXx8dGhpcy5lbWl0KHUse2V2ZW50TmFtZTpyLGxpc3RlbmVyOnR9KX1vbmNlKGUpe3JldHVybiBuZXcgUHJvbWlzZSgodD0+e2NvbnN0IHI9dGhpcy5vbihlLChlPT57cigpLHQoZSl9KSl9KSl9ZXZlbnRzKGUpe2U9QXJyYXkuaXNBcnJheShlKT9lOltlXTtmb3IoY29uc3QgdCBvZiBlKWcodCk7cmV0dXJuICQodGhpcyxlKX1hc3luYyBlbWl0KGUscil7ZyhlKSx0aGlzLmxvZ0lmRGVidWdFbmFibGVkKCJlbWl0IixlLHIpLGZ1bmN0aW9uIHEoZSx0LHIpe2NvbnN0IGY9bi5nZXQoZSk7aWYoZi5oYXModCkpZm9yKGNvbnN0IG4gb2YgZi5nZXQodCkpbi5lbnF1ZXVlKHIpO2lmKGYuaGFzKGMpKXtjb25zdCBlPVByb21pc2UuYWxsKFt0LHJdKTtmb3IoY29uc3QgdCBvZiBmLmdldChjKSl0LmVucXVldWUoZSl9fSh0aGlzLGUscik7Y29uc3QgaD1fKHRoaXMsZSksdT10LmdldCh0aGlzKSxkPVsuLi5oXSxwPUkoZSk/W106Wy4uLnVdO2F3YWl0IGYsYXdhaXQgUHJvbWlzZS5hbGwoWy4uLmQubWFwKChhc3luYyBlPT57aWYoaC5oYXMoZSkpcmV0dXJuIGUocil9KSksLi4ucC5tYXAoKGFzeW5jIHQ9PntpZih1Lmhhcyh0KSlyZXR1cm4gdChlLHIpfSkpXSl9YXN5bmMgZW1pdFNlcmlhbChlLHIpe2coZSksdGhpcy5sb2dJZkRlYnVnRW5hYmxlZCgiZW1pdFNlcmlhbCIsZSxyKTtjb25zdCBuPV8odGhpcyxlKSxjPXQuZ2V0KHRoaXMpLGg9Wy4uLm5dLHU9Wy4uLmNdO2F3YWl0IGY7Zm9yKGNvbnN0IHQgb2YgaCluLmhhcyh0KSYmYXdhaXQgdChyKTtmb3IoY29uc3QgdCBvZiB1KWMuaGFzKHQpJiZhd2FpdCB0KGUscil9b25BbnkoZSl7cmV0dXJuIFQoZSksdGhpcy5sb2dJZkRlYnVnRW5hYmxlZCgic3Vic2NyaWJlQW55Iix2b2lkIDAsdm9pZCAwKSx0LmdldCh0aGlzKS5hZGQoZSksdGhpcy5lbWl0KGgse2xpc3RlbmVyOmV9KSx0aGlzLm9mZkFueS5iaW5kKHRoaXMsZSl9YW55RXZlbnQoKXtyZXR1cm4gJCh0aGlzKX1vZmZBbnkoZSl7VChlKSx0aGlzLmxvZ0lmRGVidWdFbmFibGVkKCJ1bnN1YnNjcmliZUFueSIsdm9pZCAwLHZvaWQgMCksdGhpcy5lbWl0KHUse2xpc3RlbmVyOmV9KSx0LmdldCh0aGlzKS5kZWxldGUoZSl9Y2xlYXJMaXN0ZW5lcnMoZSl7ZT1BcnJheS5pc0FycmF5KGUpP2U6W2VdO2Zvcihjb25zdCBjIG9mIGUpaWYodGhpcy5sb2dJZkRlYnVnRW5hYmxlZCgiY2xlYXIiLGMsdm9pZCAwKSwic3RyaW5nIj09dHlwZW9mIGN8fCJzeW1ib2wiPT10eXBlb2YgYyl7Xyh0aGlzLGMpLmNsZWFyKCk7Y29uc3QgZT1iKHRoaXMsYyk7Zm9yKGNvbnN0IHQgb2YgZSl0LmZpbmlzaCgpO2UuY2xlYXIoKX1lbHNle3QuZ2V0KHRoaXMpLmNsZWFyKCk7Zm9yKGNvbnN0IGUgb2Ygci5nZXQodGhpcykudmFsdWVzKCkpZS5jbGVhcigpO2Zvcihjb25zdCBlIG9mIG4uZ2V0KHRoaXMpLnZhbHVlcygpKXtmb3IoY29uc3QgdCBvZiBlKXQuZmluaXNoKCk7ZS5jbGVhcigpfX19bGlzdGVuZXJDb3VudChlKXtlPUFycmF5LmlzQXJyYXkoZSk/ZTpbZV07bGV0IGM9MDtmb3IoY29uc3QgZiBvZiBlKWlmKCJzdHJpbmciIT10eXBlb2YgZil7dHlwZW9mIGY8InUiJiZnKGYpLGMrPXQuZ2V0KHRoaXMpLnNpemU7Zm9yKGNvbnN0IGUgb2Ygci5nZXQodGhpcykudmFsdWVzKCkpYys9ZS5zaXplO2Zvcihjb25zdCBlIG9mIG4uZ2V0KHRoaXMpLnZhbHVlcygpKWMrPWUuc2l6ZX1lbHNlIGMrPXQuZ2V0KHRoaXMpLnNpemUrXyh0aGlzLGYpLnNpemUrYih0aGlzLGYpLnNpemUrYih0aGlzKS5zaXplO3JldHVybiBjfWJpbmRNZXRob2RzKGUsdCl7aWYoIm9iamVjdCIhPXR5cGVvZiBlfHxudWxsPT09ZSl0aHJvdyBuZXcgVHlwZUVycm9yKCJgdGFyZ2V0YCBtdXN0IGJlIGFuIG9iamVjdCIpO3Q9SCh0KTtmb3IoY29uc3QgciBvZiB0KXtpZih2b2lkIDAhPT1lW3JdKXRocm93IG5ldyBFcnJvcihgVGhlIHByb3BlcnR5IFxgJHtyfVxgIGFscmVhZHkgZXhpc3RzIG9uIFxgdGFyZ2V0XGBgKTtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxyLHtlbnVtZXJhYmxlOiExLHZhbHVlOnRoaXNbcl0uYmluZCh0aGlzKX0pfX19Y29uc3QgcD1PYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhtLnByb3RvdHlwZSkuZmlsdGVyKChlPT4iY29uc3RydWN0b3IiIT09ZSkpO09iamVjdC5kZWZpbmVQcm9wZXJ0eShtLCJsaXN0ZW5lckFkZGVkIix7dmFsdWU6aCx3cml0YWJsZTohMSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShtLCJsaXN0ZW5lclJlbW92ZWQiLHt2YWx1ZTp1LHdyaXRhYmxlOiExLGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiExfSk7dmFyIHk9bTtmdW5jdGlvbiB2KGUpe3JldHVybiBmdW5jdGlvbiBYKGUpe2lmKGZ1bmN0aW9uIEooZSl7cmV0dXJuIm9iamVjdCI9PXR5cGVvZiBlJiZudWxsIT09ZSYmIm1lc3NhZ2UiaW4gZSYmInN0cmluZyI9PXR5cGVvZiBlLm1lc3NhZ2V9KGUpKXJldHVybiBlO3RyeXtyZXR1cm4gbmV3IEVycm9yKEpTT04uc3RyaW5naWZ5KGUpKX1jYXRjaHtyZXR1cm4gbmV3IEVycm9yKFN0cmluZyhlKSl9fShlKS5tZXNzYWdlfXZhciBFPU9iamVjdC5kZWZpbmVQcm9wZXJ0eSxOPShlLHQscik9PigoKGUsdCxyKT0+e3QgaW4gZT9FKGUsdCx7ZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITAsd3JpdGFibGU6ITAsdmFsdWU6cn0pOmVbdF09cn0pKGUsInN5bWJvbCIhPXR5cGVvZiB0P3QrIiI6dCxyKSxyKTtsZXQgQTtjb25zdCBTPW5ldyBVaW50OEFycmF5KDE2KTtmdW5jdGlvbiBpZSgpe2lmKCFBJiYoQT10eXBlb2YgY3J5cHRvPCJ1IiYmY3J5cHRvLmdldFJhbmRvbVZhbHVlcyYmY3J5cHRvLmdldFJhbmRvbVZhbHVlcy5iaW5kKGNyeXB0byksIUEpKXRocm93IG5ldyBFcnJvcigiY3J5cHRvLmdldFJhbmRvbVZhbHVlcygpIG5vdCBzdXBwb3J0ZWQuIFNlZSBodHRwczovL2dpdGh1Yi5jb20vdXVpZGpzL3V1aWQjZ2V0cmFuZG9tdmFsdWVzLW5vdC1zdXBwb3J0ZWQiKTtyZXR1cm4gQShTKX1jb25zdCBPPVtdO2ZvcihsZXQgQ2U9MDtDZTwyNTY7KytDZSlPLnB1c2goKENlKzI1NikudG9TdHJpbmcoMTYpLnNsaWNlKDEpKTtjb25zdCBNPXtyYW5kb21VVUlEOnR5cGVvZiBjcnlwdG88InUiJiZjcnlwdG8ucmFuZG9tVVVJRCYmY3J5cHRvLnJhbmRvbVVVSUQuYmluZChjcnlwdG8pfTtmdW5jdGlvbiBjZShlLHQscil7aWYoTS5yYW5kb21VVUlEJiYhdCYmIWUpcmV0dXJuIE0ucmFuZG9tVVVJRCgpO2NvbnN0IG49KGU9ZXx8e30pLnJhbmRvbXx8KGUucm5nfHxpZSkoKTtpZihuWzZdPTE1Jm5bNl18NjQsbls4XT02MyZuWzhdfDEyOCx0KXtyPXJ8fDA7Zm9yKGxldCBlPTA7ZTwxNjsrK2UpdFtyK2VdPW5bZV07cmV0dXJuIHR9cmV0dXJuIGZ1bmN0aW9uIG5lKGUsdD0wKXtyZXR1cm4oT1tlW3QrMF1dK09bZVt0KzFdXStPW2VbdCsyXV0rT1tlW3QrM11dKyItIitPW2VbdCs0XV0rT1tlW3QrNV1dKyItIitPW2VbdCs2XV0rT1tlW3QrN11dKyItIitPW2VbdCs4XV0rT1tlW3QrOV1dKyItIitPW2VbdCsxMF1dK09bZVt0KzExXV0rT1tlW3QrMTJdXStPW2VbdCsxM11dK09bZVt0KzE0XV0rT1tlW3QrMTVdXSkudG9Mb3dlckNhc2UoKX0obil9ZnVuY3Rpb24gVyhlLHQpe2dsb2JhbFRoaXMudm9uYWdlfHwoZ2xvYmFsVGhpcy52b25hZ2U9e30pLGdsb2JhbFRoaXMudm9uYWdlLndvcmtlcml6ZXJ8fChnbG9iYWxUaGlzLnZvbmFnZS53b3JrZXJpemVyPXt9KTtsZXQgcj1nbG9iYWxUaGlzLnZvbmFnZS53b3JrZXJpemVyO3JldHVybiByW2VdfHwocltlXT10KSxyW2VdfWNvbnN0IGs9VygiZ2xvYmFscyIse30pO3ZhciBSPShlPT4oZS5JTklUPSJJTklUIixlLkZPUldBUkQ9IkZPUldBUkQiLGUuVEVSTUlOQVRFPSJURVJNSU5BVEUiLGUuR0xPQkFMU19TWU5DPSJHTE9CQUxTX1NZTkMiLGUpKShSfHx7fSk7ZnVuY3Rpb24gaihlKXtyZXR1cm5bSW1hZ2VCaXRtYXAsUmVhZGFibGVTdHJlYW0sV3JpdGFibGVTdHJlYW1dLnNvbWUoKHQ9PmUgaW5zdGFuY2VvZiB0KSl9bGV0IHg9MDtmdW5jdGlvbiBsZShlLHQscixuLGMpe2NvbnN0IGY9eCsrO3JldHVybiBlLnBvc3RNZXNzYWdlKHtpZDpmLHR5cGU6dCxmdW5jdGlvbk5hbWU6cixhcmdzOm59LG4uZmlsdGVyKChlPT5qKGUpKSkpLG5ldyBQcm9taXNlKChlPT57bnVsbD09Y3x8Yy5zZXQoZixlKX0pKX1mdW5jdGlvbiB3KGUsdCl7Y29uc3R7aWQ6cix0eXBlOm59PWUsYz1BcnJheS5pc0FycmF5KHQpP3Q6W3RdO3Bvc3RNZXNzYWdlKHtpZDpyLHR5cGU6bixyZXN1bHQ6dH0sYy5maWx0ZXIoKGU9PmooZSkpKSl9Y29uc3QgTD1XKCJ3b3JrZXJpemVkIix7fSk7ZnVuY3Rpb24gQigpe3JldHVybiB0eXBlb2YgV29ya2VyR2xvYmFsU2NvcGU8InUiJiZzZWxmIGluc3RhbmNlb2YgV29ya2VyR2xvYmFsU2NvcGV9ZnVuY3Rpb24gUChlLHQpe2lmKEFycmF5LmlzQXJyYXkodCkpdC5zcGxpY2UoMCx0Lmxlbmd0aCk7ZWxzZSBpZigib2JqZWN0Ij09dHlwZW9mIHQpZm9yKGNvbnN0IHIgaW4gdClkZWxldGUgdFtyXTtmb3IoY29uc3QgciBpbiBlKUFycmF5LmlzQXJyYXkoZVtyXSk/KHRbcl09W10sUChlW3JdLHRbcl0pKToib2JqZWN0Ij09dHlwZW9mIGVbcl0/KHRbcl09e30sUChlW3JdLHRbcl0pKTp0W3JdPWVbcl19Y29uc3Qgej1XKCJyZWdpc3RlcmVkV29ya2VycyIse30pO2Z1bmN0aW9uIHllKGUsdCl7cmV0dXJuIGtbZV18fChrW2VdPXQpLFsoKT0+a1tlXSxhc3luYyB0PT57a1tlXT10LGF3YWl0IGFzeW5jIGZ1bmN0aW9uIHVlKCl7aWYoQigpKXcoe3R5cGU6Ui5HTE9CQUxTX1NZTkN9LGspO2Vsc2V7Y29uc3QgZT1bXTtmb3IoY29uc3QgdCBpbiBMKXtjb25zdHt3b3JrZXI6cixyZXNvbHZlcnM6bn09TFt0XS53b3JrZXJDb250ZXh0O3ImJmUucHVzaChsZShyLFIuR0xPQkFMU19TWU5DLCIiLFtrXSxuKSl9YXdhaXQgUHJvbWlzZS5hbGwoZSl9fSgpfV19QigpJiZmdW5jdGlvbiBfZSgpe2NvbnN0IGU9e307b25tZXNzYWdlPWFzeW5jIHQ9Pntjb25zdCByPXQuZGF0YTtzd2l0Y2goci50eXBlKXtjYXNlIFIuSU5JVDohZnVuY3Rpb24gZGUoZSx0KXtpZighZS5hcmdzKXRocm93Ik1pc3NpbmcgY2xhc3NOYW1lIHdoaWxlIGluaXRpYWxpemluZyB3b3JrZXIiO2NvbnN0W3Isbl09ZS5hcmdzLGM9eltyXTtpZighYyl0aHJvd2B1bmtub3duIHdvcmtlciBjbGFzcyAke3J9YDt0Lmluc3RhbmNlPW5ldyBjKGUuYXJncy5zbGljZSgxKSksUChuLGspLHcoZSx2b2lkIDAhPT10eXBlb2YgdC5pbnN0YW5jZSl9KHIsZSk7YnJlYWs7Y2FzZSBSLkZPUldBUkQ6IWFzeW5jIGZ1bmN0aW9uIGhlKGUsdCl7Y29uc3R7ZnVuY3Rpb25OYW1lOnIsYXJnczpufT1lO2lmKCF0Lmluc3RhbmNlKXRocm93Imluc3RhbmNlIG5vdCBpbml0aWFsaXplZCI7aWYoIXIpdGhyb3cibWlzc2luZyBmdW5jdGlvbiBuYW1lIHRvIGNhbGwiO2lmKCF0Lmluc3RhbmNlW3JdKXRocm93YHVuZGVmaW5lZCBmdW5jdGlvbiBbJHtyfV0gaW4gY2xhc3MgJHt0Lmluc3RhbmNlLmNvbnN0cnVjdG9yLndvcmtlcklkfWA7dyhlLGF3YWl0IHQuaW5zdGFuY2Vbcl0oLi4ubnVsbCE9bj9uOltdKSl9KHIsZSk7YnJlYWs7Y2FzZSBSLlRFUk1JTkFURTohYXN5bmMgZnVuY3Rpb24gbWUoZSx0KXtjb25zdHthcmdzOnJ9PWU7aWYoIXQuaW5zdGFuY2UpdGhyb3ciaW5zdGFuY2Ugbm90IGluaXRpYWxpemVkIjtsZXQgbjt0Lmluc3RhbmNlLnRlcm1pbmF0ZSYmKG49YXdhaXQgdC5pbnN0YW5jZS50ZXJtaW5hdGUoLi4ubnVsbCE9cj9yOltdKSksdyhlLG4pfShyLGUpO2JyZWFrO2Nhc2UgUi5HTE9CQUxTX1NZTkM6IWZ1bmN0aW9uIGdlKGUpe2lmKCFlLmFyZ3MpdGhyb3ciTWlzc2luZyBnbG9iYWxzIHdoaWxlIHN5bmNpbmciO1AoZS5hcmdzWzBdLGspLHcoZSx7fSl9KHIpfX19KCk7Y29uc3RbRixVXT1mdW5jdGlvbiBiZShlLHQpe3JldHVybiB5ZShlLHQpfSgibWV0YWRhdGEiKTtmdW5jdGlvbiBDKCl7cmV0dXJuIEYoKX1jbGFzcyBEe2NvbnN0cnVjdG9yKGUpe04odGhpcywidXVpZCIsY2UoKSksdGhpcy5jb25maWc9ZX1hc3luYyBzZW5kKGUpe3ZhciB0LHIsbjtjb25zdHthcHBJZDpjLHNvdXJjZVR5cGU6Zn09bnVsbCE9KHQ9QygpKT90Ont9O2lmKCFjfHwhZilyZXR1cm4ibWV0YWRhdGEgbWlzc2luZyI7Y29uc3QgaD1uZXcgQWJvcnRDb250cm9sbGVyLHU9c2V0VGltZW91dCgoKCk9PmguYWJvcnQoKSksMWU0KTtyZXR1cm4gYXdhaXQobnVsbCE9KG49bnVsbD09KHI9dGhpcy5jb25maWcpP3ZvaWQgMDpyLmZldGNoKT9uOmZldGNoKSh0aGlzLmdldFVybCgpLHttZXRob2Q6IlBPU1QiLGhlYWRlcnM6dGhpcy5nZXRIZWFkZXJzKCksYm9keTpKU09OLnN0cmluZ2lmeSh0aGlzLmJ1aWxkUmVwb3J0KGUpKSxzaWduYWw6aC5zaWduYWx9KSxjbGVhclRpbWVvdXQodSksInN1Y2Nlc3MifWdldFVybCgpe3ZhciBlO2xldCB0PW51bGwhPShlPUMoKS5wcm94eVVybCk/ZToiaHR0cHM6Ly8iO3JldHVybiB0Kz0oIi8iPT09dC5hdCgtMSk/IiI6Ii8iKSsiaGxnLnRva2JveC5jb20vcHJvZC9sb2dnaW5nL3ZjcF93ZWJydGMiLHR9Z2V0SGVhZGVycygpe3JldHVybnsiQ29udGVudC1UeXBlIjoiYXBwbGljYXRpb24vanNvbiJ9fWJ1aWxkUmVwb3J0KGUpe2NvbnN0IHQ9QygpO3JldHVybntndWlkOnRoaXMudXVpZCwuLi5lLGFwcGxpY2F0aW9uSWQ6dC5hcHBJZCx0aW1lc3RhbXA6RGF0ZS5ub3coKSxwcm94eVVybDp0LnByb3h5VXJsLHNvdXJjZTp0LnNvdXJjZVR5cGV9fX1jb25zdCBHPSIyLjAuMyI7Y2xhc3MgU2V7Y29uc3RydWN0b3IoZSl7YSh0aGlzLCJmcmFtZVRyYW5zZm9ybWVkQ291bnQiLDApLGEodGhpcywiZnJhbWVGcm9tU291cmNlQ291bnQiLDApLGEodGhpcywic3RhcnRBdCIsMCksYSh0aGlzLCJyZXBvcnRlciIpLHRoaXMuY29uZmlnPWUsdGhpcy5yZXBvcnRlcj1uZXcgRChlKX1hc3luYyBvbkZyYW1lRnJvbVNvdXJjZSgpe3RoaXMuZnJhbWVGcm9tU291cmNlQ291bnQrK31nZXQgZnBzKCl7Y29uc3R7c3RhcnRBdDplLGZyYW1lRnJvbVNvdXJjZUNvdW50OnR9PXRoaXM7cmV0dXJuIHQvKChEYXRlLm5vdygpLWUpLzFlMyl9YXN5bmMgb25GcmFtZVRyYW5zZm9ybWVkKGU9e30sdD0hMSl7MD09PXRoaXMuc3RhcnRBdCYmKHRoaXMuc3RhcnRBdD1EYXRlLm5vdygpKSx0aGlzLmZyYW1lVHJhbnNmb3JtZWRDb3VudCsrO2NvbnN0e3N0YXJ0QXQ6cixmcmFtZVRyYW5zZm9ybWVkQ291bnQ6bixmcmFtZUZyb21Tb3VyY2VDb3VudDpjfT10aGlzLGY9RGF0ZS5ub3coKSxoPShmLXIpLzFlMyx1PW4vaCxkPWMvaDtyZXR1cm4gdHx8dGhpcy5mcmFtZVRyYW5zZm9ybWVkQ291bnQ+PXRoaXMuY29uZmlnLmxvZ2dpbmdJbnRlcnZhbEZyYW1lQ291bnQ/KHRoaXMuZnJhbWVGcm9tU291cmNlQ291bnQ9MCx0aGlzLmZyYW1lVHJhbnNmb3JtZWRDb3VudD0wLHRoaXMuc3RhcnRBdD1mLHRoaXMucmVwb3J0ZXIuY29uZmlnPXRoaXMuY29uZmlnLHRoaXMucmVwb3J0ZXIuc2VuZCh7Li4udGhpcy5jb25maWcucmVwb3J0LHZhcmlhdGlvbjoiUW9TIixmcHM6ZCx0cmFuc2Zvcm1lZEZwczp1LGZyYW1lc1RyYW5zZm9ybWVkOm4sLi4uZX0pKToic3VjY2VzcyJ9fXZhciBRPShlPT4oZS5waXBlbGluZV9lbmRlZD0icGlwZWxpbmVfZW5kZWQiLGUucGlwZWxpbmVfZW5kZWRfd2l0aF9lcnJvcj0icGlwZWxpbmVfZW5kZWRfd2l0aF9lcnJvciIsZS5waXBlbGluZV9zdGFydGVkPSJwaXBlbGluZV9zdGFydGVkIixlLnBpcGVsaW5lX3N0YXJ0ZWRfd2l0aF9lcnJvcj0icGlwZWxpbmVfc3RhcnRlZF93aXRoX2Vycm9yIixlLnBpcGVsaW5lX3Jlc3RhcnRlZD0icGlwZWxpbmVfcmVzdGFydGVkIixlLnBpcGVsaW5lX3Jlc3RhcnRlZF93aXRoX2Vycm9yPSJwaXBlbGluZV9yZXN0YXJ0ZWRfd2l0aF9lcnJvciIsZSkpKFF8fHt9KTtjbGFzcyBQZSBleHRlbmRzIHl7Y29uc3RydWN0b3IoZSx0KXtzdXBlcigpLGEodGhpcywicmVwb3J0ZXJfIixuZXcgRCksYSh0aGlzLCJyZXBvcnRlclFvc18iLG5ldyBTZSh7bG9nZ2luZ0ludGVydmFsRnJhbWVDb3VudDo1MDAscmVwb3J0Ont2ZXJzaW9uOkd9fSkpLGEodGhpcywidHJhbnNmb3JtZXJUeXBlXyIpLGEodGhpcywidHJhbnNmb3JtZXJfIiksYSh0aGlzLCJzaG91bGRTdG9wXyIpLGEodGhpcywiaXNGbGFzaGVkXyIpLGEodGhpcywibWVkaWFUcmFuc2Zvcm1lclFvc1JlcG9ydFN0YXJ0VGltZXN0YW1wXyIpLGEodGhpcywidmlkZW9IZWlnaHRfIiksYSh0aGlzLCJ2aWRlb1dpZHRoXyIpLGEodGhpcywidHJhY2tFeHBlY3RlZFJhdGVfIiksYSh0aGlzLCJpbmRleF8iKSxhKHRoaXMsImNvbnRyb2xsZXJfIiksdGhpcy5pbmRleF89dCx0aGlzLnRyYW5zZm9ybWVyXz1lLHRoaXMuc2hvdWxkU3RvcF89ITEsdGhpcy5pc0ZsYXNoZWRfPSExLHRoaXMubWVkaWFUcmFuc2Zvcm1lclFvc1JlcG9ydFN0YXJ0VGltZXN0YW1wXz0wLHRoaXMudmlkZW9IZWlnaHRfPTAsdGhpcy52aWRlb1dpZHRoXz0wLHRoaXMudHJhY2tFeHBlY3RlZFJhdGVfPS0xLHRoaXMudHJhbnNmb3JtZXJUeXBlXz0iQ3VzdG9tIiwiZ2V0VHJhbnNmb3JtZXJUeXBlImluIGUmJih0aGlzLnRyYW5zZm9ybWVyVHlwZV89ZS5nZXRUcmFuc2Zvcm1lclR5cGUoKSksdGhpcy5yZXBvcnQoe3ZhcmlhdGlvbjoiQ3JlYXRlIn0pfXNldFRyYWNrRXhwZWN0ZWRSYXRlKGUpe3RoaXMudHJhY2tFeHBlY3RlZFJhdGVfPWV9YXN5bmMgc3RhcnQoZSl7aWYodGhpcy5jb250cm9sbGVyXz1lLHRoaXMudHJhbnNmb3JtZXJfJiYiZnVuY3Rpb24iPT10eXBlb2YgdGhpcy50cmFuc2Zvcm1lcl8uc3RhcnQpdHJ5e2F3YWl0IHRoaXMudHJhbnNmb3JtZXJfLnN0YXJ0KGUpfWNhdGNoKHQpe3RoaXMucmVwb3J0KHttZXNzYWdlOmwuZXJyb3JzLnRyYW5zZm9ybWVyX3N0YXJ0LHZhcmlhdGlvbjoiRXJyb3IiLGVycm9yOnYodCl9KTtjb25zdCBlPXtldmVudE1ldGFEYXRhOnt0cmFuc2Zvcm1lckluZGV4OnRoaXMuaW5kZXhffSxlcnJvcjp0LGZ1bmN0aW9uOiJzdGFydCJ9O3RoaXMuZW1pdCgiZXJyb3IiLGUpfX1hc3luYyB0cmFuc2Zvcm0oZSx0KXt2YXIgcixuLGMsZjtpZigwPT09dGhpcy5tZWRpYVRyYW5zZm9ybWVyUW9zUmVwb3J0U3RhcnRUaW1lc3RhbXBfJiYodGhpcy5tZWRpYVRyYW5zZm9ybWVyUW9zUmVwb3J0U3RhcnRUaW1lc3RhbXBfPURhdGUubm93KCkpLGUgaW5zdGFuY2VvZiBWaWRlb0ZyYW1lJiYodGhpcy52aWRlb0hlaWdodF89bnVsbCE9KHI9bnVsbD09ZT92b2lkIDA6ZS5kaXNwbGF5SGVpZ2h0KT9yOjAsdGhpcy52aWRlb1dpZHRoXz1udWxsIT0obj1udWxsPT1lP3ZvaWQgMDplLmRpc3BsYXlXaWR0aCk/bjowKSx0aGlzLnJlcG9ydGVyUW9zXy5vbkZyYW1lRnJvbVNvdXJjZSgpLHRoaXMudHJhbnNmb3JtZXJfKWlmKHRoaXMuc2hvdWxkU3RvcF8pY29uc29sZS53YXJuKCJbUGlwZWxpbmVdIGZsdXNoIGZyb20gdHJhbnNmb3JtIiksZS5jbG9zZSgpLHRoaXMuZmx1c2godCksdC50ZXJtaW5hdGUoKTtlbHNle3RyeXthd2FpdChudWxsPT0oZj0oYz10aGlzLnRyYW5zZm9ybWVyXykudHJhbnNmb3JtKT92b2lkIDA6Zi5jYWxsKGMsZSx0KSksdGhpcy5yZXBvcnRRb3MoKX1jYXRjaChoKXt0aGlzLnJlcG9ydCh7bWVzc2FnZTpsLmVycm9ycy50cmFuc2Zvcm1lcl90cmFuc2Zvcm0sdmFyaWF0aW9uOiJFcnJvciIsZXJyb3I6dihoKX0pO2NvbnN0IGU9e2V2ZW50TWV0YURhdGE6e3RyYW5zZm9ybWVySW5kZXg6dGhpcy5pbmRleF99LGVycm9yOmgsZnVuY3Rpb246InRyYW5zZm9ybSJ9O3RoaXMuZW1pdCgiZXJyb3IiLGUpfWlmKC0xIT10aGlzLnRyYWNrRXhwZWN0ZWRSYXRlXyYmLjgqdGhpcy50cmFja0V4cGVjdGVkUmF0ZV8+dGhpcy5yZXBvcnRlclFvc18uZnBzKXtjb25zdCBlPXtldmVudE1ldGFEYXRhOnt0cmFuc2Zvcm1lckluZGV4OnRoaXMuaW5kZXhffSx3YXJuaW5nVHlwZToiZnBzX2Ryb3AiLGRyb3BJbmZvOntyZXF1ZXN0ZWQ6dGhpcy50cmFja0V4cGVjdGVkUmF0ZV8sY3VycmVudDp0aGlzLnJlcG9ydGVyUW9zXy5mcHN9fTt0aGlzLmVtaXQoIndhcm4iLGUpfX19YXN5bmMgZmx1c2goZSl7aWYodGhpcy50cmFuc2Zvcm1lcl8mJiJmdW5jdGlvbiI9PXR5cGVvZiB0aGlzLnRyYW5zZm9ybWVyXy5mbHVzaCYmIXRoaXMuaXNGbGFzaGVkXyl7dGhpcy5pc0ZsYXNoZWRfPSEwO3RyeXthd2FpdCB0aGlzLnRyYW5zZm9ybWVyXy5mbHVzaChlKX1jYXRjaCh0KXt0aGlzLnJlcG9ydCh7bWVzc2FnZTpsLmVycm9ycy50cmFuc2Zvcm1lcl9mbHVzaCx2YXJpYXRpb246IkVycm9yIixlcnJvcjp2KHQpfSk7Y29uc3QgZT17ZXZlbnRNZXRhRGF0YTp7dHJhbnNmb3JtZXJJbmRleDp0aGlzLmluZGV4X30sZXJyb3I6dCxmdW5jdGlvbjoiZmx1c2gifTt0aGlzLmVtaXQoImVycm9yIixlKX19dGhpcy5yZXBvcnRRb3MoITApLHRoaXMucmVwb3J0KHt2YXJpYXRpb246IkRlbGV0ZSJ9KX1zdG9wKCl7Y29uc29sZS5sb2coIltQaXBlbGluZV0gU3RvcCBzdHJlYW0uIiksdGhpcy5jb250cm9sbGVyXyYmKHRoaXMuZmx1c2godGhpcy5jb250cm9sbGVyXyksdGhpcy5jb250cm9sbGVyXy50ZXJtaW5hdGUoKSksdGhpcy5zaG91bGRTdG9wXz0hMH1yZXBvcnQoZSl7dGhpcy5yZXBvcnRlcl8uc2VuZCh7dmVyc2lvbjpHLGFjdGlvbjoiTWVkaWFUcmFuc2Zvcm1lciIsdHJhbnNmb3JtZXJUeXBlOnRoaXMudHJhbnNmb3JtZXJUeXBlXywuLi5lfSl9cmVwb3J0UW9zKGU9ITEpe3RoaXMucmVwb3J0ZXJRb3NfLmNvbmZpZz17Li4udGhpcy5yZXBvcnRlclFvc18uY29uZmlnfSx0aGlzLnJlcG9ydGVyUW9zXy5vbkZyYW1lVHJhbnNmb3JtZWQoe3ZlcnNpb246RyxhY3Rpb246Ik1lZGlhVHJhbnNmb3JtZXIiLHRyYW5zZm9ybWVyVHlwZTp0aGlzLnRyYW5zZm9ybWVyVHlwZV8sdmlkZW9XaWR0aDp0aGlzLnZpZGVvV2lkdGhfLHZpZGVvSGVpZ2h0OnRoaXMudmlkZW9IZWlnaHRffSxlKX19Y2xhc3MgTWUgZXh0ZW5kcyB5e2NvbnN0cnVjdG9yKGUpe3N1cGVyKCksYSh0aGlzLCJ0cmFuc2Zvcm1lcnNfIiksYSh0aGlzLCJ0cmFja0V4cGVjdGVkUmF0ZV8iKSx0aGlzLnRyYW5zZm9ybWVyc189W10sdGhpcy50cmFja0V4cGVjdGVkUmF0ZV89LTE7Zm9yKGxldCB0PTA7dDxlLmxlbmd0aDt0Kyspe2xldCByPW5ldyBQZShlW3RdLHQpO3Iub24oImVycm9yIiwoZT0+e3RoaXMuZW1pdCgiZXJyb3IiLGUpfSkpLHIub24oIndhcm4iLChlPT57dGhpcy5lbWl0KCJ3YXJuIixlKX0pKSx0aGlzLnRyYW5zZm9ybWVyc18ucHVzaChyKX19c2V0VHJhY2tFeHBlY3RlZFJhdGUoZSl7dGhpcy50cmFja0V4cGVjdGVkUmF0ZV89ZTtmb3IobGV0IHQgb2YgdGhpcy50cmFuc2Zvcm1lcnNfKXQuc2V0VHJhY2tFeHBlY3RlZFJhdGUodGhpcy50cmFja0V4cGVjdGVkUmF0ZV8pfWFzeW5jIHN0YXJ0KGUsdCl7aWYodGhpcy50cmFuc2Zvcm1lcnNfJiYwIT09dGhpcy50cmFuc2Zvcm1lcnNfLmxlbmd0aCl7dHJ5e2xldCByPWU7Zm9yKGxldCB0IG9mIHRoaXMudHJhbnNmb3JtZXJzXyllPWUucGlwZVRocm91Z2gobmV3IFRyYW5zZm9ybVN0cmVhbSh0KSk7ZS5waXBlVG8odCkudGhlbigoYXN5bmMoKT0+e2NvbnNvbGUubG9nKCJbUGlwZWxpbmVdIFNldHVwLiIpLGF3YWl0IHQuYWJvcnQoKSxhd2FpdCByLmNhbmNlbCgpLHRoaXMuZW1pdCgicGlwZWxpbmVJbmZvIiwicGlwZWxpbmVfZW5kZWQiKX0pKS5jYXRjaCgoYXN5bmMgbj0+e2UuY2FuY2VsKCkudGhlbigoKCk9Pntjb25zb2xlLmxvZygiW1BpcGVsaW5lXSBTaHV0dGluZyBkb3duIHN0cmVhbXMgYWZ0ZXIgYWJvcnQuIil9KSkuY2F0Y2goKGU9Pntjb25zb2xlLmVycm9yKCJbUGlwZWxpbmVdIEVycm9yIGZyb20gc3RyZWFtIHRyYW5zZm9ybToiLGUpfSkpLGF3YWl0IHQuYWJvcnQobiksYXdhaXQgci5jYW5jZWwobiksdGhpcy5lbWl0KCJwaXBlbGluZUluZm8iLCJwaXBlbGluZV9lbmRlZF93aXRoX2Vycm9yIil9KSl9Y2F0Y2h7cmV0dXJuIHRoaXMuZW1pdCgicGlwZWxpbmVJbmZvIiwicGlwZWxpbmVfc3RhcnRlZF93aXRoX2Vycm9yIiksdm9pZCB0aGlzLmRlc3Ryb3koKX10aGlzLmVtaXQoInBpcGVsaW5lSW5mbyIsInBpcGVsaW5lX3N0YXJ0ZWQiKSxjb25zb2xlLmxvZygiW1BpcGVsaW5lXSBQaXBlbGluZSBzdGFydGVkLiIpfWVsc2UgY29uc29sZS5sb2coIltQaXBlbGluZV0gTm8gdHJhbnNmb3JtZXJzLiIpfWFzeW5jIGRlc3Ryb3koKXtjb25zb2xlLmxvZygiW1BpcGVsaW5lXSBEZXN0cm95aW5nIFBpcGVsaW5lLiIpO2ZvcihsZXQgZSBvZiB0aGlzLnRyYW5zZm9ybWVyc18pZS5zdG9wKCl9fWNsYXNzIE9lIGV4dGVuZHMgeXtjb25zdHJ1Y3Rvcigpe3N1cGVyKCksYSh0aGlzLCJyZXBvcnRlcl8iKSxhKHRoaXMsInBpcGVsaW5lXyIpLGEodGhpcywidHJhbnNmb3JtZXJzXyIpLGEodGhpcywicmVhZGFibGVfIiksYSh0aGlzLCJ3cml0YWJsZV8iKSxhKHRoaXMsInRyYWNrRXhwZWN0ZWRSYXRlXyIpLHRoaXMucmVwb3J0ZXJfPW5ldyBELHRoaXMudHJhY2tFeHBlY3RlZFJhdGVfPS0xLHRoaXMucmVwb3J0KHt2YXJpYXRpb246IkNyZWF0ZSJ9KX1zZXRUcmFja0V4cGVjdGVkUmF0ZShlKXt0aGlzLnRyYWNrRXhwZWN0ZWRSYXRlXz1lLHRoaXMucGlwZWxpbmVfJiZ0aGlzLnBpcGVsaW5lXy5zZXRUcmFja0V4cGVjdGVkUmF0ZSh0aGlzLnRyYWNrRXhwZWN0ZWRSYXRlXyl9dHJhbnNmb3JtKGUsdCl7cmV0dXJuIHRoaXMucmVhZGFibGVfPWUsdGhpcy53cml0YWJsZV89dCx0aGlzLnRyYW5zZm9ybUludGVybmFsKCl9dHJhbnNmb3JtSW50ZXJuYWwoKXtyZXR1cm4gbmV3IFByb21pc2UoKGFzeW5jKGUsdCk9PntpZighdGhpcy50cmFuc2Zvcm1lcnNffHwwPT09dGhpcy50cmFuc2Zvcm1lcnNfLmxlbmd0aClyZXR1cm4gdGhpcy5yZXBvcnQoe21lc3NhZ2U6bC5lcnJvcnMudHJhbnNmb3JtZXJfbm9uZSx2YXJpYXRpb246IkVycm9yIn0pLHZvaWQgdCgiW01lZGlhUHJvY2Vzc29yXSBOZWVkIHRvIHNldCB0cmFuc2Zvcm1lcnMuIik7aWYoIXRoaXMucmVhZGFibGVfKXJldHVybiB0aGlzLnJlcG9ydCh7dmFyaWF0aW9uOiJFcnJvciIsbWVzc2FnZTpsLmVycm9ycy5yZWFkYWJsZV9udWxsfSksdm9pZCB0KCJbTWVkaWFQcm9jZXNzb3JdIFJlYWRhYmxlIGlzIG51bGwuIik7aWYoIXRoaXMud3JpdGFibGVfKXJldHVybiB0aGlzLnJlcG9ydCh7dmFyaWF0aW9uOiJFcnJvciIsbWVzc2FnZTpsLmVycm9ycy53cml0YWJsZV9udWxsfSksdm9pZCB0KCJbTWVkaWFQcm9jZXNzb3JdIFdyaXRhYmxlIGlzIG51bGwuIik7bGV0IHI9ITE7dGhpcy5waXBlbGluZV8mJihyPSEwLHRoaXMucGlwZWxpbmVfLmNsZWFyTGlzdGVuZXJzKCksdGhpcy5waXBlbGluZV8uZGVzdHJveSgpKSx0aGlzLnBpcGVsaW5lXz1uZXcgTWUodGhpcy50cmFuc2Zvcm1lcnNfKSx0aGlzLnBpcGVsaW5lXy5vbigid2FybiIsKGU9Pnt0aGlzLmVtaXQoIndhcm4iLGUpfSkpLHRoaXMucGlwZWxpbmVfLm9uKCJlcnJvciIsKGU9Pnt0aGlzLmVtaXQoImVycm9yIixlKX0pKSx0aGlzLnBpcGVsaW5lXy5vbigicGlwZWxpbmVJbmZvIiwoZT0+e3ImJigicGlwZWxpbmVfc3RhcnRlZCI9PT1lP2U9US5waXBlbGluZV9yZXN0YXJ0ZWQ6InBpcGVsaW5lX3N0YXJ0ZWRfd2l0aF9lcnJvciI9PT1lJiYoZT1RLnBpcGVsaW5lX3Jlc3RhcnRlZF93aXRoX2Vycm9yKSksdGhpcy5lbWl0KCJwaXBlbGluZUluZm8iLGUpfSkpLC0xIT10aGlzLnRyYWNrRXhwZWN0ZWRSYXRlXyYmdGhpcy5waXBlbGluZV8uc2V0VHJhY2tFeHBlY3RlZFJhdGUodGhpcy50cmFja0V4cGVjdGVkUmF0ZV8pLHRoaXMucGlwZWxpbmVfLnN0YXJ0KHRoaXMucmVhZGFibGVfLHRoaXMud3JpdGFibGVfKS50aGVuKCgoKT0+e2UoKX0pKS5jYXRjaCgoZT0+e3QoZSl9KSl9KSl9c2V0VHJhbnNmb3JtZXJzKGUpe3JldHVybiB0aGlzLnJlcG9ydCh7dmFyaWF0aW9uOiJVcGRhdGUiLG1lc3NhZ2U6bC51cGRhdGVzLnRyYW5zZm9ybWVyX25ld30pLHRoaXMudHJhbnNmb3JtZXJzXz1lLHRoaXMucmVhZGFibGVfJiZ0aGlzLndyaXRhYmxlXz90aGlzLnRyYW5zZm9ybUludGVybmFsKCk6UHJvbWlzZS5yZXNvbHZlKCl9ZGVzdHJveSgpe3JldHVybiBuZXcgUHJvbWlzZSgoYXN5bmMgZT0+e3RoaXMucGlwZWxpbmVfJiZ0aGlzLnBpcGVsaW5lXy5kZXN0cm95KCksdGhpcy5yZXBvcnQoe3ZhcmlhdGlvbjoiRGVsZXRlIn0pLGUoKX0pKX1yZXBvcnQoZSl7dGhpcy5yZXBvcnRlcl8uc2VuZCh7dmVyc2lvbjpHLGFjdGlvbjoiTWVkaWFQcm9jZXNzb3IiLC4uLmV9KX19Y29uc3QgVj1uZXcgV2Vha01hcCxZPW5ldyBXZWFrTWFwLEs9bmV3IFdlYWtNYXAsWj1TeW1ib2woImFueVByb2R1Y2VyIiksZWU9UHJvbWlzZS5yZXNvbHZlKCksdGU9U3ltYm9sKCJsaXN0ZW5lckFkZGVkIikscmU9U3ltYm9sKCJsaXN0ZW5lclJlbW92ZWQiKTtsZXQgc2U9ITEsb2U9ITE7ZnVuY3Rpb24gYXNzZXJ0RXZlbnROYW1lJDEoZSl7aWYoInN0cmluZyIhPXR5cGVvZiBlJiYic3ltYm9sIiE9dHlwZW9mIGUmJiJudW1iZXIiIT10eXBlb2YgZSl0aHJvdyBuZXcgVHlwZUVycm9yKCJgZXZlbnROYW1lYCBtdXN0IGJlIGEgc3RyaW5nLCBzeW1ib2wsIG9yIG51bWJlciIpfWZ1bmN0aW9uIGFzc2VydExpc3RlbmVyJDEoZSl7aWYoImZ1bmN0aW9uIiE9dHlwZW9mIGUpdGhyb3cgbmV3IFR5cGVFcnJvcigibGlzdGVuZXIgbXVzdCBiZSBhIGZ1bmN0aW9uIil9ZnVuY3Rpb24gZ2V0TGlzdGVuZXJzJDEoZSx0KXtjb25zdCByPVkuZ2V0KGUpO2lmKHIuaGFzKHQpKXJldHVybiByLmdldCh0KX1mdW5jdGlvbiBnZXRFdmVudFByb2R1Y2VycyQxKGUsdCl7Y29uc3Qgcj0ic3RyaW5nIj09dHlwZW9mIHR8fCJzeW1ib2wiPT10eXBlb2YgdHx8Im51bWJlciI9PXR5cGVvZiB0P3Q6WixuPUsuZ2V0KGUpO2lmKG4uaGFzKHIpKXJldHVybiBuLmdldChyKX1mdW5jdGlvbiBpdGVyYXRvciQxKGUsdCl7dD1BcnJheS5pc0FycmF5KHQpP3Q6W3RdO2xldCByPSExLGZsdXNoPSgpPT57fSxuPVtdO2NvbnN0IGM9e2VucXVldWUoZSl7bi5wdXNoKGUpLGZsdXNoKCl9LGZpbmlzaCgpe3I9ITAsZmx1c2goKX19O2Zvcihjb25zdCBmIG9mIHQpe2xldCB0PWdldEV2ZW50UHJvZHVjZXJzJDEoZSxmKTtpZighdCl7dD1uZXcgU2V0O0suZ2V0KGUpLnNldChmLHQpfXQuYWRkKGMpfXJldHVybnthc3luYyBuZXh0KCl7cmV0dXJuIG4/MD09PW4ubGVuZ3RoP3I/KG49dm9pZCAwLHRoaXMubmV4dCgpKTooYXdhaXQgbmV3IFByb21pc2UoKGU9PntmbHVzaD1lfSkpLHRoaXMubmV4dCgpKTp7ZG9uZTohMSx2YWx1ZTphd2FpdCBuLnNoaWZ0KCl9Ontkb25lOiEwfX0sYXN5bmMgcmV0dXJuKHIpe249dm9pZCAwO2Zvcihjb25zdCBuIG9mIHQpe2NvbnN0IHQ9Z2V0RXZlbnRQcm9kdWNlcnMkMShlLG4pO2lmKHQmJih0LmRlbGV0ZShjKSwwPT09dC5zaXplKSl7Sy5nZXQoZSkuZGVsZXRlKG4pfX1yZXR1cm4gZmx1c2goKSxhcmd1bWVudHMubGVuZ3RoPjA/e2RvbmU6ITAsdmFsdWU6YXdhaXQgcn06e2RvbmU6ITB9fSxbU3ltYm9sLmFzeW5jSXRlcmF0b3JdKCl7cmV0dXJuIHRoaXN9fX1mdW5jdGlvbiBkZWZhdWx0TWV0aG9kTmFtZXNPckFzc2VydCQxKGUpe2lmKHZvaWQgMD09PWUpcmV0dXJuIGZlO2lmKCFBcnJheS5pc0FycmF5KGUpKXRocm93IG5ldyBUeXBlRXJyb3IoImBtZXRob2ROYW1lc2AgbXVzdCBiZSBhbiBhcnJheSBvZiBzdHJpbmdzIik7Zm9yKGNvbnN0IHQgb2YgZSlpZighZmUuaW5jbHVkZXModCkpe2lmKCJzdHJpbmciIT10eXBlb2YgdCl0aHJvdyBuZXcgVHlwZUVycm9yKCJgbWV0aG9kTmFtZXNgIGVsZW1lbnQgbXVzdCBiZSBhIHN0cmluZyIpO3Rocm93IG5ldyBFcnJvcihgJHt0fSBpcyBub3QgRW1pdHRlcnkgbWV0aG9kYCl9cmV0dXJuIGV9Y29uc3QgaXNNZXRhRXZlbnQkMT1lPT5lPT09dGV8fGU9PT1yZTtmdW5jdGlvbiBlbWl0TWV0YUV2ZW50JDEoZSx0LHIpe2lmKGlzTWV0YUV2ZW50JDEodCkpdHJ5e3NlPSEwLGUuZW1pdCh0LHIpfWZpbmFsbHl7c2U9ITF9fWxldCBhZT1jbGFzcyBFbWl0dGVyeTJ7c3RhdGljIG1peGluKGUsdCl7cmV0dXJuIHQ9ZGVmYXVsdE1ldGhvZE5hbWVzT3JBc3NlcnQkMSh0KSxyPT57aWYoImZ1bmN0aW9uIiE9dHlwZW9mIHIpdGhyb3cgbmV3IFR5cGVFcnJvcigiYHRhcmdldGAgbXVzdCBiZSBmdW5jdGlvbiIpO2Zvcihjb25zdCBlIG9mIHQpaWYodm9pZCAwIT09ci5wcm90b3R5cGVbZV0pdGhyb3cgbmV3IEVycm9yKGBUaGUgcHJvcGVydHkgXGAke2V9XGAgYWxyZWFkeSBleGlzdHMgb24gXGB0YXJnZXRcYGApO09iamVjdC5kZWZpbmVQcm9wZXJ0eShyLnByb3RvdHlwZSxlLHtlbnVtZXJhYmxlOiExLGdldDpmdW5jdGlvbiBnZXRFbWl0dGVyeVByb3BlcnR5KCl7cmV0dXJuIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLGUse2VudW1lcmFibGU6ITEsdmFsdWU6bmV3IEVtaXR0ZXJ5Mn0pLHRoaXNbZV19fSk7Y29uc3QgZW1pdHRlcnlNZXRob2RDYWxsZXI9dD0+ZnVuY3Rpb24oLi4ucil7cmV0dXJuIHRoaXNbZV1bdF0oLi4ucil9O2Zvcihjb25zdCBlIG9mIHQpT2JqZWN0LmRlZmluZVByb3BlcnR5KHIucHJvdG90eXBlLGUse2VudW1lcmFibGU6ITEsdmFsdWU6ZW1pdHRlcnlNZXRob2RDYWxsZXIoZSl9KTtyZXR1cm4gcn19c3RhdGljIGdldCBpc0RlYnVnRW5hYmxlZCgpe2lmKCJvYmplY3QiIT10eXBlb2YgZ2xvYmFsVGhpcy5wcm9jZXNzPy5lbnYpcmV0dXJuIG9lO2NvbnN0e2VudjplfT1nbG9iYWxUaGlzLnByb2Nlc3M/P3tlbnY6e319O3JldHVybiJlbWl0dGVyeSI9PT1lLkRFQlVHfHwiKiI9PT1lLkRFQlVHfHxvZX1zdGF0aWMgc2V0IGlzRGVidWdFbmFibGVkKGUpe29lPWV9Y29uc3RydWN0b3IoZT17fSl7Vi5zZXQodGhpcyxuZXcgU2V0KSxZLnNldCh0aGlzLG5ldyBNYXApLEsuc2V0KHRoaXMsbmV3IE1hcCksSy5nZXQodGhpcykuc2V0KFosbmV3IFNldCksdGhpcy5kZWJ1Zz1lLmRlYnVnPz97fSx2b2lkIDA9PT10aGlzLmRlYnVnLmVuYWJsZWQmJih0aGlzLmRlYnVnLmVuYWJsZWQ9ITEpLHRoaXMuZGVidWcubG9nZ2VyfHwodGhpcy5kZWJ1Zy5sb2dnZXI9KGUsdCxyLG4pPT57dHJ5e249SlNPTi5zdHJpbmdpZnkobil9Y2F0Y2h7bj1gT2JqZWN0IHdpdGggdGhlIGZvbGxvd2luZyBrZXlzIGZhaWxlZCB0byBzdHJpbmdpZnk6ICR7T2JqZWN0LmtleXMobikuam9pbigiLCIpfWB9InN5bWJvbCIhPXR5cGVvZiByJiYibnVtYmVyIiE9dHlwZW9mIHJ8fChyPXIudG9TdHJpbmcoKSk7Y29uc3QgYz1uZXcgRGF0ZSxmPWAke2MuZ2V0SG91cnMoKX06JHtjLmdldE1pbnV0ZXMoKX06JHtjLmdldFNlY29uZHMoKX0uJHtjLmdldE1pbGxpc2Vjb25kcygpfWA7Y29uc29sZS5sb2coYFske2Z9XVtlbWl0dGVyeToke2V9XVske3R9XSBFdmVudCBOYW1lOiAke3J9XG5cdGRhdGE6ICR7bn1gKX0pfWxvZ0lmRGVidWdFbmFibGVkKGUsdCxyKXsoRW1pdHRlcnkyLmlzRGVidWdFbmFibGVkfHx0aGlzLmRlYnVnLmVuYWJsZWQpJiZ0aGlzLmRlYnVnLmxvZ2dlcihlLHRoaXMuZGVidWcubmFtZSx0LHIpfW9uKGUsdCl7YXNzZXJ0TGlzdGVuZXIkMSh0KSxlPUFycmF5LmlzQXJyYXkoZSk/ZTpbZV07Zm9yKGNvbnN0IHIgb2YgZSl7YXNzZXJ0RXZlbnROYW1lJDEocik7bGV0IGU9Z2V0TGlzdGVuZXJzJDEodGhpcyxyKTtpZighZSl7ZT1uZXcgU2V0O1kuZ2V0KHRoaXMpLnNldChyLGUpfWUuYWRkKHQpLHRoaXMubG9nSWZEZWJ1Z0VuYWJsZWQoInN1YnNjcmliZSIscix2b2lkIDApLGlzTWV0YUV2ZW50JDEocil8fGVtaXRNZXRhRXZlbnQkMSh0aGlzLHRlLHtldmVudE5hbWU6cixsaXN0ZW5lcjp0fSl9cmV0dXJuIHRoaXMub2ZmLmJpbmQodGhpcyxlLHQpfW9mZihlLHQpe2Fzc2VydExpc3RlbmVyJDEodCksZT1BcnJheS5pc0FycmF5KGUpP2U6W2VdO2Zvcihjb25zdCByIG9mIGUpe2Fzc2VydEV2ZW50TmFtZSQxKHIpO2NvbnN0IGU9Z2V0TGlzdGVuZXJzJDEodGhpcyxyKTtpZihlJiYoZS5kZWxldGUodCksMD09PWUuc2l6ZSkpe1kuZ2V0KHRoaXMpLmRlbGV0ZShyKX10aGlzLmxvZ0lmRGVidWdFbmFibGVkKCJ1bnN1YnNjcmliZSIscix2b2lkIDApLGlzTWV0YUV2ZW50JDEocil8fGVtaXRNZXRhRXZlbnQkMSh0aGlzLHJlLHtldmVudE5hbWU6cixsaXN0ZW5lcjp0fSl9fW9uY2UoZSl7bGV0IHQ7Y29uc3Qgcj1uZXcgUHJvbWlzZSgocj0+e3Q9dGhpcy5vbihlLChlPT57dCgpLHIoZSl9KSl9KSk7cmV0dXJuIHIub2ZmPXQscn1ldmVudHMoZSl7ZT1BcnJheS5pc0FycmF5KGUpP2U6W2VdO2Zvcihjb25zdCB0IG9mIGUpYXNzZXJ0RXZlbnROYW1lJDEodCk7cmV0dXJuIGl0ZXJhdG9yJDEodGhpcyxlKX1hc3luYyBlbWl0KGUsdCl7aWYoYXNzZXJ0RXZlbnROYW1lJDEoZSksaXNNZXRhRXZlbnQkMShlKSYmIXNlKXRocm93IG5ldyBUeXBlRXJyb3IoImBldmVudE5hbWVgIGNhbm5vdCBiZSBtZXRhIGV2ZW50IGBsaXN0ZW5lckFkZGVkYCBvciBgbGlzdGVuZXJSZW1vdmVkYCIpO3RoaXMubG9nSWZEZWJ1Z0VuYWJsZWQoImVtaXQiLGUsdCksZnVuY3Rpb24gZW5xdWV1ZVByb2R1Y2VycyQxKGUsdCxyKXtjb25zdCBuPUsuZ2V0KGUpO2lmKG4uaGFzKHQpKWZvcihjb25zdCBjIG9mIG4uZ2V0KHQpKWMuZW5xdWV1ZShyKTtpZihuLmhhcyhaKSl7Y29uc3QgZT1Qcm9taXNlLmFsbChbdCxyXSk7Zm9yKGNvbnN0IHQgb2Ygbi5nZXQoWikpdC5lbnF1ZXVlKGUpfX0odGhpcyxlLHQpO2NvbnN0IHI9Z2V0TGlzdGVuZXJzJDEodGhpcyxlKT8/bmV3IFNldCxuPVYuZ2V0KHRoaXMpLGM9Wy4uLnJdLGY9aXNNZXRhRXZlbnQkMShlKT9bXTpbLi4ubl07YXdhaXQgZWUsYXdhaXQgUHJvbWlzZS5hbGwoWy4uLmMubWFwKChhc3luYyBlPT57aWYoci5oYXMoZSkpcmV0dXJuIGUodCl9KSksLi4uZi5tYXAoKGFzeW5jIHI9PntpZihuLmhhcyhyKSlyZXR1cm4gcihlLHQpfSkpXSl9YXN5bmMgZW1pdFNlcmlhbChlLHQpe2lmKGFzc2VydEV2ZW50TmFtZSQxKGUpLGlzTWV0YUV2ZW50JDEoZSkmJiFzZSl0aHJvdyBuZXcgVHlwZUVycm9yKCJgZXZlbnROYW1lYCBjYW5ub3QgYmUgbWV0YSBldmVudCBgbGlzdGVuZXJBZGRlZGAgb3IgYGxpc3RlbmVyUmVtb3ZlZGAiKTt0aGlzLmxvZ0lmRGVidWdFbmFibGVkKCJlbWl0U2VyaWFsIixlLHQpO2NvbnN0IHI9Z2V0TGlzdGVuZXJzJDEodGhpcyxlKT8/bmV3IFNldCxuPVYuZ2V0KHRoaXMpLGM9Wy4uLnJdLGY9Wy4uLm5dO2F3YWl0IGVlO2Zvcihjb25zdCBoIG9mIGMpci5oYXMoaCkmJmF3YWl0IGgodCk7Zm9yKGNvbnN0IGggb2YgZiluLmhhcyhoKSYmYXdhaXQgaChlLHQpfW9uQW55KGUpe3JldHVybiBhc3NlcnRMaXN0ZW5lciQxKGUpLHRoaXMubG9nSWZEZWJ1Z0VuYWJsZWQoInN1YnNjcmliZUFueSIsdm9pZCAwLHZvaWQgMCksVi5nZXQodGhpcykuYWRkKGUpLGVtaXRNZXRhRXZlbnQkMSh0aGlzLHRlLHtsaXN0ZW5lcjplfSksdGhpcy5vZmZBbnkuYmluZCh0aGlzLGUpfWFueUV2ZW50KCl7cmV0dXJuIGl0ZXJhdG9yJDEodGhpcyl9b2ZmQW55KGUpe2Fzc2VydExpc3RlbmVyJDEoZSksdGhpcy5sb2dJZkRlYnVnRW5hYmxlZCgidW5zdWJzY3JpYmVBbnkiLHZvaWQgMCx2b2lkIDApLGVtaXRNZXRhRXZlbnQkMSh0aGlzLHJlLHtsaXN0ZW5lcjplfSksVi5nZXQodGhpcykuZGVsZXRlKGUpfWNsZWFyTGlzdGVuZXJzKGUpe2U9QXJyYXkuaXNBcnJheShlKT9lOltlXTtmb3IoY29uc3QgdCBvZiBlKWlmKHRoaXMubG9nSWZEZWJ1Z0VuYWJsZWQoImNsZWFyIix0LHZvaWQgMCksInN0cmluZyI9PXR5cGVvZiB0fHwic3ltYm9sIj09dHlwZW9mIHR8fCJudW1iZXIiPT10eXBlb2YgdCl7Y29uc3QgZT1nZXRMaXN0ZW5lcnMkMSh0aGlzLHQpO2UmJmUuY2xlYXIoKTtjb25zdCByPWdldEV2ZW50UHJvZHVjZXJzJDEodGhpcyx0KTtpZihyKXtmb3IoY29uc3QgZSBvZiByKWUuZmluaXNoKCk7ci5jbGVhcigpfX1lbHNle1YuZ2V0KHRoaXMpLmNsZWFyKCk7Zm9yKGNvbnN0W2UsdF1vZiBZLmdldCh0aGlzKS5lbnRyaWVzKCkpdC5jbGVhcigpLFkuZ2V0KHRoaXMpLmRlbGV0ZShlKTtmb3IoY29uc3RbZSx0XW9mIEsuZ2V0KHRoaXMpLmVudHJpZXMoKSl7Zm9yKGNvbnN0IGUgb2YgdCllLmZpbmlzaCgpO3QuY2xlYXIoKSxLLmdldCh0aGlzKS5kZWxldGUoZSl9fX1saXN0ZW5lckNvdW50KGUpe2U9QXJyYXkuaXNBcnJheShlKT9lOltlXTtsZXQgdD0wO2Zvcihjb25zdCByIG9mIGUpaWYoInN0cmluZyIhPXR5cGVvZiByKXt2b2lkIDAhPT1yJiZhc3NlcnRFdmVudE5hbWUkMShyKSx0Kz1WLmdldCh0aGlzKS5zaXplO2Zvcihjb25zdCBlIG9mIFkuZ2V0KHRoaXMpLnZhbHVlcygpKXQrPWUuc2l6ZTtmb3IoY29uc3QgZSBvZiBLLmdldCh0aGlzKS52YWx1ZXMoKSl0Kz1lLnNpemV9ZWxzZSB0Kz1WLmdldCh0aGlzKS5zaXplKyhnZXRMaXN0ZW5lcnMkMSh0aGlzLHIpPy5zaXplPz8wKSsoZ2V0RXZlbnRQcm9kdWNlcnMkMSh0aGlzLHIpPy5zaXplPz8wKSsoZ2V0RXZlbnRQcm9kdWNlcnMkMSh0aGlzKT8uc2l6ZT8/MCk7cmV0dXJuIHR9YmluZE1ldGhvZHMoZSx0KXtpZigib2JqZWN0IiE9dHlwZW9mIGV8fG51bGw9PT1lKXRocm93IG5ldyBUeXBlRXJyb3IoImB0YXJnZXRgIG11c3QgYmUgYW4gb2JqZWN0Iik7dD1kZWZhdWx0TWV0aG9kTmFtZXNPckFzc2VydCQxKHQpO2Zvcihjb25zdCByIG9mIHQpe2lmKHZvaWQgMCE9PWVbcl0pdGhyb3cgbmV3IEVycm9yKGBUaGUgcHJvcGVydHkgXGAke3J9XGAgYWxyZWFkeSBleGlzdHMgb24gXGB0YXJnZXRcYGApO09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLHIse2VudW1lcmFibGU6ITEsdmFsdWU6dGhpc1tyXS5iaW5kKHRoaXMpfSl9fX07Y29uc3QgZmU9T2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMoYWUucHJvdG90eXBlKS5maWx0ZXIoKGU9PiJjb25zdHJ1Y3RvciIhPT1lKSk7T2JqZWN0LmRlZmluZVByb3BlcnR5KGFlLCJsaXN0ZW5lckFkZGVkIix7dmFsdWU6dGUsd3JpdGFibGU6ITEsZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITF9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoYWUsImxpc3RlbmVyUmVtb3ZlZCIse3ZhbHVlOnJlLHdyaXRhYmxlOiExLGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiExfSk7Y2xhc3MgQXZlcmFnZXtjb25zdHJ1Y3RvcihlKXt0aGlzLnNpemU9ZSx0aGlzLnZhbHVlcz1bXSx0aGlzLnN1bT0wfXB1c2goZSl7Zm9yKHRoaXMudmFsdWVzLnB1c2goZSksdGhpcy5zdW0rPWU7dGhpcy5zaXplPHRoaXMudmFsdWVzLmxlbmd0aDspdGhpcy5zdW0tPXRoaXMudmFsdWVzLnNoaWZ0KCk/PzB9dmFsdWUoKXtyZXR1cm4gdGhpcy5zdW0vTWF0aC5tYXgoMSx0aGlzLnZhbHVlcy5sZW5ndGgpfX1jbGFzcyBOb2lzZVN1cHByZXNzaW9uVHJhbnNmb3JtZXIgZXh0ZW5kcyBhZXtjb25zdHJ1Y3Rvcigpe3N1cGVyKCksdGhpcy5pc0VuYWJsZWQ9ITAsdGhpcy5pbnRlcm5hbFJlc2FtcGxlU3VwcG9ydGVkPSExLHRoaXMubGF0ZW5jeT1uZXcgQXZlcmFnZSgxMDApLHRoaXMudHJhbnNmb3JtPXRoaXMudHJhbnNmb3JtQXVkaW9EYXRhLmJpbmQodGhpcyl9YXN5bmMgaW5pdChlPXt9KXtjb25zb2xlLmxvZygiTm9pc2Ugc3VwcHJlc3Npb24gdHJhbnNmb3JtZXIgaW5pdGlhbGl6YXRpb24iKSx0aGlzLnRyYW5zZm9ybT1lLmRlYnVnP3RoaXMudHJhbnNmb3JtRGVidWcuYmluZCh0aGlzKTp0aGlzLnRyYW5zZm9ybUF1ZGlvRGF0YS5iaW5kKHRoaXMpO2NvbnN0IHQ9ZS5hc3NldHNEaXJCYXNlVXJsPz8iaHR0cHM6Ly9kM29wcWptcXp4ZjA1Ny5jbG91ZGZyb250Lm5ldC9ub2lzZS1zdXBwcmVzc2lvbi8xLjAuMC1iZXRhLjQiLGxvY2F0ZUZpbGU9ZT0+YCR7dH0vJHtlfWA7bGV0IHIsbj0xO2F3YWl0IHRoaXMuaXNNb25vVGhyZWFkKGUpP3RoaXMud2FzbUluc3RhbmNlPWF3YWl0IGNyZWF0ZVdhc21Nb25vSW5zdGFuY2Uoe2xvY2F0ZUZpbGU6bG9jYXRlRmlsZSxtYWluU2NyaXB0VXJsT3JCbG9iOmxvY2F0ZUZpbGUoIm1haW4tYmluLW1vbm8uanMiKX0pOih0aGlzLndhc21JbnN0YW5jZT1hd2FpdCBjcmVhdGVXYXNtTXVsdGlJbnN0YW5jZSh7bG9jYXRlRmlsZTpsb2NhdGVGaWxlLG1haW5TY3JpcHRVcmxPckJsb2I6bG9jYXRlRmlsZSgibWFpbi1iaW4tbXVsdGkuanMiKX0pLG49MyksdGhpcy53YXNtVHJhbnNmb3JtZXI9bmV3IHRoaXMud2FzbUluc3RhbmNlLkR0bG5UcmFuc2Zvcm1lcixhd2FpdCBQcm9taXNlLmFsbChbdGhpcy5sb2FkTW9kZWwoYCR7dH0vbW9kZWxfMS50ZmxpdGVgLDEpLHRoaXMubG9hZE1vZGVsKGAke3R9L21vZGVsXzIudGZsaXRlYCwyKV0pO3RyeXtyPXRoaXMud2FzbVRyYW5zZm9ybWVyPy5pbml0KG4pfWNhdGNoKGMpe2lmKCJudW1iZXIiPT10eXBlb2YgYyl7bGV0IGU9IiI7Zm9yKGxldCB0PTA7dDw1MDA7Kyt0KWUrPVN0cmluZy5mcm9tQ2hhckNvZGUodGhpcy53YXNtSW5zdGFuY2UuSEVBUDhbYyt0XSk7Y29uc29sZS5lcnJvcihlKX1lbHNlIGNvbnNvbGUuZXJyb3IoYyl9aWYoMCE9PXIpe2NvbnN0IGU9YEZhaWwgdG8gaW5pdCB3YXNtIHRyYW5zZm9ybWVyLCBlcnJvciBjb2RlID0gJHtyfWA7dGhyb3cgY29uc29sZS5lcnJvcihlKSxlfWlmKHRoaXMuaW50ZXJuYWxSZXNhbXBsZVN1cHBvcnRlZD10aGlzLndhc21UcmFuc2Zvcm1lcj8uZ2V0SW50ZXJuYWxSZXNhbXBsZVN1cHBvcnRlZCgpLCF0aGlzLmludGVybmFsUmVzYW1wbGVTdXBwb3J0ZWQpe2NvbnN0IGU9IkludGVybmFsIHJlc2FtcGxpbmcgbm90IHN1cHBvcnRlZCI7dGhyb3cgY29uc29sZS5lcnJvcihlKSxlfWNvbnNvbGUubG9nKCJOb2lzZSBzdXBwcmVzc2lvbiB0cmFuc2Zvcm1lciByZWFkeSIpfXNldEF1ZGlvT3B0aW9ucyhlLHQscixuLGMpe3RoaXMud2FzbVRyYW5zZm9ybWVyPy5zZXRBdWRpb09wdGlvbnMoZSx0LHIsbixjKX1lbmFibGUoKXt0aGlzLmlzRW5hYmxlZD0hMH1kaXNhYmxlKCl7dGhpcy5pc0VuYWJsZWQ9ITF9Z2V0TGF0ZW5jeSgpe3JldHVybiB0aGlzLmxhdGVuY3kudmFsdWUoKX1nZXRXYXNtTGF0ZW5jeU5zKCl7cmV0dXJuIHRoaXMud2FzbVRyYW5zZm9ybWVyPy5nZXRMYXRlbmN5TnMoKT8/MH1hc3luYyB0cmFuc2Zvcm1EZWJ1ZyhlLHQpe3RyeXtjb25zdCByPXBlcmZvcm1hbmNlLm5vdygpO2F3YWl0IHRoaXMudHJhbnNmb3JtQXVkaW9EYXRhKGUsdCksdGhpcy5sYXRlbmN5LnB1c2gocGVyZm9ybWFuY2Uubm93KCktcil9Y2F0Y2gocil7Y29uc29sZS5lcnJvcihyKX19YXN5bmMgdHJhbnNmb3JtQXVkaW9EYXRhKGUsdCl7aWYodGhpcy53YXNtVHJhbnNmb3JtZXJ8fHRoaXMuZW1pdCgid2FybmluZyIsInRyYW5zZm9ybWVyIG5vdCBpbml0aWFsaXplZCIpLHRoaXMuaXNFbmFibGVkJiZ0aGlzLndhc21UcmFuc2Zvcm1lcil0cnl7Y29uc3QgdD10aGlzLmdldEF1ZGlvRGF0YUFzRmxvYXQzMihlKSxuPXRoaXMuY29udmVydFR5cGVkQXJyYXkodCxJbnQxNkFycmF5LDMyNzY3KTt0aGlzLndhc21UcmFuc2Zvcm1lci5nZXRJbnB1dEZyYW1lKGUubnVtYmVyT2ZGcmFtZXMpLnNldChuKTtsZXQgYz0wO3RyeXtjPXRoaXMud2FzbVRyYW5zZm9ybWVyLnJ1bkFsZ29yaXRobShlLm51bWJlck9mRnJhbWVzLGUuc2FtcGxlUmF0ZSxlLm51bWJlck9mQ2hhbm5lbHMpfWNhdGNoKHIpe2lmKCJudW1iZXIiPT10eXBlb2Ygcil7bGV0IGU9IiI7Zm9yKGxldCB0PTA7dDw1MDA7Kyt0KWUrPVN0cmluZy5mcm9tQ2hhckNvZGUodGhpcy53YXNtSW5zdGFuY2UuSEVBUDhbcit0XSk7Y29uc29sZS5lcnJvcihlKX1lbHNlIGNvbnNvbGUuZXJyb3Iocil9aWYoYz4wKXtjb25zdCB0PXRoaXMud2FzbVRyYW5zZm9ybWVyLmdldE91dHB1dEZyYW1lKCkuc2xpY2UoMCxjKSxyPXRoaXMuY29udmVydFR5cGVkQXJyYXkodCxGbG9hdDMyQXJyYXksMS8zMjc2Nykse3RpbWVzdGFtcDpuLHNhbXBsZVJhdGU6ZixudW1iZXJPZkNoYW5uZWxzOmh9PWU7ZT1uZXcgQXVkaW9EYXRhKHtkYXRhOnIsZm9ybWF0OiJmMzItcGxhbmFyIixudW1iZXJPZkNoYW5uZWxzOmgsbnVtYmVyT2ZGcmFtZXM6ci5sZW5ndGgsc2FtcGxlUmF0ZTpmLHRpbWVzdGFtcDpufSl9fWNhdGNoKHIpe2NvbnNvbGUuZXJyb3Iocil9dC5lbnF1ZXVlKGUpfWFzeW5jIGxvYWRNb2RlbChlLHQpe2lmKCF0aGlzLndhc21UcmFuc2Zvcm1lcilyZXR1cm47Y29uc3Qgcj1hd2FpdCBmZXRjaChlKSxuPWF3YWl0IHIuYXJyYXlCdWZmZXIoKSxjPW4uYnl0ZUxlbmd0aCxmPWBnZXRNb2RlbCR7dH1gLGg9dGhpcy53YXNtVHJhbnNmb3JtZXJbZl0oYyk7aWYoaCl7Y29uc3QgZT1uZXcgVWludDhBcnJheShuKTtoLnNldChlKX19Z2V0QXVkaW9EYXRhQXNGbG9hdDMyKGUpe3JldHVybiB0aGlzLmF1ZGlvRGF0YVRvVHlwZWRBcnJheShlLEZsb2F0MzJBcnJheSwiZjMyLXBsYW5hciIsMSl9YXVkaW9EYXRhVG9UeXBlZEFycmF5KGUsdCxyLG49ZS5udW1iZXJPZkNoYW5uZWxzKXtjb25zdCBjPW5ldyB0KGUubnVtYmVyT2ZGcmFtZXMqbik7Zm9yKGxldCBmPTA7ZjxuOysrZil7Y29uc3QgdD1lLm51bWJlck9mRnJhbWVzKmYsbj1jLnN1YmFycmF5KHQsdCtlLm51bWJlck9mRnJhbWVzKTtlLmNvcHlUbyhuLHtwbGFuZUluZGV4OmYsZm9ybWF0OnJ9KX1yZXR1cm4gY31jb252ZXJ0VHlwZWRBcnJheShlLHQscil7Y29uc3Qgbj1lLmxlbmd0aCxjPW5ldyB0KG4pO2ZvcihsZXQgZj0wO2Y8bjsrK2YpY1tmXT1lW2ZdKnI7cmV0dXJuIGN9aXNNb25vVGhyZWFkKGUpe2lmKGUuZGlzYWJsZVdhc21NdWx0aVRocmVhZClyZXR1cm4hMDt0cnl7aWYodm9pZCAwPT09bmV3IFNoYXJlZEFycmF5QnVmZmVyKDEwMjQpKXRocm93IG5ldyBFcnJvcigibm90IHN1cHBvcnRlZCIpfWNhdGNoKHQpe3JldHVybiB0aGlzLmVtaXQoIndhcm5pbmciLCJcbk11bHRpdGhyZWFkIGlzIG5vdCBhdmFpbGFibGUsIG5vaXNlLXN1cHByZXNpb24gaXMgbm93IHJ1bm5pbmcgb24gYSBzaW5nbGUgdGhyZWFkLlxuVGhpcyBpcyBpbXBhY3RpbmcgdGhlIHBlcmZvcm1hbmNlIGFuZCBpbmNyZWFzZSB0aGUgbGF0ZW5jeS5cblxuVG8gZW5hYmxlIG11bHRpdGhyZWFkLCB5b3UgbmVlZCB0byBzZXJ2ZSB0aGUgYXBwbGljYXRpb24gdmlhIGh0dHBzIHdpdGggdGhlc2UgaHR0cCBoZWFkZXJzIDpcbiAgIC0gQ3Jvc3MtT3JpZ2luLU9wZW5lci1Qb2xpY3k6IHNhbWUtb3JpZ2luXG4gICAtIENyb3NzLU9yaWdpbi1FbWJlZGRlci1Qb2xpY3k6IHJlcXVpcmUtY29ycC5cbk1vcmUgaW5mbzogaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvSmF2YVNjcmlwdC9SZWZlcmVuY2UvR2xvYmFsX09iamVjdHMvU2hhcmVkQXJyYXlCdWZmZXIjc2VjdXJpdHlfcmVxdWlyZW1lbnRzXG5cbllvdSBjYW4gZGlzYWJsZSB0aGlzIHdhcm5pbmcgYnkgZW5hYmxpbmcgZGlzYWJsZVdhc21NdWx0aVRocmVhZCB3aXRoaW4gdGhlIG5vaXNlU3VwcHJlc3Npb24gb3B0aW9ucy5cbiIpLCEwfXJldHVybiExfX1mdW5jdGlvbiBjcmVhdGVHbG9iYWxUaGlzVmFyaWFibGUoZSx0KXtnbG9iYWxUaGlzLnZvbmFnZXx8KGdsb2JhbFRoaXMudm9uYWdlPXt9KSxnbG9iYWxUaGlzLnZvbmFnZS53b3JrZXJpemVyfHwoZ2xvYmFsVGhpcy52b25hZ2Uud29ya2VyaXplcj17fSk7bGV0IHI9Z2xvYmFsVGhpcy52b25hZ2Uud29ya2VyaXplcjtyZXR1cm4gcltlXXx8KHJbZV09dCkscltlXX1jb25zdCBwZT1jcmVhdGVHbG9iYWxUaGlzVmFyaWFibGUoImdsb2JhbHMiLHt9KTt2YXIgd2U9KGU9PihlLklOSVQ9IklOSVQiLGUuRk9SV0FSRD0iRk9SV0FSRCIsZS5URVJNSU5BVEU9IlRFUk1JTkFURSIsZS5HTE9CQUxTX1NZTkM9IkdMT0JBTFNfU1lOQyIsZS5FVkVOVD0iRVZFTlQiLGUpKSh3ZXx8e30pO2Z1bmN0aW9uIHBvc3RDb21tYW5kKGUsdCl7Y29uc3R7aWQ6cix0eXBlOm59PWUsYz1BcnJheS5pc0FycmF5KHQpP3Q6W3RdO3Bvc3RNZXNzYWdlKHtpZDpyLHR5cGU6bixyZXN1bHQ6dH0sYy5maWx0ZXIoKGU9PmZ1bmN0aW9uIGlzVHJhbnNmZXJhYmxlKGUpe3JldHVybltJbWFnZUJpdG1hcCxSZWFkYWJsZVN0cmVhbSxXcml0YWJsZVN0cmVhbV0uc29tZSgodD0+ZSBpbnN0YW5jZW9mIHQpKX0oZSkpKSl9ZnVuY3Rpb24gaXNXb3JrZXIoKXtyZXR1cm4idW5kZWZpbmVkIiE9dHlwZW9mIFdvcmtlckdsb2JhbFNjb3BlJiZzZWxmIGluc3RhbmNlb2YgV29ya2VyR2xvYmFsU2NvcGV9ZnVuY3Rpb24gY29weShlLHQpe2lmKEFycmF5LmlzQXJyYXkodCkpdC5zcGxpY2UoMCx0Lmxlbmd0aCk7ZWxzZSBpZigib2JqZWN0Ij09dHlwZW9mIHQpZm9yKGNvbnN0IHIgaW4gdClkZWxldGUgdFtyXTtmb3IoY29uc3QgciBpbiBlKUFycmF5LmlzQXJyYXkoZVtyXSk/KHRbcl09W10sY29weShlW3JdLHRbcl0pKToib2JqZWN0Ij09dHlwZW9mIGVbcl0/KHRbcl09e30sY29weShlW3JdLHRbcl0pKTp0W3JdPWVbcl19Y3JlYXRlR2xvYmFsVGhpc1ZhcmlhYmxlKCJ3b3JrZXJpemVkIix7fSk7Y29uc3QgdmU9bmV3IFdlYWtNYXAsRWU9bmV3IFdlYWtNYXAsVGU9bmV3IFdlYWtNYXAsQWU9U3ltYm9sKCJhbnlQcm9kdWNlciIpLE5lPVByb21pc2UucmVzb2x2ZSgpLCRlPVN5bWJvbCgibGlzdGVuZXJBZGRlZCIpLEllPVN5bWJvbCgibGlzdGVuZXJSZW1vdmVkIik7bGV0IERlPSExLGtlPSExO2Z1bmN0aW9uIGFzc2VydEV2ZW50TmFtZShlKXtpZigic3RyaW5nIiE9dHlwZW9mIGUmJiJzeW1ib2wiIT10eXBlb2YgZSYmIm51bWJlciIhPXR5cGVvZiBlKXRocm93IG5ldyBUeXBlRXJyb3IoImBldmVudE5hbWVgIG11c3QgYmUgYSBzdHJpbmcsIHN5bWJvbCwgb3IgbnVtYmVyIil9ZnVuY3Rpb24gYXNzZXJ0TGlzdGVuZXIoZSl7aWYoImZ1bmN0aW9uIiE9dHlwZW9mIGUpdGhyb3cgbmV3IFR5cGVFcnJvcigibGlzdGVuZXIgbXVzdCBiZSBhIGZ1bmN0aW9uIil9ZnVuY3Rpb24gZ2V0TGlzdGVuZXJzKGUsdCl7Y29uc3Qgcj1FZS5nZXQoZSk7aWYoci5oYXModCkpcmV0dXJuIHIuZ2V0KHQpfWZ1bmN0aW9uIGdldEV2ZW50UHJvZHVjZXJzKGUsdCl7Y29uc3Qgcj0ic3RyaW5nIj09dHlwZW9mIHR8fCJzeW1ib2wiPT10eXBlb2YgdHx8Im51bWJlciI9PXR5cGVvZiB0P3Q6QWUsbj1UZS5nZXQoZSk7aWYobi5oYXMocikpcmV0dXJuIG4uZ2V0KHIpfWZ1bmN0aW9uIGl0ZXJhdG9yKGUsdCl7dD1BcnJheS5pc0FycmF5KHQpP3Q6W3RdO2xldCByPSExLGZsdXNoPSgpPT57fSxuPVtdO2NvbnN0IGM9e2VucXVldWUoZSl7bi5wdXNoKGUpLGZsdXNoKCl9LGZpbmlzaCgpe3I9ITAsZmx1c2goKX19O2Zvcihjb25zdCBmIG9mIHQpe2xldCB0PWdldEV2ZW50UHJvZHVjZXJzKGUsZik7aWYoIXQpe3Q9bmV3IFNldDtUZS5nZXQoZSkuc2V0KGYsdCl9dC5hZGQoYyl9cmV0dXJue2FzeW5jIG5leHQoKXtyZXR1cm4gbj8wPT09bi5sZW5ndGg/cj8obj12b2lkIDAsdGhpcy5uZXh0KCkpOihhd2FpdCBuZXcgUHJvbWlzZSgoZT0+e2ZsdXNoPWV9KSksdGhpcy5uZXh0KCkpOntkb25lOiExLHZhbHVlOmF3YWl0IG4uc2hpZnQoKX06e2RvbmU6ITB9fSxhc3luYyByZXR1cm4ocil7bj12b2lkIDA7Zm9yKGNvbnN0IG4gb2YgdCl7Y29uc3QgdD1nZXRFdmVudFByb2R1Y2VycyhlLG4pO2lmKHQmJih0LmRlbGV0ZShjKSwwPT09dC5zaXplKSl7VGUuZ2V0KGUpLmRlbGV0ZShuKX19cmV0dXJuIGZsdXNoKCksYXJndW1lbnRzLmxlbmd0aD4wP3tkb25lOiEwLHZhbHVlOmF3YWl0IHJ9Ontkb25lOiEwfX0sW1N5bWJvbC5hc3luY0l0ZXJhdG9yXSgpe3JldHVybiB0aGlzfX19ZnVuY3Rpb24gZGVmYXVsdE1ldGhvZE5hbWVzT3JBc3NlcnQoZSl7aWYodm9pZCAwPT09ZSlyZXR1cm4gUmU7aWYoIUFycmF5LmlzQXJyYXkoZSkpdGhyb3cgbmV3IFR5cGVFcnJvcigiYG1ldGhvZE5hbWVzYCBtdXN0IGJlIGFuIGFycmF5IG9mIHN0cmluZ3MiKTtmb3IoY29uc3QgdCBvZiBlKWlmKCFSZS5pbmNsdWRlcyh0KSl7aWYoInN0cmluZyIhPXR5cGVvZiB0KXRocm93IG5ldyBUeXBlRXJyb3IoImBtZXRob2ROYW1lc2AgZWxlbWVudCBtdXN0IGJlIGEgc3RyaW5nIik7dGhyb3cgbmV3IEVycm9yKGAke3R9IGlzIG5vdCBFbWl0dGVyeSBtZXRob2RgKX1yZXR1cm4gZX1jb25zdCBpc01ldGFFdmVudD1lPT5lPT09JGV8fGU9PT1JZTtmdW5jdGlvbiBlbWl0TWV0YUV2ZW50KGUsdCxyKXtpZihpc01ldGFFdmVudCh0KSl0cnl7RGU9ITAsZS5lbWl0KHQscil9ZmluYWxseXtEZT0hMX19Y2xhc3MgRW1pdHRlcnl7c3RhdGljIG1peGluKGUsdCl7cmV0dXJuIHQ9ZGVmYXVsdE1ldGhvZE5hbWVzT3JBc3NlcnQodCkscj0+e2lmKCJmdW5jdGlvbiIhPXR5cGVvZiByKXRocm93IG5ldyBUeXBlRXJyb3IoImB0YXJnZXRgIG11c3QgYmUgZnVuY3Rpb24iKTtmb3IoY29uc3QgZSBvZiB0KWlmKHZvaWQgMCE9PXIucHJvdG90eXBlW2VdKXRocm93IG5ldyBFcnJvcihgVGhlIHByb3BlcnR5IFxgJHtlfVxgIGFscmVhZHkgZXhpc3RzIG9uIFxgdGFyZ2V0XGBgKTtPYmplY3QuZGVmaW5lUHJvcGVydHkoci5wcm90b3R5cGUsZSx7ZW51bWVyYWJsZTohMSxnZXQ6ZnVuY3Rpb24gZ2V0RW1pdHRlcnlQcm9wZXJ0eSgpe3JldHVybiBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcyxlLHtlbnVtZXJhYmxlOiExLHZhbHVlOm5ldyBFbWl0dGVyeX0pLHRoaXNbZV19fSk7Y29uc3QgZW1pdHRlcnlNZXRob2RDYWxsZXI9dD0+ZnVuY3Rpb24oLi4ucil7cmV0dXJuIHRoaXNbZV1bdF0oLi4ucil9O2Zvcihjb25zdCBlIG9mIHQpT2JqZWN0LmRlZmluZVByb3BlcnR5KHIucHJvdG90eXBlLGUse2VudW1lcmFibGU6ITEsdmFsdWU6ZW1pdHRlcnlNZXRob2RDYWxsZXIoZSl9KTtyZXR1cm4gcn19c3RhdGljIGdldCBpc0RlYnVnRW5hYmxlZCgpe3ZhciBlLHQ7aWYoIm9iamVjdCIhPXR5cGVvZihudWxsPT0oZT1nbG9iYWxUaGlzLnByb2Nlc3MpP3ZvaWQgMDplLmVudikpcmV0dXJuIGtlO2NvbnN0e2VudjpyfT1udWxsIT0odD1nbG9iYWxUaGlzLnByb2Nlc3MpP3Q6e2Vudjp7fX07cmV0dXJuImVtaXR0ZXJ5Ij09PXIuREVCVUd8fCIqIj09PXIuREVCVUd8fGtlfXN0YXRpYyBzZXQgaXNEZWJ1Z0VuYWJsZWQoZSl7a2U9ZX1jb25zdHJ1Y3RvcihlPXt9KXt2YXIgdDt2ZS5zZXQodGhpcyxuZXcgU2V0KSxFZS5zZXQodGhpcyxuZXcgTWFwKSxUZS5zZXQodGhpcyxuZXcgTWFwKSxUZS5nZXQodGhpcykuc2V0KEFlLG5ldyBTZXQpLHRoaXMuZGVidWc9bnVsbCE9KHQ9ZS5kZWJ1Zyk/dDp7fSx2b2lkIDA9PT10aGlzLmRlYnVnLmVuYWJsZWQmJih0aGlzLmRlYnVnLmVuYWJsZWQ9ITEpLHRoaXMuZGVidWcubG9nZ2VyfHwodGhpcy5kZWJ1Zy5sb2dnZXI9KGUsdCxyLG4pPT57dHJ5e249SlNPTi5zdHJpbmdpZnkobil9Y2F0Y2h7bj1gT2JqZWN0IHdpdGggdGhlIGZvbGxvd2luZyBrZXlzIGZhaWxlZCB0byBzdHJpbmdpZnk6ICR7T2JqZWN0LmtleXMobikuam9pbigiLCIpfWB9InN5bWJvbCIhPXR5cGVvZiByJiYibnVtYmVyIiE9dHlwZW9mIHJ8fChyPXIudG9TdHJpbmcoKSk7Y29uc3QgYz1uZXcgRGF0ZSxmPWAke2MuZ2V0SG91cnMoKX06JHtjLmdldE1pbnV0ZXMoKX06JHtjLmdldFNlY29uZHMoKX0uJHtjLmdldE1pbGxpc2Vjb25kcygpfWA7Y29uc29sZS5sb2coYFske2Z9XVtlbWl0dGVyeToke2V9XVske3R9XSBFdmVudCBOYW1lOiAke3J9XG5cdGRhdGE6ICR7bn1gKX0pfWxvZ0lmRGVidWdFbmFibGVkKGUsdCxyKXsoRW1pdHRlcnkuaXNEZWJ1Z0VuYWJsZWR8fHRoaXMuZGVidWcuZW5hYmxlZCkmJnRoaXMuZGVidWcubG9nZ2VyKGUsdGhpcy5kZWJ1Zy5uYW1lLHQscil9b24oZSx0KXthc3NlcnRMaXN0ZW5lcih0KSxlPUFycmF5LmlzQXJyYXkoZSk/ZTpbZV07Zm9yKGNvbnN0IHIgb2YgZSl7YXNzZXJ0RXZlbnROYW1lKHIpO2xldCBlPWdldExpc3RlbmVycyh0aGlzLHIpO2lmKCFlKXtlPW5ldyBTZXQ7RWUuZ2V0KHRoaXMpLnNldChyLGUpfWUuYWRkKHQpLHRoaXMubG9nSWZEZWJ1Z0VuYWJsZWQoInN1YnNjcmliZSIscix2b2lkIDApLGlzTWV0YUV2ZW50KHIpfHxlbWl0TWV0YUV2ZW50KHRoaXMsJGUse2V2ZW50TmFtZTpyLGxpc3RlbmVyOnR9KX1yZXR1cm4gdGhpcy5vZmYuYmluZCh0aGlzLGUsdCl9b2ZmKGUsdCl7YXNzZXJ0TGlzdGVuZXIodCksZT1BcnJheS5pc0FycmF5KGUpP2U6W2VdO2Zvcihjb25zdCByIG9mIGUpe2Fzc2VydEV2ZW50TmFtZShyKTtjb25zdCBlPWdldExpc3RlbmVycyh0aGlzLHIpO2lmKGUmJihlLmRlbGV0ZSh0KSwwPT09ZS5zaXplKSl7RWUuZ2V0KHRoaXMpLmRlbGV0ZShyKX10aGlzLmxvZ0lmRGVidWdFbmFibGVkKCJ1bnN1YnNjcmliZSIscix2b2lkIDApLGlzTWV0YUV2ZW50KHIpfHxlbWl0TWV0YUV2ZW50KHRoaXMsSWUse2V2ZW50TmFtZTpyLGxpc3RlbmVyOnR9KX19b25jZShlKXtsZXQgdDtjb25zdCByPW5ldyBQcm9taXNlKChyPT57dD10aGlzLm9uKGUsKGU9Pnt0KCkscihlKX0pKX0pKTtyZXR1cm4gci5vZmY9dCxyfWV2ZW50cyhlKXtlPUFycmF5LmlzQXJyYXkoZSk/ZTpbZV07Zm9yKGNvbnN0IHQgb2YgZSlhc3NlcnRFdmVudE5hbWUodCk7cmV0dXJuIGl0ZXJhdG9yKHRoaXMsZSl9YXN5bmMgZW1pdChlLHQpe3ZhciByO2lmKGFzc2VydEV2ZW50TmFtZShlKSxpc01ldGFFdmVudChlKSYmIURlKXRocm93IG5ldyBUeXBlRXJyb3IoImBldmVudE5hbWVgIGNhbm5vdCBiZSBtZXRhIGV2ZW50IGBsaXN0ZW5lckFkZGVkYCBvciBgbGlzdGVuZXJSZW1vdmVkYCIpO3RoaXMubG9nSWZEZWJ1Z0VuYWJsZWQoImVtaXQiLGUsdCksZnVuY3Rpb24gZW5xdWV1ZVByb2R1Y2VycyhlLHQscil7Y29uc3Qgbj1UZS5nZXQoZSk7aWYobi5oYXModCkpZm9yKGNvbnN0IGMgb2Ygbi5nZXQodCkpYy5lbnF1ZXVlKHIpO2lmKG4uaGFzKEFlKSl7Y29uc3QgZT1Qcm9taXNlLmFsbChbdCxyXSk7Zm9yKGNvbnN0IHQgb2Ygbi5nZXQoQWUpKXQuZW5xdWV1ZShlKX19KHRoaXMsZSx0KTtjb25zdCBuPW51bGwhPShyPWdldExpc3RlbmVycyh0aGlzLGUpKT9yOm5ldyBTZXQsYz12ZS5nZXQodGhpcyksZj1bLi4ubl0saD1pc01ldGFFdmVudChlKT9bXTpbLi4uY107YXdhaXQgTmUsYXdhaXQgUHJvbWlzZS5hbGwoWy4uLmYubWFwKChhc3luYyBlPT57aWYobi5oYXMoZSkpcmV0dXJuIGUodCl9KSksLi4uaC5tYXAoKGFzeW5jIHI9PntpZihjLmhhcyhyKSlyZXR1cm4gcihlLHQpfSkpXSl9YXN5bmMgZW1pdFNlcmlhbChlLHQpe3ZhciByO2lmKGFzc2VydEV2ZW50TmFtZShlKSxpc01ldGFFdmVudChlKSYmIURlKXRocm93IG5ldyBUeXBlRXJyb3IoImBldmVudE5hbWVgIGNhbm5vdCBiZSBtZXRhIGV2ZW50IGBsaXN0ZW5lckFkZGVkYCBvciBgbGlzdGVuZXJSZW1vdmVkYCIpO3RoaXMubG9nSWZEZWJ1Z0VuYWJsZWQoImVtaXRTZXJpYWwiLGUsdCk7Y29uc3Qgbj1udWxsIT0ocj1nZXRMaXN0ZW5lcnModGhpcyxlKSk/cjpuZXcgU2V0LGM9dmUuZ2V0KHRoaXMpLGY9Wy4uLm5dLGg9Wy4uLmNdO2F3YWl0IE5lO2Zvcihjb25zdCB1IG9mIGYpbi5oYXModSkmJmF3YWl0IHUodCk7Zm9yKGNvbnN0IHUgb2YgaCljLmhhcyh1KSYmYXdhaXQgdShlLHQpfW9uQW55KGUpe3JldHVybiBhc3NlcnRMaXN0ZW5lcihlKSx0aGlzLmxvZ0lmRGVidWdFbmFibGVkKCJzdWJzY3JpYmVBbnkiLHZvaWQgMCx2b2lkIDApLHZlLmdldCh0aGlzKS5hZGQoZSksZW1pdE1ldGFFdmVudCh0aGlzLCRlLHtsaXN0ZW5lcjplfSksdGhpcy5vZmZBbnkuYmluZCh0aGlzLGUpfWFueUV2ZW50KCl7cmV0dXJuIGl0ZXJhdG9yKHRoaXMpfW9mZkFueShlKXthc3NlcnRMaXN0ZW5lcihlKSx0aGlzLmxvZ0lmRGVidWdFbmFibGVkKCJ1bnN1YnNjcmliZUFueSIsdm9pZCAwLHZvaWQgMCksZW1pdE1ldGFFdmVudCh0aGlzLEllLHtsaXN0ZW5lcjplfSksdmUuZ2V0KHRoaXMpLmRlbGV0ZShlKX1jbGVhckxpc3RlbmVycyhlKXtlPUFycmF5LmlzQXJyYXkoZSk/ZTpbZV07Zm9yKGNvbnN0IHQgb2YgZSlpZih0aGlzLmxvZ0lmRGVidWdFbmFibGVkKCJjbGVhciIsdCx2b2lkIDApLCJzdHJpbmciPT10eXBlb2YgdHx8InN5bWJvbCI9PXR5cGVvZiB0fHwibnVtYmVyIj09dHlwZW9mIHQpe2NvbnN0IGU9Z2V0TGlzdGVuZXJzKHRoaXMsdCk7ZSYmZS5jbGVhcigpO2NvbnN0IHI9Z2V0RXZlbnRQcm9kdWNlcnModGhpcyx0KTtpZihyKXtmb3IoY29uc3QgZSBvZiByKWUuZmluaXNoKCk7ci5jbGVhcigpfX1lbHNle3ZlLmdldCh0aGlzKS5jbGVhcigpO2Zvcihjb25zdFtlLHRdb2YgRWUuZ2V0KHRoaXMpLmVudHJpZXMoKSl0LmNsZWFyKCksRWUuZ2V0KHRoaXMpLmRlbGV0ZShlKTtmb3IoY29uc3RbZSx0XW9mIFRlLmdldCh0aGlzKS5lbnRyaWVzKCkpe2Zvcihjb25zdCBlIG9mIHQpZS5maW5pc2goKTt0LmNsZWFyKCksVGUuZ2V0KHRoaXMpLmRlbGV0ZShlKX19fWxpc3RlbmVyQ291bnQoZSl7dmFyIHQscixuLGMsZixoO2U9QXJyYXkuaXNBcnJheShlKT9lOltlXTtsZXQgdT0wO2Zvcihjb25zdCBkIG9mIGUpaWYoInN0cmluZyIhPXR5cGVvZiBkKXt2b2lkIDAhPT1kJiZhc3NlcnRFdmVudE5hbWUoZCksdSs9dmUuZ2V0KHRoaXMpLnNpemU7Zm9yKGNvbnN0IGUgb2YgRWUuZ2V0KHRoaXMpLnZhbHVlcygpKXUrPWUuc2l6ZTtmb3IoY29uc3QgZSBvZiBUZS5nZXQodGhpcykudmFsdWVzKCkpdSs9ZS5zaXplfWVsc2UgdSs9dmUuZ2V0KHRoaXMpLnNpemUrKG51bGwhPShyPW51bGw9PSh0PWdldExpc3RlbmVycyh0aGlzLGQpKT92b2lkIDA6dC5zaXplKT9yOjApKyhudWxsIT0oYz1udWxsPT0obj1nZXRFdmVudFByb2R1Y2Vycyh0aGlzLGQpKT92b2lkIDA6bi5zaXplKT9jOjApKyhudWxsIT0oaD1udWxsPT0oZj1nZXRFdmVudFByb2R1Y2Vycyh0aGlzKSk/dm9pZCAwOmYuc2l6ZSk/aDowKTtyZXR1cm4gdX1iaW5kTWV0aG9kcyhlLHQpe2lmKCJvYmplY3QiIT10eXBlb2YgZXx8bnVsbD09PWUpdGhyb3cgbmV3IFR5cGVFcnJvcigiYHRhcmdldGAgbXVzdCBiZSBhbiBvYmplY3QiKTt0PWRlZmF1bHRNZXRob2ROYW1lc09yQXNzZXJ0KHQpO2Zvcihjb25zdCByIG9mIHQpe2lmKHZvaWQgMCE9PWVbcl0pdGhyb3cgbmV3IEVycm9yKGBUaGUgcHJvcGVydHkgXGAke3J9XGAgYWxyZWFkeSBleGlzdHMgb24gXGB0YXJnZXRcYGApO09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLHIse2VudW1lcmFibGU6ITEsdmFsdWU6dGhpc1tyXS5iaW5kKHRoaXMpfSl9fX1jb25zdCBSZT1PYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhFbWl0dGVyeS5wcm90b3R5cGUpLmZpbHRlcigoZT0+ImNvbnN0cnVjdG9yIiE9PWUpKTtPYmplY3QuZGVmaW5lUHJvcGVydHkoRW1pdHRlcnksImxpc3RlbmVyQWRkZWQiLHt2YWx1ZTokZSx3cml0YWJsZTohMSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShFbWl0dGVyeSwibGlzdGVuZXJSZW1vdmVkIix7dmFsdWU6SWUsd3JpdGFibGU6ITEsZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITF9KTtjb25zdCB4ZT1jcmVhdGVHbG9iYWxUaGlzVmFyaWFibGUoInJlZ2lzdGVyZWRXb3JrZXJzIix7fSk7aXNXb3JrZXIoKSYmZnVuY3Rpb24gaW5pdFdvcmtlcigpe2NvbnN0IGU9e307b25tZXNzYWdlPWFzeW5jIHQ9Pntjb25zdCByPXQuZGF0YTtzd2l0Y2goci50eXBlKXtjYXNlIHdlLklOSVQ6IWZ1bmN0aW9uIGhhbmRsZUNvbW1hbmRJbml0KGUsdCl7aWYoIWUuYXJncyl0aHJvdyJNaXNzaW5nIGNsYXNzTmFtZSB3aGlsZSBpbml0aWFsaXppbmcgd29ya2VyIjtjb25zdFtyLG5dPWUuYXJncyxjPXhlW3JdO2lmKCFjKXRocm93YHVua25vd24gd29ya2VyIGNsYXNzICR7cn1gO3QuaW5zdGFuY2U9bmV3IGMoZS5hcmdzLnNsaWNlKDEpKSxjb3B5KG4scGUpLGZ1bmN0aW9uIGlzSW5zdGFuY2VPZkVtaXR0ZXJ5KGUpe3JldHVybiBlLm9uQW55JiZlLmVtaXR9KHQuaW5zdGFuY2UpJiZ0Lmluc3RhbmNlLm9uQW55KCgoZSx0KT0+e3Bvc3RDb21tYW5kKHt0eXBlOndlLkVWRU5UfSx7bmFtZTplLGRhdGE6dH0pfSkpLHBvc3RDb21tYW5kKGUsdm9pZCAwIT09dHlwZW9mIHQuaW5zdGFuY2UpfShyLGUpO2JyZWFrO2Nhc2Ugd2UuRk9SV0FSRDohYXN5bmMgZnVuY3Rpb24gaGFuZGxlQ29tbWFuZEZvcndhcmQoZSx0KXtjb25zdHtmdW5jdGlvbk5hbWU6cixhcmdzOm59PWU7aWYoIXQuaW5zdGFuY2UpdGhyb3ciaW5zdGFuY2Ugbm90IGluaXRpYWxpemVkIjtpZighcil0aHJvdyJtaXNzaW5nIGZ1bmN0aW9uIG5hbWUgdG8gY2FsbCI7aWYoIXQuaW5zdGFuY2Vbcl0pdGhyb3dgdW5kZWZpbmVkIGZ1bmN0aW9uIFske3J9XSBpbiBjbGFzcyAke3QuaW5zdGFuY2UuY29uc3RydWN0b3Iud29ya2VySWR9YDtwb3N0Q29tbWFuZChlLGF3YWl0IHQuaW5zdGFuY2Vbcl0oLi4ubnVsbCE9bj9uOltdKSl9KHIsZSk7YnJlYWs7Y2FzZSB3ZS5URVJNSU5BVEU6IWFzeW5jIGZ1bmN0aW9uIGhhbmRsZUNvbW1hbmRUZXJtaW5hdGUoZSx0KXtjb25zdHthcmdzOnJ9PWU7aWYoIXQuaW5zdGFuY2UpdGhyb3ciaW5zdGFuY2Ugbm90IGluaXRpYWxpemVkIjtsZXQgbjt0Lmluc3RhbmNlLnRlcm1pbmF0ZSYmKG49YXdhaXQgdC5pbnN0YW5jZS50ZXJtaW5hdGUoLi4ubnVsbCE9cj9yOltdKSkscG9zdENvbW1hbmQoZSxuKX0ocixlKTticmVhaztjYXNlIHdlLkdMT0JBTFNfU1lOQzohZnVuY3Rpb24gaGFuZGxlQ29tbWFuZEdsb2JhbHNTeW5jKGUpe2lmKCFlLmFyZ3MpdGhyb3ciTWlzc2luZyBnbG9iYWxzIHdoaWxlIHN5bmNpbmciO2NvcHkoZS5hcmdzWzBdLHBlKSxwb3N0Q29tbWFuZChlLHt9KX0ocil9fX0oKTshZnVuY3Rpb24gcmVnaXN0ZXJXb3JrZXIoZSx0KXt0LndvcmtlcklkPWUsaXNXb3JrZXIoKSYmKHhlW3Qud29ya2VySWRdPXQpfSgiUHJvY2Vzc29yV29ya2VyIixjbGFzcyBfUHJvY2Vzc29yV29ya2VyIGV4dGVuZHMgYWV7Y29uc3RydWN0b3IoKXtzdXBlciguLi5hcmd1bWVudHMpLHRoaXMucHJvY2Vzc29yPW5ldyBPZX1hc3luYyBpbml0KGU9e30pe3RoaXMudHJhbnNmb3JtZXI9bmV3IE5vaXNlU3VwcHJlc3Npb25UcmFuc2Zvcm1lcix0aGlzLnByb2Nlc3Nvci5vbkFueSgoKGUsdCk9PnRoaXMuZW1pdChlLHQpKSksdGhpcy50cmFuc2Zvcm1lci5vbkFueSgoKGUsdCk9PnRoaXMuZW1pdChlLHQpKSksYXdhaXQgdGhpcy50cmFuc2Zvcm1lci5pbml0KGUpLGF3YWl0IHRoaXMucHJvY2Vzc29yLnNldFRyYW5zZm9ybWVycyhbdGhpcy50cmFuc2Zvcm1lcl0pfXRyYW5zZm9ybShlLHQpe3RoaXMucHJvY2Vzc29yLnRyYW5zZm9ybShlLHQpfXNldEF1ZGlvT3B0aW9ucyhlLHQscixuLGMpe3RoaXMudHJhbnNmb3JtZXI/LnNldEF1ZGlvT3B0aW9ucyhlLHQscixuLGMpfWVuYWJsZSgpe3RoaXMudHJhbnNmb3JtZXI/LmVuYWJsZSgpfWRpc2FibGUoKXt0aGlzLnRyYW5zZm9ybWVyPy5kaXNhYmxlKCl9YXN5bmMgdGVybWluYXRlKCl7YXdhaXQgdGhpcy5wcm9jZXNzb3IuZGVzdHJveSgpfWdldExhdGVuY3koKXtyZXR1cm4gdGhpcy50cmFuc2Zvcm1lcj8uZ2V0TGF0ZW5jeSgpPz8wfWdldFdhc21MYXRlbmN5TnMoKXtyZXR1cm4gdGhpcy50cmFuc2Zvcm1lcj8uZ2V0V2FzbUxhdGVuY3lOcygpPz8wfX0pfSgpOwo=",ku=typeof window<"u"&&window.Blob&&new Blob([atob(Th)],{type:"text/javascript;charset=utf-8"});function Df(){let n;try{if(n=ku&&(window.URL||window.webkitURL).createObjectURL(ku),!n)throw"";return new Worker(n)}catch{return new Worker("data:application/javascript;base64,"+Th)}finally{n&&(window.URL||window.webkitURL).revokeObjectURL(n)}}class Af extends wi{constructor(){super(...arguments),this.isEnabled=!0}async init(t={}){await this.startWorker(t)}async enable(){var t;this.isEnabled=!0,await((t=this.worker)==null?void 0:t.enable())}async disable(){var t;this.isEnabled=!1,await((t=this.worker)==null?void 0:t.disable())}async transform(t,e){var i;await this.startWorker(),await((i=this.worker)==null?void 0:i.transform(t,e))}async destroy(){var t;await((t=this.worker)==null?void 0:t.terminate()),this.worker=void 0}async setAudioOptions(t,e,i,c,s){var b;await((b=this.worker)==null?void 0:b.setAudioOptions(t,e,i,c,s))}async getLatency(){var t,e;return(e=(t=this.worker)==null?void 0:t.getLatency())!=null?e:0}async getWasmLatencyNs(){var t,e;return(e=(t=this.worker)==null?void 0:t.getWasmLatencyNs())!=null?e:0}async startWorker(t={}){this.worker||(this.worker=await Cf(Of,Df),this.worker.onAny((e,i)=>this.emit(e,i)),await this.worker.init(t),this.isEnabled||await this.worker.disable())}async close(){var t;await((t=this.worker)==null?void 0:t.terminate())}}class $f extends wi{async init(t={}){this.worker=new Af,this.worker.onAny((e,i)=>this.emit(e,i)),await this.worker.init(t),this.connector=new If(this.worker)}getConnector(){return this.connector}async close(){var t;await((t=this.worker)==null?void 0:t.close())}async enable(){var t;await((t=this.worker)==null?void 0:t.enable())}async disable(){var t;await((t=this.worker)==null?void 0:t.disable())}async getLatency(){var t,e;return(e=(t=this.worker)==null?void 0:t.getLatency())!=null?e:0}async getWasmLatencyNs(){var t,e;return(e=(t=this.worker)==null?void 0:t.getWasmLatencyNs())!=null?e:0}}function qf(){return new $f}const kl="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";function tG(n){let t="";for(let e=0;e<n.length;e+=3)t+=kl[n[e]>>2],t+=kl[(n[e]&3)<<4|n[e+1]>>4],t+=kl[(n[e+1]&15)<<2|n[e+2]>>6],t+=kl[n[e+2]&63];return n.length%3===2?t=t.substring(0,t.length-1)+"=":n.length%3===1&&(t=t.substring(0,t.length-2)+"=="),t}function eG(n){let t=new Uint8Array(256);for(let c=0;c<kl.length;c++)t[kl.charCodeAt(c)]=c;let e=n.length*.75;n[n.length-1]==="="&&(e--,n[n.length-2]==="="&&e--);let i=new Uint8Array(e);for(let c=0,s=0;c<n.length;c+=4){let b=t[n.charCodeAt(c)],X=t[n.charCodeAt(c+1)],F=t[n.charCodeAt(c+2)],U=t[n.charCodeAt(c+3)];i[s++]=b<<2|X>>4,i[s++]=(X&15)<<4|F>>2,i[s++]=(F&3)<<6|U&63}return i}function nG(n,t,e,i){if(["32f","64"].indexOf(t)>-1&&["32f","64"].indexOf(i)>-1){e.set(n);return}Nu(t),Nu(i);let c=cG(t,i),s={oldMin:Math.pow(2,parseInt(t,10))/2,newMin:Math.pow(2,parseInt(i,10))/2,oldMax:Math.pow(2,parseInt(t,10))/2-1,newMax:Math.pow(2,parseInt(i,10))/2-1};Hu(t,n,!0);for(let b=0,X=n.length;b<X;b++)e[b]=c(n[b],s);Hu(i,e,!1)}function iG(n,t){return n>0?n=parseInt(n/t.oldMax*t.newMax,10):n=parseInt(n/t.oldMin*t.newMin,10),n}function lG(n,t){return parseInt(n>0?n*t.newMax:n*t.newMin,10)}function rG(n,t){return n>0?n/t.oldMax:n/t.oldMin}function cG(n,t){let e=function(i){return i};return n!=t&&(["32f","64"].includes(n)?e=lG:["32f","64"].includes(t)?e=rG:e=iG),e}function Nu(n){if(n!="32f"&&n!="64"&&(parseInt(n,10)<"8"||parseInt(n,10)>"53"))throw new Error("Invalid bit depth.")}function Hu(n,t,e){if(n=="8"){let i=e?-128:128;for(let c=0,s=t.length;c<s;c++)t[c]=t[c]+=i}}const Uh=[-1,-1,-1,-1,2,4,6,8,-1,-1,-1,-1,2,4,6,8],om=[7,8,9,10,11,12,13,14,16,17,19,21,23,25,28,31,34,37,41,45,50,55,60,66,73,80,88,97,107,118,130,143,157,173,190,209,230,253,279,307,337,371,408,449,494,544,598,658,724,796,876,963,1060,1166,1282,1411,1552,1707,1878,2066,2272,2499,2749,3024,3327,3660,4026,4428,4871,5358,5894,6484,7132,7845,8630,9493,10442,11487,12635,13899,15289,16818,18500,20350,22385,24623,27086,29794,32767];function aG(n){let t={index:0,predicted:0,step:7},e=new Uint8Array(n.length),i=[],c=0,s=0;for(let X=0,F=n.length;X<F;X++)X%505==0&&X!=0&&(e.set(dG(i,t),c),c+=256,i=[],s++),i.push(n[X]);let b=n.length/2;return b%2&&b++,e.slice(0,b+512+s*4)}function oG(n,t=256){let e={index:0,predicted:0,step:7},i=new Int16Array(n.length*2),c=[],s=0;for(let b=0,X=n.length;b<X;b++){if(b%t==0&&b!=0){let F=sG(c,e);i.set(F,s),s+=F.length,c=[]}c.push(n[b])}return i}function dG(n,t){let e=hG(n[0],t);for(let i=3,c=n.length;i<c;i+=2){let s=ks(n[i],t),b=ks(n[i+1],t);e.push(b<<4|s)}return e}function sG(n,t){t.predicted=mG(n[1]<<8|n[0]),t.index=n[2],t.step=om[t.index];let e=[t.predicted,t.predicted];for(let i=4,c=n.length;i<c;i++){let s=n[i],b=s>>4,X=b<<4^s;e.push(wu(X,t)),e.push(wu(b,t))}return e}function mG(n){return n>32768?n-65536:n}function ks(n,t){let e=n-t.predicted,i=0;e>=0?i=0:(i=8,e=-e);let c=om[t.index],s=c>>3;return e>c&&(i|=4,e-=c,s+=c),c>>=1,e>c&&(i|=2,e-=c,s+=c),c>>=1,e>c&&(i|=1,s+=c),uG(i,s,t),i}function uG(n,t,e){n&8?e.predicted-=t:e.predicted+=t,e.predicted<-32768?e.predicted=-32768:e.predicted>32767&&(e.predicted=32767),e.index+=Uh[n&7],e.index<0?e.index=0:e.index>88&&(e.index=88)}function wu(n,t){let e=0;return n&4&&(e+=t.step),n&2&&(e+=t.step>>1),n&1&&(e+=t.step>>2),e+=t.step>>3,n&8&&(e=-e),t.predicted+=e,t.predicted>32767?t.predicted=32767:t.predicted<-32767&&(t.predicted=-32767),bG(n,t),t.predicted}function bG(n,t){t.index+=Uh[n],t.index<0?t.index=0:t.index>88&&(t.index=88),t.step=om[t.index]}function hG(n,t){ks(n,t);let e=[];return e.push(n&255),e.push(n>>8&255),e.push(t.index),e.push(0),e}const pG=[1,1,2,2,3,3,3,3,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];function ZG(n){let t;n=n==-32768?-32767:n;let e=~n>>8&128;if(e||(n=n*-1),n>32635&&(n=32635),n>=256){let i=pG[n>>8&127],c=n>>i+3&15;t=i<<4|c}else t=n>>4;return t^(e^85)}function yG(n){let t=0;n^=85,(n&128)!==0&&(n&=~(1<<7),t=-1);let e=((n&240)>>4)+4,i=0;return e!=4?i=1<<e|(n&15)<<e-4|1<<e-5:i=n<<1|1,i=t===0?i:-i,i*8*-1}function XG(n){let t=new Uint8Array(n.length);for(let e=0,i=n.length;e<i;e++)t[e]=ZG(n[e]);return t}function WG(n){let t=new Int16Array(n.length);for(let e=0,i=n.length;e<i;e++)t[e]=yG(n[e]);return t}const VG=132,xu=32635,fG=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7],GG=[0,132,396,924,1980,4092,8316,16764];function RG(n){let t,e,i,c;return t=n>>8&128,t!=0&&(n=-n),n=n+VG,n>xu&&(n=xu),e=fG[n>>7&255],i=n>>e+3&15,c=~(t|e<<4|i),c}function vG(n){let t,e,i,c;return n=~n,t=n&128,e=n>>4&7,i=n&15,c=GG[e]+(i<<e+3),t!=0&&(c=-c),c}function gG(n){let t=new Uint8Array(n.length);for(let e=0,i=n.length;e<i;e++)t[e]=RG(n[e]);return t}function YG(n){let t=new Int16Array(n.length);for(let e=0,i=n.length;e<i;e++)t[e]=vG(n[e]);return t}function Kh(n,t,e=0,i=n.length){for(let c=e;c<i;c+=t)FG(n,t,c)}function FG(n,t,e){t--;for(let i=0;i<t;i++){let c=n[e+i];n[e+i]=n[e+t],n[e+t]=c,t--}}function IG(n,t=0,e=n.length){let i="";for(let c=t;c<e;){let s=128,b=191,X=!1,F=n[c++];if(F>=0&&F<=127)i+=String.fromCharCode(F);else{let U=0;F>=194&&F<=223?U=1:F>=224&&F<=239?(U=2,n[c]===224&&(s=160),n[c]===237&&(b=159)):F>=240&&F<=244?(U=3,n[c]===240&&(s=144),n[c]===244&&(b=143)):X=!0,F=F&(1<<8-U-1)-1;for(let E=0;E<U;E++)(n[c]<s||n[c]>b)&&(X=!0),F=F<<6|n[c]&63,c++;X?i+=String.fromCharCode(65533):F<=65535?i+=String.fromCharCode(F):(F-=65536,i+=String.fromCharCode((F>>10&1023)+55296,(F&1023)+56320))}}return i}function zh(n,t,e=0){let i=0,c=n.length;for(;i<c;){let s=n.codePointAt(i);if(s<128)t[e]=s,e++;else{let b=0,X=0;for(s<=2047?(b=1,X=192):s<=65535?(b=2,X=224):s<=1114111&&(b=3,X=240,i++),t[e]=(s>>6*b)+X,e++;b>0;)t[e]=128|s>>6*(b-1)&63,e++,b--}i++}return e}class JG{constructor(t,e=!1){this.bits=t,this.offset=Math.ceil(t/8),this.max=Math.pow(2,t)-1,this.min=0,this.unpack=this.unpack_,e&&(this.max=Math.pow(2,t)/2-1,this.min=-this.max-1,this.unpack=this.unpackSigned_)}pack(t,e,i=0){e=this.clamp_(Math.round(e));for(let c=0,s=this.offset;c<s;c++)t[i]=Math.floor(e/Math.pow(2,c*8))&255,i++;return i}unpack_(t,e=0){let i=0;for(let c=0;c<this.offset;c++)i+=t[e+c]*Math.pow(256,c);return i}unpackSigned_(t,e=0){return this.sign_(this.unpack_(t,e))}clamp_(t){return t>this.max?this.max:t<this.min?this.min:t}sign_(t){return t>this.max&&(t-=this.max*2+2),t}}class Su{constructor(t,e){this.offset=Math.ceil((t+e)/8),this.ebits=t,this.fbits=e,this.bias=(1<<t-1)-1,this.biasP2=Math.pow(2,this.bias+1),this.ebitsFbits=t+e,this.fbias=Math.pow(2,-(8*this.offset-1-t))}pack(t,e,i){Math.abs(e)>this.biasP2-this.ebitsFbits*2&&(e=e<0?-1/0:1/0);let c=((e=+e)||1/e)<0||e<0?1:0;e=Math.abs(e);let s=Math.min(Math.floor(Math.log(e)/Math.LN2),1023),b=$d(e/Math.pow(2,s)*Math.pow(2,this.fbits));return e!==e?(b=Math.pow(2,this.fbits-1),s=(1<<this.ebits)-1):e!==0&&(e>=Math.pow(2,1-this.bias)?(b/Math.pow(2,this.fbits)>=2&&(s=s+1,b=1),s>this.bias?(s=(1<<this.ebits)-1,b=0):(s=s+this.bias,b=$d(b)-Math.pow(2,this.fbits))):(b=$d(e/Math.pow(2,1-this.bias-this.fbits)),s=0)),this.packFloatBits_(t,i,c,s,b)}unpack(t,e){let i=(1<<this.ebits)-1,c,s="";for(let F=this.offset-1;F>=0;F--){let U=t[F+e].toString(2);s+="00000000".substring(U.length)+U}let b=s.charAt(0)=="1"?-1:1;s=s.substring(1);let X=parseInt(s.substring(0,this.ebits),2);return s=s.substring(this.ebits),X==i?parseInt(s,2)!==0?NaN:b*(1/0):(X===0?(X+=1,c=parseInt(s,2)):c=parseInt("1"+s,2),b*c*this.fbias*Math.pow(2,X-this.bias))}packFloatBits_(t,e,i,c,s){let b=[];b.push(i);for(let f=this.ebits;f>0;f-=1)b[f]=c%2?1:0,c=Math.floor(c/2);let X=b.length;for(let f=this.fbits;f>0;f-=1)b[X+f]=s%2?1:0,s=Math.floor(s/2);let F=b.join(""),U=this.offset+e-1,E=e;for(;U>=e;)t[U]=parseInt(F.substring(0,8),2),F=F.substring(8),U--,E++;return E}}function $d(n){let t=Math.floor(n),e=n-t;return e<.5?t:e>.5||t%2?t+1:t}function Hl(n,t=0,e=n.length){return IG(n,t,e)}function de(n){let t=[];return zh(n,t),t}function Tu(n,t,e=0){return zh(n,t,e)}function Bh(n,t,e,i=0){t=t||{};let c=_h(t.bits,t.fp,t.signed),s=Math.ceil(t.bits/8),b=0,X=i;for(let F=n.length;b<F;b++)i=c.pack(e,n[b],i);return t.be&&Kh(e,s,X,i),i}function Vi(n,t,e,i=0,c=n.length){t=t||{};let s=_h(t.bits,t.fp,t.signed);if(c=NG(n,i,c,s.offset),t.be){let b=kG(n);t.be&&Kh(b,s.offset,i,c),Uu(b,e,i,c,s)}else Uu(n,e,i,c,s)}function dm(n,t,e,i=0){return Bh([n],t,e,i)}function L(n,t){let e=[];return dm(n,t,e,0),e}function to(n,t,e=0){let i=[];return Vi(n,t,i,e,e+Math.ceil(t.bits/8)),i[0]}function Uu(n,t,e,i,c){let s=c.offset;for(let b=0,X=e;X<i;X+=s,b++)t[b]=c.unpack(n,X)}function kG(n){return new Uint8Array(n)}function NG(n,t,e,i){let c=(e-t)%i;return e-c}function _h(n,t,e){return t&&n==32?new Su(8,23):t&&n==64?new Su(11,52):new JG(n,e)}class HG{constructor(){this.container="",this.chunkSize=0,this.format="",this.signature=null,this.head=0,this.uInt32={bits:32,be:!1},this.supported_containers=["RIFF","RIFX"]}setSignature(t){if(this.head=0,this.container=this.readString(t,4),this.supported_containers.indexOf(this.container)===-1)throw Error("Not a supported format.");this.uInt32.be=this.container==="RIFX",this.chunkSize=this.readUInt32(t),this.format=this.readString(t,4),this.signature={chunkId:this.container,chunkSize:this.chunkSize,format:this.format,subChunks:this.getSubChunksIndex_(t)}}findChunk(t,e=!1){let i=this.signature.subChunks,c=[];for(let s=0;s<i.length;s++)if(i[s].chunkId==t)if(e)c.push(i[s]);else return i[s];return t=="LIST"&&c.length?c:null}readString(t,e){let i="";return i=Hl(t,this.head,this.head+e),this.head+=e,i}readUInt32(t){let e=to(t,this.uInt32,this.head);return this.head+=4,e}getSubChunksIndex_(t){let e=[],i=this.head;for(;i<=t.length-8;)e.push(this.getSubChunkIndex_(t,i)),i+=8+e[e.length-1].chunkSize,i=i%2?i+1:i;return e}getSubChunkIndex_(t,e){let i={chunkId:this.getChunkId_(t,e),chunkSize:this.getChunkSize_(t,e)};if(i.chunkId=="LIST")i.format=Hl(t,e+8,e+12),this.head+=4,i.subChunks=this.getSubChunksIndex_(t);else{let c=i.chunkSize%2?i.chunkSize+1:i.chunkSize;this.head=e+8+c,i.chunkData={start:e+8,end:this.head}}return i}getChunkId_(t,e){return this.head+=4,Hl(t,e,e+4)}getChunkSize_(t,e){return this.head+=4,to(t,this.uInt32,e+4)}}class sm extends HG{constructor(){super(),this.supported_containers.push("RF64"),this.fmt={chunkId:"",chunkSize:0,audioFormat:0,numChannels:0,sampleRate:0,byteRate:0,blockAlign:0,bitsPerSample:0,cbSize:0,validBitsPerSample:0,dwChannelMask:0,subformat:[]},this.fact={chunkId:"",chunkSize:0,dwSampleLength:0},this.cue={chunkId:"",chunkSize:0,dwCuePoints:0,points:[]},this.smpl={chunkId:"",chunkSize:0,dwManufacturer:0,dwProduct:0,dwSamplePeriod:0,dwMIDIUnityNote:0,dwMIDIPitchFraction:0,dwSMPTEFormat:0,dwSMPTEOffset:0,dwNumSampleLoops:0,dwSamplerData:0,loops:[]},this.bext={chunkId:"",chunkSize:0,description:"",originator:"",originatorReference:"",originationDate:"",originationTime:"",timeReference:[0,0],version:0,UMID:"",loudnessValue:0,loudnessRange:0,maxTruePeakLevel:0,maxMomentaryLoudness:0,maxShortTermLoudness:0,reserved:"",codingHistory:""},this.iXML={chunkId:"",chunkSize:0,value:""},this.ds64={chunkId:"",chunkSize:0,riffSizeHigh:0,riffSizeLow:0,dataSizeHigh:0,dataSizeLow:0,originationTime:0,sampleCountHigh:0,sampleCountLow:0},this.data={chunkId:"",chunkSize:0,samples:new Uint8Array(0)},this.LIST=[],this.junk={chunkId:"",chunkSize:0,chunkData:[]},this._PMX={chunkId:"",chunkSize:0,value:""},this.uInt16={bits:16,be:!1,signed:!1,fp:!1}}fromBuffer(t,e=!0){if(this.clearHeaders(),this.setSignature(t),this.uInt16.be=this.uInt32.be,this.format!="WAVE")throw Error('Could not find the "WAVE" format identifier');this.readDs64Chunk_(t),this.readFmtChunk_(t),this.readFactChunk_(t),this.readBextChunk_(t),this.readiXMLChunk_(t),this.readCueChunk_(t),this.readSmplChunk_(t),this.readDataChunk_(t,e),this.readJunkChunk_(t),this.readLISTChunk_(t),this.read_PMXChunk_(t)}clearHeaders(){let t=new sm;Object.assign(this.fmt,t.fmt),Object.assign(this.fact,t.fact),Object.assign(this.cue,t.cue),Object.assign(this.smpl,t.smpl),Object.assign(this.bext,t.bext),Object.assign(this.iXML,t.iXML),Object.assign(this.ds64,t.ds64),Object.assign(this.data,t.data),this.LIST=[],Object.assign(this.junk,t.junk),Object.assign(this._PMX,t._PMX)}readFmtChunk_(t){let e=this.findChunk("fmt ");if(e)this.head=e.chunkData.start,this.fmt.chunkId=e.chunkId,this.fmt.chunkSize=e.chunkSize,this.fmt.audioFormat=this.readUInt16_(t),this.fmt.numChannels=this.readUInt16_(t),this.fmt.sampleRate=this.readUInt32(t),this.fmt.byteRate=this.readUInt32(t),this.fmt.blockAlign=this.readUInt16_(t),this.fmt.bitsPerSample=this.readUInt16_(t),this.readFmtExtension_(t);else throw Error('Could not find the "fmt " chunk')}readFmtExtension_(t){this.fmt.chunkSize>16&&(this.fmt.cbSize=this.readUInt16_(t),this.fmt.chunkSize>18&&(this.fmt.validBitsPerSample=this.readUInt16_(t),this.fmt.chunkSize>20&&(this.fmt.dwChannelMask=this.readUInt32(t),this.fmt.subformat=[this.readUInt32(t),this.readUInt32(t),this.readUInt32(t),this.readUInt32(t)])))}readFactChunk_(t){let e=this.findChunk("fact");e&&(this.head=e.chunkData.start,this.fact.chunkId=e.chunkId,this.fact.chunkSize=e.chunkSize,this.fact.dwSampleLength=this.readUInt32(t))}readCueChunk_(t){let e=this.findChunk("cue ");if(e){this.head=e.chunkData.start,this.cue.chunkId=e.chunkId,this.cue.chunkSize=e.chunkSize,this.cue.dwCuePoints=this.readUInt32(t);for(let i=0;i<this.cue.dwCuePoints;i++)this.cue.points.push({dwName:this.readUInt32(t),dwPosition:this.readUInt32(t),fccChunk:this.readString(t,4),dwChunkStart:this.readUInt32(t),dwBlockStart:this.readUInt32(t),dwSampleOffset:this.readUInt32(t)})}}readSmplChunk_(t){let e=this.findChunk("smpl");if(e){this.head=e.chunkData.start,this.smpl.chunkId=e.chunkId,this.smpl.chunkSize=e.chunkSize,this.smpl.dwManufacturer=this.readUInt32(t),this.smpl.dwProduct=this.readUInt32(t),this.smpl.dwSamplePeriod=this.readUInt32(t),this.smpl.dwMIDIUnityNote=this.readUInt32(t),this.smpl.dwMIDIPitchFraction=this.readUInt32(t),this.smpl.dwSMPTEFormat=this.readUInt32(t),this.smpl.dwSMPTEOffset=this.readUInt32(t),this.smpl.dwNumSampleLoops=this.readUInt32(t),this.smpl.dwSamplerData=this.readUInt32(t);for(let i=0;i<this.smpl.dwNumSampleLoops;i++)this.smpl.loops.push({dwName:this.readUInt32(t),dwType:this.readUInt32(t),dwStart:this.readUInt32(t),dwEnd:this.readUInt32(t),dwFraction:this.readUInt32(t),dwPlayCount:this.readUInt32(t)})}}readDataChunk_(t,e){let i=this.findChunk("data");if(i)this.data.chunkId="data",this.data.chunkSize=i.chunkSize,e&&(this.data.samples=t.slice(i.chunkData.start,i.chunkData.end));else throw Error('Could not find the "data" chunk')}readBextChunk_(t){let e=this.findChunk("bext");e&&(this.head=e.chunkData.start,this.bext.chunkId=e.chunkId,this.bext.chunkSize=e.chunkSize,this.bext.description=this.readString(t,256),this.bext.originator=this.readString(t,32),this.bext.originatorReference=this.readString(t,32),this.bext.originationDate=this.readString(t,10),this.bext.originationTime=this.readString(t,8),this.bext.timeReference=[this.readUInt32(t),this.readUInt32(t)],this.bext.version=this.readUInt16_(t),this.bext.UMID=this.readString(t,64),this.bext.loudnessValue=this.readUInt16_(t),this.bext.loudnessRange=this.readUInt16_(t),this.bext.maxTruePeakLevel=this.readUInt16_(t),this.bext.maxMomentaryLoudness=this.readUInt16_(t),this.bext.maxShortTermLoudness=this.readUInt16_(t),this.bext.reserved=this.readString(t,180),this.bext.codingHistory=this.readString(t,this.bext.chunkSize-602))}readiXMLChunk_(t){let e=this.findChunk("iXML");e&&(this.head=e.chunkData.start,this.iXML.chunkId=e.chunkId,this.iXML.chunkSize=e.chunkSize,this.iXML.value=Hl(t,this.head,this.head+this.iXML.chunkSize))}readDs64Chunk_(t){let e=this.findChunk("ds64");if(e)this.head=e.chunkData.start,this.ds64.chunkId=e.chunkId,this.ds64.chunkSize=e.chunkSize,this.ds64.riffSizeHigh=this.readUInt32(t),this.ds64.riffSizeLow=this.readUInt32(t),this.ds64.dataSizeHigh=this.readUInt32(t),this.ds64.dataSizeLow=this.readUInt32(t),this.ds64.originationTime=this.readUInt32(t),this.ds64.sampleCountHigh=this.readUInt32(t),this.ds64.sampleCountLow=this.readUInt32(t);else if(this.container=="RF64")throw Error('Could not find the "ds64" chunk')}readLISTChunk_(t){let e=this.findChunk("LIST",!0);if(e!==null)for(let i=0;i<e.length;i++){let c=e[i];this.LIST.push({chunkId:c.chunkId,chunkSize:c.chunkSize,format:c.format,subChunks:[]});for(let s=0;s<c.subChunks.length;s++)this.readLISTSubChunks_(c.subChunks[s],c.format,t)}}readLISTSubChunks_(t,e,i){e=="adtl"?["labl","note","ltxt"].indexOf(t.chunkId)>-1&&this.readLISTadtlSubChunks_(i,t):e=="INFO"&&this.readLISTINFOSubChunks_(i,t)}readLISTadtlSubChunks_(t,e){this.head=e.chunkData.start;let i={chunkId:e.chunkId,chunkSize:e.chunkSize,dwName:this.readUInt32(t)};e.chunkId=="ltxt"?(i.dwSampleLength=this.readUInt32(t),i.dwPurposeID=this.readUInt32(t),i.dwCountry=this.readUInt16_(t),i.dwLanguage=this.readUInt16_(t),i.dwDialect=this.readUInt16_(t),i.dwCodePage=this.readUInt16_(t),i.value=""):i.value=this.readZSTR_(t,this.head),this.LIST[this.LIST.length-1].subChunks.push(i)}readLISTINFOSubChunks_(t,e){this.head=e.chunkData.start,this.LIST[this.LIST.length-1].subChunks.push({chunkId:e.chunkId,chunkSize:e.chunkSize,value:this.readZSTR_(t,this.head)})}readJunkChunk_(t){let e=this.findChunk("junk");e&&(this.junk={chunkId:e.chunkId,chunkSize:e.chunkSize,chunkData:[].slice.call(t.slice(e.chunkData.start,e.chunkData.end))})}read_PMXChunk_(t){let e=this.findChunk("_PMX");e&&(this.head=e.chunkData.start,this._PMX.chunkId=e.chunkId,this._PMX.chunkSize=e.chunkSize,this._PMX.value=Hl(t,this.head,this.head+this._PMX.chunkSize))}readZSTR_(t,e=0){for(let i=e;i<t.length&&(this.head++,t[i]!==0);i++);return Hl(t,e,this.head-1)}readUInt16_(t){let e=to(t,this.uInt16,this.head);return this.head+=2,e}}function rn(n,t){let e=de(n);for(let i=e.length;i<t;i++)e.push(0);return e}class wG extends sm{toBuffer(){this.uInt16.be=this.container==="RIFX",this.uInt32.be=this.uInt16.be;let t=[this.getJunkBytes_(),this.getDs64Bytes_(),this.getBextBytes_(),this.getiXMLBytes_(),this.getFmtBytes_(),this.getFactBytes_(),de(this.data.chunkId),L(this.data.samples.length,this.uInt32),this.data.samples,this.getCueBytes_(),this.getSmplBytes_(),this.getLISTBytes_(),this.get_PMXBytes_()],e=0;for(let s=0;s<t.length;s++)e+=t[s].length;let i=new Uint8Array(e+12),c=0;c=Tu(this.container,i,c),c=dm(e+4,this.uInt32,i,c),c=Tu(this.format,i,c);for(let s=0;s<t.length;s++)i.set(t[s],c),c+=t[s].length;return i}getBextBytes_(){let t=[];return this.enforceBext_(),this.bext.chunkId&&(this.bext.chunkSize=602+this.bext.codingHistory.length,t=t.concat(de(this.bext.chunkId),L(602+this.bext.codingHistory.length,this.uInt32),rn(this.bext.description,256),rn(this.bext.originator,32),rn(this.bext.originatorReference,32),rn(this.bext.originationDate,10),rn(this.bext.originationTime,8),L(this.bext.timeReference[0],this.uInt32),L(this.bext.timeReference[1],this.uInt32),L(this.bext.version,this.uInt16),rn(this.bext.UMID,64),L(this.bext.loudnessValue,this.uInt16),L(this.bext.loudnessRange,this.uInt16),L(this.bext.maxTruePeakLevel,this.uInt16),L(this.bext.maxMomentaryLoudness,this.uInt16),L(this.bext.maxShortTermLoudness,this.uInt16),rn(this.bext.reserved,180),rn(this.bext.codingHistory,this.bext.codingHistory.length))),this.enforceByteLen_(t),t}enforceBext_(){for(let t in this.bext)if(this.bext.hasOwnProperty(t)&&this.bext[t]&&t!="timeReference"){this.bext.chunkId="bext";break}(this.bext.timeReference[0]||this.bext.timeReference[1])&&(this.bext.chunkId="bext")}getiXMLBytes_(){let t=[];if(this.iXML.chunkId){let e=de(this.iXML.value);this.iXML.chunkSize=e.length,t=t.concat(de(this.iXML.chunkId),L(this.iXML.chunkSize,this.uInt32),e)}return this.enforceByteLen_(t),t}getDs64Bytes_(){let t=[];return this.ds64.chunkId&&(t=t.concat(de(this.ds64.chunkId),L(this.ds64.chunkSize,this.uInt32),L(this.ds64.riffSizeHigh,this.uInt32),L(this.ds64.riffSizeLow,this.uInt32),L(this.ds64.dataSizeHigh,this.uInt32),L(this.ds64.dataSizeLow,this.uInt32),L(this.ds64.originationTime,this.uInt32),L(this.ds64.sampleCountHigh,this.uInt32),L(this.ds64.sampleCountLow,this.uInt32))),this.enforceByteLen_(t),t}getCueBytes_(){let t=[];if(this.cue.chunkId){let e=this.getCuePointsBytes_();t=t.concat(de(this.cue.chunkId),L(e.length+4,this.uInt32),L(this.cue.dwCuePoints,this.uInt32),e)}return this.enforceByteLen_(t),t}getCuePointsBytes_(){let t=[];for(let e=0;e<this.cue.dwCuePoints;e++)t=t.concat(L(this.cue.points[e].dwName,this.uInt32),L(this.cue.points[e].dwPosition,this.uInt32),de(this.cue.points[e].fccChunk),L(this.cue.points[e].dwChunkStart,this.uInt32),L(this.cue.points[e].dwBlockStart,this.uInt32),L(this.cue.points[e].dwSampleOffset,this.uInt32));return t}getSmplBytes_(){let t=[];if(this.smpl.chunkId){let e=this.getSmplLoopsBytes_();t=t.concat(de(this.smpl.chunkId),L(e.length+36,this.uInt32),L(this.smpl.dwManufacturer,this.uInt32),L(this.smpl.dwProduct,this.uInt32),L(this.smpl.dwSamplePeriod,this.uInt32),L(this.smpl.dwMIDIUnityNote,this.uInt32),L(this.smpl.dwMIDIPitchFraction,this.uInt32),L(this.smpl.dwSMPTEFormat,this.uInt32),L(this.smpl.dwSMPTEOffset,this.uInt32),L(this.smpl.dwNumSampleLoops,this.uInt32),L(this.smpl.dwSamplerData,this.uInt32),e)}return this.enforceByteLen_(t),t}getSmplLoopsBytes_(){let t=[];for(let e=0;e<this.smpl.dwNumSampleLoops;e++)t=t.concat(L(this.smpl.loops[e].dwName,this.uInt32),L(this.smpl.loops[e].dwType,this.uInt32),L(this.smpl.loops[e].dwStart,this.uInt32),L(this.smpl.loops[e].dwEnd,this.uInt32),L(this.smpl.loops[e].dwFraction,this.uInt32),L(this.smpl.loops[e].dwPlayCount,this.uInt32));return t}getFactBytes_(){let t=[];return this.fact.chunkId&&(t=t.concat(de(this.fact.chunkId),L(this.fact.chunkSize,this.uInt32),L(this.fact.dwSampleLength,this.uInt32))),this.enforceByteLen_(t),t}getFmtBytes_(){let t=[];if(this.fmt.chunkId){let e=t.concat(de(this.fmt.chunkId),L(this.fmt.chunkSize,this.uInt32),L(this.fmt.audioFormat,this.uInt16),L(this.fmt.numChannels,this.uInt16),L(this.fmt.sampleRate,this.uInt32),L(this.fmt.byteRate,this.uInt32),L(this.fmt.blockAlign,this.uInt16),L(this.fmt.bitsPerSample,this.uInt16),this.getFmtExtensionBytes_());return this.enforceByteLen_(e),e}throw Error('Could not find the "fmt " chunk')}getFmtExtensionBytes_(){let t=[];return this.fmt.chunkSize>16&&(t=t.concat(L(this.fmt.cbSize,this.uInt16))),this.fmt.chunkSize>18&&(t=t.concat(L(this.fmt.validBitsPerSample,this.uInt16))),this.fmt.chunkSize>20&&(t=t.concat(L(this.fmt.dwChannelMask,this.uInt32))),this.fmt.chunkSize>24&&(t=t.concat(L(this.fmt.subformat[0],this.uInt32),L(this.fmt.subformat[1],this.uInt32),L(this.fmt.subformat[2],this.uInt32),L(this.fmt.subformat[3],this.uInt32))),t}getLISTBytes_(){let t=[];for(let e=0;e<this.LIST.length;e++){let i=this.getLISTSubChunksBytes_(this.LIST[e].subChunks,this.LIST[e].format);t=t.concat(de(this.LIST[e].chunkId),L(i.length+4,this.uInt32),de(this.LIST[e].format),i)}return this.enforceByteLen_(t),t}getLISTSubChunksBytes_(t,e){let i=[];for(let c=0,s=t.length;c<s;c++)e=="INFO"?i=i.concat(this.getLISTINFOSubChunksBytes_(t[c])):e=="adtl"&&(i=i.concat(this.getLISTadtlSubChunksBytes_(t[c]))),this.enforceByteLen_(i);return i}getLISTINFOSubChunksBytes_(t){let e=[],i=rn(t.value,t.value.length);return e=e.concat(de(t.chunkId),L(i.length+1,this.uInt32),i),e.push(0),e}getLISTadtlSubChunksBytes_(t){let e=[];if(["labl","note"].indexOf(t.chunkId)>-1){let i=rn(t.value,t.value.length);e=e.concat(de(t.chunkId),L(i.length+4+1,this.uInt32),L(t.dwName,this.uInt32),i),e.push(0)}else t.chunkId=="ltxt"&&(e=e.concat(this.getLtxtChunkBytes_(t)));return e}getLtxtChunkBytes_(t){return[].concat(de(t.chunkId),L(t.value.length+20,this.uInt32),L(t.dwName,this.uInt32),L(t.dwSampleLength,this.uInt32),L(t.dwPurposeID,this.uInt32),L(t.dwCountry,this.uInt16),L(t.dwLanguage,this.uInt16),L(t.dwDialect,this.uInt16),L(t.dwCodePage,this.uInt16),rn(t.value,t.value.length))}get_PMXBytes_(){let t=[];if(this._PMX.chunkId){let e=de(this._PMX.value);this._PMX.chunkSize=e.length,t=t.concat(de(this._PMX.chunkId),L(this._PMX.chunkSize,this.uInt32),e)}return this.enforceByteLen_(t),t}getJunkBytes_(){let t=[];return this.junk.chunkId?t.concat(de(this.junk.chunkId),L(this.junk.chunkData.length,this.uInt32),this.junk.chunkData):(this.enforceByteLen_(t),t)}enforceByteLen_(t){t.length%2&&t.push(0)}}function xG(n){let t=[];if(n.length>0)if(n[0].constructor!==Number){t=new Float64Array(n[0].length*n.length);for(let e=0,i=n[0].length,c=0;e<i;e++)for(let s=0,b=n.length;s<b;s++,c++)t[c]=n[s][e]}else t=n;return t}function SG(n,t,e=Float64Array){let i=[];for(let c=0;c<t;c++)i[c]=new e(n.length/t);for(let c=0;c<t;c++)for(let s=c,b=0;s<n.length;s+=t,b++)i[c][b]=n[s];return i}function TG(n,t){let e=n*t/8;return!(n<1||e>65535)}function Ch(n,t,e){let i=n*(t/8)*e;return!(e<1||i>4294967295)}class UG extends wG{constructor(){super(),this.bitDepth="0",this.dataType={bits:0,be:!1},this.WAV_AUDIO_FORMATS={4:17,8:1,"8a":6,"8m":7,16:1,24:1,32:1,"32f":3,64:3}}fromScratch(t,e,i,c,s){s=s||{},this.clearHeaders(),this.newWavFile_(t,e,i,c,s)}fromBuffer(t,e=!0){super.fromBuffer(t,e),this.bitDepthFromFmt_(),this.updateDataType_()}toBuffer(){return this.validateWavHeader_(),super.toBuffer()}getSamples(t=!1,e=Float64Array){let i=new e(this.data.samples.length/(this.dataType.bits/8));return Vi(this.data.samples,this.dataType,i,0,this.data.samples.length),!t&&this.fmt.numChannels>1?SG(i,this.fmt.numChannels,e):i}getSample(t){if(t=t*(this.dataType.bits/8),t+this.dataType.bits/8>this.data.samples.length)throw new Error("Range error");return to(this.data.samples.slice(t,t+this.dataType.bits/8),this.dataType)}setSample(t,e){if(t=t*(this.dataType.bits/8),t+this.dataType.bits/8>this.data.samples.length)throw new Error("Range error");dm(e,this.dataType,this.data.samples,t)}getiXML(){return this.iXML.value}setiXML(t){if(typeof t!="string")throw new TypeError("iXML value must be a string.");this.iXML.value=t,this.iXML.chunkId="iXML"}get_PMX(){return this._PMX.value}set_PMX(t){if(typeof t!="string")throw new TypeError("_PMX value must be a string.");this._PMX.value=t,this._PMX.chunkId="_PMX"}newWavFile_(t,e,i,c,s){s.container||(s.container="RIFF"),this.container=s.container,this.bitDepth=i,c=xG(c),this.updateDataType_();let b=this.dataType.bits/8;this.data.samples=new Uint8Array(c.length*b),Bh(c,this.dataType,this.data.samples,0),this.makeWavHeader_(i,t,e,b,this.data.samples.length,s),this.data.chunkId="data",this.data.chunkSize=this.data.samples.length,this.validateWavHeader_()}makeWavHeader_(t,e,i,c,s,b){t=="4"?this.createADPCMHeader_(t,e,i,c,s,b):t=="8a"||t=="8m"?this.createALawMulawHeader_(t,e,i,c,s,b):Object.keys(this.WAV_AUDIO_FORMATS).indexOf(t)==-1||e>2?this.createExtensibleHeader_(t,e,i,c,s,b):this.createPCMHeader_(t,e,i,c,s,b)}createPCMHeader_(t,e,i,c,s,b){this.container=b.container,this.chunkSize=36+s,this.format="WAVE",this.bitDepth=t,this.fmt={chunkId:"fmt ",chunkSize:16,audioFormat:this.WAV_AUDIO_FORMATS[t]||65534,numChannels:e,sampleRate:i,byteRate:e*c*i,blockAlign:e*c,bitsPerSample:parseInt(t,10),cbSize:0,validBitsPerSample:0,dwChannelMask:0,subformat:[]}}createADPCMHeader_(t,e,i,c,s,b){this.createPCMHeader_(t,e,i,c,s,b),this.chunkSize=40+s,this.fmt.chunkSize=20,this.fmt.byteRate=4055,this.fmt.blockAlign=256,this.fmt.bitsPerSample=4,this.fmt.cbSize=2,this.fmt.validBitsPerSample=505,this.fact={chunkId:"fact",chunkSize:4,dwSampleLength:s*2}}createExtensibleHeader_(t,e,i,c,s,b){this.createPCMHeader_(t,e,i,c,s,b),this.chunkSize=36+24+s,this.fmt.chunkSize=40,this.fmt.bitsPerSample=(parseInt(t,10)-1|7)+1,this.fmt.cbSize=22,this.fmt.validBitsPerSample=parseInt(t,10),this.fmt.dwChannelMask=KG(e),this.fmt.subformat=[1,1048576,2852126848,1905997824]}createALawMulawHeader_(t,e,i,c,s,b){this.createPCMHeader_(t,e,i,c,s,b),this.chunkSize=40+s,this.fmt.chunkSize=20,this.fmt.cbSize=2,this.fmt.validBitsPerSample=8,this.fact={chunkId:"fact",chunkSize:4,dwSampleLength:s}}bitDepthFromFmt_(){this.fmt.audioFormat===3&&this.fmt.bitsPerSample===32?this.bitDepth="32f":this.fmt.audioFormat===6?this.bitDepth="8a":this.fmt.audioFormat===7?this.bitDepth="8m":this.bitDepth=this.fmt.bitsPerSample.toString()}validateBitDepth_(){if(!this.WAV_AUDIO_FORMATS[this.bitDepth]){if(parseInt(this.bitDepth,10)>8&&parseInt(this.bitDepth,10)<54)return!0;throw new Error("Invalid bit depth.")}return!0}updateDataType_(){this.dataType={bits:(parseInt(this.bitDepth,10)-1|7)+1,fp:this.bitDepth=="32f"||this.bitDepth=="64",signed:this.bitDepth!="8",be:this.container=="RIFX"},["4","8a","8m"].indexOf(this.bitDepth)>-1&&(this.dataType.bits=8,this.dataType.signed=!1)}validateWavHeader_(){if(this.validateBitDepth_(),!TG(this.fmt.numChannels,this.fmt.bitsPerSample))throw new Error("Invalid number of channels.");if(!Ch(this.fmt.numChannels,this.fmt.bitsPerSample,this.fmt.sampleRate))throw new Error("Invalid sample rate.")}}function KG(n){let t=0;return n===1?t=4:n===2?t=3:n===4?t=51:n===6?t=63:n===8&&(t=1599),t}class zG extends UG{getTag(t){let e=this.getTagIndex_(t);return e.TAG!==null?this.LIST[e.LIST].subChunks[e.TAG].value:null}setTag(t,e){t=BG(t);let i=this.getTagIndex_(t);i.TAG!==null?(this.LIST[i.LIST].subChunks[i.TAG].chunkSize=e.length+1,this.LIST[i.LIST].subChunks[i.TAG].value=e):i.LIST!==null?this.LIST[i.LIST].subChunks.push({chunkId:t,chunkSize:e.length+1,value:e}):(this.LIST.push({chunkId:"LIST",chunkSize:8+e.length+1,format:"INFO",subChunks:[]}),this.LIST[this.LIST.length-1].subChunks.push({chunkId:t,chunkSize:e.length+1,value:e}))}deleteTag(t){let e=this.getTagIndex_(t);return e.TAG!==null?(this.LIST[e.LIST].subChunks.splice(e.TAG,1),!0):!1}listTags(){let t=this.getLISTIndex("INFO"),e={};if(t!==null)for(let i=0,c=this.LIST[t].subChunks.length;i<c;i++)e[this.LIST[t].subChunks[i].chunkId]=this.LIST[t].subChunks[i].value;return e}getLISTIndex(t){for(let e=0,i=this.LIST.length;e<i;e++)if(this.LIST[e].format==t)return e;return null}getTagIndex_(t){let e={LIST:null,TAG:null};for(let i=0,c=this.LIST.length;i<c;i++)if(this.LIST[i].format=="INFO"){e.LIST=i;for(let s=0,b=this.LIST[i].subChunks.length;s<b;s++)if(this.LIST[i].subChunks[s].chunkId==t){e.TAG=s;break}break}return e}}function BG(n){if(n.constructor!==String)throw new Error("Invalid tag name.");if(n.length<4)for(let t=0,e=4-n.length;t<e;t++)n+=" ";return n}class Ku extends zG{listCuePoints(){let t=this.getCuePoints_();for(let e=0,i=t.length;e<i;e++)t[e].position=t[e].dwSampleOffset/this.fmt.sampleRate*1e3,t[e].dwSampleLength?(t[e].end=t[e].dwSampleLength/this.fmt.sampleRate*1e3,t[e].end+=t[e].position):t[e].end=null,delete t[e].value;return t}setCuePoint(t){this.cue.chunkId="cue ",t.label||(t.label="");let e=this.getCuePoints_();this.clearLISTadtl_(),this.cue.points=[],t.dwSampleOffset=t.position*this.fmt.sampleRate/1e3,t.dwSampleLength=0,t.end&&(t.dwSampleLength=t.end*this.fmt.sampleRate/1e3-t.dwSampleOffset),e.length===0?this.setCuePoint_(t,1):this.setCuePointInOrder_(e,t),this.cue.dwCuePoints=this.cue.points.length}deleteCuePoint(t){this.cue.chunkId="cue ";let e=this.getCuePoints_();this.clearLISTadtl_();let i=this.cue.points.length;this.cue.points=[];for(let c=0;c<i;c++)c+1!==t&&this.setCuePoint_(e[c],c+1);this.cue.dwCuePoints=this.cue.points.length,this.cue.dwCuePoints?this.cue.chunkId="cue ":(this.cue.chunkId="",this.clearLISTadtl_())}updateLabel(t,e){let i=this.getLISTIndex("adtl");if(i!==null)for(let c=0,s=this.LIST[i].subChunks.length;c<s;c++)this.LIST[i].subChunks[c].dwName==t&&(this.LIST[i].subChunks[c].value=e)}getCuePoints_(){let t=[];for(let e=0;e<this.cue.points.length;e++){let i=this.cue.points[e],c=this.getDataForCuePoint_(i.dwName);c.label=c.value?c.value:"",c.dwPosition=i.dwPosition,c.fccChunk=i.fccChunk,c.dwChunkStart=i.dwChunkStart,c.dwBlockStart=i.dwBlockStart,c.dwSampleOffset=i.dwSampleOffset,t.push(c)}return t}getDataForCuePoint_(t){let e=this.getLISTIndex("adtl"),i={};return e!==null&&this.getCueDataFromLIST_(i,e,t),i}getCueDataFromLIST_(t,e,i){for(let c=0,s=this.LIST[e].subChunks.length;c<s;c++)if(this.LIST[e].subChunks[c].dwName==i){let b=this.LIST[e].subChunks[c];t.value=b.value||t.value,t.dwName=b.dwName||0,t.dwSampleLength=b.dwSampleLength||0,t.dwPurposeID=b.dwPurposeID||0,t.dwCountry=b.dwCountry||0,t.dwLanguage=b.dwLanguage||0,t.dwDialect=b.dwDialect||0,t.dwCodePage=b.dwCodePage||0}}setCuePoint_(t,e){this.cue.points.push({dwName:e,dwPosition:t.dwPosition?t.dwPosition:0,fccChunk:t.fccChunk?t.fccChunk:"data",dwChunkStart:t.dwChunkStart?t.dwChunkStart:0,dwBlockStart:t.dwBlockStart?t.dwBlockStart:0,dwSampleOffset:t.dwSampleOffset}),this.setLabl_(t,e)}setCuePointInOrder_(t,e){let i=!1;for(let c=0;c<t.length;c++)t[c].dwSampleOffset>e.dwSampleOffset&&!i?(this.setCuePoint_(e,c+1),this.setCuePoint_(t[c],c+2),i=!0):this.setCuePoint_(t[c],i?c+2:c+1);i||this.setCuePoint_(e,this.cue.points.length+1)}clearLISTadtl_(){for(let t=0,e=this.LIST.length;t<e;t++)this.LIST[t].format=="adtl"&&this.LIST.splice(t)}setLabl_(t,e){let i=this.getLISTIndex("adtl");i===null&&(this.LIST.push({chunkId:"LIST",chunkSize:4,format:"adtl",subChunks:[]}),i=this.LIST.length-1),this.setLabelText_(i,t,e),t.dwSampleLength&&this.setLtxtChunk_(i,t,e)}setLabelText_(t,e,i){this.LIST[t].subChunks.push({chunkId:"labl",chunkSize:4,dwName:i,value:e.label}),this.LIST[t].chunkSize+=12}setLtxtChunk_(t,e,i){this.LIST[t].subChunks.push({chunkId:"ltxt",chunkSize:20,dwName:i,dwSampleLength:e.dwSampleLength,dwPurposeID:e.dwPurposeID||0,dwCountry:e.dwCountry||0,dwLanguage:e.dwLanguage||0,dwDialect:e.dwDialect||0,dwCodePage:e.dwCodePage||0,value:e.label}),this.LIST[t].chunkSize+=28}}class _G{constructor(t,e,i){this.length_=t,this.scaleFactor_=(t-1)/e,this.interpolate=this.sinc,i.method==="point"?this.interpolate=this.point:i.method==="linear"?this.interpolate=this.linear:i.method==="cubic"&&(this.interpolate=this.cubic),this.tangentFactor_=1-Math.max(0,Math.min(1,i.tension||0)),this.sincFilterSize_=i.sincFilterSize||1,this.kernel_=LG(i.sincWindow||CG)}point(t,e){return this.getClippedInput_(Math.round(this.scaleFactor_*t),e)}linear(t,e){t=this.scaleFactor_*t;let i=Math.floor(t);return t-=i,(1-t)*this.getClippedInput_(i,e)+t*this.getClippedInput_(i+1,e)}cubic(t,e){t=this.scaleFactor_*t;let i=Math.floor(t),c=[this.getTangent_(i,e),this.getTangent_(i+1,e)],s=[this.getClippedInput_(i,e),this.getClippedInput_(i+1,e)];t-=i;let b=t*t,X=t*b;return(2*X-3*b+1)*s[0]+(X-2*b+t)*c[0]+(-2*X+3*b)*s[1]+(X-b)*c[1]}sinc(t,e){t=this.scaleFactor_*t;let i=Math.floor(t),c=i-this.sincFilterSize_+1,s=i+this.sincFilterSize_,b=0;for(let X=c;X<=s;X++)b+=this.kernel_(t-X)*this.getClippedInput_(X,e);return b}getTangent_(t,e){return this.tangentFactor_*(this.getClippedInput_(t+1,e)-this.getClippedInput_(t-1,e))/2}getClippedInput_(t,e){return 0<=t&&t<this.length_?e[t]:0}}function CG(n){return Math.exp(-n/2*n/2)}function LG(n){return function(t){return EG(t)*n(t)}}function EG(n){return n===0?1:Math.sin(Math.PI*n)/(Math.PI*n)}class MG{constructor(t,e,i){let c=2*Math.PI*i/e,s=0;this.filters=[];for(let b=0;b<=t;b++)b-t/2===0?this.filters[b]=c:(this.filters[b]=Math.sin(c*(b-t/2))/(b-t/2),this.filters[b]*=.54-.46*Math.cos(2*Math.PI*b/t)),s=s+this.filters[b];for(let b=0;b<=t;b++)this.filters[b]/=s;this.z=this.initZ_()}filter(t){this.z.buf[this.z.pointer]=t;let e=0;for(let i=0,c=this.z.buf.length;i<c;i++)e+=this.filters[i]*this.z.buf[(this.z.pointer+i)%this.z.buf.length];return this.z.pointer=(this.z.pointer+1)%this.z.buf.length,e}reset(){this.z=this.initZ_()}initZ_(){let t=[];for(let e=0;e<this.filters.length-1;e++)t.push(0);return{buf:t,pointer:0}}}class PG{constructor(t,e,i){let c=[];for(let s=0;s<t;s++)c.push(this.getCoeffs_({Fs:e,Fc:i,Q:.5/Math.sin(Math.PI/(t*2)*(s+.5))}));this.stages=[];for(let s=0;s<c.length;s++)this.stages[s]={b0:c[s].b[0],b1:c[s].b[1],b2:c[s].b[2],a1:c[s].a[0],a2:c[s].a[1],k:c[s].k,z:[0,0]}}filter(t){let e=t;for(let i=0,c=this.stages.length;i<c;i++)e=this.runStage_(i,e);return e}getCoeffs_(t){let e={};e.a=[],e.b=[];let i=this.preCalc_(t,e);return e.k=1,e.b.push((1-i.cw)/(2*i.a0)),e.b.push(2*e.b[0]),e.b.push(e.b[0]),e}preCalc_(t,e){let i={},c=2*Math.PI*t.Fc/t.Fs;return i.alpha=Math.sin(c)/(2*t.Q),i.cw=Math.cos(c),i.a0=1+i.alpha,e.a0=i.a0,e.a.push(-2*i.cw/i.a0),e.k=1,e.a.push((1-i.alpha)/i.a0),i}runStage_(t,e){let i=e*this.stages[t].k-this.stages[t].a1*this.stages[t].z[0]-this.stages[t].a2*this.stages[t].z[1],c=this.stages[t].b0*i+this.stages[t].b1*this.stages[t].z[0]+this.stages[t].b2*this.stages[t].z[1];return this.stages[t].z[1]=this.stages[t].z[0],this.stages[t].z[0]=i,c}reset(){for(let t=0;t<this.stages.length;t++)this.stages[t].z=[0,0]}}const jG={point:!1,linear:!1,cubic:!0,sinc:!0},zu={IIR:16,FIR:71},QG={IIR:PG,FIR:MG};function Bu(n,t,e,i=null){i=i||{};let c=(e-t)/t+1,s=new Float64Array(n.length*c);i.method=i.method||"cubic";let b=new _G(n.length,s.length,{method:i.method,tension:i.tension||0,sincFilterSize:i.sincFilterSize||6,sincWindow:i.sincWindow||void 0,clip:i.clip||"mirror"});if(i.LPF===void 0&&(i.LPF=jG[i.method]),i.LPF){i.LPFType=i.LPFType||"IIR";const X=QG[i.LPFType];if(e>t){let F=new X(i.LPForder||zu[i.LPFType],e,t/2);OG(n,s,b,F)}else{let F=new X(i.LPForder||zu[i.LPFType],t,e/2);DG(n,s,b,F)}}else Lh(n,s,b);return s}function Lh(n,t,e){for(let i=0,c=t.length;i<c;i++)t[i]=e.interpolate(i,n)}function OG(n,t,e,i){for(let c=0,s=t.length;c<s;c++)t[c]=i.filter(e.interpolate(c,n));i.reset();for(let c=t.length-1;c>=0;c--)t[c]=i.filter(t[c])}function DG(n,t,e,i){for(let c=0,s=n.length;c<s;c++)n[c]=i.filter(n[c]);i.reset();for(let c=n.length-1;c>=0;c--)n[c]=i.filter(n[c]);Lh(n,t,e)}class AG extends Ku{toRIFF(){let t=new Float64Array(pr(this.data.samples.length,this.dataType.bits/8));Vi(this.data.samples,this.dataType,t,0,this.data.samples.length),this.fromExisting_(this.fmt.numChannels,this.fmt.sampleRate,this.bitDepth,t,{container:"RIFF"})}toRIFX(){let t=new Float64Array(pr(this.data.samples.length,this.dataType.bits/8));Vi(this.data.samples,this.dataType,t,0,this.data.samples.length),this.fromExisting_(this.fmt.numChannels,this.fmt.sampleRate,this.bitDepth,t,{container:"RIFX"})}toIMAADPCM(){if(this.fmt.sampleRate!==8e3)throw new Error("Only 8000 Hz files can be compressed as IMA-ADPCM.");if(this.fmt.numChannels!==1)throw new Error("Only mono files can be compressed as IMA-ADPCM.");{this.assure16Bit_();let t=new Int16Array(pr(this.data.samples.length,2));Vi(this.data.samples,this.dataType,t,0,this.data.samples.length),this.fromExisting_(this.fmt.numChannels,this.fmt.sampleRate,"4",aG(t),{container:this.correctContainer_()})}}fromIMAADPCM(t="16"){this.fromExisting_(this.fmt.numChannels,this.fmt.sampleRate,"16",oG(this.data.samples,this.fmt.blockAlign),{container:this.correctContainer_()}),t!="16"&&this.toBitDepth(t)}toALaw(){this.assure16Bit_();let t=new Int16Array(pr(this.data.samples.length,2));Vi(this.data.samples,this.dataType,t,0,this.data.samples.length),this.fromExisting_(this.fmt.numChannels,this.fmt.sampleRate,"8a",XG(t),{container:this.correctContainer_()})}fromALaw(t="16"){this.fromExisting_(this.fmt.numChannels,this.fmt.sampleRate,"16",WG(this.data.samples),{container:this.correctContainer_()}),t!="16"&&this.toBitDepth(t)}toMuLaw(){this.assure16Bit_();let t=new Int16Array(pr(this.data.samples.length,2));Vi(this.data.samples,this.dataType,t,0,this.data.samples.length),this.fromExisting_(this.fmt.numChannels,this.fmt.sampleRate,"8m",gG(t),{container:this.correctContainer_()})}fromMuLaw(t="16"){this.fromExisting_(this.fmt.numChannels,this.fmt.sampleRate,"16",YG(this.data.samples),{container:this.correctContainer_()}),t!="16"&&this.toBitDepth(t)}toBitDepth(t,e=!0){let i=t,c=this.bitDepth;e||(t!="32f"&&(i=this.dataType.bits.toString()),c=""+this.dataType.bits),this.assureUncompressed_();let s=this.getSamples(!0),b=new Float64Array(s.length);nG(s,c,b,i),this.fromExisting_(this.fmt.numChannels,this.fmt.sampleRate,t,b,{container:this.correctContainer_()})}toSampleRate(t,e){this.validateResample_(t);let i=this.getSamples(),c=[];if(i.constructor===Float64Array)c=Bu(i,this.fmt.sampleRate,t,e);else for(let s=0;s<i.length;s++)c.push(Bu(i[s],this.fmt.sampleRate,t,e));this.fromExisting_(this.fmt.numChannels,t,this.bitDepth,c,{container:this.correctContainer_()})}validateResample_(t){if(Ch(this.fmt.numChannels,this.fmt.bitsPerSample,t)){if(["4","8a","8m"].indexOf(this.bitDepth)>-1)throw new Error("wavefile can't change the sample rate of compressed files.")}else throw new Error("Invalid sample rate.")}assure16Bit_(){this.assureUncompressed_(),this.bitDepth!="16"&&this.toBitDepth("16")}assureUncompressed_(){this.bitDepth=="8a"?this.fromALaw():this.bitDepth=="8m"?this.fromMuLaw():this.bitDepth=="4"&&this.fromIMAADPCM()}correctContainer_(){return this.container=="RF64"?"RIFF":this.container}fromExisting_(t,e,i,c,s){let b=new Ku;Object.assign(this.fmt,b.fmt),Object.assign(this.fact,b.fact),Object.assign(this.ds64,b.ds64),Object.assign(this.data,b.data),this.newWavFile_(t,e,i,c,s)}}function pr(n,t){let e=n/t;return e%2&&e++,e}class $G extends AG{constructor(t){super(),t&&this.fromBuffer(t)}fromBase64(t){this.fromBuffer(eG(t))}toBase64(){return tG(this.toBuffer())}toDataURI(){return"data:audio/wav;base64,"+this.toBase64()}fromDataURI(t){this.fromBase64(t.replace("data:audio/wav;base64,",""))}}class qG{constructor(t={}){Dn(this,"sampleRate",0);Dn(this,"channels",[]);this.options=t}transform(t,e){this.options.debug&&(console.log("transform"),console.log({duration:t.duration,sampleRate:t.sampleRate,numberOfChannels:t.numberOfChannels,numberOfFrames:t.numberOfFrames})),this.sampleRate===0&&(this.sampleRate=t.sampleRate,this.channels=new Array(t.numberOfChannels).fill(0).map(()=>[]));const i=this.audioDataToTypedArray(t);for(let c=0;c<t.numberOfChannels;++c)this.channels[c].push(...Array.from(i[c]));e.enqueue(t)}getWav(){const t=new $G;return t.fromScratch(this.channels.length,this.sampleRate,"32f",this.channels.flat()),t}audioDataToTypedArray(t){const e=t.numberOfFrames,i=[];for(let c=0;c<t.numberOfChannels;++c){const s=new Float32Array(e),b=t.numberOfFrames*c,X=s.subarray(b,b+t.numberOfFrames);t.copyTo(X,{planeIndex:c,format:"f32-planar"}),i.push(s)}return i}}class mm{constructor(){Dn(this,"outputStream");Dn(this,"noiseSuppression");Dn(this,"wavProcessor");Dn(this,"wavTransformer")}async init(t,e){this.noiseSuppression=qf();const i=window.location.href.split("/");(i[i.length-1].length===0||i[i.length-1].includes("."))&&i.pop(),await this.noiseSuppression.init({debug:!0,disableWasmMultiThread:e.disableWasmMultiThread,assetsDirBaseUrl:i.join("/")}),t=await this.noiseSuppression.getConnector().setTrack(t),this.wavTransformer=new qG(e==null?void 0:e.wavOptions),this.wavProcessor=new LV;const s=new MV(this.wavProcessor);await this.wavProcessor.setTransformers([this.wavTransformer]),t=await s.setTrack(t),this.outputStream=new MediaStream,this.outputStream.addTrack(t)}static async create(t,e){const i=new mm;return await i.init(t,e),i}getOutputStream(){if(!this.outputStream)throw"undefined output";return this.outputStream}async getLatency(){var t,e;return(e=(t=this.noiseSuppression)==null?void 0:t.getWasmLatencyNs())!=null?e:-1}getWav(){var t;if(!this.wavTransformer)throw"wav transformer is undefined";try{return((t=this.wavTransformer)==null?void 0:t.getWav()).toDataURI()}catch{return""}}async close(){var t,e;await((t=this.noiseSuppression)==null?void 0:t.close()),await((e=this.wavProcessor)==null?void 0:e.destroy())}}class um extends EventTarget{constructor(e,i,c){super();Dn(this,"duration",0);this.stream=e,this.track=i,this.audio=c}static async dataUrl(e){return this.createSourceFromUrl(e)}static async wav(e){return this.createSourceFromUrl(`/${e}.wav`)}enable(){this.track.enabled=!0}disable(){this.track.enabled=!1}play(){this.audio.play()}pause(){this.audio.pause()}stop(){this.track.stop()}static createSourceFromUrl(e){return new Promise((i,c)=>{const s=document.createElement("audio");let b;s.src=e,s.loop=!1,s.volume=1e-20,s.onloadeddata=()=>{const X=s.captureStream(),F=X.getAudioTracks();b=new um(X,F[0],s),b.duration=s.duration,i(b)},s.ontimeupdate=X=>{const F=new Event("timeupdate");F.timestamp=s.currentTime,b==null||b.dispatchEvent(F)},s.onended=()=>{const X=new Event("ended");b==null||b.dispatchEvent(X)},s.onerror=(...X)=>{c(s.error)},s.load()})}}const cn=document.querySelector.bind(document);async function tR(){if(!nR()){cn("#step-unsupported").style.display="block";return}const n=cn("#step-1"),t=cn("#step-2"),e=cn("#step-3"),i=cn("#input-file"),c=cn("#progress"),s=cn("#audio-player"),b=cn("#latency"),X=cn("#download-processed"),F=cn("#restart"),U=cn("#switch-multithread");qd(n),i.onchange=()=>{if(_u(n),qd(t),!i.files||i.files.length===0)throw alert("Missing input file"),"Missing input file";const E=i.files[0];if(!["audio/wav","audio/x-wav"].includes(E.type))throw alert("Wrong file type. Please, select a wav file"),"Wrong file type. Please, select a wav file";const f=new FileReader;f.onload=async Gt=>{var Dt;try{const Bt=(Dt=Gt.target)==null?void 0:Dt.result;if(!Bt)throw alert("Failed to read file"),"Failed to read file";const Rt=E.name.split(".");Rt[Rt.length-2]+="-processed";const Pt=Rt.join("."),$t=await um.dataUrl(Bt),{stream:vt}=$t,ae=await eR(vt,{disableWasmMultiThread:!U.checked});$t.addEventListener("timeupdate",q=>{c.progress=q.timestamp/$t.duration}),$t.addEventListener("ended",async q=>{_u(t);const ee=ae.pipeline.getWav();s.src=ee,X.onclick=()=>{const it=document.createElement("a");it.href=ee,it.download=Pt,it.target="_blank",it.click()},b.innerHTML=await ae.pipeline.getLatency()+"ns",qd(e)}),$t.play()}catch{throw alert("Error while processing file : "+f.error),"Error while processing file : "+f.error}},f.onerror=Gt=>{throw alert("Reader error : "+f.error),"Reader error : "+f.error},f.readAsDataURL(E)},F.onclick=()=>window.location.reload(),ts("githubButton","https://github.com/Vonage/vonage-media-transformers-samples/tree/main/noise-suppression/denoize-file"),ts("npmButton","https://www.npmjs.com/package/@vonage/noise-suppression"),ts("vividButton","https://vivid.vonage.com/?path=/story/introduction-meet-vivid--meet-vivid")}window.onload=()=>tR();async function eR(n,t){return{pipeline:await mm.create(n.getAudioTracks()[0],t)}}function qd(n){n.style.display="block"}function _u(n){n.style.display="none"}function ts(n,t){const e=document.getElementById(n);e&&e.addEventListener("click",()=>{var i;(i=window.open(t,"_blank"))==null||i.focus()})}function nR(){return document.createElement("audio").captureStream!==void 0}export{It as c};
